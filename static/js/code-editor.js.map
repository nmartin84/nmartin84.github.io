{"version":3,"file":"code-editor.js","sections":[{"offset":{"line":1,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$lib$codemirror.js","lineCount":339,"mappings":"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\/I,CAAEoI,CAAAA,IAAzB,CAA+BU,CAA\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\/I,CAAAA,IAA1B,CAA+B+I,CAA\/B,CAA\/B,CACL,MAAOD,GAAA,CAAY,iBAAZ,CACF,IAAmB,QAAnB,EAAI,MAAOC,EAAX,EAA+B,0BAA2B\/I,CAAAA,IAA3B,CAAgC+I,CAAhC,CAA\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\/C,CACA,KAAI\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\/B,IAAI+O,EAAMC,EAAND,EAA2B\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\/P,CAAAA,EAAGqC,CAAAA,OAA5C,CAbG,CA\/CN,CART,IACE,KAASwC,EAAT,CAAe,CAAf,CAAkBA,EAAlB,CAAwBmC,EAAO3P,CAAAA,MAA\/B,CAAuCwN,EAAvC,EAA4C,CAA5C,CACIkL,EAAQO,CAAAA,QAAR,CAAiBP,EAAjB,CAA0ByB,EAAQ1X,CAAAA,KAAR,CAAc8M,EAAd,CAAkBA,EAAlB,CAAuBI,EAAA,CAAOnC,EAAP,CAAvB,CAA1B,CAA+D0K,EAAA,CAAoBvI,EAAA,CAAOnC,EAAP,CAAW,CAAX,CAApB,CAAmCkL,EAAQ\/P,CAAAA,EAAGqC,CAAAA,OAA9C,CAA\/D,CAJ0C,CApK1CrD,CAAK4I,CAAAA,YAAT,GACM5I,CAAK4I,CAAAA,YAAaV,CAAAA,OAEtB;CADI6I,CAAQ7I,CAAAA,OACZ,CADsB9N,CAAA,CAAY4F,CAAK4I,CAAAA,YAAaV,CAAAA,OAA9B,CAAuC6I,CAAQ7I,CAAAA,OAA\/C,EAA0D,EAA1D,CACtB,EAAIlI,CAAK4I,CAAAA,YAAaT,CAAAA,SAAtB,GACI4I,CAAQ5I,CAAAA,SADZ,CACwB\/N,CAAA,CAAY4F,CAAK4I,CAAAA,YAAaT,CAAAA,SAA9B,CAAyC4I,CAAQ5I,CAAAA,SAAjD,EAA8D,EAA9D,CADxB,CAHF,CAQ0B,EAA1B,EAAI4I,CAAQhU,CAAAA,GAAI1E,CAAAA,MAAhB,GACY0E,CAAR,CAAAgU,CAAQhU,CAAAA,GAAR,CAAYH,EAAZ,CAAQG,CAAIH,CAAAA,IAAZ,CAA+B\/D,EAA\/B,CAAuBkY,CAAQlY,CAAAA,OAA\/B,CAAuCH,EAAvC,CAA+BG,EAAQH,CAAAA,WAAvC,CAA+E0Y,EAA\/E,CAAoEpQ,CAAGgI,CAAAA,OAAQoI,CAAAA,OAA\/E,CA\/lCe,IA+lCf,EA\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\/Q,CAkE\/B9H,CAAAA,MAAT,EAAuB,CAAC,IAAK8B,CAAAA,IAAL,CAlEgBgG,CAkEhB,CAAxB,CAA2C,EAAA,CAlEHA,CAkExC,KAAA,CAEA,IADA,IAAkCsI,GAAS,EAA3C,CACSrP,GAAI,CAAb,CAAgBA,EAAhB,CApEwC+G,CAoEf9H,CAAAA,MAAzB,CAAiCe,EAAA,EAAjC,CAAsC,CACpC,IAAI0E,GArEkCqC,CAqExBvB,CAAAA,MAAL,CAAYxF,EAAZ,CACC,IAAV,EAAI0E,EAAJ,EAAiBmW,CAAAA,EAAjB,EAAiC7a,EAAjC,EAtEsC+G,CAsEK9H,CAAAA,MAA3C,CAAoD,CAApD,EAAmF,EAAnF,EAtEsC8H,CAsEwB5B,CAAAA,UAAL,CAAgBnF,EAAhB,CAAoB,CAApB,CAAzD,GACI0E,EADJ,CACS,GADT,CAEA2K,GAAA,EAAU3K,EACVmW,GAAA,CAAoB,GAApB,EAAcnW,EALsB,CAOtC,EAAA,CAAO2K,EATP,CAlEkB,CAAA,IAAiEtI,GAAAA,CAAAA,CAA\/E+T,GAAAA,CAAc,EACdC,GAAAA,CAAUpD,CAAQ\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\/B,EAAJ,GAAkB+B,CAAlB,EAA+B\/B,CAA\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\/D,CAAQ\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\/F,CAAS5W,CAAAA,IAA\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\/B,CACI4e,EAAJ,EAAkB\/D,EAAO0E,CAAAA,KAAzB,CACIhC,EAAKC,CAAAA,YAAL,CAAkBxd,EAAlB,CAAwB4W,CAAS8G,CAAAA,MAAjC,EAA2C9G,CAAS1Q,CAAAA,IAApD,CADJ,CAGIqX,EAAK9e,CAAAA,WAAL,CAAiBuB,EAAjB,CACJgc,GAAA,CAAYnB,EAAZ,CAAoB,QAApB,CATqD,CAFvD,CADkE,CAkCpE2E,QAASA,GAAY,CAAC3E,CAAD,CAAS,CAC5B,GAAqB,IAArB;AAAIA,CAAOvP,CAAAA,MAAX,CAA6B,MAAOuP,EAAOvP,CAAAA,MAC3C,KAAIvE,EAAK8T,CAAOrQ,CAAAA,GAAIzD,CAAAA,EACpB,IAAI,CAACA,CAAL,CAAW,MAAO,EAClB,IAAI,CAACzH,CAAA,CAASP,QAASc,CAAAA,IAAlB,CAAwBgb,CAAO7a,CAAAA,IAA\/B,CAAL,CAA2C,CACzC,IAAIyf,EAAc,qBACd5E,EAAOsE,CAAAA,WAAX,GACIM,CADJ,EACmB,gBADnB,CACsC1Y,CAAGgI,CAAAA,OAAQ2Q,CAAAA,OAAQnG,CAAAA,WADzD,CACuE,KADvE,CAEIsB,EAAOmE,CAAAA,SAAX,GACIS,CADJ,EACmB,SADnB,CAC+B1Y,CAAGgI,CAAAA,OAAQ4Q,CAAAA,OAAQC,CAAAA,WADlD,CACgE,KADhE,CAEArhB,EAAA,CAAqBwI,CAAGgI,CAAAA,OAAQoI,CAAAA,OAAhC,CAAyCzY,CAAA,CAAI,KAAJ,CAAW,CAACmc,CAAO7a,CAAAA,IAAR,CAAX,CAA0B,IAA1B,CAAgCyf,CAAhC,CAAzC,CANyC,CAQ3C,MAAO5E,EAAOvP,CAAAA,MAAd,CAAuBuP,CAAO7a,CAAAA,IAAKP,CAAAA,UAAW6Z,CAAAA,YAZlB,CAgB9BuG,QAASA,GAAa,CAAC9Q,CAAD,CAAU9Q,CAAV,CAAa,CACjC,IAAS6D,CAAT,CAAsB7D,CAzoDOkD,CAAAA,MAyoD7B,EAAsBlD,CAzoDmB6hB,CAAAA,UAyoDzC,CAA0Bhe,CAA1B,EAA+BiN,CAAQ4Q,CAAAA,OAAvC,CAAgD7d,CAAhD,CAAoDA,CAAErC,CAAAA,UAAtD,CACE,GAAI,CAACqC,CAAL,EAAyB,CAAzB,EAAWA,CAAEtC,CAAAA,QAAb,EAAoE,MAApE,EAA8BsC,CAAEie,CAAAA,YAAF,CAAe,kBAAf,CAA9B,EACKje,CAAErC,CAAAA,UADP,EACqBsP,CAAQiR,CAAAA,KAD7B;AACsCle,CADtC,EAC2CiN,CAAQkR,CAAAA,KADnD,CAEI,MAAO,CAAA,CAJoB,CAWnCC,QAASA,GAAW,CAACnR,CAAD,CAAU,CAAC,MAAOA,EAAQkR,CAAAA,KAAM3G,CAAAA,YAArB,CAAoCvK,CAAQoR,CAAAA,SAAU7G,CAAAA,YAAvD,CAC9B8G,QAASA,GAAQ,CAACrR,CAAD,CAAU,CACzB,GAAIA,CAAQsR,CAAAA,cAAZ,CAA8B,MAAOtR,EAAQsR,CAAAA,cAC7C,KAAIpiB,EAAIM,CAAA,CAAqBwQ,CAAQoI,CAAAA,OAA7B,CAAsCzY,CAAA,CAAI,KAAJ,CAAW,GAAX,CAAgB,sBAAhB,CAAtC,CACJI,EAAAA,CAAQwhB,MAAOC,CAAAA,gBAAP,CAA0BD,MAAOC,CAAAA,gBAAP,CAAwBtiB,CAAxB,CAA1B,CAAuDA,CAAEuiB,CAAAA,YACjEC,EAAAA,CAAO,CAAC5I,KAAM6I,QAAA,CAAS5hB,CAAMsgB,CAAAA,WAAf,CAAP,CAAoCtH,MAAO4I,QAAA,CAAS5hB,CAAM6hB,CAAAA,YAAf,CAA3C,CACNC,MAAA,CAAMH,CAAK5I,CAAAA,IAAX,CAAL,EAA0B+I,KAAA,CAAMH,CAAK3I,CAAAA,KAAX,CAA1B,GAA+C\/I,CAAQsR,CAAAA,cAAvD,CAAwEI,CAAxE,CACA,OAAOA,EANkB,CAS3BI,QAASA,GAAS,CAAC9Z,CAAD,CAAK,CAAE,MAtjEP+Z,GAsjEO,CAAqB\/Z,CAAGgI,CAAAA,OAAQgS,CAAAA,cAAlC,CACvBC,QAASA,GAAY,CAACja,CAAD,CAAK,CACxB,MAAOA,EAAGgI,CAAAA,OAAQkS,CAAAA,QAASrB,CAAAA,WAA3B,CAAyCiB,EAAA,CAAU9Z,CAAV,CAAzC;AAAyDA,CAAGgI,CAAAA,OAAQmS,CAAAA,QAD5C,CAG1BC,QAASA,GAAa,CAACpa,CAAD,CAAK,CACzB,MAAOA,EAAGgI,CAAAA,OAAQkS,CAAAA,QAASG,CAAAA,YAA3B,CAA0CP,EAAA,CAAU9Z,CAAV,CAA1C,CAA0DA,CAAGgI,CAAAA,OAAQsS,CAAAA,SAD5C,CA6B3BC,QAASA,GAAe,CAAC1K,CAAD,CAAW7Q,CAAX,CAAiBuP,CAAjB,CAAwB,CAC9C,GAAIsB,CAAS7Q,CAAAA,IAAb,EAAqBA,CAArB,CACI,MAAO,CAACjD,IAAK8T,CAASO,CAAAA,OAAQrU,CAAAA,GAAvB,CAA4ByT,MAAOK,CAASO,CAAAA,OAAQZ,CAAAA,KAApD,CACX,KAAK,IAAIpX,EAAI,CAAb,CAAgBA,CAAhB,CAAoByX,CAASQ,CAAAA,IAAKhZ,CAAAA,MAAlC,CAA0Ce,CAAA,EAA1C,CACI,GAAIyX,CAASQ,CAAAA,IAAT,CAAcjY,CAAd,CAAJ,EAAwB4G,CAAxB,CACE,MAAO,CAACjD,IAAK8T,CAASO,CAAAA,OAAQuC,CAAAA,IAAjB,CAAsBva,CAAtB,CAAN,CAAgCoX,MAAOK,CAASO,CAAAA,OAAQwC,CAAAA,MAAjB,CAAwBxa,CAAxB,CAAvC,CACb,KAASyM,CAAT,CAAe,CAAf,CAAkBA,CAAlB,CAAwBgL,CAASQ,CAAAA,IAAKhZ,CAAAA,MAAtC,CAA8CwN,CAAA,EAA9C,CACI,GAAIJ,EAAA,CAAOoL,CAASQ,CAAAA,IAAT,CAAcxL,CAAd,CAAP,CAAJ,CAAiC0J,CAAjC,CACE,MAAO,CAACxS,IAAK8T,CAASO,CAAAA,OAAQuC,CAAAA,IAAjB,CAAsB9N,CAAtB,CAAN,CAAkC2K,MAAOK,CAASO,CAAAA,OAAQwC,CAAAA,MAAjB,CAAwB\/N,CAAxB,CAAzC,CAAuE2V,OAAQ,CAAA,CAA\/E,CARiC,CA+BhDC,QAASA,GAAe,CAACza,CAAD,CAAKuO,CAAL,CAAY,CAClC,GAAIA,CAAJ,EAAavO,CAAGgI,CAAAA,OAAQM,CAAAA,QAAxB,EAAoCiG,CAApC,CAA4CvO,CAAGgI,CAAAA,OAAQO,CAAAA,MAAvD,CACI,MAAOvI,EAAGgI,CAAAA,OAAQsM,CAAAA,IAAX,CAAgBoG,EAAA,CAAc1a,CAAd,CAAkBuO,CAAlB,CAAhB,CAEX,KADI+H,CACJ,CADUtW,CAAGgI,CAAAA,OAAQkJ,CAAAA,gBACrB;AAAW3C,CAAX,EAAoB+H,CAAI\/H,CAAAA,KAAxB,EAAiCA,CAAjC,CAAyC+H,CAAI\/H,CAAAA,KAA7C,CAAqD+H,CAAI3S,CAAAA,IAAzD,CACI,MAAO2S,EALuB,CAapCqE,QAASA,GAAqB,CAAC3a,CAAD,CAAKhB,CAAL,CAAW,CACvC,IAAIuP,EAAQ9J,EAAA,CAAOzF,CAAP,CAAZ,CACIsV,EAAOmG,EAAA,CAAgBza,CAAhB,CAAoBuO,CAApB,CACP+F,EAAJ,EAAY,CAACA,CAAKnV,CAAAA,IAAlB,CACEmV,CADF,CACS,IADT,CAEWA,CAFX,EAEmBA,CAAKmB,CAAAA,OAFxB,GAGEF,EAAA,CAAqBvV,CAArB,CAAyBsU,CAAzB,CAA+B\/F,CAA\/B,CAAsCqM,EAAA,CAAc5a,CAAd,CAAtC,CACA,CAAAA,CAAGS,CAAAA,KAAMoa,CAAAA,WAAT,CAAuB,CAAA,CAJzB,CAMA,IAAI,CAACvG,CAAL,CACE,CAxCF,IAAAtV,EAAOoP,EAAA,CAwCkCpP,CAxClC,CACHuP,EAAAA,CAAQ9J,EAAA,CAAOzF,CAAP,CACRsV,EAAAA,CAsCiCtU,CAtCvBgI,CAAAA,OAAQkJ,CAAAA,gBAAlBoD,CAAqC,IAAIJ,EAAJ,CAsCJlU,CAtCoByD,CAAAA,GAAhB,CAAqBzE,CAArB,CAA2BuP,CAA3B,CACzC+F,EAAK\/F,CAAAA,KAAL,CAAaA,CACTmH,EAAAA,CAAQpB,CAAKoB,CAAAA,KAAbA,CAAqB9F,EAAA,CAoCY5P,CApCZ,CAAqBsU,CAArB,CACzBA,EAAKnV,CAAAA,IAAL,CAAYuW,CAAM1F,CAAAA,GAClBxY,EAAA,CAkCqCwI,CAlCbgI,CAAAA,OAAQ8S,CAAAA,WAAhC,CAA6CpF,CAAM1F,CAAAA,GAAnD,CACA,EAAA,CAAOsE,CAiCL,CAEElR,CAAAA,CAAOmX,EAAA,CAAgBjG,CAAhB,CAAsBtV,CAAtB,CAA4BuP,CAA5B,CACX,OAAO,CACLvP,KAAMA,CADD,CACOsV,KAAMA,CADb,CACmByG,KAAM,IADzB,CAELhf,IAAKqH,CAAKrH,CAAAA,GAFL,CAEUyT,MAAOpM,CAAKoM,CAAAA,KAFtB,CAE6BgL,OAAQpX,CAAKoX,CAAAA,MAF1C,CAGLQ,WAAY,CAAA,CAHP,CAbgC,CAsBzCC,QAASA,GAAmB,CAACjb,CAAD,CAAKkb,CAAL,CAAepe,CAAf,CAAmBqe,CAAnB,CAAyBC,CAAzB,CAAoC,CAC1DF,CAASV,CAAAA,MAAb,GAAuB1d,CAAvB,CAA4B,EAA5B,CAD8D,KAE1Due,GAAMve,CAANue,EAAYF,CAAZE,EAAoB,EAApBA,CACJ,IAAIH,CAAS1L,CAAAA,KAAMjV,CAAAA,cAAf,CAA8B8gB,EAA9B,CAAJ,CACE9c,CAAA,CAAQ2c,CAAS1L,CAAAA,KAAT,CAAe6L,EAAf,CADV,KAEO,CACAH,CAASH,CAAAA,IAAd;CACIG,CAASH,CAAAA,IADb,CACoBG,CAAS5G,CAAAA,IAAKnV,CAAAA,IAAKyR,CAAAA,qBAAnB,EADpB,CAEA,IAAI,CAACsK,CAASF,CAAAA,UAAd,CAA0B,CACO1G,IAAAA,GAAT4G,CAAS5G,CAAAA,IAAAA,CAAeyG,GAATG,CAASH,CAAAA,IAAfzG,CA\/F\/BgH,GA+FkBtb,CA\/FJqC,CAAAA,OAAQkZ,CAAAA,YA+FSjH,CA9F\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\/B,EAAAJ,EAAA,CAjFqB\/a,CAgFlBqC,CAAAA,OAAQkZ,CAAAA,YAAf,EAAwE,CAAxE,CAA+DlkB,CAA\/BqkB,EAA+BrkB,CAAvB4B,CAAK0iB,CAAAA,cAAL,EAAuBtkB,EAAAA,MAA\/D;AACWqkB,EAAA,CAAc,OAAR,EAAAP,EAAA,CAAkBO,EAAMrkB,CAAAA,MAAxB,CAAiC,CAAjC,CAAqC,CAA3C,CADX,CAGW4B,CAAK2X,CAAAA,qBAAL,EAET,GAAA6B,EAAA,EAAmB,CAAnB,CAAMC,EAAN,CAAJ,EAA6BvO,EAA7B,EAAwC4W,EAAxC,GAAiDA,EAAKjK,CAAAA,IAAtD,EAA+DiK,EAAKhK,CAAAA,KAApE,IAGMgK,EAHN,CAEE,CADIgC,EACJ,CADY9jB,CAAKP,CAAAA,UAAWijB,CAAAA,cAAhB,EAAA,CAAiC,CAAjC,CACZ,EACW,CAAC7K,KAAMiM,EAAMjM,CAAAA,IAAb,CAAmBC,MAAOgM,EAAMjM,CAAAA,IAAbC,CAAoBiM,EAAA,CAxFzBhd,CAwFsCgI,CAAAA,OAAb,CAAvC,CAA8D8T,IAAKiB,EAAMjB,CAAAA,GAAzE,CAA8ED,OAAQkB,EAAMlB,CAAAA,MAA5F,CADX,CAGWO,EALb,CAQIa,EAAAA,CAAOlC,EAAKe,CAAAA,GAAZmB,CA7F2B\/B,CA6FAH,CAAAA,IAAKe,CAAAA,GAAKoB,GAAAA,CAAOnC,EAAKc,CAAAA,MAAZqB,CA7FVhC,CA6FwCH,CAAAA,IAAKe,CAAAA,GACxE5d,GAAAA,EAAO+e,CAAP\/e,CAAcgf,EAAdhf,EAAsB,CACtBud,GAAAA,CA\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\/B,EAAsBhX,CAAtB,CACI,IAAA,CAAO\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\/B,EAAqB\/gB,CAArB,CACG,KAAb,EAAIihB,EAAJ,GAAqB3c,EAAI2c,CAAAA,KAAzB,CAAiCH,EAAA,CAAQ5iB,EAAR,CAAY+iB,EAAZ,CAA6B,QAA7B,EAAmBjhB,CAAnB,CAAjC,CACA,OAAOsE,GA1BoE,CA+B7E4c,QAASA,GAAc,CAAC9f,CAAD,CAAK3E,CAAL,CAAU,CAC\/B,IAAIyV,EAAO,CACXzV,EAAA,CAAMuK,EAAA,CAAQ5F,CAAGyD,CAAAA,GAAX,CAAgBpI,CAAhB,CACD2E,EAAGqC,CAAAA,OAAQkZ,CAAAA,YAAhB,GAAgCzK,CAAhC,CAAuCkM,EAAA,CAAUhd,CAAGgI,CAAAA,OAAb,CAAvC,CAA+D3M,CAAIyB,CAAAA,EAAnE,CACIiS,EAAAA,CAAUvL,EAAA,CAAQxD,CAAGyD,CAAAA,GAAX,CAAgBpI,CAAI2D,CAAAA,IAApB,CACV8c;CAAAA,CAAMhN,EAAA,CAAaC,CAAb,CAAN+M,CAAyC9b,CAAGgI,CAAAA,OAjYLoR,CAAAA,SAAU0F,CAAAA,SAkYrD,OAAO,CAAChO,KAAMA,CAAP,CAAaC,MAAOD,CAApB,CAA0BgL,IAAKA,CAA\/B,CAAoCD,OAAQC,CAARD,CAAc9M,CAAQxK,CAAAA,MAA1D,CANwB,CAejCwb,QAASA,GAAW,CAAC\/gB,CAAD,CAAOlC,CAAP,CAAW8B,CAAX,CAAmBohB,CAAnB,CAA4BC,CAA5B,CAAkC,CAChD5kB,CAAAA,CAAMgK,EAAA,CAAIrG,CAAJ,CAAUlC,CAAV,CAAc8B,CAAd,CACVvD,EAAI4kB,CAAAA,IAAJ,CAAWA,CACPD,EAAJ,GAAe3kB,CAAI2kB,CAAAA,OAAnB,CAA6BA,CAA7B,CACA,OAAO3kB,EAJ6C,CAStD6kB,QAASA,GAAU,CAAClgB,CAAD,CAAKyF,CAAL,CAAQ0a,CAAR,CAAW,CAC5B,IAAI1c,EAAMzD,CAAGyD,CAAAA,GACb0c,EAAA,EAAKngB,CAAGgI,CAAAA,OAAQ+W,CAAAA,UAChB,IAAQ,CAAR,CAAIoB,CAAJ,CAAa,MAAOJ,GAAA,CAAYtc,CAAIC,CAAAA,KAAhB,CAAuB,CAAvB,CAA0B,IAA1B,CAAgC,EAAhC,CAAoC,EAApC,CAHQ,KAIxB6K,EAAQ5J,EAAA,CAAalB,CAAb,CAAkB0c,CAAlB,CAJgB,CAIMta,GAAOpC,CAAIC,CAAAA,KAAXmC,CAAmBpC,CAAIE,CAAAA,IAAvBkC,CAA8B,CAChE,IAAI0I,CAAJ,CAAY1I,EAAZ,CACI,MAAOka,GAAA,CAAYtc,CAAIC,CAAAA,KAAhB,CAAwBD,CAAIE,CAAAA,IAA5B,CAAmC,CAAnC,CAAsCH,EAAA,CAAQC,CAAR,CAAaoC,EAAb,CAAmB1G,CAAAA,IAAK9H,CAAAA,MAA9D,CAAsE,IAAtE,CAA4E,CAA5E,CAA+E,CAA\/E,CACH,EAAR,CAAIoO,CAAJ,GAAaA,CAAb,CAAiB,CAAjB,CAGA,KADA,IAAIsJ,GAAUvL,EAAA,CAAQC,CAAR,CAAa8K,CAAb,CACd,CAAA,CAAA,CAAS,CACHhQ,EAAAA,CAAQ6hB,EAAA,CAAgBpgB,CAAhB,CAAoB+O,EAApB,CAA6BR,CAA7B,CAAoC9I,CAApC,CAAuC0a,CAAvC,CA9qCmC5hB,KAAAA,GAAAA,IAAAA,EA+qCF,KAAA,GAAAA,EAAMzB,CAAAA,EAAN,EAAyB,CAAb,CAAAyB,EAAM0hB,CAAAA,IAAN,EAAkC,CAAlC,CAAkB1hB,EAAMyhB,CAAAA,OAAxB,CAAsC,CAAtC,CAA0C,CAAtD,CA9qC\/C,IADIjS,EACJ,CADUC,EACV,EA8qCsCe,EA\/qCF\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\/H,CAAAA,KAAb,CACI+H,CAAI\/H,CAAAA,KADR,EACiByU,CADjB,CAESjlB,CAFT,CAEgBuY,CAAI\/H,CAAAA,KAFpB,CAE4B+H,CAAI3S,CAAAA,IAFhC,GAGIqE,CAAQkJ,CAAAA,gBAHZ,CAG+B,IAH\/B,CAxDsC,CAiE1CuS,QAASA,GAAa,CAACzjB,CAAD,CAAKhB,CAAL,CAAWM,CAAX,CAAiB,CACrCU,CAAGS,CAAAA,KAAMyiB,CAAAA,WAAT,CAAuB,CAAA,CADc,KAEjClb,EAAUhI,CAAGgI,CAAAA,OAFoB,CAEXsO,EAAMtW,CAAGgI,CAAAA,OAAQkJ,CAAAA,gBACvCoF,EAAJ,EAAWtX,CAAX,EAAmBsX,CAAI\/H,CAAAA,KAAvB,EAAgCvP,CAAhC,CAAuCsX,CAAI\/H,CAAAA,KAA3C,CAAmD+H,CAAI3S,CAAAA,IAAvD;CACIqE,CAAQkJ,CAAAA,gBADZ,CAC+B,IAD\/B,CAGIlS,EAAJ,CAAWgJ,CAAQM,CAAAA,QAAnB,EAA+BtJ,CAA\/B,EAAuCgJ,CAAQO,CAAAA,MAA\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\/BgU,EAAO\/sB,CAAAA,KAAM+jB,CAAAA,GAAb,CAAmBzgB,CAAIygB,CAAAA,GAAvB,CAA6B,IAC7BgJ,EAAO\/sB,CAAAA,KAAMwM,CAAAA,MAAb,CAAsB\/I,IAAKiD,CAAAA,GAAL,CAAS,CAAT,CAAYpD,CAAIwgB,CAAAA,MAAhB,CAAyBxgB,CAAIygB,CAAAA,GAA7B,CAAtB,CAA0D9b,CAAGqC,CAAAA,OAAQ0iB,CAAAA,YAArE,CAAoF,IAEhF1pB,EAAIwkB,CAAAA,KAAR,GAEMmF,CAIJ,CAJkBzb,CAAO7R,CAAAA,WAAP,CAAmBC,CAAA,CAAI,KAAJ,CAAW,GAAX,CAAqB,8CAArB,CAAnB,CAIlB;AAHAqtB,CAAYjtB,CAAAA,KAAMiQ,CAAAA,OAGlB,CAH4B,EAG5B,CAFAgd,CAAYjtB,CAAAA,KAAM+Y,CAAAA,IAElB,CAFyBzV,CAAIwkB,CAAAA,KAAM\/O,CAAAA,IAEnC,CAF0C,IAE1C,CADAkU,CAAYjtB,CAAAA,KAAM+jB,CAAAA,GAClB,CADwBzgB,CAAIwkB,CAAAA,KAAM\/D,CAAAA,GAClC,CADwC,IACxC,CAAAkJ,CAAYjtB,CAAAA,KAAMwM,CAAAA,MAAlB,CAAgE,GAAhE,EAA4BlJ,CAAIwkB,CAAAA,KAAMhE,CAAAA,MAAtC,CAA+CxgB,CAAIwkB,CAAAA,KAAM\/D,CAAAA,GAAzD,EAAsE,IANxE,CAR6C,CAkB\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\/nB,EAA3B+nB,EAAiCJ,EAJ\/E,CAKIjiB,GAAa,CAAbA,EAAQtL,EAAQyN,GAAAA,CAAO,CAACvH,EAARuH,EAAiBzN,EAAjByN,EAAsBvH,EAAMjH,CAAAA,MAA5BwO,CAAqC,CAC1B,EAA\/B;AAAIggB,EAAM\/J,CAAAA,GAAV,CAAgB8J,EAAQ9J,CAAAA,GAAxB,EAGMhL,EAEJ,CAFW,CAFKkV,EAAA,CAASF,EAAT,CAAqBC,EAE1B,GAFsCriB,EAEtC,CAAWuiB,EAAX,CAA8CnV,CAAvB8P,EAAA,CAAMgF,EAAN,CAAgBC,EAAO\/U,EAAAA,IAEzD,CAAAoU,CAAA,CAAIpU,EAAJ,CAAU8U,EAAQ9J,CAAAA,GAAlB,EADY\/K,CAFKiV,EAAA,CAASD,EAAT,CAAmBD,EAExB\/U,GAFsClL,EAEtCkL,CAAYqU,EAAZrU,CAAgDA,CAAvB6P,EAAA,CAAMiF,EAAN,CAAcD,EAAS7U,EAAAA,KAC5D,EAA+BD,EAA\/B,CAAqC8U,EAAQ\/J,CAAAA,MAA7C,CALF,GAQM+E,EAAJ,EACEsF,EAGA,CAHUF,EAAA,EAAUF,EAAV,EAAuBpiB,EAAvB,CAA+BuiB,EAA\/B,CAA0CL,EAAQ9U,CAAAA,IAG5D,CAFAqV,EAEA,CAFWH,EAAA,CAASZ,EAAT,CAAqBI,EAAA,CAAMznB,EAAN,CAAYJ,EAAZ,CAAiB,QAAjB,CAEhC,CADAyoB,EACA,CADUJ,EAAA,CAASC,EAAT,CAAoBT,EAAA,CAAMxnB,EAAN,CAAUL,EAAV,CAAe,OAAf,CAC9B,CAAA0oB,EAAA,CAAWL,EAAA,EAAUD,EAAV,EAAqBlgB,EAArB,CAA4Buf,EAA5B,CAAwCS,EAAM9U,CAAAA,KAJ3D,GAMEmV,EAGA,CAHWF,EAAD,CAAqBR,EAAA,CAAMznB,EAAN,CAAYJ,EAAZ,CAAiB,QAAjB,CAArB,CAAUsoB,EAGpB,CAFAE,EAEA,CAFW,CAACH,EAAD,EAAWF,EAAX,EAAwBpiB,EAAxB,CAAgC0hB,EAAhC,CAA4CQ,EAAQ7U,CAAAA,KAE\/D,CADAqV,EACA,CADU,CAACJ,EAAD,EAAWD,EAAX,EAAsBlgB,EAAtB,CAA6BogB,EAA7B,CAAwCJ,EAAM\/U,CAAAA,IACxD,CAAAuV,EAAA,CAAYL,EAAD,CAAsBR,EAAA,CAAMxnB,EAAN,CAAUL,EAAV,CAAe,OAAf,CAAtB,CAAUynB,EATvB,CAaA,CAFAF,CAAA,CAAIgB,EAAJ,CAAaN,EAAQ9J,CAAAA,GAArB,CAA0BqK,EAA1B,CAAqCD,EAArC,CAA8CN,EAAQ\/J,CAAAA,MAAtD,CAEA,CADI+J,EAAQ\/J,CAAAA,MACZ,CADqBgK,EAAM\/J,CAAAA,GAC3B,EADkCoJ,CAAA,CAAIe,EAAJ,CAAcL,EAAQ\/J,CAAAA,MAAtB,CAA8B,IAA9B,CAAoCgK,EAAM\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\/C4B,QAASA,GAAY,CAAC\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\/B,IAAQ\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\/C,CACN,KAAIjD,EAAS8M,CAAA,EAA+B,IAA\/B,EAAYA,CAAS9M,CAAAA,MAArB,CAAsC8M,CAAS9M,CAAAA,MAA\/C,CAAwDC,CAAxD,CAA8D9T,CAAQ4Q,CAAAA,OAAQyB,CAAAA,YAEvFtc,EAAAA,CAAO4G,EAAA,CAAalB,CAAb,CAAkBqY,CAAlB,CAAwB9d,EAAAA,CAAK2G,EAAA,CAAalB,CAAb,CAAkBoY,CAAlB,CAGxC,IAAI8M,CAAJ,EAAgBA,CAASC,CAAAA,MAAzB,CAAiC,CAAA,IAC3BC,GAAaF,CAASC,CAAAA,MAAO7qB,CAAAA,IAAKiB,CAAAA,IAAM8pB,EAAAA,CAAWH,CAASC,CAAAA,MAAO5qB,CAAAA,EAAGgB,CAAAA,IACtE6pB,GAAJ,CAAiB9qB,CAAjB,EACEA,CACA,CADO8qB,EACP,CAAA7qB,CAAA,CAAK2G,EAAA,CAAalB,CAAb,CAAkBqL,EAAA,CAAatL,EAAA,CAAQC,CAAR,CAAaolB,EAAb,CAAb,CAAlB,CAA2D7gB,CAAQ4Q,CAAAA,OAAQyB,CAAAA,YAA3E,CAFP,EAGW7e,IAAKC,CAAAA,GAAL,CAASqtB,CAAT,CAAmBrlB,CAAIiL,CAAAA,QAAJ,EAAnB,CAHX,EAGiD1Q,CAHjD,GAIED,CACA,CADO4G,EAAA,CAAalB,CAAb,CAAkBqL,EAAA,CAAatL,EAAA,CAAQC,CAAR,CAAaqlB,CAAb,CAAb,CAAlB,CAAyD9gB,CAAQ4Q,CAAAA,OAAQyB,CAAAA,YAAzE,CACP,CAAArc,CAAA,CAAK8qB,CALP,CAF+B,CAUjC,MAAO,CAAC\/qB,KAAMA,CAAP,CAAaC,GAAIxC,IAAKiD,CAAAA,GAAL,CAAST,CAAT,CAAaD,CAAb,CAAoB,CAApB,CAAjB,CAlBqC,CAsF9CgrB,QAASA,GAAkB,CAAC\/oB,CAAD,CAAK+a,CAAL,CAAW,CAAA,IAChC\/S,EAAUhI,CAAGgI,CAAAA,OADmB;AACVghB,EAAavH,EAAA,CAAWzhB,CAAGgI,CAAAA,OAAd,CACxB,EAAf,CAAI+S,CAAKe,CAAAA,GAAT,GAAoBf,CAAKe,CAAAA,GAAzB,CAA+B,CAA\/B,CACA,KAAImN,EAAYjpB,CAAGS,CAAAA,KAAH,EAAkC,IAAlC,EAAYT,CAAGS,CAAAA,KAAMge,CAAAA,SAArB,CAAyCze,CAAGS,CAAAA,KAAMge,CAAAA,SAAlD,CAA8DzW,CAAQkS,CAAAA,QAASuE,CAAAA,SAA\/F,CACIhC,GAASrC,EAAA,CAAcpa,CAAd,CADb,CACgCyH,GAAS,EACrCsT,EAAKc,CAAAA,MAAT,CAAkBd,CAAKe,CAAAA,GAAvB,CAA6BW,EAA7B,GAAuC1B,CAAKc,CAAAA,MAA5C,CAAqDd,CAAKe,CAAAA,GAA1D,CAAgEW,EAAhE,CACA,KAAIyM,GAAYlpB,CAAGyD,CAAAA,GAAIc,CAAAA,MAAnB2kB,CAA4B\/P,EAAA,CAAYnR,CAAZ,CAAhC,CACImhB,GAAQpO,CAAKe,CAAAA,GAAbqN,CAAmBH,CAAYI,EAAAA,CAAWrO,CAAKc,CAAAA,MAAhBuN,CAAyBF,EAAzBE,CAAqCJ,CACpEjO,EAAKe,CAAAA,GAAT,CAAemN,CAAf,CACExhB,EAAOgX,CAAAA,SADT,CACqB0K,EAAA,CAAQ,CAAR,CAAYpO,CAAKe,CAAAA,GADtC,CAEWf,CAAKc,CAAAA,MAFhB,CAEyBoN,CAFzB,CAEqCxM,EAFrC,GAGM4M,EACJ,CADa7tB,IAAKC,CAAAA,GAAL,CAASsf,CAAKe,CAAAA,GAAd,EAAoBsN,CAAA,CAAWF,EAAX,CAAuBnO,CAAKc,CAAAA,MAAhD,EAA0DY,EAA1D,CACb,CAAI4M,EAAJ,EAAcJ,CAAd,GAA2BxhB,EAAOgX,CAAAA,SAAlC,CAA8C4K,EAA9C,CAJF,CAOIC,EAAAA,CAActpB,CAAGqC,CAAAA,OAAQyU,CAAAA,WAAX,CAAyB,CAAzB,CAA6B9O,CAAQ2Q,CAAAA,OAAQnG,CAAAA,WAC3D+W,GAAAA,CAAavpB,CAAGS,CAAAA,KAAH,EAAmC,IAAnC,EAAYT,CAAGS,CAAAA,KAAM2d,CAAAA,UAArB,CAA0Cpe,CAAGS,CAAAA,KAAM2d,CAAAA,UAAnD,CAAgEpW,CAAQkS,CAAAA,QAASkE,CAAAA,UAAjF,CAA8FkL,CAC3GE,EAAAA,CAAUvP,EAAA,CAAaja,CAAb,CAAVwpB,CAA6BxhB,CAAQ2Q,CAAAA,OAAQnG,CAAAA,WAEjD,IADIiX,CACJ,CADc1O,CAAKhK,CAAAA,KACnB;AAD2BgK,CAAKjK,CAAAA,IAChC,CADuC0Y,CACvC,CAAezO,CAAKhK,CAAAA,KAAL,CAAagK,CAAKjK,CAAAA,IAAlB,CAAyB0Y,CACxB,GAAhB,CAAIzO,CAAKjK,CAAAA,IAAT,CACIrJ,EAAO2W,CAAAA,UADX,CACwB,CADxB,CAESrD,CAAKjK,CAAAA,IAAT,CAAgByY,EAAhB,CACD9hB,EAAO2W,CAAAA,UADN,CACmB5iB,IAAKiD,CAAAA,GAAL,CAAS,CAAT,CAAYsc,CAAKjK,CAAAA,IAAjB,CAAwBwY,CAAxB,EAAuCG,CAAA,CAAU,CAAV,CAAc,EAArD,EADnB,CAEI1O,CAAKhK,CAAAA,KAFT,CAEiByY,CAFjB,CAE2BD,EAF3B,CAEwC,CAFxC,GAGD9hB,EAAO2W,CAAAA,UAHN,CAGmBrD,CAAKhK,CAAAA,KAHxB,EAGiC0Y,CAAA,CAAU,CAAV,CAAc,EAH\/C,EAGqDD,CAHrD,CAIL,OAAO\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\/Y,CAAGoY,CAAAA,gBAIP,EAJ2B7F,EAAA,CAAa\/mB,CAAb,CAI3B,CAFIA,CAAGgD,CAAAA,KAAMgkB,CAAAA,OAEb,EAFwBxS,CAAGiY,CAAAA,WAE3B,EADIzsB,CAAGgI,CAAAA,OAAQ+L,CAAAA,KAAMiU,CAAAA,KAAjB,CAAuBxT,CAAGkY,CAAAA,MAA1B,CACJ,CAAIkB,EAAJ;AAAiBnG,EAAA,CAAYjT,CAAGxU,CAAAA,EAAf,CAhEjB,KAAS8tB,CAAT,CAAe,CAAf,CAAkBA,CAAlB,CAAwBhZ,CAAIzd,CAAAA,MAA5B,CAAoCy2B,CAAA,EAApC,CACE,CAjYF,IAAI\/S,GAAAA,IAAAA,EAiYoB,EAAA,CAAAjG,CAAA,CAAIgZ,CAAJ,CAmEpB9tB,EAAAA,CAAKwU,CAAGxU,CAAAA,EAAIgI,GAAAA,CAAUhI,CAAGgI,CAAAA,OAASvE,GAAAA,CAAMzD,CAAGyD,CAAAA,GAE3C+Q,EAAG6Y,CAAAA,cAAP,EAAyBU,EAAA,CAAkB\/tB,CAAlB,CAAsBwU,CAAGoX,CAAAA,MAAzB,CAGE,KAA3B,EAAI5jB,EAAQgmB,CAAAA,WAAZ,EAAoD,IAApD,EAAoCxZ,CAAGiK,CAAAA,SAAvC,EAA6E,IAA7E,EAA4DjK,CAAG4J,CAAAA,UAA\/D,EAAwF0L,CAAHtV,CAAGsV,CAAAA,WAAxF,GACI9hB,EAAQgmB,CAAAA,WADZ,CAC0BhmB,EAAQimB,CAAAA,WADlC,CACgD,IADhD,CAIoB,KAApB,EAAIzZ,CAAGiK,CAAAA,SAAP,EAA4B8L,EAAA,CAAavqB,CAAb,CAAiBwU,CAAGiK,CAAAA,SAApB,CAA+BjK,CAAGiW,CAAAA,WAAlC,CAEP,KAArB,EAAIjW,CAAG4J,CAAAA,UAAP,EAA6BwM,EAAA,CAAc5qB,CAAd,CAAkBwU,CAAG4J,CAAAA,UAArB,CAAiC,CAAA,CAAjC,CAAuC,CAAA,CAAvC,CAE7B,IAAI5J,CAAGsV,CAAAA,WAAP,CAAoB,CACe,IAAA,GAAAlkB,EAAA,CAAQnC,EAAR,CAAa+Q,CAAGsV,CAAAA,WAAY\/rB,CAAAA,IAA5B,CACJ,KAAA,GAAA6H,EAAA,CAAQnC,EAAR,CAAa+Q,CAAGsV,CAAAA,WAAY9rB,CAAAA,EAA5B,CAAgD+rB,KAAAA,GAAfvV,CAAGsV,CAAAA,WAAYC,CAAAA,MApdjE,KAAd,EAAIA,EAAJ,GAAsBA,EAAtB,CAA+B,CAA\/B,CAmd+B\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\/I,EAgeK\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\/E,EAEI,MAAO,CAAA,CAIyBvI,EA\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\/J,CAAAA,SAA\/D,CACA;GAAY,wBAAZ,EAAI+J,EAAJ,CACE,GAAKqV,CAAL,CACO2b,CAAA,CAAiB,CAAA,CADxB,KAAoB,SAGtBprB,EAAO7L,CAAAA,IAAP,CAAY,CAAC9D,UAAW+J,EAAZ,CAAkB9J,MAAOA,EAAzB,CAAZ,CAPuC,CASrCmf,CAAJ,EAAmB,CAAC2b,CAApB,EAAsCprB,CAAO7L,CAAAA,IAAP,CAAY,CAAC9D,UAAW,wBAAZ,CAAsCC,MAAO,IAA7C,CAAZ,CACtC,OAAO0P,EAZiC,CAiB1CqrB,QAASA,GAAa,CAAC9qB,CAAD,CAAU,CAAA,IAC1B2Q,EAAU3Q,CAAQ2Q,CAAAA,OADQ,CACCoa,EAAQ\/qB,CAAQyP,CAAAA,WAC\/CxgB,EAAA,CAAe0hB,CAAf,CACA3Q,EAAQ0qB,CAAAA,UAAR,CAAqB,IACrB,KAAK,IAAIt6B,EAAI,CAAb,CAAgBA,CAAhB,CAAoB26B,CAAM17B,CAAAA,MAA1B,CAAkC,EAAEe,CAApC,CAAuC,CACrC,IAAIipB,EAAM0R,CAAA,CAAM36B,CAAN,CAAV,CACIN,GAAYupB,CAAIvpB,CAAAA,SAChBC,EAAAA,CAAQspB,CAAItpB,CAAAA,KAChB,KAAIi7B,GAAOra,CAAQjhB,CAAAA,WAAR,CAAoBC,CAAA,CAAI,KAAJ,CAAW,IAAX,CAAiB,oBAAjB,CAAwCG,EAAxC,CAApB,CACPC,EAAJ,GAAai7B,EAAKj7B,CAAAA,KAAMG,CAAAA,OAAxB,CAAkCH,CAAlC,CACiB,yBAAjB,EAAID,EAAJ,GACEkQ,CAAQ0qB,CAAAA,UACR,CADqBM,EACrB,CAAAA,EAAKj7B,CAAAA,KAAMmgB,CAAAA,KAAX,EAAoBlQ,CAAQ2qB,CAAAA,YAA5B,EAA4C,CAA5C,EAAiD,IAFnD,CANqC,CAWvCha,CAAQ5gB,CAAAA,KAAMiQ,CAAAA,OAAd,CAAwB+qB,CAAM17B,CAAAA,MAAN,CAAe,EAAf,CAAoB,MAC5Cg7B;EAAA,CAAkBrqB,CAAlB,CAhB8B,CAmBhCirB,QAASA,GAAa,CAACjzB,CAAD,CAAK,CACzB8yB,EAAA,CAAc9yB,CAAGgI,CAAAA,OAAjB,CACA+a,GAAA,CAAU\/iB,CAAV,CACA+qB,GAAA,CAAkB\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\/EQD,IA2EN0O,CAAAA,eAIF,CA\/EQ1O,IA2Ec2O,CAAAA,gBAItB,CA\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\/kB,CAAMiU,CAAAA,IAAtB,CAA4B\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\/\/B,CAAAA,MAA\/B,CAAuC,EAAEe,EAAzC,CAA4C,CAC5D,IAAIi\/B,GAAM5zB,CAAI2zB,CAAAA,MAAJ,CAAWh\/B,EAAX,CACV,IAAIi\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\/Q,CAAA,CAAIq+B,EAAJ,CAAA,CAAgB5\/B,EAAhB,CACA,CADwBuQ,EAAA,CAAOvQ,EAAP,CACxB,CAAA,OAAOuQ,EAAA,CAAOvQ,EAAP,CAHgC,CAHJ,CANzC,CAFsC,CAmBxC,MAAOy\/B,EArBmD,CAgC5DK,QAASA,GAAW,CAACzpB,CAAD,CAAQiU,CAAR,CAAc\/E,CAAd,CAAqBkR,CAArB,CAA6B,CAC\/C,MAAIA,EAAJ,EACMpP,CAUG,CAVMhR,CAAMgR,CAAAA,MAUZ,CATH9B,CASG,GARDwa,CACJ,CADoC,CACpC,CADgB\/0B,EAAA,CAAIsf,CAAJ,CAAUjD,CAAV,CAChB,CAAI0Y,CAAJ,EAAuC,CAAvC,CAAkB\/0B,EAAA,CAAIua,CAAJ,CAAW8B,CAAX,CAAlB,EACEA,CACA,CADSiD,CACT,CAAAA,CAAA,CAAO\/E,CAFT,EAGWwa,CAHX,EAG4C,CAH5C,CAGyB\/0B,EAAA,CAAIsf,CAAJ,CAAU\/E,CAAV,CAHzB,GAIE+E,CAJF,CAIS\/E,CAJT,CAOK,EAAA,IAAIyV,EAAJ,CAAU3T,CAAV,CAAkBiD,CAAlB,CAXT,EAaS,IAAI0Q,EAAJ,CAAUzV,CAAV,EAAmB+E,CAAnB,CAAyBA,CAAzB,CAdsC,CAmBjD0V,QAASA,GAAe,CAAC72B,CAAD,CAAMmhB,CAAN,CAAY\/E,CAAZ,CAAmBxd,CAAnB,CAA4B0uB,CAA5B,CAAoC,CAC5C,IAAd,EAAIA,CAAJ,GAAsBA,CAAtB,CAA+BttB,CAAIzD,CAAAA,EAAnC,GAA0CyD,CAAIzD,CAAAA,EAAGgI,CAAAA,OAAQmgB,CAAAA,KAAzD,EAAkE1kB,CAAIstB,CAAAA,MAAtE,EACAwJ,GAAA,CAAa92B,CAAb,CAAkB,IAAI8xB,EAAJ,CAAc,CAAC6E,EAAA,CAAY32B,CAAI6gB,CAAAA,GAAIL,CAAAA,OAAR,EAAZ;AAA+BW,CAA\/B,CAAqC\/E,CAArC,CAA4CkR,CAA5C,CAAD,CAAd,CAAqE,CAArE,CAAlB,CAA2F1uB,CAA3F,CAF0D,CAO5Dm4B,QAASA,GAAgB,CAAC\/2B,CAAD,CAAMg3B,CAAN,CAAap4B,CAAb,CAAsB,CAG7C,IAFA,IAAIrG,EAAM,EAAV,CACI+0B,EAASttB,CAAIzD,CAAAA,EAAb+wB,GAAoBttB,CAAIzD,CAAAA,EAAGgI,CAAAA,OAAQmgB,CAAAA,KAAnC4I,EAA4CttB,CAAIstB,CAAAA,MAAhDA,CADJ,CAES34B,GAAI,CAAb,CAAgBA,EAAhB,CAAoBqL,CAAI6gB,CAAAA,GAAIC,CAAAA,MAAOltB,CAAAA,MAAnC,CAA2Ce,EAAA,EAA3C,CACI4D,CAAA,CAAI5D,EAAJ,CAAA,CAASgiC,EAAA,CAAY32B,CAAI6gB,CAAAA,GAAIC,CAAAA,MAAR,CAAensB,EAAf,CAAZ,CAA+BqiC,CAAA,CAAMriC,EAAN,CAA\/B,CAAyC,IAAzC,CAA+C24B,CAA\/C,CACT2J,EAAAA,CAAS3F,EAAA,CAAmBtxB,CAAIzD,CAAAA,EAAvB,CAA2BhE,CAA3B,CAAgCyH,CAAI6gB,CAAAA,GAAIE,CAAAA,SAAxC,CACb+V,GAAA,CAAa92B,CAAb,CAAkBi3B,CAAlB,CAA0Br4B,CAA1B,CAN6C,CAU\/Cs4B,QAASA,GAAmB,CAACl3B,CAAD,CAAMrL,CAAN,CAASuY,CAAT,CAAgBtO,CAAhB,CAAyB,CACnD,IAAIkiB,EAAS9gB,CAAI6gB,CAAAA,GAAIC,CAAAA,MAAOzqB,CAAAA,KAAf,CAAqB,CAArB,CACbyqB,EAAA,CAAOnsB,CAAP,CAAA,CAAYuY,CACZ4pB,GAAA,CAAa92B,CAAb,CAAkBsxB,EAAA,CAAmBtxB,CAAIzD,CAAAA,EAAvB,CAA2BukB,CAA3B,CAAmC9gB,CAAI6gB,CAAAA,GAAIE,CAAAA,SAA3C,CAAlB,CAAyEniB,CAAzE,CAHmD,CAarDu4B,QAASA,GAAqB,CAACn3B,CAAD,CAAM6gB,CAAN,CAAWjiB,CAAX,CAAoB,CAC5ClI,CAAAA,CAAM,CACRoqB,OAAQD,CAAIC,CAAAA,MADJ,CAERqH,OAAQA,QAAQ,CAACrH,CAAD,CAAS,CACvB,IAAKA,CAAAA,MAAL,CAAc,EACd,KAAK,IAAInsB,EAAI,CAAb,CAAgBA,CAAhB,CAAoBmsB,CAAOltB,CAAAA,MAA3B,CAAmCe,CAAA,EAAnC,CACI,IAAKmsB,CAAAA,MAAL,CAAYnsB,CAAZ,CAAA,CAAiB,IAAIk9B,EAAJ,CAAU1vB,EAAA,CAAQnC,CAAR,CAAa8gB,CAAA,CAAOnsB,CAAP,CAAUupB,CAAAA,MAAvB,CAAV,CACQ\/b,EAAA,CAAQnC,CAAR,CAAa8gB,CAAA,CAAOnsB,CAAP,CAAUwsB,CAAAA,IAAvB,CADR,CAHE,CAFjB,CAQRsU,OAAQ72B,CAAR62B,EAAmB72B,CAAQ62B,CAAAA,MARnB,CAUVt5B,GAAA,CAAO6D,CAAP,CAAY,uBAAZ,CAAqCA,CAArC,CAA0CtJ,CAA1C,CACIsJ,EAAIzD,CAAAA,EAAR;AAAcJ,EAAA,CAAO6D,CAAIzD,CAAAA,EAAX,CAAe,uBAAf,CAAwCyD,CAAIzD,CAAAA,EAA5C,CAAgD7F,CAAhD,CACd,OAAIA,EAAIoqB,CAAAA,MAAR,EAAkBD,CAAIC,CAAAA,MAAtB,CAAuCwQ,EAAA,CAAmBtxB,CAAIzD,CAAAA,EAAvB,CAA2B7F,CAAIoqB,CAAAA,MAA\/B,CAAuCpqB,CAAIoqB,CAAAA,MAAOltB,CAAAA,MAAlD,CAA2D,CAA3D,CAAvC,CACcitB,CAdkC,CAiBlDuW,QAASA,GAA0B,CAACp3B,CAAD,CAAM6gB,CAAN,CAAWjiB,CAAX,CAAoB,CAAA,IACjDu1B,EAAOn0B,CAAIu1B,CAAAA,OAAQpB,CAAAA,IAD8B,CACxB\/xB,EAAOhK,CAAA,CAAI+7B,CAAJ,CAChC\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\/B,CAAJ,EAAWu\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\/8B,EACC,CAAC+8B,CADF\/8B,EACcm9B,EAAA,CAAgBj4B,CAAhB,CAAqBpI,CAArB,CAA0BsgC,CAA1B,CAAkCh+B,CAAlC,CAAuC,CAAA,CAAvC,CADdY,EAEAm9B,EAAA,CAAgBj4B,CAAhB,CAAqBpI,CAArB,CAA0BsgC,CAA1B,CAAkC,CAACh+B,CAAnC,CAAwC29B,CAAxC,CAFA\/8B,EAGC,CAAC+8B,CAHF\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\/B,GAAI,CACR,CAAOA,EAAP,CAAWgF,EAAO\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\/C,CAAIt6B,CAAI6gB,CAAAA,GAAI\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\/B,GAAO6\/B,CACH,SAArB,EAAI,MAAOA,EAAX,CAAiC7\/B,EAAjC,CAAwCwE,EAAA,CAAQC,CAAR,CAz8IRjI,IAAKiD,CAAAA,GAAL,CAy8I8BgF,CAz8IjBC,CAAAA,KAAb,CAAoBlI,IAAKC,CAAAA,GAAL,CAy8IeojC,CAz8If,CAy8IUp7B,CAz8IMC,CAAAA,KAAhB,CAy8IUD,CAz8IkBE,CAAAA,IAA5B,CAAmC,CAAnC,CAApB,CAy8IQ,CAAxC,CACOe,CADP,CACYD,EAAA,CAAOo6B,CAAP,CACZ,IAAU,IAAV,EAAIn6B,CAAJ,CAAkB,MAAO,KACrB8P,EAAA,CAAGxV,EAAH,CAAS0F,CAAT,CAAJ,EAAoBjB,CAAIzD,CAAAA,EAAxB,EAA8ByjB,EAAA,CAAchgB,CAAIzD,CAAAA,EAAlB,CAAsB0E,CAAtB,CAA0Bo6B,CAA1B,CAC9B,OAAO9\/B,GANwC,CAsBjD+\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\/\/B,CAAAA,MAA\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\/B,CAAJ,GAIAsH,EAAA,CAAK\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\/B,CAAA,CAAKz\/B,EAAL,CACxC,OAAOyoC,EAxBwB,CA2BjCG,QAASA,GAAS,CAAC7nB,CAAD,CAAMtf,CAAN,CAAW8iC,CAAX,CAAmB54B,CAAnB,CAA4B,CAC5ClK,CAAA,CAAMonC,EAAA,CAAUpnC,CAAV,CACN,KAAIwC,EAAQxC,CAAIhC,CAAAA,IAAJ,CAAWgC,CAAIhC,CAAAA,IAAJ,CAASshB,CAAT,CAAcpV,CAAd,CAAX,CAAoClK,CAAA,CAAIsf,CAAJ,CAChD,IAAc,CAAA,CAAd,GAAI9c,CAAJ,CAAuB,MAAO,SAC9B,IAAc,KAAd,GAAIA,CAAJ,CAAuB,MAAO,OAC9B,IAAa,IAAb,EAAIA,CAAJ,EAAqBsgC,CAAA,CAAOtgC,CAAP,CAArB,CAAsC,MAAO,SAE7C,IAAIxC,CAAIqnC,CAAAA,WAAR,CAAqB,CACnB,GAAuD,gBAAvD,EAAI1mC,MAAO7C,CAAAA,SAAUmZ,CAAAA,QAASjZ,CAAAA,IAA1B,CAA+BgC,CAAIqnC,CAAAA,WAAnC,CAAJ,CACI,MAAOF,GAAA,CAAU7nB,CAAV,CAAetf,CAAIqnC,CAAAA,WAAnB,CAAgCvE,CAAhC,CAAwC54B,CAAxC,CACX,KAAS7N,CAAT,CAAa,CAAb,CAAgBA,CAAhB,CAAoB2D,CAAIqnC,CAAAA,WAAY\/rC,CAAAA,MAApC,CAA4Ce,CAAA,EAA5C,CAAiD,CAC\/C,IAAIqP,GAASy7B,EAAA,CAAU7nB,CAAV,CAAetf,CAAIqnC,CAAAA,WAAJ,CAAgBhrC,CAAhB,CAAf,CAAmCymC,CAAnC,CAA2C54B,CAA3C,CACb,IAAIwB,EAAJ,CAAc,MAAOA,GAF0B,CAH9B,CAPuB,CAmB9C47B,QAASA,GAAa,CAACnnC,CAAD,CAAQ,CACxB2F,CAAAA,CAAuB,QAAhB,EAAA,MAAO3F,EAAP,CAA2BA,CAA3B,CAAmConC,EAAA,CAASpnC,CAAMqnC,CAAAA,OAAf,CAC9C,OAAe,MAAf,EAAO1hC,CAAP,EAAiC,KAAjC,EAAyBA,CAAzB,EAAkD,OAAlD,EAA0CA,CAA1C,EAAqE,KAArE;AAA6DA,CAFjC,CAK9B2hC,QAASA,GAAgB,CAAC3hC,CAAD,CAAOm4B,CAAP,CAAcyJ,CAAd,CAAuB,CAC9C,IAAIjnC,EAAOqF,CACPm4B,EAAM0J,CAAAA,MAAV,EAA4B,KAA5B,EAAoBlnC,CAApB,GAAqCqF,CAArC,CAA4C,MAA5C,CAAqDA,CAArD,CACA,EAAK8hC,EAAA,CAAc3J,CAAM4J,CAAAA,OAApB,CAA8B5J,CAAMr4B,CAAAA,OAAzC,GAA6D,MAA7D,EAAqDnF,CAArD,GAAuEqF,CAAvE,CAA8E,OAA9E,CAAwFA,CAAxF,CACA,EAAK8hC,EAAA,CAAc3J,CAAMr4B,CAAAA,OAApB,CAA8Bq4B,CAAM4J,CAAAA,OAAzC,GAA6D,KAA7D,EAAqDpnC,CAArD,GAAsEqF,CAAtE,CAA6E,MAA7E,CAAsFA,CAAtF,CACI,EAAC4hC,CAAL,EAAgBzJ,CAAM6J,CAAAA,QAAtB,EAA0C,OAA1C,EAAkCrnC,CAAlC,GAAqDqF,CAArD,CAA4D,QAA5D,CAAuEA,CAAvE,CACA,OAAOA,EANuC,CAUhDiiC,QAASA,GAAO,CAAC9J,CAAD,CAAQyJ,CAAR,CAAiB,CAC\/B,GAAIhP,EAAJ,EAA+B,EAA\/B,EAAcuF,CAAMuJ,CAAAA,OAApB,EAAqCvJ,CAAA,CAAM,MAAN,CAArC,CAAsD,MAAO,CAAA,CAC7D,KAAIn4B,EAAOyhC,EAAA,CAAStJ,CAAMuJ,CAAAA,OAAf,CACX,IAAY,IAAZ,EAAI1hC,CAAJ,EAAoBm4B,CAAM+J,CAAAA,WAA1B,CAAyC,MAAO,CAAA,CAG3B,EAArB,EAAI\/J,CAAMuJ,CAAAA,OAAV,EAA0BvJ,CAAMoE,CAAAA,IAAhC,GAAwCv8B,CAAxC,CAA+Cm4B,CAAMoE,CAAAA,IAArD,CACA,OAAOoF,GAAA,CAAiB3hC,CAAjB,CAAuBm4B,CAAvB,CAA8ByJ,CAA9B,CAPwB,CAUjCN,QAASA,GAAS,CAACjgC,CAAD,CAAM,CACtB,MAAqB,QAAd,EAAA,MAAOA,EAAP,CAAyB8gC,EAAA,CAAO9gC,CAAP,CAAzB,CAAuCA,CADxB,CAMxB+gC,QAASA,GAAmB,CAACjkC,CAAD,CAAKkkC,CAAL,CAAc,CAIxC,IAJwC,IACpC3f,EAASvkB,CAAGyD,CAAAA,GAAI6gB,CAAAA,GAAIC,CAAAA,MADgB,CACR4f,EAAO,EADC,CAI\/B\/rC,EAAI,CAAb,CAAgBA,CAAhB,CAAoBmsB,CAAOltB,CAAAA,MAA3B,CAAmCe,CAAA,EAAnC,CAAwC,CAEtC,IADA,IAAIgsC;AAASF,CAAA,CAAQ3f,CAAA,CAAOnsB,CAAP,CAAR,CACb,CAAO+rC,CAAK9sC,CAAAA,MAAZ,EAAwD,CAAxD,EAAsBiO,EAAA,CAAI8+B,EAAOrmC,CAAAA,IAAX,CAAiBlC,CAAA,CAAIsoC,CAAJ,CAAUnmC,CAAAA,EAA3B,CAAtB,CAAA,CAA2D,CACzD,IAAIqmC,GAAWF,CAAKxL,CAAAA,GAAL,EACf,IAAsC,CAAtC,CAAIrzB,EAAA,CAAI++B,EAAStmC,CAAAA,IAAb,CAAmBqmC,EAAOrmC,CAAAA,IAA1B,CAAJ,CAAyC,CACvCqmC,EAAOrmC,CAAAA,IAAP,CAAcsmC,EAAStmC,CAAAA,IACvB,MAFuC,CAFgB,CAO3DomC,CAAKvoC,CAAAA,IAAL,CAAUwoC,EAAV,CATsC,CAYxCnV,EAAA,CAAQjvB,CAAR,CAAY,QAAS,EAAG,CACtB,IAAK,IAAI5H,GAAI+rC,CAAK9sC,CAAAA,MAATe,CAAkB,CAA3B,CAAmC,CAAnC,EAA8BA,EAA9B,CAAsCA,EAAA,EAAtC,CACI+lC,EAAA,CAAan+B,CAAGyD,CAAAA,GAAhB,CAAqB,EAArB,CAAyB0gC,CAAA,CAAK\/rC,EAAL,CAAQ2F,CAAAA,IAAjC,CAAuComC,CAAA,CAAK\/rC,EAAL,CAAQ4F,CAAAA,EAA\/C,CAAmD,SAAnD,CACJ4rB,GAAA,CAAoB5pB,CAApB,CAHsB,CAAxB,CAhBwC,CAuB1CskC,QAASA,GAAiB,CAACtlC,CAAD,CAAOlC,CAAP,CAAWa,CAAX,CAAgB,CACpCvD,CAAAA,CAASqD,EAAA,CAAmBuB,CAAKG,CAAAA,IAAxB,CAA8BrC,CAA9B,CAAmCa,CAAnC,CAAwCA,CAAxC,CACb,OAAgB,EAAT,CAAAvD,CAAA,EAAcA,CAAd,CAAuB4E,CAAKG,CAAAA,IAAK9H,CAAAA,MAAjC,CAA0C,IAA1C,CAAiD+C,CAFhB,CAK1CmqC,QAASA,GAAa,CAACvlC,CAAD,CAAOmF,CAAP,CAAcxG,CAAd,CAAmB,CACnCb,CAAAA,CAAKwnC,EAAA,CAAkBtlC,CAAlB,CAAwBmF,CAAMrH,CAAAA,EAA9B,CAAkCa,CAAlC,CACT,OAAa,KAAN,EAAAb,CAAA,CAAa,IAAb,CAAoB,IAAIuI,EAAJ,CAAQlB,CAAMnF,CAAAA,IAAd,CAAoBlC,CAApB,CAA8B,CAAN,CAAAa,CAAA,CAAU,OAAV,CAAoB,QAA5C,CAFY,CAKzC6mC,QAASA,GAAS,CAACC,CAAD,CAAWzkC,CAAX,CAAe+O,CAAf,CAAwBtK,CAAxB,CAAgC9G,CAAhC,CAAqC,CACrD,GAAI8mC,CAAJ,GAC0B,KACpBnmC,EADA0B,CAAGyD,CAAAA,GAAIxE,CAAAA,SACPX,GAD6BX,CAC7BW,CADmC,CAACX,CACpCW,EAAAA,CAAAA,CAAQS,EAAA,CAASgQ,CAAT,CAAkB\/O,CAAGyD,CAAAA,GAAIxE,CAAAA,SAAzB,CAFd,EAGa,CACLT,CAAAA,CAAa,CAAN,CAAAb,CAAA,CAAU9B,CAAA,CAAIyC,CAAJ,CAAV,CAAuBA,CAAA,CAAM,CAAN,CAElC,KAAIM,GAD4B,CACnB,CADajB,CACb,GADwC,CACxC;AAD0Ba,CAAKE,CAAAA,KAC\/B,EAAqB,OAArB,CAA+B,QAQ5C,IAAiB,CAAjB,CAAIF,CAAKE,CAAAA,KAAT,EAA0C,KAA1C,EAAsBsB,CAAGyD,CAAAA,GAAIxE,CAAAA,SAA7B,CAAiD,CAC\/C,IAAIylC,GAAO\/pB,EAAA,CAAsB3a,CAAtB,CAA0B+O,CAA1B,CACX,KAAAjS,GAAW,CAAN,CAAAa,CAAA,CAAUoR,CAAQ5P,CAAAA,IAAK9H,CAAAA,MAAvB,CAAgC,CAAhC,CAAoC,CACzC,KAAIopB,GAAYxF,EAAA,CAAoBjb,CAApB,CAAwB0kC,EAAxB,CAA8B5nC,EAA9B,CAAkCgf,CAAAA,GAClDhf,GAAA,CAAKe,EAAA,CAAU,QAAS,CAACf,EAAD,CAAK,CAAE,MAAOme,GAAA,CAAoBjb,CAApB,CAAwB0kC,EAAxB,CAA8B5nC,EAA9B,CAAkCgf,CAAAA,GAAzC,EAAgD2E,EAAlD,CAAxB,CAA+F,CAAP,CAAC9iB,CAAD,GAA4B,CAA5B,EAAca,CAAKE,CAAAA,KAAnB,EAAiCF,CAAKT,CAAAA,IAAtC,CAA6CS,CAAKR,CAAAA,EAAlD,CAAuD,CAA\/I,CAAkJlB,EAAlJ,CACS,SAAd,EAAI8B,EAAJ,GAA0B9B,EAA1B,CAA+BwnC,EAAA,CAAkBv1B,CAAlB,CAA2BjS,EAA3B,CAA+B,CAA\/B,CAA\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\/nC,EAAH,CAAO,CAAP,CAApB,CAA+B,QAA\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\/CmO,QAASA,GAAW,CAAC\/lC,CAAD,CAAK6B,CAAL,CAAW3K,CAAX,CAAc2nC,CAAd,CAAsB,CACxC,IAAImH,EAAMhmC,CAAGgD,CAAAA,KAAMijC,CAAAA,MACnB,IAAID,CAAJ,CAAS,CACP,GAAI3C,EAAA,CAAcxhC,CAAd,CAAJ,CAA2B,MAAO,SAC9B,KAAM1I,CAAAA,IAAN,CAAW0I,CAAX,CAAJ,CACI7B,CAAGgD,CAAAA,KAAMijC,CAAAA,MADb,CACsB,IADtB,CAGIC,EAAQ1lC,CAAAA,GAAR,CAAY,EAAZ,CAAgB,QAAS,EAAG,CACxBR,CAAGgD,CAAAA,KAAMijC,CAAAA,MAAb,EAAuBD,CAAvB,GACEhmC,CAAGgD,CAAAA,KAAMijC,CAAAA,MACT,CADkB,IAClB,CAAAjmC,CAAGgI,CAAAA,OAAQ+L,CAAAA,KAAMiU,CAAAA,KAAjB,EAFF,CAD4B,CAA5B,CAMJ,IAAIme,EAAA,CAAiBnmC,CAAjB,CAAqBgmC,CAArB,CAA2B,GAA3B,CAAiCnkC,CAAjC,CAAuC3K,CAAvC,CAA0C2nC,CAA1C,CAAJ,CAAyD,MAAO,CAAA,CAXzD,CAaT,MAAOsH,GAAA,CAAiBnmC,CAAjB,CAAqB6B,CAArB,CAA2B3K,CAA3B,CAA8B2nC,CAA9B,CAfiC,CAkB1CsH,QAASA,GAAgB,CAACnmC,CAAD,CAAK6B,CAAL,CAAW3K,CAAX,CAAc2nC,CAAd,CAAsB,CAhCD,CAAA,CAAA,CAC5C,IAAK,IAAIzmC,EAAI,CAAb,CAAgBA,CAAhB,CAgCgC4H,CAhCTgD,CAAAA,KAAMojC,CAAAA,OAAQ\/uC,CAAAA,MAArC,CAA6Ce,CAAA,EAA7C,CAAkD,CAChD,IAAIqP,GAASy7B,EAAA,CA+BqBrhC,CA\/BrB,CA+BiB7B,CA\/BEgD,CAAAA,KAAMojC,CAAAA,OAAT,CAAiBhuC,CAAjB,CAAhB,CA+B2BymC,CA\/B3B,CA+BiB7+B,CA\/BjB,CACb,IAAIyH,EAAJ,CAAY,CAAE,CAAA,CAAOA,EAAP,OAAA,CAAF,CAFoC,CAIlD,CAAA,CA4BgCzH,CA5BrBqC,CAAAA,OAAQgkC,CAAAA,SAAnB,EAAgCnD,EAAA,CA4BIrhC,CA5BJ,CA4BA7B,CA5BmBqC,CAAAA,OAAQgkC,CAAAA,SAA3B,CA4BUxH,CA5BV,CA4BA7+B,CA5BA,CAAhC,EACKkjC,EAAA,CA2B+BrhC,CA3B\/B,CA2B2B7B,CA3BRqC,CAAAA,OAAQ2hC,CAAAA,MAA3B,CA2BqCnF,CA3BrC,CA2B2B7+B,CA3B3B,CANuC,CAmC9B,OAAd,EAAIyH,CAAJ,GACIzH,CAAGgD,CAAAA,KAAMijC,CAAAA,MADb,CACsBpkC,CADtB,CAEc,UAAd;AAAI4F,CAAJ,EACIwN,EAAA,CAAYjV,CAAZ,CAAgB,YAAhB,CAA8BA,CAA9B,CAAkC6B,CAAlC,CAAwC3K,CAAxC,CAEJ,IAAc,SAAd,EAAIuQ,CAAJ,EAAqC,OAArC,EAA2BA,CAA3B,CACExG,EAAA,CAAiB\/J,CAAjB,CACA,CAAA6vB,EAAA,CAAa\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\/lC,CAAZ,CAAiBwjC,EAAA,EAFN,CAAV,EAAA\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\/B,CAAJ,CAA+C,IAA\/C,CACRpkC,EAAAA,CAAU,IAAKA,CAAAA,OAAfA,CAAyB,IAAIkrB,EAAJ,CAAYnX,CAAZ,CAAmBtY,CAAnB,CAAwBsQ,CAAxB,CAA+B1R,CAA\/B,CAC7B2F,EAAQ4Q,CAAAA,OAAQ\/hB,CAAAA,UAAhB,CAA6B,IAC7Bu0C,GAAA,CAAa,IAAb,CACI\/oC,EAAQkZ,CAAAA,YAAZ,GACI,IAAKvT,CAAAA,OAAQ4Q,CAAAA,OAAQ9gB,CAAAA,SADzB,EACsC,kBADtC,CAEAq0B,GAAA,CAAe,IAAf,CAEA,KAAKnpB,CAAAA,KAAL,CAAa,CACXojC,QAAS,EADE,CAEXz\/B,SAAU,EAFC,CAGXP,QAAS,CAHE,CAIX\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\/T,EAAM\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\/B\/K,CAAE+K,CAAAA,QAASG,CAAAA,YAAf,GACE+P,EAAA,CAAgBpqB,CAAhB,CAAoBmP,CAAE+K,CAAAA,QAASuE,CAAAA,SAA\/B,CAEA,CADAmM,EAAA,CAAc5qB,CAAd,CAAkBmP,CAAE+K,CAAAA,QAASkE,CAAAA,UAA7B,CAAyC,CAAA,CAAzC,CACA,CAAAxe,EAAA,CAAOI,CAAP,CAAW,QAAX,CAAqBA,CAArB,CAHF,CADmC,CAArC,CASAc,GAAA,CAAGqO,CAAE+K,CAAAA,QAAL,CAAe,YAAf,CAA6B,QAAS,CAAChjB,EAAD,CAAI,CAAE,MAAOm9B,GAAA,CAAcr0B,CAAd,CAAkB9I,EAAlB,CAAT,CAA1C,CACA4J,GAAA,CAAGqO,CAAE+K,CAAAA,QAAL,CAAe,gBAAf,CAAiC,QAAS,CAAChjB,EAAD,CAAI,CAAE,MAAOm9B,GAAA,CAAcr0B,CAAd,CAAkB9I,EAAlB,CAAT,CAA9C,CAGA4J,GAAA,CAAGqO,CAAEyJ,CAAAA,OAAL;AAAc,QAAd,CAAwB,QAAS,EAAG,CAAE,MAAOzJ,EAAEyJ,CAAAA,OAAQ6F,CAAAA,SAAjB,CAA6BtP,CAAEyJ,CAAAA,OAAQwF,CAAAA,UAAvC,CAAoD,CAAtD,CAApC,CAEAjP,EAAEs8B,CAAAA,aAAF,CAAkB,CAChBE,MAAOA,QAAS,CAACz0C,EAAD,CAAI,CAAM6I,CAAA,CAAeC,CAAf,CAAmB9I,EAAnB,CAAL,EAA8BoK,EAAA,CAAOpK,EAAP,CAA\/B,CADJ,CAEhB00C,KAAMA,QAAS,CAAC10C,EAAD,CAAI,CAAC,GAAI,CAAC6I,CAAA,CAAeC,CAAf,CAAmB9I,EAAnB,CAAL,CAA4B,CAt5ClD,IAAImE,GAAMinB,EAAA,CAs5CqDtiB,CAt5CrD,CAs5CyD9I,EAt5CzD,CACV,IAAKmE,EAAL,CAAA,CACA,IAAIsyC,GAAO31C,QAASsb,CAAAA,sBAAT,EACXqR,GAAA,CAm5C+D3kB,CAn5C\/D,CAAwB3E,EAAxB,CAA6BsyC,EAA7B,CAm5C+D3tC,EAl5CvDgI,CAAAA,OAAQg6B,CAAAA,UAAhB,GAk5C+DhiC,CAj5C1DgI,CAAAA,OAAQg6B,CAAAA,UACX,CADwBrqC,CAAA,CAAI,KAAJ,CAAW,IAAX,CAAiB,2CAAjB,CACxB,CAg5C6DqI,CAh5C1DgI,CAAAA,OAAQoR,CAAAA,SAAU3C,CAAAA,YAArB,CAg5C6DzW,CAh5CxBgI,CAAAA,OAAQg6B,CAAAA,UAA7C,CAg5C6DhiC,CAh5CDgI,CAAAA,OAAQmf,CAAAA,SAApE,CAFF,CAIA3vB,EAAA,CA84C+DwI,CA94CvCgI,CAAAA,OAAQg6B,CAAAA,UAAhC,CAA4C2L,EAA5C,CAPA,CAq5CuErsC,EAAA,CAAOpK,EAAP,CAArB,CAA7B,CAFH,CAGhBiN,MAAOA,QAAS,CAACjN,EAAD,CAAI,CA96CtB,GAAIub,EAAJ,GAAW,CA86CgCzS,CA96C5BgD,CAAAA,KAAM8kB,CAAAA,YAArB,EAA4D,GAA5D,CAAqC,CAAC,IAAI0H,IAA1C;AAAiD+Q,EAAjD,EAAoEj\/B,EAAA,CA86CrBpK,EA96CqB,CAApE,KACA,IAAI,CAAA6I,CAAA,CA66CuCC,CA76CvC,CA66C2C9I,EA76C3C,CAAJ,EAA6B,CAAA4hB,EAAA,CA66Cc9Y,CA76CGgI,CAAAA,OAAjB,CA66CkB9Q,EA76ClB,CAA7B,GA66C+CA,EA36C7CupC,CAAAA,YAAamN,CAAAA,OAAf,CAAuB,MAAvB,CA26C2C5tC,CA36CT6wB,CAAAA,YAAH,EAA\/B,CAKI,CAs6C2C35B,EA16C7CupC,CAAAA,YAAaoN,CAAAA,aAIX,CAJ2B,UAI3B,CAs6C2C32C,EAt6CzCupC,CAAAA,YAAaqN,CAAAA,YAAf,EAA+B,CAAC1E,EAPpC,EAO4C,CAC1C,IAAI2E,GAAMp2C,CAAA,CAAI,KAAJ,CAAW,IAAX,CAAiB,IAAjB,CAAuB,mCAAvB,CACVo2C,GAAIC,CAAAA,GAAJ,CAAU,kFACNvZ,GAAJ,GACEsZ,EAAI71B,CAAAA,KAGJ,CAHY61B,EAAIxpC,CAAAA,MAGhB,CAHyB,CAGzB,CA+5CuCvE,CAj6CpCgI,CAAAA,OAAQ4Q,CAAAA,OAAQlhB,CAAAA,WAAnB,CAA+Bq2C,EAA\/B,CAEA,CAAAA,EAAIE,CAAAA,IAAJ,CAAWF,EAAIjvB,CAAAA,SAJjB,CAm6C6C5nB,GA75C3CupC,CAAAA,YAAaqN,CAAAA,YAAf,CAA4BC,EAA5B,CAAiC,CAAjC,CAAoC,CAApC,CACItZ,GAAJ,EAAcsZ,EAAIr1C,CAAAA,UAAWpB,CAAAA,WAAf,CAA2By2C,EAA3B,CAV4B,CAs6CtB,CAHJ,CAIhBjC,KAAM5c,EAAA,CAAUlvB,CAAV,CAAcqgC,EAAd,CAJU,CAKhBwL,MAAOA,QAAS,CAAC30C,EAAD,CAAI,CAAM6I,CAAA,CAAeC,CAAf;AAAmB9I,EAAnB,CAAL,EAA8BopC,EAAA,CAAgBtgC,CAAhB,CAA\/B,CALJ,CAQlB,KAAIkuC,GAAM\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\/C,CADV,KAGI,OAAO,CAAA,CAJK,CAAlB,IAME\/1C,EAAA,CAAM4a,EAER,OAAO,CAAA,CAvBsB,CAV\/B,IAAI0lB,GAAStgC,CAAb,CACIg2C,GAAU1zC,CADd,CAEIoR,GAAUvL,EAAA,CAAQC,CAAR,CAAapI,CAAI2D,CAAAA,IAAjB,CAFd,CAGIoyC,GAAU3M,CAAA,EAA6B,KAA7B,EAAYhhC,CAAIxE,CAAAA,SAAhB,CAAqC,CAACtB,CAAtC,CAA4CA,CAiC1D,IAAY,MAAZ,EAAI0qC,CAAJ,EAA8B,WAA9B,EAAsBA,CAAtB,CACE4I,EAAA,EADF,KAEO,IAAY,QAAZ;AAAI5I,CAAJ,CACL4I,EAAA,CAAS,CAAA,CAAT,CADK,KAEA,IAAY,MAAZ,EAAI5I,CAAJ,EAA8B,OAA9B,EAAsBA,CAAtB,CAGL,IAH4C,IACxCiJ,GAAU,IAD8B,CACxB58B,GAAgB,OAAhBA,EAAQ2zB,CADgB,CAExClrC,GAASsG,CAAIzD,CAAAA,EAAb7C,EAAmBsG,CAAIzD,CAAAA,EAAGuxC,CAAAA,SAAP,CAAiBl2C,CAAjB,CAAsB,WAAtB,CAFqB,CAGnCqI,GAAQ,CAAA,CAAjB,CACM,EAAM,CAAN,CAAA\/F,CAAA,CADN,EACkBszC,EAAA,CAAS,CAACvtC,EAAV,CADlB,CAAwBA,EAAxB,CAAgC,CAAA,CAAhC,CAAuC,CAErC,IAAI5E,GAAMiQ,EAAQ5P,CAAAA,IAAKvB,CAAAA,MAAb,CAAoBvC,CAAIyB,CAAAA,EAAxB,CAANgC,EAAqC,IACrCQ,GAAAA,CAAOpC,EAAA,CAAW4B,EAAX,CAAgB3B,EAAhB,CAAA,CAA0B,GAA1B,CACPuX,EAAA,EAAgB,IAAhB,EAAS5V,EAAT,CAAuB,GAAvB,CACA,CAAC4V,EAAD,EAAU,IAAKvb,CAAAA,IAAL,CAAU2F,EAAV,CAAV,CAA2B,IAA3B,CACA,GACA4V,EAAAA,EAAJ,EAAchR,EAAd,EAAwBpE,EAAxB,GAAgCA,EAAhC,CAAuC,GAAvC,CACA,IAAIgyC,EAAJ,EAAeA,EAAf,EAA0BhyC,EAA1B,CAAgC,CACpB,CAAV,CAAI3B,CAAJ,GAAcA,CAAqB,CAAf,CAAe,CAAZszC,EAAA,EAAY,CAAA51C,CAAIuD,CAAAA,MAAJ,CAAa,OAAhD,CACA,MAF8B,CAK5BU,EAAJ,GAAYgyC,EAAZ,CAAsBhyC,EAAtB,CACA,IAAU,CAAV,CAAI3B,CAAJ,EAAe,CAACszC,EAAA,CAAS,CAACvtC,EAAV,CAAhB,CAAoC,KAdC,CAiBrC+D,EAAAA,CAAS+zB,EAAA,CAAW\/3B,CAAX,CAAgBpI,CAAhB,CAAqBsgC,EAArB,CAA6B0V,EAA7B,CAAsC,CAAA,CAAtC,CACT9rC,GAAA,CAAeo2B,EAAf,CAAuBl0B,EAAvB,CAAJ,GAAsCA,EAAO+pC,CAAAA,OAA7C,CAAuD,CAAA,CAAvD,CACA,OAAO\/pC,GA\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\/\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\/DfG,GAAyB,IAx\/DV,CA82EfiH,GAAW,CAACtL,KAAM,CAAP,CAAUC,MAAO,CAAjB,CAAoB+K,IAAK,CAAzB,CAA4BD,OAAQ,CAApC,CA92EI,CAoyFf6F,EApyFe,CAggHfw4B,GAAmBA,QAAQ,CAACn+B,CAAD,CAAQuY,CAAR,CAAgBt0B,CAAhB,CAAoB,CACjD,IAAKA,CAAAA,EAAL;AAAUA,CACV,KAAIm6C,EAAO,IAAKA,CAAAA,IAAZA,CAAmBxiD,CAAA,CAAI,KAAJ,CAAW,CAACA,CAAA,CAAI,KAAJ,CAAW,IAAX,CAAiB,IAAjB,CAAuB,gBAAvB,CAAD,CAAX,CAAuD,uBAAvD,CAAvB,CACIyiD,EAAQ,IAAKA,CAAAA,KAAbA,CAAqBziD,CAAA,CAAI,KAAJ,CAAW,CAACA,CAAA,CAAI,KAAJ,CAAW,IAAX,CAAiB,IAAjB,CAAuB,+BAAvB,CAAD,CAAX,CAAsE,uBAAtE,CACzBwiD,EAAKE,CAAAA,QAAL,CAAgBD,CAAMC,CAAAA,QAAtB,CAAiC,EACjCt+B,EAAA,CAAMo+B,CAAN,CAAap+B,EAAA,CAAMq+B,CAAN,CAEbt5C,GAAA,CAAGq5C,CAAH,CAAS,QAAT,CAAmB,QAAS,EAAG,CACzBA,CAAK9\/B,CAAAA,YAAT,EAAyBia,CAAA,CAAO6lB,CAAK17B,CAAAA,SAAZ,CAAuB,UAAvB,CADI,CAA\/B,CAGA3d,GAAA,CAAGs5C,CAAH,CAAU,QAAV,CAAoB,QAAS,EAAG,CAC1BA,CAAMvhC,CAAAA,WAAV,EAAyByb,CAAA,CAAO8lB,CAAMh8B,CAAAA,UAAb,CAAyB,YAAzB,CADK,CAAhC,CAIA,KAAKk8B,CAAAA,gBAAL,CAAwB,CAAA,CAEpB7nC,GAAJ,EAAuB,CAAvB,CAAUC,EAAV,GAA4B,IAAK0nC,CAAAA,KAAMriD,CAAAA,KAAM65B,CAAAA,SAA7C,CAAyD,IAAKuoB,CAAAA,IAAKpiD,CAAAA,KAAM41B,CAAAA,QAAzE,CAAoF,MAApF,CAhBiD,CAmBnDusB,GAAiBrgD,CAAAA,SAAU+xB,CAAAA,MAA3B,CAAoC2uB,QAAS,CAACnqC,CAAD,CAAU,CACrD,IAAIoqC,EAASpqC,CAAQ0a,CAAAA,WAAjB0vB;AAA+BpqC,CAAQyI,CAAAA,WAAvC2hC,CAAqD,CAAzD,CACIC,EAASrqC,CAAQsa,CAAAA,YAAjB+vB,CAAgCrqC,CAAQiK,CAAAA,YAAxCogC,CAAuD,CAD3D,CAEIC,EAAStqC,CAAQ4J,CAAAA,cAEjBygC,EAAJ,EACE,IAAKN,CAAAA,IAAKpiD,CAAAA,KAAMiQ,CAAAA,OAIhB,CAJ0B,OAI1B,CAHA,IAAKmyC,CAAAA,IAAKpiD,CAAAA,KAAM8jB,CAAAA,MAGhB,CAHyB2+B,CAAA,CAASE,CAAT,CAAkB,IAAlB,CAAyB,GAGlD,CAAA,IAAKP,CAAAA,IAAK5iD,CAAAA,UAAWQ,CAAAA,KAAMwM,CAAAA,MAA3B,CACE\/I,IAAKiD,CAAAA,GAAL,CAAS,CAAT,CAAY2R,CAAQsa,CAAAA,YAApB,CAAmCta,CAAQiK,CAAAA,YAA3C,EAHgBjK,CAAQ+a,CAAAA,UAGxB,EAHsCqvB,CAAA,CAASE,CAAT,CAAkB,CAGxD,GADF,CAC2E,IAN7E,GAQE,IAAKP,CAAAA,IAAKpiD,CAAAA,KAAMiQ,CAAAA,OAChB,CAD0B,EAC1B,CAAA,IAAKmyC,CAAAA,IAAK5iD,CAAAA,UAAWQ,CAAAA,KAAMwM,CAAAA,MAA3B,CAAoC,GATtC,CAYIi2C,EAAJ,EACE,IAAKJ,CAAAA,KAAMriD,CAAAA,KAAMiQ,CAAAA,OAIjB,CAJ2B,OAI3B,CAHA,IAAKoyC,CAAAA,KAAMriD,CAAAA,KAAMgZ,CAAAA,KAGjB,CAHyB0pC,CAAA,CAASC,CAAT,CAAkB,IAAlB,CAAyB,GAGlD,CAFA,IAAKN,CAAAA,KAAMriD,CAAAA,KAAM+Y,CAAAA,IAEjB,CAFwBV,CAAQib,CAAAA,OAEhC,CAF0C,IAE1C,CAAA,IAAK+uB,CAAAA,KAAM7iD,CAAAA,UAAWQ,CAAAA,KAAMmgB,CAAAA,KAA5B,CACE1c,IAAKiD,CAAAA,GAAL,CAAS,CAAT,CAAY2R,CAAQ0a,CAAAA,WAApB,CAAkC1a,CAAQyI,CAAAA,WAA1C,EAFezI,CAAQgb,CAAAA,SAEvB;AAFmChb,CAAQib,CAAAA,OAE3C,EAFsDovB,CAAA,CAASC,CAAT,CAAkB,CAExE,GADF,CACwE,IAN1E,GAQE,IAAKN,CAAAA,KAAMriD,CAAAA,KAAMiQ,CAAAA,OACjB,CAD2B,EAC3B,CAAA,IAAKoyC,CAAAA,KAAM7iD,CAAAA,UAAWQ,CAAAA,KAAMmgB,CAAAA,KAA5B,CAAoC,GATtC,CAYI,EAAC,IAAKoiC,CAAAA,gBAAV,EAAqD,CAArD,CAA8BlqC,CAAQiK,CAAAA,YAAtC,GACgB,CACd,EADIqgC,CACJ,EADmB,IAAKC,CAAAA,aAAL,EACnB,CAAA,IAAKL,CAAAA,gBAAL,CAAwB,CAAA,CAF1B,CAKA,OAAO,CAACvpC,MAAO0pC,CAAA,CAASC,CAAT,CAAkB,CAA1B,CAA6B7+B,OAAQ2+B,CAAA,CAASE,CAAT,CAAkB,CAAvD,CAlC8C,CAqCvDR,GAAiBrgD,CAAAA,SAAU+wB,CAAAA,aAA3B,CAA2CgwB,QAAS,CAACv\/C,CAAD,CAAM,CACpD,IAAK++C,CAAAA,KAAMh8B,CAAAA,UAAf,EAA6B\/iB,CAA7B,GAAoC,IAAK++C,CAAAA,KAAMh8B,CAAAA,UAA\/C,CAA4D\/iB,CAA5D,CACI,KAAKw\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\/B,CACS\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\/C,EAAJ,EAAc3wB,EAAA,CAAa\/sB,CAAb,CACV,KAAKvI,CAAAA,MAAT,EAAmB,IAAKA,CAAAA,MAAO20B,CAAAA,KAAZ,EAtCnB,CADuC,CA+CzCmT,GAAW1lC,CAAAA,SAAUgT,CAAAA,IAArB,CAA4B8wC,QAAS,CAACl4B,CAAD,CAAO1W,CAAP,CAAgB,CACvC,IAAZ,EAAI0W,CAAJ,EAAiC,UAAjC,EAAoB,IAAKnmB,CAAAA,IAAzB,GAA+CmmB,CAA\/C,CAAsD,CAAtD,CAEA,KAHmD,IAE\/C1nB,CAF+C,CAEzCC,CAFyC,CAG1C5F,EAAI,CAAb,CAAgBA,CAAhB,CAAoB,IAAK0L,CAAAA,KAAMzM,CAAAA,MAA\/B,CAAuC,EAAEe,CAAzC,CAA4C,CAC1C,IAAI4G,GAAO,IAAK8E,CAAAA,KAAL,CAAW1L,CAAX,CAAX,CACIuS,GAAOF,EAAA,CAAiBzL,EAAKgM,CAAAA,WAAtB,CAAmC,IAAnC,CACX,IAAiB,IAAjB,EAAIL,EAAK5M,CAAAA,IAAT,GACEA,CACI,CADGsH,EAAA,CAAI0J,CAAA,CAAU\/P,EAAV,CAAiByF,EAAA,CAAOzF,EAAP,CAArB,CAAmC2L,EAAK5M,CAAAA,IAAxC,CACH,CAAQ,EAAR,EAAA0nB,CAFN,EAEoB,MAAO1nB,EAE3B,IAAe,IAAf,EAAI4M,EAAK3M,CAAAA,EAAT;CACEA,CACI,CADCqH,EAAA,CAAI0J,CAAA,CAAU\/P,EAAV,CAAiByF,EAAA,CAAOzF,EAAP,CAArB,CAAmC2L,EAAK3M,CAAAA,EAAxC,CACD,CAAQ,CAAR,EAAAynB,CAFN,EAEmB,MAAOznB,EATgB,CAY5C,MAAOD,EAAP,EAAe,CAACA,KAAMA,CAAP,CAAaC,GAAIA,CAAjB,CAfoC,CAoBrDuhC,GAAW1lC,CAAAA,SAAUs0B,CAAAA,OAArB,CAA+ByvB,QAAS,EAAG,CACvC,IAAI5R,EAAS,IAAb,CAEE3wC,EAAM,IAAKwR,CAAAA,IAAL,CAAU,EAAV,CAAc,CAAA,CAAd,CAFR,CAE6BiH,EAAS,IAFtC,CAE4C9T,EAAK,IAAKyD,CAAAA,GAAIzD,CAAAA,EACvD3E,EAAL,EAAa2E,CAAb,EACAivB,EAAA,CAAQjvB,CAAR,CAAY,QAAS,EAAG,CAAA,IAClBhB,EAAO3D,CAAI2D,CAAAA,IADO,CACDuP,GAAQ9J,EAAA,CAAOpJ,CAAI2D,CAAAA,IAAX,CAE7B,IADIsV,EACJ,CADWmG,EAAA,CAAgBza,CAAhB,CAAoBuO,EAApB,CACX,CACEkP,EAAA,CAA6BnJ,EAA7B,CACA,CAAAtU,CAAGS,CAAAA,KAAMmsB,CAAAA,gBAAT,CAA4B5sB,CAAGS,CAAAA,KAAMoa,CAAAA,WAArC,CAAmD,CAAA,CAErD7a,EAAGS,CAAAA,KAAMosB,CAAAA,aAAT,CAAyB,CAAA,CACpBle,GAAA,CAAamF,CAAOrQ,CAAAA,GAApB,CAAyBzE,CAAzB,CAAL,EAAwD,IAAxD,EAAuC8U,CAAOvP,CAAAA,MAA9C,GACMs4C,EAGJ,CAHgB\/oC,CAAOvP,CAAAA,MAGvB,CAFAuP,CAAOvP,CAAAA,MAEP,CAFgB,IAEhB,EADIs5C,EACJ,CADcplC,EAAA,CAAa3E,CAAb,CACd,CADqC+oC,EACrC,GACIv4C,EAAA,CAAiBtF,CAAjB,CAAuBA,CAAKuF,CAAAA,MAA5B,CAAqCs5C,EAArC,CALN,CAOA5oC,GAAA,CAAYjV,CAAZ,CAAgB,eAAhB,CAAiCA,CAAjC,CAAqCgsC,CAArC,CAfsB,CAAxB,CALyC,CAwB3CzM,GAAW1lC,CAAAA,SAAUyT,CAAAA,UAArB,CAAkCwwC,QAAS,CAAC9+C,CAAD,CAAO,CAChD,GAAI,CAAC,IAAK8E,CAAAA,KAAMzM,CAAAA,MAAhB,EAA0B,IAAKoM,CAAAA,GAAIzD,CAAAA,EAAnC,CAAuC,CACrC,IAAIwU,EAAK,IAAK\/Q,CAAAA,GAAIzD,CAAAA,EAAGS,CAAAA,KAChB+T;CAAGqa,CAAAA,kBAAR,EAAsE,EAAtE,EAA8B5zB,CAAA,CAAQuZ,CAAGqa,CAAAA,kBAAX,CAA+B,IAA\/B,CAA9B,EACgEjzB,CAA3D4Y,CAAGua,CAAAA,oBAAwDnzB,GAA\/B4Y,CAAGua,CAAAA,oBAA4BnzB,CAAL,EAAKA,GAAAA,IAA5D,CAAiE,IAAjE,CAHiC,CAKvC,IAAKkI,CAAAA,KAAMlI,CAAAA,IAAX,CAAgBoD,CAAhB,CANgD,CASlDugC,GAAW1lC,CAAAA,SAAUuT,CAAAA,UAArB,CAAkC2wC,QAAS,CAAC\/+C,CAAD,CAAO,CAChD,IAAK8E,CAAAA,KAAMzH,CAAAA,MAAX,CAAkBpB,CAAA,CAAQ,IAAK6I,CAAAA,KAAb,CAAoB9E,CAApB,CAAlB,CAA6C,CAA7C,CACI,EAAC,IAAK8E,CAAAA,KAAMzM,CAAAA,MAAhB,EAA0B,IAAKoM,CAAAA,GAAIzD,CAAAA,EAAnC,GACMwU,CACH,CADQ,IAAK\/Q,CAAAA,GAAIzD,CAAAA,EAAGS,CAAAA,KACpB,CAAwD7E,CAAvD4Y,CAAGqa,CAAAA,kBAAoDjzB,GAA7B4Y,CAAGqa,CAAAA,kBAA0BjzB,CAAL,EAAKA,GAAAA,IAAxD,CAA6D,IAA7D,CAFH,CAFgD,CAOlDgF,GAAA,CAAW2+B,EAAX,CA8EA,KAAIS,GAAmBA,QAAQ,CAACzzB,CAAD,CAAU0X,CAAV,CAAmB,CAChD,IAAK1X,CAAAA,OAAL,CAAeA,CACf,KAAK0X,CAAAA,OAAL,CAAeA,CACf,KAAS7rB,CAAT,CAAa,CAAb,CAAgBA,CAAhB,CAAoBmU,CAAQlV,CAAAA,MAA5B,CAAoC,EAAEe,CAAtC,CACImU,CAAA,CAAQnU,CAAR,CAAWX,CAAAA,MAAX,CAAoB,IAJwB,CAOlDuoC,GAAiBnmC,CAAAA,SAAUuyB,CAAAA,KAA3B,CAAmC4xB,QAAS,EAAG,CAC7C,GAASzkB,CAAL,IAAKA,CAAAA,iBAAT,CAAA,CACA,IAAKA,CAAAA,iBAAL;AAAyB,CAAA,CACzB,KAAK,IAAInhC,EAAI,CAAb,CAAgBA,CAAhB,CAAoB,IAAKmU,CAAAA,OAAQlV,CAAAA,MAAjC,CAAyC,EAAEe,CAA3C,CACI,IAAKmU,CAAAA,OAAL,CAAanU,CAAb,CAAgBg0B,CAAAA,KAAhB,EACJnX,GAAA,CAAY,IAAZ,CAAkB,OAAlB,CAJA,CAD6C,CAQ\/C+qB,GAAiBnmC,CAAAA,SAAUgT,CAAAA,IAA3B,CAAkCoxC,QAAS,CAACx4B,CAAD,CAAO1W,CAAP,CAAgB,CACzD,MAAO,KAAKkV,CAAAA,OAAQpX,CAAAA,IAAb,CAAkB4Y,CAAlB,CAAwB1W,CAAxB,CADkD,CAG3DnO,GAAA,CAAWo\/B,EAAX,CAiDA,KAAIke,GAAY,CAAhB,CACIhS,GAAMA,QAAQ,CAAC\/sC,CAAD,CAAO2C,CAAP,CAAaw0B,CAAb,CAAwB+b,CAAxB,CAAiCpzC,CAAjC,CAA4C,CAC5D,GAAI,EAAE,IAAF,WAAkBitC,GAAlB,CAAJ,CAA8B,MAAO,KAAIA,EAAJ,CAAQ\/sC,CAAR,CAAc2C,CAAd,CAAoBw0B,CAApB,CAA+B+b,CAA\/B,CAAwCpzC,CAAxC,CACpB,KAAjB,EAAIq3B,CAAJ,GAAyBA,CAAzB,CAAqC,CAArC,CAEA0I,GAAYjlC,CAAAA,IAAZ,CAAiB,IAAjB,CAAuB,CAAC,IAAIglC,EAAJ,CAAc,CAAC,IAAI1I,EAAJ,CAAS,EAAT,CAAa,IAAb,CAAD,CAAd,CAAD,CAAvB,CACA,KAAK3yB,CAAAA,KAAL,CAAa4yB,CACb,KAAK7X,CAAAA,SAAL,CAAiB,IAAKL,CAAAA,UAAtB,CAAmC,CACnC,KAAKge,CAAAA,QAAL,CAAgB,CAAA,CAChB,KAAK+hB,CAAAA,eAAL,CAAuB,CACvB,KAAKr2C,CAAAA,YAAL,CAAoB,IAAKD,CAAAA,iBAAzB,CAA6CyuB,CACzCnyB,EAAAA,CAAQkB,EAAA,CAAIixB,CAAJ,CAAe,CAAf,CACZ,KAAKhS,CAAAA,GAAL,CAAWkR,EAAA,CAAgBrxB,CAAhB,CACX,KAAK60B,CAAAA,OAAL,CAAe,IAAItB,EAAJ,CAAY,IAAZ,CACf,KAAK7pB,CAAAA,EAAL,CAAU,EAAEqwC,EACZ,KAAKnoB,CAAAA,UAAL;AAAkBj0B,CAClB,KAAKuwC,CAAAA,OAAL,CAAeA,CACf,KAAKpzC,CAAAA,SAAL,CAA+B,KAAd,EAACA,CAAD,CAAuB,KAAvB,CAA+B,KAChD,KAAK8xB,CAAAA,MAAL,CAAc,CAAA,CAEK,SAAnB,EAAI,MAAO5xB,EAAX,GAA+BA,CAA\/B,CAAsC,IAAKm\/B,CAAAA,UAAL,CAAgBn\/B,CAAhB,CAAtC,CACAg3B,GAAA,CAAU,IAAV,CAAgB,CAACp4B,KAAMoG,CAAP,CAAcnG,GAAImG,CAAlB,CAAyBhF,KAAMA,CAA\/B,CAAhB,CACAo7B,GAAA,CAAa,IAAb,CAAmB\/E,EAAA,CAAgBrxB,CAAhB,CAAnB,CAA2Cm4B,EAA3C,CArB4D,CAwB9D4P,GAAIryC,CAAAA,SAAJ,CAAgB0C,CAAA,CAAUyiC,EAAYnlC,CAAAA,SAAtB,CAAiC,CAC\/CukD,YAAalS,EADkC,CAM\/C9nC,KAAMA,QAAQ,CAACrG,CAAD,CAAOC,CAAP,CAAWwW,CAAX,CAAe,CACvBA,CAAJ,CAAU,IAAKooC,CAAAA,KAAL,CAAW7+C,CAAX,CAAkB,IAAK2F,CAAAA,KAAvB,CAA8B1F,CAA9B,CAAmCD,CAAnC,CAAyCyW,CAAzC,CAAV,CACO,IAAKooC,CAAAA,KAAL,CAAW,IAAKl5C,CAAAA,KAAhB,CAAuB,IAAKA,CAAAA,KAA5B,CAAoC,IAAKC,CAAAA,IAAzC,CAA+C5F,CAA\/C,CAFoB,CANkB,CAY\/C24B,OAAQA,QAAQ,CAAC9vB,CAAD,CAAK9C,CAAL,CAAY,CAE1B,IADA,IAAIS,EAAS,CAAb,CACSnM,EAAI,CAAb,CAAgBA,CAAhB,CAAoB0L,CAAMzM,CAAAA,MAA1B,CAAkC,EAAEe,CAApC,CAAyCmM,CAAA,EAAUT,CAAA,CAAM1L,CAAN,CAASmM,CAAAA,MAC5D,KAAKo4C,CAAAA,WAAL,CAAiB\/1C,CAAjB,CAAsB,IAAKlD,CAAAA,KAA3B,CAAkCI,CAAlC,CAAyCS,CAAzC,CAH0B,CAZmB,CAiB\/CoyB,OAAQA,QAAQ,CAAC\/vB,CAAD,CAAK7L,CAAL,CAAQ,CAAE,IAAK2hD,CAAAA,WAAL,CAAiB91C,CAAjB,CAAsB,IAAKlD,CAAAA,KAA3B,CAAkC3I,CAAlC,CAAF,CAjBuB,CAsB\/CsjD,SAAUA,QAAQ,CAAChM,CAAD,CAAU,CAC1B,IAAIvuC,EAAQO,EAAA,CAAS,IAAT,CAAe,IAAKX,CAAAA,KAApB;AAA2B,IAAKA,CAAAA,KAAhC,CAAwC,IAAKC,CAAAA,IAA7C,CACZ,OAAgB,CAAA,CAAhB,GAAI0uC,CAAJ,CAAgCvuC,CAAhC,CACOA,CAAMk9B,CAAAA,IAAN,CAAWqR,CAAX,EAAsB,IAAKpR,CAAAA,aAAL,EAAtB,CAHmB,CAtBmB,CA2B\/Cqd,SAAUlvB,EAAA,CAAY,QAAQ,CAACgP,CAAD,CAAO,CAAA,IAC\/BtiB,EAAMzW,EAAA,CAAI,IAAK3B,CAAAA,KAAT,CAAgB,CAAhB,CADyB,CACLmC,EAAO,IAAKnC,CAAAA,KAAZmC,CAAoB,IAAKlC,CAAAA,IAAzBkC,CAAgC,CAC9D+2B,GAAA,CAAW,IAAX,CAAiB,CAAC7+B,KAAM+d,CAAP,CAAY9d,GAAIqH,EAAA,CAAIQ,CAAJ,CAAUrC,EAAA,CAAQ,IAAR,CAAcqC,CAAd,CAAoB1G,CAAAA,IAAK9H,CAAAA,MAAnC,CAAhB,CACC8H,KAAM,IAAKm\/B,CAAAA,UAAL,CAAgBF,CAAhB,CADP,CAC8BlF,OAAQ,UADtC,CACkDpuB,KAAM,CAAA,CADxD,CAAjB,CACgF,CAAA,CADhF,CAEI,KAAK9K,CAAAA,EAAT,EAAeiqB,EAAA,CAAe,IAAKjqB,CAAAA,EAApB,CAAwB,CAAxB,CAA2B,CAA3B,CACfu6B,GAAA,CAAa,IAAb,CAAmB\/E,EAAA,CAAgB1Z,CAAhB,CAAnB,CAAyCwgB,EAAzC,CALmC,CAA3B,CA3BqC,CAkC\/C6B,aAAcA,QAAQ,CAACC,CAAD,CAAOrgC,CAAP,CAAaC,CAAb,CAAiBk7B,CAAjB,CAAyB,CAC7Cn7B,CAAA,CAAO6H,EAAA,CAAQ,IAAR,CAAc7H,CAAd,CACPC,EAAA,CAAKA,CAAA,CAAK4H,EAAA,CAAQ,IAAR,CAAc5H,CAAd,CAAL,CAAyBD,CAC9BogC,GAAA,CAAa,IAAb,CAAmBC,CAAnB,CAAyBrgC,CAAzB,CAA+BC,CAA\/B,CAAmCk7B,CAAnC,CAH6C,CAlCA,CAuC\/CmX,SAAUA,QAAQ,CAACtyC,CAAD,CAAOC,CAAP,CAAWq0C,CAAX,CAAoB,CAChCvuC,CAAAA,CAAQI,EAAA,CAAW,IAAX,CAAiB0B,EAAA,CAAQ,IAAR,CAAc7H,CAAd,CAAjB,CAAsC6H,EAAA,CAAQ,IAAR,CAAc5H,CAAd,CAAtC,CACZ,OAAgB,CAAA,CAAhB,GAAIq0C,CAAJ,CAAgCvuC,CAAhC,CACOA,CAAMk9B,CAAAA,IAAN,CAAWqR,CAAX,EAAsB,IAAKpR,CAAAA,aAAL,EAAtB,CAH6B,CAvCS,CA6C\/Cz9B,QAASA,QAAQ,CAACxE,CAAD,CAAO,CAAmC,OAA9BgG,CAA8B;AAA1B,IAAKu5C,CAAAA,aAAL,CAAmBv\/C,CAAnB,CAA0B,GAAYgG,CAAE7F,CAAAA,IAAjD,CA7CuB,CA+C\/Co\/C,cAAeA,QAAQ,CAACv\/C,CAAD,CAAO,CAAC,GAAI+F,EAAA,CAAO,IAAP,CAAa\/F,CAAb,CAAJ,CAA0B,MAAOwE,GAAA,CAAQ,IAAR,CAAcxE,CAAd,CAAlC,CA\/CiB,CAgD\/Cw\/C,cAAeA,QAAQ,CAACx\/C,CAAD,CAAO,CAAC,MAAOyF,GAAA,CAAOzF,CAAP,CAAR,CAhDiB,CAkD\/Cy\/C,yBAA0BA,QAAQ,CAACz\/C,CAAD,CAAO,CACpB,QAAnB,EAAI,MAAOA,EAAX,GAA+BA,CAA\/B,CAAsCwE,EAAA,CAAQ,IAAR,CAAcxE,CAAd,CAAtC,CACA,OAAOoP,GAAA,CAAWpP,CAAX,CAFgC,CAlDM,CAuD\/C0\/C,UAAWA,QAAQ,EAAG,CAAC,MAAO,KAAK\/6C,CAAAA,IAAb,CAvDyB,CAwD\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\/C,CAxFgC,CAiG\/Cy8C,aAAc1vB,EAAA,CAAY,QAAQ,CAACzN,CAAD,CAASiD,CAAT,CAAeviB,CAAf,CAAwB,CACxD,IAAIkiB,EAAS,IAAKD,CAAAA,GAAIC,CAAAA,MAAOzqB,CAAAA,KAAhB,CAAsB,CAAtB,CACbyqB,EAAO3oB,CAAAA,IAAP,CAAY,IAAI05B,EAAJ,CAAU1vB,EAAA,CAAQ,IAAR,CAAc+b,CAAd,CAAV,CAAiC\/b,EAAA,CAAQ,IAAR,CAAcgf,CAAd,EAAsBjD,CAAtB,CAAjC,CAAZ,CACA4Y,GAAA,CAAa,IAAb,CAAmBxF,EAAA,CAAmB,IAAK\/0B,CAAAA,EAAxB,CAA4BukB,CAA5B,CAAoCA,CAAOltB,CAAAA,MAA3C,CAAoD,CAApD,CAAnB,CAA2EgL,CAA3E,CAHwD,CAA5C,CAjGiC,CAuG\/CwuB,aAAcA,QAAQ,CAACwhB,CAAD,CAAU,CAE9B,IAF8B,IAC1B9tB,EAAS,IAAKD,CAAAA,GAAIC,CAAAA,MADQ,CACAzgB,CADA,CAErB1L,EAAI,CAAb,CAAgBA,CAAhB,CAAoBmsB,CAAOltB,CAAAA,MAA3B,CAAmCe,CAAA,EAAnC,CAAwC,CACtC,IAAIksB,EAAMpgB,EAAA,CAAW,IAAX,CAAiBqgB,CAAA,CAAOnsB,CAAP,CAAU2F,CAAAA,IAAV,EAAjB,CAAmCwmB,CAAA,CAAOnsB,CAAP,CAAU4F,CAAAA,EAAV,EAAnC,CACV8F,EAAA,CAAQA,CAAA,CAAQA,CAAMnE,CAAAA,MAAN,CAAa2kB,CAAb,CAAR;AAA4BA,CAFE,CAIxC,MAAgB,CAAA,CAAhB,GAAI+tB,CAAJ,CAAgCvuC,CAAhC,CACcA,CAAMk9B,CAAAA,IAAN,CAAWqR,CAAX,EAAsB,IAAKpR,CAAAA,aAAL,EAAtB,CAPgB,CAvGe,CAgH\/C8d,cAAeA,QAAQ,CAAC1M,CAAD,CAAU,CAE\/B,IAF+B,IAC3B3lC,EAAQ,EADmB,CACf6X,EAAS,IAAKD,CAAAA,GAAIC,CAAAA,MADH,CAEtBnsB,EAAI,CAAb,CAAgBA,CAAhB,CAAoBmsB,CAAOltB,CAAAA,MAA3B,CAAmCe,CAAA,EAAnC,CAAwC,CACtC,IAAIksB,EAAMpgB,EAAA,CAAW,IAAX,CAAiBqgB,CAAA,CAAOnsB,CAAP,CAAU2F,CAAAA,IAAV,EAAjB,CAAmCwmB,CAAA,CAAOnsB,CAAP,CAAU4F,CAAAA,EAAV,EAAnC,CACM,EAAA,CAAhB,GAAIq0C,CAAJ,GAAyB\/tB,CAAzB,CAA+BA,CAAI0c,CAAAA,IAAJ,CAASqR,CAAT,EAAoB,IAAKpR,CAAAA,aAAL,EAApB,CAA\/B,CACAv0B,EAAA,CAAMtU,CAAN,CAAA,CAAWksB,CAH2B,CAKxC,MAAO5X,EAPwB,CAhHc,CAyH\/Cq1B,iBAAkBA,QAAQ,CAAC3D,CAAD,CAAOniB,CAAP,CAAiBid,CAAjB,CAAyB,CAEjD,IADA,IAAI8lB,EAAM,EAAV,CACS5mD,EAAI,CAAb,CAAgBA,CAAhB,CAAoB,IAAKksB,CAAAA,GAAIC,CAAAA,MAAOltB,CAAAA,MAApC,CAA4Ce,CAAA,EAA5C,CACI4mD,CAAA,CAAI5mD,CAAJ,CAAA,CAASgmC,CACb,KAAK6gB,CAAAA,iBAAL,CAAuBD,CAAvB,CAA4B\/iC,CAA5B,CAAsCid,CAAtC,EAAgD,QAAhD,CAJiD,CAzHJ,CA+H\/C+lB,kBAAmB7vB,EAAA,CAAY,QAAQ,CAACgP,CAAD,CAAOniB,CAAP,CAAiBid,CAAjB,CAAyB,CAE9D,IAF8D,IAC1DzjB,EAAU,EADgD,CAC5C6O,EAAM,IAAKA,CAAAA,GADiC,CAErDlsB,GAAI,CAAb,CAAgBA,EAAhB,CAAoBksB,CAAIC,CAAAA,MAAOltB,CAAAA,MAA\/B,CAAuCe,EAAA,EAAvC,CAA4C,CAC1C,IAAIuY,GAAQ2T,CAAIC,CAAAA,MAAJ,CAAWnsB,EAAX,CACZqd,EAAA,CAAQrd,EAAR,CAAA,CAAa,CAAC2F,KAAM4S,EAAM5S,CAAAA,IAAN,EAAP,CAAqBC,GAAI2S,EAAM3S,CAAAA,EAAN,EAAzB,CAAqCmB,KAAM,IAAKm\/B,CAAAA,UAAL,CAAgBF,CAAA,CAAKhmC,EAAL,CAAhB,CAA3C;AAAqE8gC,OAAQA,CAA7E,CAF6B,CAI\/B,GAAA,CAAA,CAAA,CAAA,EAAA,KAAA,EAAA,CAAA,CAAA,CAxhDXl9B,CAAAA,CAAM,EACuBkjD,EAAAA,CAA7BC,CAA6BD,CAAnB75C,EAAA,CAuhDkC5B,IAvhD1BC,CAAAA,KAAR,CAAe,CAAf,CACd,KAAStL,EAAT,CAAa,CAAb,CAAgBA,EAAhB,CAshDgDqd,CAthDpBpe,CAAAA,MAA5B,CAAoCe,EAAA,EAApC,CAAyC,CACvC,IAAIyS,GAqhD0C4K,CArhDjC,CAAQrd,EAAR,CACT2F,GAAAA,CAAO63B,EAAA,CAAU\/qB,EAAO9M,CAAAA,IAAjB,CAAuBohD,CAAvB,CAAgCD,CAAhC,CACX,KAAIlhD,GAAK43B,EAAA,CAAUH,EAAA,CAAU5qB,EAAV,CAAV,CAA6Bs0C,CAA7B,CAAsCD,CAAtC,CACTC,EAAA,CAAUt0C,EAAO7M,CAAAA,EACjBkhD,EAAA,CAAUlhD,EACE,SAAZ,EAghD8CohD,CAhhD9C,EACMzuC,EACJ,CA8gD4ClN,IA\/gD5B6gB,CAAAA,GAAIC,CAAAA,MAAR,CAAensB,EAAf,CACZ,CAD+Bi9B,EAC\/B,CADqE,CACrE,CADqC\/vB,EAAA,CAAIqL,EAAMiU,CAAAA,IAAV,CAAgBjU,EAAMgR,CAAAA,MAAtB,CACrC,CAAA3lB,CAAA,CAAI5D,EAAJ,CAAA,CAAS,IAAIk9B,EAAJ,CAAUD,EAAA,CAAMr3B,EAAN,CAAWD,EAArB,CAA2Bs3B,EAAA,CAAMt3B,EAAN,CAAaC,EAAxC,CAFX,EAIEhC,CAAA,CAAI5D,EAAJ,CAJF,CAIW,IAAIk9B,EAAJ,CAAUv3B,EAAV,CAAgBA,EAAhB,CAV4B,CAazC,CAAA,CAAO,IAAIw3B,EAAJ,CAAcv5B,CAAd,CAygDyCyH,IAzgDlB6gB,CAAAA,GAAIE,CAAAA,SAA3B,CAygDQ,CAATkW,CAAAA,CAAS,CACb,KAAS71B,CAAT,CAAe4Q,CAAQpe,CAAAA,MAAvB,CAAgC,CAAhC,CAA0C,CAA1C,EAAmCwN,CAAnC,CAA6CA,CAAA,EAA7C,CACI+3B,EAAA,CAAW,IAAX,CAAiBnnB,CAAA,CAAQ5Q,CAAR,CAAjB,CACA61B,EAAJ,CAAcG,EAAA,CAA2B,IAA3B,CAAiCH,CAAjC,CAAd,CACS,IAAK16B,CAAAA,EADd,EACoB4pB,EAAA,CAAoB,IAAK5pB,CAAAA,EAAzB,CAV0C,CAA7C,CA\/H4B,CA2I\/Cq\/C,KAAMjwB,EAAA,CAAY,QAAQ,EAAG,CAACgO,EAAA,CAAsB,IAAtB,CAA4B,MAA5B,CAAD,CAAvB,CA3IyC,CA4I\/CkiB,KAAMlwB,EAAA,CAAY,QAAQ,EAAG,CAACgO,EAAA,CAAsB,IAAtB,CAA4B,MAA5B,CAAD,CAAvB,CA5IyC,CA6I\/CmiB,cAAenwB,EAAA,CAAY,QAAQ,EAAG,CAACgO,EAAA,CAAsB,IAAtB,CAA4B,MAA5B,CAAoC,CAAA,CAApC,CAAD,CAAvB,CA7IgC,CA8I\/CoiB,cAAepwB,EAAA,CAAY,QAAQ,EAAG,CAACgO,EAAA,CAAsB,IAAtB;AAA4B,MAA5B,CAAoC,CAAA,CAApC,CAAD,CAAvB,CA9IgC,CAgJ\/CqiB,aAAcA,QAAQ,CAACv8C,CAAD,CAAM,CAAC,IAAK6tB,CAAAA,MAAL,CAAc7tB,CAAf,CAhJmB,CAiJ\/Cw8C,aAAcA,QAAQ,EAAG,CAAC,MAAO,KAAK3uB,CAAAA,MAAb,CAjJsB,CAmJ\/C4uB,YAAaA,QAAQ,EAAG,CAEtB,IAFsB,IAClB5mB,EAAO,IAAKC,CAAAA,OADM,CACGpB,EAAO,CADV,CACaC,EAAS,CADtB,CAEbz\/B,EAAI,CAAb,CAAgBA,CAAhB,CAAoB2gC,CAAKnB,CAAAA,IAAKvgC,CAAAA,MAA9B,CAAsCe,CAAA,EAAtC,CAAkD2gC,CAAKnB,CAAAA,IAAL,CAAUx\/B,CAAV,CAAamsB,CAAAA,MAAlB,EAA4B,EAAEqT,CAC3E,KAAS\/yB,CAAT,CAAe,CAAf,CAAkBA,CAAlB,CAAwBk0B,CAAKlB,CAAAA,MAAOxgC,CAAAA,MAApC,CAA4CwN,CAAA,EAA5C,CAA0Dk0B,CAAKlB,CAAAA,MAAL,CAAYhzB,CAAZ,CAAiB0f,CAAAA,MAAtB,EAAgC,EAAEsT,CACvF,OAAO,CAACwnB,KAAMznB,CAAP,CAAa0nB,KAAMznB,CAAnB,CAJe,CAnJuB,CAyJ\/C+H,aAAcA,QAAQ,EAAG,CACvB,IAAIoM,EAAS,IAEb,KAAKhT,CAAAA,OAAL,CAAe,IAAItB,EAAJ,CAAY,IAAKsB,CAAAA,OAAQV,CAAAA,aAAzB,CACfvB,GAAA,CAAW,IAAX,CAAiB,QAAS,CAACtzB,CAAD,CAAM,CAAE,MAAOA,EAAIu1B,CAAAA,OAAX,CAAqBgT,CAAOhT,CAAAA,OAA9B,CAAhC,CAA0E,CAAA,CAA1E,CAJuB,CAzJsB,CAgK\/C4mB,UAAWA,QAAQ,EAAG,CACpB,IAAKzB,CAAAA,eAAL,CAAuB,IAAK0B,CAAAA,gBAAL,CAAsB,CAAA,CAAtB,CADH,CAhKyB,CAmK\/CA,iBAAkBA,QAAQ,CAACC,CAAD,CAAa,CACjCA,CAAJ;CACI,IAAK9mB,CAAAA,OAAQb,CAAAA,MADjB,CAC0B,IAAKa,CAAAA,OAAQZ,CAAAA,SADvC,CACmD,IAAKY,CAAAA,OAAQf,CAAAA,UADhE,CAC6E,IAD7E,CAEA,OAAO,KAAKe,CAAAA,OAAQX,CAAAA,UAHiB,CAnKQ,CAwK\/C0nB,QAASA,QAAS,CAACC,CAAD,CAAM,CACtB,MAAO,KAAKhnB,CAAAA,OAAQX,CAAAA,UAApB,GAAmC2nB,CAAnC,EAA0C,IAAK7B,CAAAA,eAA\/C,CADsB,CAxKuB,CA4K\/C8B,WAAYA,QAAQ,EAAG,CACrB,MAAO,CAACroB,KAAM+B,EAAA,CAAiB,IAAKX,CAAAA,OAAQpB,CAAAA,IAA9B,CAAP,CACCC,OAAQ8B,EAAA,CAAiB,IAAKX,CAAAA,OAAQnB,CAAAA,MAA9B,CADT,CADc,CA5KwB,CAgL\/CqoB,WAAYA,QAAQ,CAACC,CAAD,CAAW,CAC7B,IAAIpnB,EAAO,IAAKC,CAAAA,OAAZD,CAAsB,IAAIrB,EAAJ,CAAY,IAAKsB,CAAAA,OAAQV,CAAAA,aAAzB,CAC1BS,EAAKnB,CAAAA,IAAL,CAAY+B,EAAA,CAAiBwmB,CAASvoB,CAAAA,IAAK99B,CAAAA,KAAd,CAAoB,CAApB,CAAjB,CAAyC,IAAzC,CAA+C,CAAA,CAA\/C,CACZi\/B,EAAKlB,CAAAA,MAAL,CAAc8B,EAAA,CAAiBwmB,CAAStoB,CAAAA,MAAO\/9B,CAAAA,KAAhB,CAAsB,CAAtB,CAAjB,CAA2C,IAA3C,CAAiD,CAAA,CAAjD,CAHe,CAhLgB,CAsL\/CsmD,gBAAiBhxB,EAAA,CAAY,QAAQ,CAACpwB,CAAD,CAAOqhD,CAAP,CAAiBnkD,CAAjB,CAAwB,CAC3D,MAAO0iC,GAAA,CAAW,IAAX,CAAiB5\/B,CAAjB,CAAuB,QAAvB,CAAiC,QAAS,CAACA,CAAD,CAAO,CACtD,IAAIuN;AAAUvN,CAAKiY,CAAAA,aAAf1K,GAAiCvN,CAAKiY,CAAAA,aAAtC1K,CAAsD,EAAtDA,CACJA,EAAA,CAAQ8zC,CAAR,CAAA,CAAoBnkD,CAChB,EAACA,CAAL,EAAcmB,EAAA,CAAQkP,CAAR,CAAd,GAAkCvN,CAAKiY,CAAAA,aAAvC,CAAuD,IAAvD,CACA,OAAO,CAAA,CAJ+C,CAAjD,CADoD,CAA5C,CAtL8B,CA+L\/CqpC,YAAalxB,EAAA,CAAY,QAAQ,CAACixB,CAAD,CAAW,CAC1C,IAAIrU,EAAS,IAEb,KAAK5nC,CAAAA,IAAL,CAAU,QAAS,CAACpF,CAAD,CAAO,CACpBA,CAAKiY,CAAAA,aAAT,EAA0BjY,CAAKiY,CAAAA,aAAL,CAAmBopC,CAAnB,CAA1B,EACEzhB,EAAA,CAAWoN,CAAX,CAAmBhtC,CAAnB,CAAyB,QAAzB,CAAmC,QAAS,EAAG,CAC7CA,CAAKiY,CAAAA,aAAL,CAAmBopC,CAAnB,CAAA,CAA+B,IAC3BhjD,GAAA,CAAQ2B,CAAKiY,CAAAA,aAAb,CAAJ,GAAmCjY,CAAKiY,CAAAA,aAAxC,CAAwD,IAAxD,CACA,OAAO,CAAA,CAHsC,CAA\/C,CAFsB,CAA1B,CAH0C,CAA\/B,CA\/LkC,CA6M\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\/C,CAAAA,IAAnF,EAA2F,OAA3F,CAD6B,CA\/PS,CAkQ\/CshD,YAAaA,QAAQ,CAACvlD,CAAD,CAAMgH,CAAN,CAAe,CAC9Bw+C,CAAAA,CAAW,CAACrhB,aAAcn9B,CAAdm9B,GAA8C,IAApB,EAAAn9B,CAAQ5J,CAAAA,QAAR,CAA2B4J,CAAQyR,CAAAA,MAAnC,CAA4CzR,CAAtEm9B,CAAD,CACCj0B,WAAYlJ,CAAZkJ,EAAuBlJ,CAAQkJ,CAAAA,UADhC;AAECc,eAAgB,CAAA,CAFjB,CAEwBirB,OAAQj1B,CAARi1B,EAAmBj1B,CAAQi1B,CAAAA,MAFnD,CAGCtf,kBAAmB3V,CAAnB2V,EAA8B3V,CAAQ2V,CAAAA,iBAHvC,CAIf3c,EAAA,CAAMuK,EAAA,CAAQ,IAAR,CAAcvK,CAAd,CACN,OAAOgkC,GAAA,CAAS,IAAT,CAAehkC,CAAf,CAAoBA,CAApB,CAAyBwlD,CAAzB,CAAmC,UAAnC,CAN2B,CAlQW,CA0Q\/CC,YAAaA,QAAQ,CAACzlD,CAAD,CAAM,CACzBA,CAAA,CAAMuK,EAAA,CAAQ,IAAR,CAAcvK,CAAd,CADmB,KAErBkR,EAAU,EAFW,CAEP7B,EAAQlH,EAAA,CAAQ,IAAR,CAAcnI,CAAI2D,CAAAA,IAAlB,CAAwBgM,CAAAA,WAClD,IAAIN,CAAJ,CAAa,IAAK,IAAItS,EAAI,CAAb,CAAgBA,CAAhB,CAAoBsS,CAAMrT,CAAAA,MAA1B,CAAkC,EAAEe,CAApC,CAAuC,CAClD,IAAIuS,EAAOD,CAAA,CAAMtS,CAAN,CACX,EAAkB,IAAlB,EAAKuS,CAAK5M,CAAAA,IAAV,EAA0B4M,CAAK5M,CAAAA,IAA\/B,EAAuC1C,CAAIyB,CAAAA,EAA3C,IACgB,IADhB,EACK6N,CAAK3M,CAAAA,EADV,EACwB2M,CAAK3M,CAAAA,EAD7B,EACmC3C,CAAIyB,CAAAA,EADvC,GAEIyP,CAAQ3Q,CAAAA,IAAR,CAAa+O,CAAKH,CAAAA,MAAO\/S,CAAAA,MAAzB,EAAmCkT,CAAKH,CAAAA,MAAxC,CAJ8C,CAMpD,MAAO+B,EATkB,CA1QoB,CAqR\/C2zB,UAAWA,QAAQ,CAACniC,CAAD,CAAOC,CAAP,CAAWw\/B,CAAX,CAAmB,CACpCz\/B,CAAA,CAAO6H,EAAA,CAAQ,IAAR,CAAc7H,CAAd,CAAqBC,EAAA,CAAK4H,EAAA,CAAQ,IAAR,CAAc5H,CAAd,CADG,KAEhCO,EAAQ,EAFwB,CAEpBkG,EAAS1G,CAAKiB,CAAAA,IAC9B,KAAKoF,CAAAA,IAAL,CAAUrG,CAAKiB,CAAAA,IAAf,CAAqBhB,CAAGgB,CAAAA,IAAxB,CAA+B,CAA\/B,CAAkC,QAAS,CAACA,EAAD,CAAO,CAEhD,GADI0L,EACJ,CADY1L,EAAKgM,CAAAA,WACjB,CAAa,IAAK,IAAI5S,GAAI,CAAb,CAAgBA,EAAhB,CAAoBsS,EAAMrT,CAAAA,MAA1B,CAAkCe,EAAA,EAAlC,CAAuC,CAClD,IAAIuS;AAAOD,EAAA,CAAMtS,EAAN,CACM,KAAjB,EAAMuS,EAAK3M,CAAAA,EAAX,EAAyByG,CAAzB,EAAmC1G,CAAKiB,CAAAA,IAAxC,EAAgDjB,CAAKjB,CAAAA,EAArD,EAA2D6N,EAAK3M,CAAAA,EAAhE,EACmB,IADnB,EACM2M,EAAK5M,CAAAA,IADX,EAC2B0G,CAD3B,EACqC1G,CAAKiB,CAAAA,IAD1C,EAEmB,IAFnB,EAEM2L,EAAK5M,CAAAA,IAFX,EAE2B0G,CAF3B,EAEqCzG,CAAGgB,CAAAA,IAFxC,EAEgD2L,EAAK5M,CAAAA,IAFrD,EAE6DC,CAAGlB,CAAAA,EAFhE,EAGM0gC,CAHN,EAGgB,CAAAA,CAAA,CAAO7yB,EAAKH,CAAAA,MAAZ,CAHhB,EAIIjM,CAAM3C,CAAAA,IAAN,CAAW+O,EAAKH,CAAAA,MAAO\/S,CAAAA,MAAvB,EAAiCkT,EAAKH,CAAAA,MAAtC,CAN8C,CAQpD,EAAE\/F,CAV8C,CAAlD,CAYA,OAAOlG,EAf6B,CArRS,CAsS\/CwiD,YAAaA,QAAQ,EAAG,CACtB,IAAIx0C,EAAU,EACd,KAAKnI,CAAAA,IAAL,CAAU,QAAS,CAACpF,CAAD,CAAO,CAExB,GADI+O,CACJ,CADU\/O,CAAKgM,CAAAA,WACf,CAAW,IAAK,IAAI5S,EAAI,CAAb,CAAgBA,CAAhB,CAAoB2V,CAAI1W,CAAAA,MAAxB,CAAgC,EAAEe,CAAlC,CACY,IAAnB,EAAI2V,CAAA,CAAI3V,CAAJ,CAAO2F,CAAAA,IAAX,EAA2BwO,CAAQ3Q,CAAAA,IAAR,CAAamS,CAAA,CAAI3V,CAAJ,CAAOoS,CAAAA,MAApB,CAHP,CAA1B,CAKA,OAAO+B,EAPe,CAtSuB,CAgT\/Cy0C,aAAcA,QAAQ,CAAC5hD,CAAD,CAAM,CAAA,IACtBtC,CADsB,CAClB2H,EAAS,IAAKf,CAAAA,KADI,CACGu9C,EAAU,IAAKhgB,CAAAA,aAAL,EAAqB5pC,CAAAA,MAC5D,KAAK+M,CAAAA,IAAL,CAAU,QAAS,CAACpF,CAAD,CAAO,CACpBgF,CAAAA,CAAKhF,CAAKG,CAAAA,IAAK9H,CAAAA,MAAf2M,CAAwBi9C,CAC5B,IAAIj9C,CAAJ,CAAS5E,CAAT,CAA0B,MAAVtC,EAAiB,CAAZsC,CAAY,CAAA,CAAA,CACjCA,EAAA,EAAO4E,CACP,GAAES,CAJsB,CAA1B,CAMA,OAAOmB,GAAA,CAAQ,IAAR,CAAcP,EAAA,CAAIZ,CAAJ,CAAY3H,CAAZ,CAAd,CARmB,CAhTmB;AA0T\/CokD,aAAcA,QAAS,CAAC\/hC,CAAD,CAAS,CAC9BA,CAAA,CAASvZ,EAAA,CAAQ,IAAR,CAAcuZ,CAAd,CACT,KAAIzf,EAAQyf,CAAOriB,CAAAA,EACnB,IAAIqiB,CAAOngB,CAAAA,IAAX,CAAkB,IAAK0E,CAAAA,KAAvB,EAA4C,CAA5C,CAAgCyb,CAAOriB,CAAAA,EAAvC,CAAiD,MAAO,EACxD,KAAImkD,EAAU,IAAKhgB,CAAAA,aAAL,EAAqB5pC,CAAAA,MACnC,KAAK+M,CAAAA,IAAL,CAAU,IAAKV,CAAAA,KAAf,CAAsByb,CAAOngB,CAAAA,IAA7B,CAAmC,QAAS,CAACA,CAAD,CAAO,CACjDU,CAAA,EAASV,CAAKG,CAAAA,IAAK9H,CAAAA,MAAnB,CAA4B4pD,CADqB,CAAnD,CAGA,OAAOvhD,EARuB,CA1Te,CAqU\/Cq6B,KAAMA,QAAQ,CAAConB,CAAD,CAAc,CAC1B,IAAI19C,EAAM,IAAIyoC,EAAJ,CAAQ7nC,EAAA,CAAS,IAAT,CAAe,IAAKX,CAAAA,KAApB,CAA2B,IAAKA,CAAAA,KAAhC,CAAwC,IAAKC,CAAAA,IAA7C,CAAR,CACQ,IAAKoyB,CAAAA,UADb,CACyB,IAAKryB,CAAAA,KAD9B,CACqC,IAAK2uC,CAAAA,OAD1C,CACmD,IAAKpzC,CAAAA,SADxD,CAEVwE,EAAIgb,CAAAA,SAAJ,CAAgB,IAAKA,CAAAA,SAAWhb,EAAI2a,CAAAA,UAAJ,CAAiB,IAAKA,CAAAA,UACtD3a,EAAI6gB,CAAAA,GAAJ,CAAU,IAAKA,CAAAA,GACf7gB,EAAIstB,CAAAA,MAAJ,CAAa,CAAA,CACTowB,EAAJ,GACE19C,CAAIu1B,CAAAA,OAAQlB,CAAAA,SACZ,CADwB,IAAKkB,CAAAA,OAAQlB,CAAAA,SACrC,CAAAr0B,CAAIy8C,CAAAA,UAAJ,CAAe,IAAKD,CAAAA,UAAL,EAAf,CAFF,CAIA,OAAOx8C,EAVmB,CArUmB,CAkV\/C29C,UAAWA,QAAQ,CAAC\/+C,CAAD,CAAU,CACtBA,CAAL;CAAgBA,CAAhB,CAA0B,EAA1B,CAD2B,KAEvBtE,EAAO,IAAK2F,CAAAA,KAFW,CAEJ1F,EAAK,IAAK0F,CAAAA,KAAV1F,CAAkB,IAAK2F,CAAAA,IAC1B,KAApB,EAAItB,CAAQtE,CAAAA,IAAZ,EAA4BsE,CAAQtE,CAAAA,IAApC,CAA2CA,CAA3C,GAAmDA,CAAnD,CAA0DsE,CAAQtE,CAAAA,IAAlE,CACkB,KAAlB,EAAIsE,CAAQrE,CAAAA,EAAZ,EAA0BqE,CAAQrE,CAAAA,EAAlC,CAAuCA,CAAvC,GAA6CA,CAA7C,CAAkDqE,CAAQrE,CAAAA,EAA1D,CACI+7B,EAAAA,CAAO,IAAImS,EAAJ,CAAQ7nC,EAAA,CAAS,IAAT,CAAetG,CAAf,CAAqBC,CAArB,CAAR,CAAkCqE,CAAQP,CAAAA,IAA1C,EAAkD,IAAKi0B,CAAAA,UAAvD,CAAmEh4B,CAAnE,CAAyE,IAAKs0C,CAAAA,OAA9E,CAAuF,IAAKpzC,CAAAA,SAA5F,CACPoD,EAAQ80B,CAAAA,UAAZ,GAA0B4C,CAAKf,CAAAA,OAA\/B,CAAyC,IAAKA,CAAAA,OAA9C,CACuCp9B,EAAnC,IAAKw7B,CAAAA,MAA8Bx7B,GAAnB,IAAKw7B,CAAAA,MAAcx7B,CAAL,EAAKA,GAAAA,IAApC,CAAyC,CAAC6H,IAAKs2B,CAAN,CAAY5C,WAAY90B,CAAQ80B,CAAAA,UAAhC,CAAzC,CACH4C,EAAK3C,CAAAA,MAAL,CAAc,CAAC,CAAC3zB,IAAK,IAAN,CAAYs8B,SAAU,CAAA,CAAtB,CAA4B5I,WAAY90B,CAAQ80B,CAAAA,UAAhD,CAAD,CACU,EAAA,CAAA8I,EAAA,CAAkB,IAAlB,CA\/Y1B,KAAS7nC,CAAT,CAAa,CAAb,CAAgBA,CAAhB,CAAoBmU,CAAQlV,CAAAA,MAA5B,CAAoCe,CAAA,EAApC,CAAyC,CAAA,IACnCoS,EAAS+B,CAAA,CAAQnU,CAAR,CAD0B,CACdiD,EAAMmP,CAAOqC,CAAAA,IAAP,EADQ,CAEnCw0C,GA6YctnB,CA7YFn0B,CAAAA,OAAJ,CAAYvK,CAAI0C,CAAAA,IAAhB,CAAuBujD,EAAAA,CA6YjBvnB,CA7Y2Bn0B,CAAAA,OAAJ,CAAYvK,CAAI2C,CAAAA,EAAhB,CACrCsH,GAAA,CAAI+7C,EAAJ,CAAWC,CAAX,CAAJ,GACMC,EAEJ,CAFcliB,EAAA,CA2YEtF,CA3YF,CAAcsnB,EAAd,CAAqBC,CAArB,CAA0B92C,CAAOyZ,CAAAA,OAAjC,CAA0CzZ,CAAOyZ,CAAAA,OAAQ3kB,CAAAA,IAAzD,CAEd;AADAkL,CAAO+B,CAAAA,OAAQ3Q,CAAAA,IAAf,CAAoB2lD,EAApB,CACA,CAAAA,EAAQ9pD,CAAAA,MAAR,CAAiB+S,CAHnB,CAHuC,CAgZvC,MAAOuvB,EAVoB,CAlVkB,CA8V\/CynB,UAAWA,QAAQ,CAAC3hC,CAAD,CAAQ,CACrBA,CAAJ,WAAqBhpB,GAArB,GAAmCgpB,CAAnC,CAA2CA,CAAMpc,CAAAA,GAAjD,CACA,IAAI,IAAK2zB,CAAAA,MAAT,CAAmB,IAAK,IAAIh\/B,EAAI,CAAb,CAAgBA,CAAhB,CAAoB,IAAKg\/B,CAAAA,MAAO\/\/B,CAAAA,MAAhC,CAAwC,EAAEe,CAA1C,CAEjB,GADW,IAAKg\/B,CAAAA,MAALqqB,CAAYrpD,CAAZqpD,CACFh+C,CAAAA,GAAT,EAAgBoc,CAAhB,CAAA,CACA,IAAKuX,CAAAA,MAAO\/6B,CAAAA,MAAZ,CAAmBjE,CAAnB,CAAsB,CAAtB,CACAynB,EAAM2hC,CAAAA,SAAN,CAAgB,IAAhB,CACArhB,GAAA,CAAoBF,EAAA,CAAkB,IAAlB,CAApB,CACA,MAJA,CAOF,GAAIpgB,CAAMmZ,CAAAA,OAAV,EAAqB,IAAKA,CAAAA,OAA1B,CAAmC,CACjC,IAAI0oB,EAAW,CAAC7hC,CAAMhS,CAAAA,EAAP,CACfkpB,GAAA,CAAWlX,CAAX,CAAkB,QAAS,CAACpc,CAAD,CAAM,CAAE,MAAOi+C,EAAS9lD,CAAAA,IAAT,CAAc6H,CAAIoK,CAAAA,EAAlB,CAAT,CAAjC,CAAoE,CAAA,CAApE,CACAgS,EAAMmZ,CAAAA,OAAN,CAAgB,IAAItB,EAAJ,CAAY,IAAZ,CAChB7X,EAAMmZ,CAAAA,OAAQpB,CAAAA,IAAd,CAAqB+B,EAAA,CAAiB,IAAKX,CAAAA,OAAQpB,CAAAA,IAA9B,CAAoC8pB,CAApC,CACrB7hC,EAAMmZ,CAAAA,OAAQnB,CAAAA,MAAd,CAAuB8B,EAAA,CAAiB,IAAKX,CAAAA,OAAQnB,CAAAA,MAA9B,CAAsC6pB,CAAtC,CALU,CAXV,CA9VoB,CAiX\/CC,eAAgBA,QAAQ,CAACjoD,CAAD,CAAI,CAACq9B,EAAA,CAAW,IAAX,CAAiBr9B,CAAjB,CAAD,CAjXmB,CAmX\/C0I,QAASA,QAAQ,EAAG,CAAC,MAAO,KAAKN,CAAAA,IAAb,CAnX2B,CAoX\/C8\/C,UAAWA,QAAQ,EAAG,CAAC,MAAO,KAAK5hD,CAAAA,EAAb,CApXyB;AAsX\/Cs+B,WAAYA,QAAQ,CAAC5gC,CAAD,CAAM,CACxB,MAAI,KAAK20C,CAAAA,OAAT,CAA2B30C,CAAIlE,CAAAA,KAAJ,CAAU,IAAK64C,CAAAA,OAAf,CAA3B,CACOjD,EAAA,CAAe1xC,CAAf,CAFiB,CAtXqB,CA0X\/CujC,cAAeA,QAAQ,EAAG,CAAE,MAAO,KAAKoR,CAAAA,OAAZ,EAAuB,IAAzB,CA1XqB,CA4X\/CwP,aAAczyB,EAAA,CAAY,QAAS,CAACzxB,CAAD,CAAM,CAC5B,KAAX,EAAIA,CAAJ,GAAoBA,CAApB,CAA0B,KAA1B,CACIA,EAAJ,EAAW,IAAKsB,CAAAA,SAAhB,GACA,IAAKA,CAAAA,SAEL,CAFiBtB,CAEjB,CADA,IAAKyG,CAAAA,IAAL,CAAU,QAAS,CAACpF,CAAD,CAAO,CAAE,MAAOA,EAAKV,CAAAA,KAAZ,CAAoB,IAAtB,CAA1B,CACA,CAAI,IAAK0B,CAAAA,EAAT,EAAey3B,EAAA,CAAiB,IAAKz3B,CAAAA,EAAtB,CAHf,CAFuC,CAA3B,CA5XiC,CAAjC,CAsYhBksC,GAAIryC,CAAAA,SAAUioD,CAAAA,QAAd,CAAyB5V,EAAIryC,CAAAA,SAAUuK,CAAAA,IA8KvC,KA1KA,IAAIm8B,GAAW,CAAf,CAmIImM,GAAoB,CAAA,CAnIxB,CA8JIpJ,GAAW,CACb,EAAG,OADU,CACD,EAAG,WADF,CACe,EAAG,KADlB,CACyB,GAAI,OAD7B,CACsC,GAAI,OAD1C,CACmD,GAAI,MADvD,CAC+D,GAAI,KADnE,CAEb,GAAI,OAFS,CAEA,GAAI,UAFJ,CAEgB,GAAI,KAFpB,CAE2B,GAAI,OAF\/B,CAEwC,GAAI,QAF5C,CAEsD,GAAI,UAF1D,CAEsE,GAAI,KAF1E,CAGb,GAAI,MAHS;AAGD,GAAI,MAHH,CAGW,GAAI,IAHf,CAGqB,GAAI,OAHzB,CAGkC,GAAI,MAHtC,CAG8C,GAAI,WAHlD,CAG+D,GAAI,QAHnE,CAIb,GAAI,QAJS,CAIC,GAAI,GAJL,CAIU,GAAI,MAJd,CAImB,GAAI,KAJvB,CAI8B,GAAI,KAJlC,CAIyC,GAAI,KAJ7C,CAKb,IAAK,GALQ,CAKH,IAAK,MALF,CAKO,IAAK,GALZ,CAKiB,IAAK,GALtB,CAK2B,IAAK,GALhC,CAKqC,IAAK,YAL1C,CAMb,IAAK,GANQ,CAMH,IAAK,GANF,CAMO,IAAK,MANZ,CAMiB,IAAK,GANtB,CAM2B,IAAK,GANhC,CAMqC,IAAK,GAN1C,CAM+C,IAAK,GANpD,CAMyD,IAAK,GAN9D,CAMmE,IAAK,GANxE,CAM6E,IAAK,IANlF,CAOb,IAAK,GAPQ,CAOH,IAAK,GAPF,CAOO,IAAK,KAPZ,CAOmB,MAAO,IAP1B,CAOgC,MAAO,MAPvC,CAO+C,MAAO,MAPtD,CAO8D,MAAO,OAPrE,CAO8E,MAAO,QAPrF,CAQb,MAAO,MARM,CAQE,MAAO,KART,CAQgB,MAAO,QARvB,CAQiC,MAAO,UARxC,CAQoD,MAAO,QAR3D,CA9Jf,CA0KSlrC,GAAI,CAAb,CAAoB,EAApB,CAAgBA,EAAhB,CAAwBA,EAAA,EAAxB,CAA+BkrC,EAAA,CAASlrC,EAAT,CAAa,EAAb,CAAA,CAAmBkrC,EAAA,CAASlrC,EAAT,CAAa,EAAb,CAAnB,CAAsC8M,MAAA,CAAO9M,EAAP,CAErE,KAAK,IAAIyM,GAAM,EAAf,CAA0B,EAA1B,EAAmBA,EAAnB,CAA8BA,EAAA,EAA9B,CAAuCy+B,EAAA,CAASz+B,EAAT,CAAA;AAAgBK,MAAOkiC,CAAAA,YAAP,CAAoBviC,EAApB,CAEvD,KAAK,IAAIsH,GAAM,CAAf,CAAyB,EAAzB,EAAkBA,EAAlB,CAA6BA,EAAA,EAA7B,CAAsCm3B,EAAA,CAASn3B,EAAT,CAAe,GAAf,CAAA,CAAsBm3B,EAAA,CAASn3B,EAAT,CAAe,KAAf,CAAtB,CAA8C,GAA9C,CAAoDA,EAE1F,KAAI63B,GAAS,CAEb,MAAe,CACb,KAAQ,YADK,CACS,MAAS,aADlB,CACiC,GAAM,UADvC,CACmD,KAAQ,YAD3D,CAEb,IAAO,WAFM,CAEO,KAAQ,kBAFf,CAEmC,OAAU,UAF7C,CAEyD,SAAY,YAFrE,CAGb,OAAU,cAHG,CAGa,UAAa,eAH1B,CAG2C,kBAAmB,eAH9D,CAIb,IAAO,YAJM,CAIQ,YAAa,YAJrB,CAKb,MAAS,kBALI,CAKgB,OAAU,iBAL1B,CAMb,IAAO,iBANM,CAFF,CAab,UAAmB,CACjB,SAAU,WADO,CACM,SAAU,YADhB,CAC8B,SAAU,MADxC;AACgD,eAAgB,MADhE,CACwE,SAAU,MADlF,CAEjB,YAAa,YAFI,CAEU,WAAY,UAFtB,CAEkC,UAAW,UAF7C,CAEyD,YAAa,YAFtE,CAGjB,YAAa,aAHI,CAGW,aAAc,cAHzB,CAGyC,WAAY,aAHrD,CAGoE,YAAa,WAHjF,CAIjB,iBAAkB,gBAJD,CAImB,cAAe,eAJlC,CAImD,SAAU,MAJ7D,CAIqE,SAAU,MAJ\/E,CAKjB,SAAU,UALO,CAKK,eAAgB,UALrB,CAKiC,eAAgB,SALjD,CAK4D,eAAgB,YAL5E,CAMjB,SAAU,YANO,CAMO,SAAU,YANjB,CAOjB,SAAU,eAPO,CAOU,eAAgB,eAP1B;AAO2C,QAAS,eAPpD,CAQjB,YAAe,OARE,CAbN,CAwBb,OAAgB,CACd,SAAU,aADI,CACW,SAAU,YADrB,CACmC,SAAU,UAD7C,CACyD,SAAU,YADnE,CAEd,QAAS,aAFK,CAEU,QAAS,YAFnB,CAEiC,SAAU,aAF3C,CAE0D,SAAU,WAFpE,CAGd,SAAU,YAHI,CAGU,eAAgB,UAH1B,CAGsC,SAAU,cAHhD,CAGgE,SAAU,eAH1E,CAId,QAAS,cAJK,CAIW,gBAAiB,eAJ5B,CAI6C,SAAU,UAJvD,CAImE,SAAU,gBAJ7E,CAKd,SAAU,UALI,CAxBH,CA+Bb,WAAoB,CAClB,QAAS,WADS,CACI,QAAS,YADb,CAC2B,QAAS,MADpC;AAC4C,cAAe,MAD3D,CACmE,QAAS,MAD5E,CAElB,WAAY,YAFM,CAEQ,SAAU,YAFlB,CAEgC,UAAW,UAF3C,CAEuD,WAAY,UAFnE,CAE+E,WAAY,aAF3F,CAGlB,YAAa,cAHK,CAGW,WAAY,YAHvB,CAGqC,YAAa,aAHlD,CAGiE,gBAAiB,gBAHlF,CAIlB,qBAAsB,eAJJ,CAIqB,aAAc,eAJnC,CAIoD,QAAS,MAJ7D,CAIqE,QAAS,MAJ9E,CAKlB,QAAS,UALS,CAKG,cAAe,UALlB,CAK8B,YAAa,SAL3C,CAKsD,kBAAmB,YALzE,CAMlB,QAAS,YANS,CAMK,QAAS,YANd,CAM4B,gBAAiB,oBAN7C;AAMmE,aAAc,qBANjF,CAOlB,QAAS,eAPS,CAOQ,cAAe,eAPvB,CAOwC,UAAW,YAPnD,CAOiE,YAAa,UAP9E,CAQlB,YAAe,CAAC,OAAD,CAAU,QAAV,CARG,CA\/BP,CAyCbA,GAAA,CAAO,SAAP,CAAA,CAAoBtiC,EAAA,CAAMsiC,EAAO+d,CAAAA,UAAb,CAA0B\/d,EAAOge,CAAAA,SA6OrD,KAAIrc,GAAW,CACbtJ,UAAWA,EADE,CAEb4lB,gBAAiBA,QAAS,CAACjiD,CAAD,CAAK,CAAE,MAAOA,EAAGu6B,CAAAA,YAAH,CAAgBv6B,CAAG6pB,CAAAA,SAAH,CAAa,QAAb,CAAhB,CAAwC7pB,CAAG6pB,CAAAA,SAAH,CAAa,MAAb,CAAxC,CAA8DyS,EAA9D,CAAT,CAFlB,CAGb4lB,SAAUA,QAAS,CAACliD,CAAD,CAAK,CAAE,MAAOikC,GAAA,CAAoBjkC,CAApB,CAAwB,QAAS,CAAC2Q,CAAD,CAAQ,CACxE,GAAIA,CAAM8T,CAAAA,KAAN,EAAJ,CAAmB,CACjB,IAAIxV,EAAMzL,EAAA,CAAQxD,CAAGyD,CAAAA,GAAX,CAAgBkN,CAAMiU,CAAAA,IAAK5lB,CAAAA,IAA3B,CAAiCG,CAAAA,IAAK9H,CAAAA,MAChD,OAAIsZ,EAAMiU,CAAAA,IAAK9nB,CAAAA,EAAf,EAAqBmS,CAArB,EAA4B0B,CAAMiU,CAAAA,IAAK5lB,CAAAA,IAAvC,CAA8CgB,CAAG0O,CAAAA,QAAH,EAA9C,CACW,CAAC3Q,KAAM4S,CAAMiU,CAAAA,IAAb,CAAmB5mB,GAAIqH,EAAA,CAAIsL,CAAMiU,CAAAA,IAAK5lB,CAAAA,IAAf;AAAsB,CAAtB,CAAyB,CAAzB,CAAvB,CADX,CAGW,CAACjB,KAAM4S,CAAMiU,CAAAA,IAAb,CAAmB5mB,GAAIqH,EAAA,CAAIsL,CAAMiU,CAAAA,IAAK5lB,CAAAA,IAAf,CAAqBiQ,CAArB,CAAvB,CALM,CAOjB,MAAO,CAAClR,KAAM4S,CAAM5S,CAAAA,IAAN,EAAP,CAAqBC,GAAI2S,CAAM3S,CAAAA,EAAN,EAAzB,CAR+D,CAAzC,CAAT,CAHX,CAcbmkD,WAAYA,QAAS,CAACniD,CAAD,CAAK,CAAE,MAAOikC,GAAA,CAAoBjkC,CAApB,CAAwB,QAAS,CAAC2Q,CAAD,CAAQ,CAAE,MAAQ,CACpF5S,KAAMsH,EAAA,CAAIsL,CAAM5S,CAAAA,IAAN,EAAaiB,CAAAA,IAAjB,CAAuB,CAAvB,CAD8E,CAEpFhB,GAAI4H,EAAA,CAAQ5F,CAAGyD,CAAAA,GAAX,CAAgB4B,EAAA,CAAIsL,CAAM3S,CAAAA,EAAN,EAAWgB,CAAAA,IAAf,CAAsB,CAAtB,CAAyB,CAAzB,CAAhB,CAFgF,CAAV,CAAzC,CAAT,CAdb,CAkBbojD,YAAaA,QAAS,CAACpiD,CAAD,CAAK,CAAE,MAAOikC,GAAA,CAAoBjkC,CAApB,CAAwB,QAAS,CAAC2Q,CAAD,CAAQ,CAAE,MAAQ,CACrF5S,KAAMsH,EAAA,CAAIsL,CAAM5S,CAAAA,IAAN,EAAaiB,CAAAA,IAAjB,CAAuB,CAAvB,CAD+E,CACpDhB,GAAI2S,CAAM5S,CAAAA,IAAN,EADgD,CAAV,CAAzC,CAAT,CAlBd,CAqBbskD,mBAAoBA,QAAS,CAACriD,CAAD,CAAK,CAAE,MAAOikC,GAAA,CAAoBjkC,CAApB,CAAwB,QAAS,CAAC2Q,CAAD,CAAQ,CAClF,IAAImL,EAAM9b,CAAGsf,CAAAA,UAAH,CAAc3O,CAAMiU,CAAAA,IAApB,CAA0B,KAA1B,CAAiC9I,CAAAA,GAAvCA,CAA6C,CAEjD,OAAO,CAAC\/d,KADMiC,CAAGkgB,CAAAA,UAAH2pB,CAAc,CAAC\/4B,KAAM,CAAP,CAAUgL,IAAKA,CAAf,CAAd+tB,CAAmC,KAAnCA,CACP,CAAgB7rC,GAAI2S,CAAM5S,CAAAA,IAAN,EAApB,CAH2E,CAAzC,CAAT,CArBrB,CA0BbukD,oBAAqBA,QAAS,CAACtiD,CAAD,CAAK,CAAE,MAAOikC,GAAA,CAAoBjkC,CAApB,CAAwB,QAAS,CAAC2Q,CAAD,CAAQ,CACnF,IAAImL;AAAM9b,CAAGsf,CAAAA,UAAH,CAAc3O,CAAMiU,CAAAA,IAApB,CAA0B,KAA1B,CAAiC9I,CAAAA,GAAvCA,CAA6C,CAC7CymC,EAAAA,CAAWviD,CAAGkgB,CAAAA,UAAH,CAAc,CAACpP,KAAM9Q,CAAGgI,CAAAA,OAAQsgB,CAAAA,OAAQ9V,CAAAA,WAAzB1B,CAAuC,GAAxC,CAA6CgL,IAAKA,CAAlD,CAAd,CAAsE,KAAtE,CACf,OAAO,CAAC\/d,KAAM4S,CAAM5S,CAAAA,IAAN,EAAP,CAAqBC,GAAIukD,CAAzB,CAH4E,CAAzC,CAAT,CA1BtB,CA+BblD,KAAMA,QAAS,CAACr\/C,CAAD,CAAK,CAAE,MAAOA,EAAGq\/C,CAAAA,IAAH,EAAT,CA\/BP,CAgCbC,KAAMA,QAAS,CAACt\/C,CAAD,CAAK,CAAE,MAAOA,EAAGs\/C,CAAAA,IAAH,EAAT,CAhCP,CAiCbC,cAAeA,QAAS,CAACv\/C,CAAD,CAAK,CAAE,MAAOA,EAAGu\/C,CAAAA,aAAH,EAAT,CAjChB,CAkCbC,cAAeA,QAAS,CAACx\/C,CAAD,CAAK,CAAE,MAAOA,EAAGw\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\/D,IADA,IAAI+kD,EAAO\/kD,CAAG8hC,CAAAA,cAAH,EAAX,CACS1pC,EAAI2sD,CAAK1tD,CAAAA,MAATe,CAAkB,CAA3B,CAAmC,CAAnC,EAA8BA,CAA9B,CAAsCA,CAAA,EAAtC,CACI4H,CAAGm+B,CAAAA,YAAH,CAAgBn+B,CAAGyD,CAAAA,GAAIw9B,CAAAA,aAAP,EAAhB,CAAwC8jB,CAAA,CAAK3sD,CAAL,CAAQupB,CAAAA,MAAhD;AAAwDojC,CAAA,CAAK3sD,CAAL,CAAQwsB,CAAAA,IAAhE,CAAsE,QAAtE,CACJmgC,EAAA,CAAO\/kD,CAAG8hC,CAAAA,cAAH,EACP,KAASj9B,CAAT,CAAe,CAAf,CAAkBA,CAAlB,CAAwBkgD,CAAK1tD,CAAAA,MAA7B,CAAqCwN,CAAA,EAArC,CACI7E,CAAGmuC,CAAAA,UAAH,CAAc4W,CAAA,CAAKlgD,CAAL,CAAU9G,CAAAA,IAAV,EAAiBiB,CAAAA,IAA\/B,CAAqC,IAArC,CAA2C,CAAA,CAA3C,CACJ4qB,GAAA,CAAoB5pB,CAApB,CAP+D,CAAxB,CAAT,CA\/HnB,CAwIbglD,SAAUA,QAAS,CAAChlD,CAAD,CAAK,CAAE,MAAOA,EAAG+hC,CAAAA,gBAAH,CAAoB,IAApB,CAA0B,OAA1B,CAAT,CAxIX,CAyIbkjB,gBAAiBA,QAAS,CAACjlD,CAAD,CAAK,CAAE,MAAOA,EAAGilD,CAAAA,eAAH,EAAT,CAzIlB,CAAf,CAsMI\/e,GAAU,IAAIqG,EAtMlB,CAkQI3F,GAAiB,IAlQrB,CA+TIc,GAAYA,QAAQ,CAACrY,CAAD,CAAOh0B,CAAP,CAAYoG,CAAZ,CAAoB,CAC1C,IAAK4tB,CAAAA,IAAL,CAAYA,CACZ,KAAKh0B,CAAAA,GAAL,CAAWA,CACX,KAAKoG,CAAAA,MAAL,CAAcA,CAH4B,CAM5CimC,GAAU7tC,CAAAA,SAAU2tC,CAAAA,OAApB,CAA8B0d,QAAS,CAAC71B,CAAD,CAAOh0B,CAAP,CAAYoG,CAAZ,CAAoB,CACzD,MAAO,KAAK4tB,CAAAA,IAAZ,CATsB81B,GAStB,CAAuC91B,CAAvC,EACwB,CADxB,EACE\/pB,EAAA,CAAIjK,CAAJ,CAAS,IAAKA,CAAAA,GAAd,CADF,EAC6BoG,CAD7B,EACuC,IAAKA,CAAAA,MAFa,CAllOxC,KAulOfgmC,EAvlOe,CAulOJF,EAvlOI,CA69OfgE,GAAO,CAACv4B,SAAUA,QAAQ,EAAE,CAAC,MAAO,iBAAR,CAArB,CA79OQ,CA+9Ofi5B,GAAW,EA\/9OI,CAg+OfW,GAAiB,EAyPrB\/1C,GAAWo1C,CAAAA,QAAX,CAAsBA,EAEtBp1C,GAAW+1C,CAAAA,cAAX;AAA4BA,EAiH5B,KAAIE,GAAY,EAChBj2C,GAAWuuD,CAAAA,cAAX,CAA4BC,QAAS,CAAC3rD,CAAD,CAAI,CAAE,MAAOozC,GAAUlxC,CAAAA,IAAV,CAAelC,CAAf,CAAT,CAqEzC,KAAI41C,GAAa,IAAjB,CAmpBIgW,GAAuBA,QAAQ,CAACtlD,CAAD,CAAK,CACtC,IAAKA,CAAAA,EAAL,CAAUA,CACV,KAAKulD,CAAAA,cAAL,CAAsB,IAAKC,CAAAA,gBAA3B,CAA8C,IAAKC,CAAAA,aAAnD,CAAmE,IAAKC,CAAAA,eAAxE,CAA0F,IAC1F,KAAKC,CAAAA,OAAL,CAAe,IAAIpZ,EACnB,KAAKqZ,CAAAA,SAAL,CAAiB,IACjB,KAAKC,CAAAA,WAAL,CAAmB,CAAA,CACnB,KAAKC,CAAAA,cAAL,CAAsB,IANgB,CASxCR,GAAqBzrD,CAAAA,SAAU25B,CAAAA,IAA\/B,CAAsCuyB,QAAS,CAAC\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\/T,GAAK+T,CAAM\/T,CAAAA,EAF3B,CAGE6wC,GAAM98B,CAAM88B,CAAAA,GAAZA,CAAkB7oC,CAAQsgB,CAAAA,OAC9BgoB,GAAA,CAAoBO,EAApB,CAAyB7wC,EAAGqC,CAAAA,OAAQmuC,CAAAA,UAApC,CAAgDxwC,EAAGqC,CAAAA,OAAQouC,CAAAA,WAA3D,CAAwEzwC,EAAGqC,CAAAA,OAAQquC,CAAAA,cAAnF,CAUA5vC,GAAA,CAAG+vC,EAAH,CAAQ,OAAR,CAAiB,QAAS,CAAC35C,EAAD,CAAI,CACxB,CAAC8uD,CAAA,CAAe9uD,EAAf,CAAL,EAA0B6I,CAAA,CAAeC,EAAf,CAAmB9I,EAAnB,CAA1B,EAAmDy4C,EAAA,CAAYz4C,EAAZ,CAAe8I,EAAf,CAAnD,EAEkB,EAFlB,EAEI0S,EAFJ,EAEwB0C,UAAA,CAAW8Z,EAAA,CAAUlvB,EAAV,CAAc,QAAS,EAAG,CAAE,MAAOgsC,EAAOwa,CAAAA,aAAP,EAAT,CAA1B,CAAX,CAA0E,EAA1E,CAHI,CAA9B,CAMA1lD,GAAA,CAAG+vC,EAAH,CAAQ,kBAAR;AAA4B,QAAS,CAAC35C,EAAD,CAAI,CACvC80C,CAAO4Z,CAAAA,SAAP,CAAmB,CAAClsC,KAAMxiB,EAAEwiB,CAAAA,IAAT,CAAeke,KAAM,CAAA,CAArB,CADoB,CAAzC,CAGA92B,GAAA,CAAG+vC,EAAH,CAAQ,mBAAR,CAA6B,QAAS,CAAC35C,EAAD,CAAI,CACnC80C,CAAO4Z,CAAAA,SAAZ,GAAyB5Z,CAAO4Z,CAAAA,SAAhC,CAA4C,CAAClsC,KAAMxiB,EAAEwiB,CAAAA,IAAT,CAAeke,KAAM,CAAA,CAArB,CAA5C,CADwC,CAA1C,CAGA92B,GAAA,CAAG+vC,EAAH,CAAQ,gBAAR,CAA0B,QAAS,CAAC35C,EAAD,CAAI,CACjC80C,CAAO4Z,CAAAA,SAAX,GACM1uD,EAAEwiB,CAAAA,IACN,EADcsyB,CAAO4Z,CAAAA,SAAUlsC,CAAAA,IAC\/B,EADuCsyB,CAAOya,CAAAA,eAAP,EACvC,CAAAza,CAAO4Z,CAAAA,SAAUhuB,CAAAA,IAAjB,CAAwB,CAAA,CAF1B,CADqC,CAAvC,CAOA92B,GAAA,CAAG+vC,EAAH,CAAQ,YAAR,CAAsB,QAAS,EAAG,CAAE,MAAO98B,EAAM2yC,CAAAA,mBAAN,EAAT,CAAlC,CAEA5lD,GAAA,CAAG+vC,EAAH,CAAQ,OAAR,CAAiB,QAAS,EAAG,CACtB7E,CAAO4Z,CAAAA,SAAZ,EAAyB5Z,CAAOya,CAAAA,eAAP,EADE,CAA7B,CA2CA3lD,GAAA,CAAG+vC,EAAH,CAAQ,MAAR,CAAgBoV,CAAhB,CACAnlD,GAAA,CAAG+vC,EAAH,CAAQ,KAAR,CAAeoV,CAAf,CAhFuD,CAmFzDX,GAAqBzrD,CAAAA,SAAU8sD,CAAAA,wBAA\/B,CAA0DC,QAAS,CAACC,CAAD,CAAQ,CAEtEA,CAAH,CACE,IAAKhW,CAAAA,GAAIv4C,CAAAA,YAAT,CAAsB,YAAtB;AAAoCuuD,CAApC,CADF,CAGE,IAAKhW,CAAAA,GAAIiW,CAAAA,eAAT,CAAyB,YAAzB,CALuE,CAS3ExB,GAAqBzrD,CAAAA,SAAUmqB,CAAAA,gBAA\/B,CAAkD+iC,QAAS,EAAG,CAC5D,IAAIt\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\/Do0B,GAAqBzrD,CAAAA,SAAUiuD,CAAAA,iBAA\/B,CAAmDC,QAAS,EAAG,CAC7D,IAAIzjC,EAAM,IAAKuM,CAAAA,YAAL,EACV;GAAI,CAACvM,CAAIgjC,CAAAA,UAAT,CAAuB,MAAO,CAAA,CAC1BruD,EAAAA,CAAOqrB,CAAIijC,CAAAA,UAAJ,CAAe,CAAf,CAAkBS,CAAAA,uBAC7B,OAAOzvD,EAAA,CAAS,IAAKs4C,CAAAA,GAAd,CAAmB53C,CAAnB,CAJsD,CAO\/DqsD,GAAqBzrD,CAAAA,SAAU6tB,CAAAA,KAA\/B,CAAuCugC,QAAS,EAAG,CACjB,UAAhC,EAAI,IAAKjoD,CAAAA,EAAGqC,CAAAA,OAAQoK,CAAAA,QAApB,GACO,IAAKq7C,CAAAA,iBAAL,EAEL,EAFiC9vD,QAASa,CAAAA,aAE1C,EAF2D,IAAKg4C,CAAAA,GAEhE,EADI,IAAK9sB,CAAAA,aAAL,CAAmB,IAAKC,CAAAA,gBAAL,EAAnB,CAA4C,CAAA,CAA5C,CACJ,CAAA,IAAK6sB,CAAAA,GAAInpB,CAAAA,KAAT,EAHF,CADiD,CAOnD49B,GAAqBzrD,CAAAA,SAAUquD,CAAAA,IAA\/B,CAAsCC,QAAS,EAAG,CAAE,IAAKtX,CAAAA,GAAIqX,CAAAA,IAAT,EAAF,CAClD5C,GAAqBzrD,CAAAA,SAAU6sC,CAAAA,QAA\/B,CAA0C0hB,QAAS,EAAG,CAAE,MAAO,KAAKvX,CAAAA,GAAd,CAEtDyU,GAAqBzrD,CAAAA,SAAU+tC,CAAAA,aAA\/B,CAA+CygB,QAAS,EAAG,CAAE,MAAO,CAAA,CAAT,CAE3D\/C,GAAqBzrD,CAAAA,SAAUouB,CAAAA,aAA\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\/pD,CAAAA,IAA\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\/D9E,GAAqBzrD,CAAAA,SAAUqtC,CAAAA,UAA\/B,CAA4CmjB,QAAS,CAACnzD,CAAD,CAAI,CACrC,CAAlB,EAAIA,CAAEiwC,CAAAA,QAAN,EAAuB,IAAKye,CAAAA,SAA5B,GACA1uD,CAAEgJ,CAAAA,cAAF,EACA,CAAK,IAAKF,CAAAA,EAAG0gC,CAAAA,UAAR,EAAL,EACIxR,EAAA,CAAU,IAAKlvB,CAAAA,EAAf,CAAmB8uC,EAAnB,CAAA,CAAmC,IAAK9uC,CAAAA,EAAxC,CAA4CkF,MAAOkiC,CAAAA,YAAP,CAAkC,IAAd,EAAAlwC,CAAEiwC,CAAAA,QAAF,CAAqBjwC,CAAEqsC,CAAAA,OAAvB,CAAiCrsC,CAAEiwC,CAAAA,QAAvD,CAA5C,CAA8G,CAA9G,CAHJ,CADuD,CAOzDme,GAAqBzrD,CAAAA,SAAUywD,CAAAA,eAA\/B,CAAiDC,QAAS,CAACrnD,CAAD,CAAM,CAC9D,IAAK2tC,CAAAA,GAAIuZ,CAAAA,eAAT,CAA2BllD,MAAA,CAAc,UAAd,EAAOhC,CAAP,CADmC,CAIhEoiD,GAAqBzrD,CAAAA,SAAUsuC,CAAAA,aAA\/B,CAA+CqiB,QAAS,EAAG,EAC3DlF,GAAqBzrD,CAAAA,SAAU4wD,CAAAA,aAA\/B;AAA+CC,QAAS,EAAG,EAE3DpF,GAAqBzrD,CAAAA,SAAUma,CAAAA,qBAA\/B,CAAuD,CAAA,CA2JvD,KAAI22C,GAAgBA,QAAQ,CAAC3qD,CAAD,CAAK,CAC\/B,IAAKA,CAAAA,EAAL,CAAUA,CAEV,KAAK4qD,CAAAA,SAAL,CAAiB,EAKjB,KAAKC,CAAAA,WAAL,CAAmB,CAAA,CAEnB,KAAKlF,CAAAA,OAAL,CAAe,IAAIpZ,EAEnB,KAAK2K,CAAAA,YAAL,CAAoB,CAAA,CACpB,KAAK0O,CAAAA,SAAL,CAAiB,IAbc,CAgBjC+E,GAAc9wD,CAAAA,SAAU25B,CAAAA,IAAxB,CAA+Bs3B,QAAS,CAAC9iD,CAAD,CAAU,CAwBhD+iD,QAASA,EAAc,CAAC7zD,EAAD,CAAI,CACzB,GAAI,CAAA6I,CAAA,CAAeC,CAAf,CAAmB9I,EAAnB,CAAJ,CAAA,CACA,GAAI8I,CAAGg7B,CAAAA,iBAAH,EAAJ,CAjtCFsU,EAAA,CAktCkB4W,CAAC1W,SAAU,CAAA,CAAX0W,CAAkB\/mD,KAAMa,CAAG++C,CAAAA,aAAH,EAAxBmH,CADhB,KAEO,IAAKlmD,CAAGqC,CAAAA,OAAQ8jD,CAAAA,eAAhB,CAEA,CACL,IAAI5hC,GAAS4rB,EAAA,CAAenwC,CAAf,CAttCjBsvC,GAAA,CAutCkB4W,CAAC1W,SAAU,CAAA,CAAX0W,CAAiB\/mD,KAAMolB,EAAOplB,CAAAA,IAA9B+mD,CACA,MAAd,EAAIhvD,EAAEoI,CAAAA,IAAN,CACEU,CAAG6+C,CAAAA,aAAH,CAAiBt6B,EAAOA,CAAAA,MAAxB,CAAgC,IAAhC,CAAsC+X,EAAtC,CADF,EAGEvoB,CAAM62C,CAAAA,SAEN,CAFkB,EAElB,CADAha,EAAG10C,CAAAA,KACH,CADWqoB,EAAOplB,CAAAA,IAAK6hC,CAAAA,IAAZ,CAAiB,IAAjB,CACX,CAAA0T,EAAA,CAAY9D,EAAZ,CALF,CAHK,CAFA,IACL,OAYY,MAAd;AAAI15C,EAAEoI,CAAAA,IAAN,GAAuBU,CAAGgD,CAAAA,KAAMspC,CAAAA,WAAhC,CAA8C,CAAC,IAAI9c,IAAnD,CAhBA,CADyB,CAvBzB,IAAIwc,EAAS,IAAb,CAEEj4B,EAAQ,IAFV,CAEgB\/T,EAAK,IAAKA,CAAAA,EAC5B,KAAKgrD,CAAAA,WAAL,CAAiBhjD,CAAjB,CACA,KAAI4oC,GAAK,IAAKqa,CAAAA,QAEdjjD,EAAQ4Q,CAAAA,OAAQnC,CAAAA,YAAhB,CAA6B,IAAKmC,CAAAA,OAAlC,CAA2C5Q,CAAQ4Q,CAAAA,OAAQrhB,CAAAA,UAA3D,CAGIu5C,GAAJ,GAAWF,EAAG74C,CAAAA,KAAMmgB,CAAAA,KAApB,CAA4B,KAA5B,CAEApX,GAAA,CAAG8vC,EAAH,CAAO,OAAP,CAAgB,QAAS,EAAG,CACtBn+B,EAAJ,EAAwB,CAAxB,EAAUC,EAAV,EAA6Bs5B,CAAOkL,CAAAA,YAApC,GAAoDlL,CAAOkL,CAAAA,YAA3D,CAA0E,IAA1E,CACAnjC,EAAMw0C,CAAAA,IAAN,EAF0B,CAA5B,CAKAznD,GAAA,CAAG8vC,EAAH,CAAO,OAAP,CAAgB,QAAS,CAAC15C,EAAD,CAAI,CACvB6I,CAAA,CAAeC,CAAf,CAAmB9I,EAAnB,CAAJ,EAA6By4C,EAAA,CAAYz4C,EAAZ,CAAe8I,CAAf,CAA7B,GAEAA,CAAGgD,CAAAA,KAAMqpC,CAAAA,aACT,CADyB,CAAC,IAAI7c,IAC9B,CAAAzb,CAAMm3C,CAAAA,QAAN,EAHA,CAD2B,CAA7B,CA0BApqD,GAAA,CAAG8vC,EAAH,CAAO,KAAP,CAAcma,CAAd,CACAjqD,GAAA,CAAG8vC,EAAH,CAAO,MAAP,CAAema,CAAf,CAEAjqD,GAAA,CAAGkH,CAAQkS,CAAAA,QAAX,CAAqB,OAArB,CAA8B,QAAS,CAAChjB,EAAD,CAAI,CACzC,GAAI,CAAA4hB,EAAA,CAAc9Q,CAAd,CAAuB9Q,EAAvB,CAAJ,EAAiC,CAAA6I,CAAA,CAAeC,CAAf,CAAmB9I,EAAnB,CAAjC,CACA,GAAK05C,EAAGua,CAAAA,aAAR,CAAA,CAOA,IAAInxB,GAAQ,IAAIoxB,KAAJ,CAAU,OAAV,CACZpxB;EAAM6V,CAAAA,aAAN,CAAsB34C,EAAE24C,CAAAA,aACxBe,GAAGua,CAAAA,aAAH,CAAiBnxB,EAAjB,CATA,CAAA,IACEh6B,EAAGgD,CAAAA,KAAMqpC,CAAAA,aACT,CADyB,CAAC,IAAI7c,IAC9B,CAAAzb,CAAM2T,CAAAA,KAAN,EAJuC,CAA3C,CAeA5mB,GAAA,CAAGkH,CAAQoR,CAAAA,SAAX,CAAsB,aAAtB,CAAqC,QAAS,CAACliB,EAAD,CAAI,CAC3C4hB,EAAA,CAAc9Q,CAAd,CAAuB9Q,EAAvB,CAAL,EAAkC+J,EAAA,CAAiB\/J,EAAjB,CADc,CAAlD,CAIA4J,GAAA,CAAG8vC,EAAH,CAAO,kBAAP,CAA2B,QAAS,EAAG,CACrC,IAAIzsC,GAAQnE,CAAG6pB,CAAAA,SAAH,CAAa,MAAb,CACR9V,EAAM6xC,CAAAA,SAAV,EAAuB7xC,CAAM6xC,CAAAA,SAAUj1C,CAAAA,KAAMyb,CAAAA,KAAtB,EACvBrY,EAAM6xC,CAAAA,SAAN,CAAkB,CAChBzhD,MAAOA,EADS,CAEhBwM,MAAO3Q,CAAGq\/B,CAAAA,QAAH,CAAYl7B,EAAZ,CAAmBnE,CAAG6pB,CAAAA,SAAH,CAAa,IAAb,CAAnB,CAAuC,CAAC\/xB,UAAW,sBAAZ,CAAvC,CAFS,CAHmB,CAAvC,CAQAgJ,GAAA,CAAG8vC,EAAH,CAAO,gBAAP,CAAyB,QAAS,EAAG,CAC\/B78B,CAAM6xC,CAAAA,SAAV,GACE7xC,CAAMw0C,CAAAA,IAAN,EAEA,CADAx0C,CAAM6xC,CAAAA,SAAUj1C,CAAAA,KAAMyb,CAAAA,KAAtB,EACA,CAAArY,CAAM6xC,CAAAA,SAAN,CAAkB,IAHpB,CADmC,CAArC,CAzEgD,CAkFlD+E,GAAc9wD,CAAAA,SAAUmxD,CAAAA,WAAxB,CAAsCK,QAAS,CAACC,CAAD,CAAW,CAExD,IAAK1yC,CAAAA,OAAL;AAAe+3B,EAAA,EAGf,KAAKsa,CAAAA,QAAL,CAAgB,IAAKryC,CAAAA,OAAQrhB,CAAAA,UAL2B,CAQ1DozD,GAAc9wD,CAAAA,SAAU8sD,CAAAA,wBAAxB,CAAmD4E,QAAS,CAAC1E,CAAD,CAAQ,CAE\/DA,CAAH,CACE,IAAKoE,CAAAA,QAAS3yD,CAAAA,YAAd,CAA2B,YAA3B,CAAyCuuD,CAAzC,CADF,CAGE,IAAKoE,CAAAA,QAASnE,CAAAA,eAAd,CAA8B,YAA9B,CALgE,CASpE6D,GAAc9wD,CAAAA,SAAUmqB,CAAAA,gBAAxB,CAA2CwnC,QAAS,EAAG,CAAA,IAEjDxrD,EAAK,IAAKA,CAAAA,EAFuC,CAEnCgI,EAAUhI,CAAGgI,CAAAA,OAFsB,CAEbvE,EAAMzD,CAAGyD,CAAAA,GAFI,CAGjDgE,EAASuc,EAAA,CAAiBhkB,CAAjB,CAGb,IAAIA,CAAGqC,CAAAA,OAAQopD,CAAAA,mBAAf,CAAoC,CAC9BC,CAAAA,CAAUnsC,EAAA,CAAavf,CAAb,CAAiByD,CAAI6gB,CAAAA,GAAIL,CAAAA,OAAR,EAAkBW,CAAAA,IAAnC,CAAyC,KAAzC,CACV+mC,EAAAA,CAAU3jD,CAAQ4Q,CAAAA,OAAQhI,CAAAA,qBAAhB,EAAd,KAAuDg7C,EAAU5jD,CAAQsgB,CAAAA,OAAQ1X,CAAAA,qBAAhB,EACjEnJ,EAAOokD,CAAAA,KAAP,CAAerwD,IAAKiD,CAAAA,GAAL,CAAS,CAAT,CAAYjD,IAAKC,CAAAA,GAAL,CAASuM,CAAQ4Q,CAAAA,OAAQyB,CAAAA,YAAzB,CAAwC,EAAxC,CACSqxC,CAAQ5vC,CAAAA,GADjB,CACuB8vC,CAAQ9vC,CAAAA,GAD\/B,CACqC6vC,CAAQ7vC,CAAAA,GAD7C,CAAZ,CAEfrU,EAAOqkD,CAAAA,MAAP,CAAgBtwD,IAAKiD,CAAAA,GAAL,CAAS,CAAT;AAAYjD,IAAKC,CAAAA,GAAL,CAASuM,CAAQ4Q,CAAAA,OAAQC,CAAAA,WAAzB,CAAuC,EAAvC,CACS6yC,CAAQ56C,CAAAA,IADjB,CACwB86C,CAAQ96C,CAAAA,IADhC,CACuC66C,CAAQ76C,CAAAA,IAD\/C,CAAZ,CALkB,CASpC,MAAOrJ,EAf8C,CAkBvDkjD,GAAc9wD,CAAAA,SAAUkqB,CAAAA,aAAxB,CAAwCgoC,QAAS,CAACC,CAAD,CAAQ,CACvD,IAAkBhkD,EAAT,IAAKhI,CAAAA,EAAiBgI,CAAAA,OAC\/BxQ,EAAA,CAAqBwQ,CAAQmf,CAAAA,SAA7B,CAAwC6kC,CAAM7nC,CAAAA,OAA9C,CACA3sB,EAAA,CAAqBwQ,CAAQ2pB,CAAAA,YAA7B,CAA2Cq6B,CAAM3nC,CAAAA,SAAjD,CACmB,KAAnB,EAAI2nC,CAAMH,CAAAA,KAAV,GACE,IAAKjzC,CAAAA,OAAQ7gB,CAAAA,KAAM+jB,CAAAA,GACnB,CADyBkwC,CAAMH,CAAAA,KAC\/B,CADuC,IACvC,CAAA,IAAKjzC,CAAAA,OAAQ7gB,CAAAA,KAAM+Y,CAAAA,IAAnB,CAA0Bk7C,CAAMF,CAAAA,MAAhC,CAAyC,IAF3C,CAJuD,CAYzDnB,GAAc9wD,CAAAA,SAAUmuB,CAAAA,KAAxB,CAAgCikC,QAAS,CAACv\/B,CAAD,CAAS,CAChD,GAASw\/B,CAAL,IAAKA,CAAAA,kBAAT,EAAoCtG,CAAL,IAAKA,CAAAA,SAApC,CAAA,CACA,IAAI5lD,EAAK,IAAKA,CAAAA,EACVA,EAAGg7B,CAAAA,iBAAH,EAAJ,EACE,IAAK4vB,CAAAA,SAIL,CAJiB,EAIjB,CAHI\/yD,CAGJ,CAHcmI,CAAG6wB,CAAAA,YAAH,EAGd,CAFA,IAAKo6B,CAAAA,QAAS\/uD,CAAAA,KAEd,CAFsBrE,CAEtB,CADImI,CAAGgD,CAAAA,KAAMgkB,CAAAA,OACb,EADwB0tB,EAAA,CAAY,IAAKuW,CAAAA,QAAjB,CACxB,CAAIx4C,EAAJ,EAAwB,CAAxB,EAAUC,EAAV,GAA6B,IAAKwkC,CAAAA,YAAlC;AAAiDr\/C,CAAjD,CALF,EAMY60B,CANZ,GAOE,IAAKk+B,CAAAA,SACL,CADiB,IAAKK,CAAAA,QAAS\/uD,CAAAA,KAC\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\/Cx0C,EAAQ,IADuC,CACjC\/T,EAAK+T,CAAM\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\/1C,CAAW+1C,CAAAA,cAQhC\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\/CA+3D,UAAyB,CAAC\/3D,CAAD,CAAa,CACpC,IAAI+1C,EAAiB\/1C,CAAW+1C,CAAAA,cAAhC,CAEIiiB,EAAUh4D,CAAWg4D,CAAAA,OAArBA,CAA+B,EAEnCh4D,EAAWgD,CAAAA,SAAX,CAAuB,CACrBukD,YAAavnD,CADQ,CAErB6wB,MAAOA,QAAQ,EAAE,CAACnO,MAAOmO,CAAAA,KAAP,EAAgB,KAAK1f,CAAAA,OAAQ+L,CAAAA,KAAM2T,CAAAA,KAAnB,EAAjB,CAFI,CAIrBonC,UAAWA,QAAQ,CAAC1mB,CAAD,CAASlsC,CAAT,CAAgB,CAAA,IAC7BmG,GAAU,IAAKA,CAAAA,OADc,CACLwzB,GAAMxzB,EAAA,CAAQ+lC,CAAR,CAClC,IAAI\/lC,EAAA,CAAQ+lC,CAAR,CAAJ,EAAuBlsC,CAAvB,EAA0C,MAA1C,EAAgCksC,CAAhC,CACA\/lC,EAAA,CAAQ+lC,CAAR,CAGA;AAHkBlsC,CAGlB,CAFI0wC,CAAeryC,CAAAA,cAAf,CAA8B6tC,CAA9B,CAEJ,EADIlZ,EAAA,CAAU,IAAV,CAAgB0d,CAAA,CAAexE,CAAf,CAAhB,CAAA,CAAwC,IAAxC,CAA8ClsC,CAA9C,CAAqD25B,EAArD,CACJ,CAAAj2B,EAAA,CAAO,IAAP,CAAa,cAAb,CAA6B,IAA7B,CAAmCwoC,CAAnC,CANiC,CAJd,CAarBj4B,UAAWA,QAAQ,CAACi4B,CAAD,CAAS,CAAC,MAAO,KAAK\/lC,CAAAA,OAAL,CAAa+lC,CAAb,CAAR,CAbP,CAcrB2mB,OAAQA,QAAQ,EAAG,CAAC,MAAO,KAAKtrD,CAAAA,GAAb,CAdE,CAgBrBurD,UAAWA,QAAQ,CAACjzD,CAAD,CAAM8f,CAAN,CAAc,CAC\/B,IAAK7Y,CAAAA,KAAMojC,CAAAA,OAAX,CAAmBvqB,CAAA,CAAS,MAAT,CAAkB,SAArC,CAAA,CAAgDsnB,EAAA,CAAUpnC,CAAV,CAAhD,CAD+B,CAhBZ,CAmBrBkzD,aAAcA,QAAQ,CAAClzD,CAAD,CAAM,CAE1B,IADA,IAAI4W,EAAO,IAAK3P,CAAAA,KAAMojC,CAAAA,OAAtB,CACShuC,GAAI,CAAb,CAAgBA,EAAhB,CAAoBua,CAAKtb,CAAAA,MAAzB,CAAiC,EAAEe,EAAnC,CACI,GAAIua,CAAA,CAAKva,EAAL,CAAJ,EAAe2D,CAAf,EAAsB4W,CAAA,CAAKva,EAAL,CAAQyJ,CAAAA,IAA9B,EAAsC9F,CAAtC,CAEA,MADA4W,EAAKtW,CAAAA,MAAL,CAAYjE,EAAZ,CAAe,CAAf,CACO,CAAA,CAAA,CALe,CAnBP,CA4BrB82D,WAAY\/\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\/C,EADJ,CACWo\/C,EADX,CACoBj3D,CAAKuZ,CAAAA,WADzB,CAR4C,CAW9CvZ,CAAKlB,CAAAA,KAAM+jB,CAAAA,GAAX,CAAiBA,EAAjB,CAAuB,IACvB7iB,EAAKlB,CAAAA,KAAM+Y,CAAAA,IAAX,CAAkB7X,CAAKlB,CAAAA,KAAMgZ,CAAAA,KAA7B,CAAqC,EACxB,QAAb,EAAIqpC,EAAJ,EACEtpC,EACA,CADO9I,EAAQiR,CAAAA,KAAMJ,CAAAA,WACrB,CADmC5f,CAAKuZ,CAAAA,WACxC,CAAAvZ,CAAKlB,CAAAA,KAAMgZ,CAAAA,KAAX,CAAmB,KAFrB,GAIe,MAAb,EAAIqpC,EAAJ,CAAuBtpC,EAAvB,CAA8B,CAA9B,CACkB,QADlB,EACSspC,EADT,GAC8BtpC,EAD9B,EACsC9I,EAAQiR,CAAAA,KAAMJ,CAAAA,WADpD,CACkE5f,CAAKuZ,CAAAA,WADvE,EACsF,CADtF,CAEA,CAAAvZ,CAAKlB,CAAAA,KAAM+Y,CAAAA,IAAX,CAAkBA,EAAlB,CAAyB,IAN3B,CAQIwjB,GAAJ,GAx3JAjG,CAEJ,CAFgBtF,EAAA,CAy3JO\/oB,IAz3JP,CAy3Ja+a,CAACjK,KAAMA,EAAPiK,CAAae,IAAKA,EAAlBf,CAAuBhK,MAAOD,EAAPC,CAAc9X,CAAKuZ,CAAAA,WAA1CuI,CAAuDc,OAAQC,EAARD,CAAc5iB,CAAKsZ,CAAAA,YAA1EwI,CAz3Jb,CAEhB,CAD2B,IAC3B,EADIsT,CAAU5P,CAAAA,SACd,EADmC2L,EAAA,CAw3JZpqB,IAx3JY,CAAoBquB,CAAU5P,CAAAA,SAA9B,CACnC,CAA4B,IAA5B,EAAI4P,CAAUjQ,CAAAA,UAAd,EAAoCwM,EAAA,CAu3Jb5qB,IAv3Ja,CAAkBquB,CAAUjQ,CAAAA,UAA5B,CAs3JhC,CA\/BkD,CAzL\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\/tD,CAA1B,CAA+B0qC,CAA\/B,CACE,OAAZ,EAAIA,CAAJ,EAAsB13B,EAAtB,EAA+BlN,EAAI6gB,CAAAA,GAAIL,CAAAA,OAAR,EAA\/B,EACIyF,EAAA,CAAesiB,EAAf,CAAuB1sB,EAAA,CAAW0sB,EAAX,CAAmB3wC,EAAnB,CAAwB,KAAxB,CAA+BygB,CAAAA,GAAtD,CAA4D4vC,EAAQ5vC,CAAAA,GAApE,CACJ,OAAOzgB,GAT+B,CAAxC,CAUG+5C,EAVH,CAWA,IAAIqb,EAAMp5D,CAAAA,MAAV,CAAoB,IAAK,IAAIe,GAAI,CAAb,CAAgBA,EAAhB,CAAoBqL,EAAI6gB,CAAAA,GAAIC,CAAAA,MAAOltB,CAAAA,MAAnC,CAA2Ce,EAAA,EAA3C,CAChBqL,EAAI6gB,CAAAA,GAAIC,CAAAA,MAAR,CAAensB,EAAf,CAAkBo4D,CAAAA,UAAlB,CAA+BC,EAAA,CAAMr4D,EAAN,CAjBD,CAA7B,CAvRc,CA4SrBoxC,WAAYA,QAAQ,CAACnuC,CAAD,CAAM,CACxB,IAAoB2D,EAAOwE,EAAA,CAAjB,IAAKC,CAAAA,GAAY,CAAapI,CAAI2D,CAAAA,IAAjB,CAAuBG,CAAAA,IAAlD,CACIgF,GAAQ9I,CAAIyB,CAAAA,EADhB,CACoBpC,GAAMW,CAAIyB,CAAAA,EAC9B,IAAIkC,CAAJ,CAAU,CACR,IAAI7B,GAAS,IAAKo0C,CAAAA,SAAL,CAAel2C,CAAf,CAAoB,WAApB,CACM,SAAnB,EAAKA,CAAIuD,CAAAA,MAAT,EAA+BlE,EAA\/B,EAAsCsE,CAAK3H,CAAAA,MAA3C,EAAsD8M,CAAAA,EAAtD,CAAiF,EAAEzJ,EAAnF,CAA+D,EAAEyJ,EACjE,KAAIusD,GAAY1xD,CAAKpB,CAAAA,MAAL,CAAYuG,EAAZ,CAKhB,KAJIwsD,EAIJ,CAJYzzD,EAAA,CAAWwzD,EAAX,CAAsBvzD,EAAtB,CAAA;AACR,QAAS,CAACL,EAAD,CAAK,CAAE,MAAOI,GAAA,CAAWJ,EAAX,CAAeK,EAAf,CAAT,CADN,CAER,IAAKhE,CAAAA,IAAL,CAAUu3D,EAAV,CAAA,CAAuB,QAAS,CAAC5zD,EAAD,CAAK,CAAE,MAAO,IAAK3D,CAAAA,IAAL,CAAU2D,EAAV,CAAT,CAArC,CACA,QAAS,CAACA,EAAD,CAAK,CAAE,MAAQ,CAAC,IAAK3D,CAAAA,IAAL,CAAU2D,EAAV,CAAT,EAA0B,CAACI,EAAA,CAAWJ,EAAX,CAA7B,CAClB,CAAe,CAAf,CAAOqH,EAAP,EAAoBwsD,EAAA,CAAM3xD,CAAKpB,CAAAA,MAAL,CAAYuG,EAAZ,CAAoB,CAApB,CAAN,CAApB,CAAA,CAAqD,EAAEA,EACvD,KAAA,CAAOzJ,EAAP,CAAasE,CAAK3H,CAAAA,MAAlB,EAA4Bs5D,EAAA,CAAM3xD,CAAKpB,CAAAA,MAAL,CAAYlD,EAAZ,CAAN,CAA5B,CAAA,CAAuD,EAAEA,EATjD,CAWV,MAAO,KAAI46B,EAAJ,CAAUjwB,EAAA,CAAIhK,CAAI2D,CAAAA,IAAR,CAAcmF,EAAd,CAAV,CAAgCkB,EAAA,CAAIhK,CAAI2D,CAAAA,IAAR,CAActE,EAAd,CAAhC,CAdiB,CA5SL,CA6TrBuqD,gBAAiBA,QAAQ,CAAC\/oD,CAAD,CAAQ,CAC\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\/X,GAAA,CAAW\/J,CAAX,CAEAA,EAAWw6D,CAAAA,cAAX,CAA4BC,QAAQ,CAAChyD,CAAD,CAAOuC,CAAP,CAAa3F,EAAb,CAAoB,CACjD2yD,CAAQt0D,CAAAA,cAAR,CAAuB+E,CAAvB,CAAL,GAAqCuvD,CAAA,CAAQvvD,CAAR,CAArC,CAAqDzI,CAAA,CAAWyI,CAAX,CAArD,CAAwE,CAACqwD,QAAS,EAAV,CAAxE,CACAd,EAAA,CAAQvvD,CAAR,CAAA,CAAcuC,CAAd,CAAA,CAAsB3F,EAFgC,CAIxDrF,EAAW06D,CAAAA,oBAAX,CAAkCC,QAAQ,CAAClyD,CAAD,CAAOuC,CAAP,CAAa4vD,EAAb,CAAwBv1D,EAAxB,CAA+B,CACvErF,CAAWw6D,CAAAA,cAAX,CAA0B\/xD,CAA1B,CAAgCuC,CAAhC,CAAsC3F,EAAtC,CACA2yD,EAAA,CAAQvvD,CAAR,CAAcqwD,CAAAA,OAAQ\/zD,CAAAA,IAAtB,CAA2B,CAACkC,KAAM2zD,EAAP,CAAkBvuD,IAAKhH,EAAvB,CAA3B,CAFuE,CAzarC,CAAtC0yD,CA6\/CA,CAAiB\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\/I,EAAWw\/B,CAAAA,IAAX,CAAkBA,EAClBx\/B,EAAW4+B,CAAAA,SAAX,CAAuBA,EACvB5+B,EAAWw1B,CAAAA,cAAX,CAA4BA,EAC5Bx1B,EAAWwO,CAAAA,GAAX,CAAiBA,EACjBxO,EAAWs8D,CAAAA,MAAX,CAAoB7tD,EACpBzO,EAAWmL,CAAAA,KAAX,CAAmBA,EACnBnL,EAAWsL,CAAAA,SAAX,CAAuBA,EACvBtL,EAAWoL,CAAAA,WAAX,CAAyBA,EACzBpL,EAAWuL,CAAAA,OAAX,CAAqBA,EACrBvL,EAAW2L,CAAAA,cAAX,CAA4BA,EAC5B3L,EAAWgM,CAAAA,UAAX,CAAwBA,EACxBhM,EAAWkM,CAAAA,SAAX,CAAuBA,EACvBlM,EAAWwM,CAAAA,UAAX,CAAwBA,EACxBxM,EAAWsM,CAAAA,SAAX,CAAuBA,EACvBtM,EAAW8uC,CAAAA,QAAX,CAAsBA,EACtB9uC,EAAWmtC,CAAAA,MAAX,CAAoBA,EACpBntC,EAAWitC,CAAAA,OAAX,CAAqBA,EACrBjtC,EAAWwsC,CAAAA,aAAX,CAA2BA,EAC3BxsC,EAAWqsC,CAAAA,SAAX,CAAuBA,EACvBrsC,EAAWisC,CAAAA,eAAX,CAA6BA,EAC7BjsC,EAAW8R,CAAAA,YAAX,CAA0BA,EAC1B9R,EAAWmpC,CAAAA,gBAAX,CAA8BA,EAC9BnpC,EAAW0oC,CAAAA,UAAX,CAAwBA,EACxB1oC,EAAWqoC,CAAAA,UAAX,CAAwBA,EACxBroC,EAAWoK,CAAAA,gBAAX,CAA8BA,EAC9BpK,EAAWsK,CAAAA,iBAAX,CAA+BA,EAC\/BtK,EAAWyK,CAAAA,MAAX,CAAoBA,EACpBzK,EAAWmC,CAAAA,QAAX,CAAsBA,CACtBnC,EAAW0B,CAAAA,QAAX,CAAsBA,CACtB1B,EAAWqxB,CAAAA,OAAX;AAAqBA,EACrBrxB,EAAWysC,CAAAA,QAAX,CAAsBA,EAzCY,CAApC4vB,CAqFA,CAAer8D,EAAf,CAEAA,GAAWu8D,CAAAA,OAAX,CAAqB,QAErB,OAAOv8D,GAxjTY,CAJpB,CAV6D;","sources":["node_modules\/codemirror\/lib\/codemirror.js"],"sourcesContent":["shadow$provide[254] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n\/\/ This is CodeMirror (https:\/\/codemirror.net), a code editor\n\/\/ implemented in JavaScript on top of the browser's DOM.\n\/\/\n\/\/ You can find some technical background for some of the code below\n\/\/ at http:\/\/marijnhaverbeke.nl\/blog\/#cm-internals .\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.CodeMirror = factory());\n}(this, (function () { 'use strict';\n\n  \/\/ Kludges for bugs and behavior differences that can't be feature\n  \/\/ detected are enabled based on userAgent etc sniffing.\n  var userAgent = navigator.userAgent;\n  var platform = navigator.platform;\n\n  var gecko = \/gecko\\\/\\d\/i.test(userAgent);\n  var ie_upto10 = \/MSIE \\d\/.test(userAgent);\n  var ie_11up = \/Trident\\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)\/.exec(userAgent);\n  var edge = \/Edge\\\/(\\d+)\/.exec(userAgent);\n  var ie = ie_upto10 || ie_11up || edge;\n  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1]);\n  var webkit = !edge && \/WebKit\\\/\/.test(userAgent);\n  var qtwebkit = webkit && \/Qt\\\/\\d+\\.\\d+\/.test(userAgent);\n  var chrome = !edge && \/Chrome\\\/\/.test(userAgent);\n  var presto = \/Opera\\\/\/.test(userAgent);\n  var safari = \/Apple Computer\/.test(navigator.vendor);\n  var mac_geMountainLion = \/Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D\/.test(userAgent);\n  var phantom = \/PhantomJS\/.test(userAgent);\n\n  var ios = safari && (\/Mobile\\\/\\w+\/.test(userAgent) || navigator.maxTouchPoints > 2);\n  var android = \/Android\/.test(userAgent);\n  \/\/ This is woefully incomplete. Suggestions for alternative methods welcome.\n  var mobile = ios || android || \/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile\/i.test(userAgent);\n  var mac = ios || \/Mac\/.test(platform);\n  var chromeOS = \/\\bCrOS\\b\/.test(userAgent);\n  var windows = \/win\/i.test(platform);\n\n  var presto_version = presto && userAgent.match(\/Version\\\/(\\d*\\.\\d*)\/);\n  if (presto_version) { presto_version = Number(presto_version[1]); }\n  if (presto_version && presto_version >= 15) { presto = false; webkit = true; }\n  \/\/ Some browsers use the wrong event properties to signal cmd\/ctrl on OS X\n  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\n  var captureRightClick = gecko || (ie && ie_version >= 9);\n\n  function classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\n\n  var rmClass = function(node, cls) {\n    var current = node.className;\n    var match = classTest(cls).exec(current);\n    if (match) {\n      var after = current.slice(match.index + match[0].length);\n      node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n    }\n  };\n\n  function removeChildren(e) {\n    for (var count = e.childNodes.length; count > 0; --count)\n      { e.removeChild(e.firstChild); }\n    return e\n  }\n\n  function removeChildrenAndAdd(parent, e) {\n    return removeChildren(parent).appendChild(e)\n  }\n\n  function elt(tag, content, className, style) {\n    var e = document.createElement(tag);\n    if (className) { e.className = className; }\n    if (style) { e.style.cssText = style; }\n    if (typeof content == \"string\") { e.appendChild(document.createTextNode(content)); }\n    else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]); } }\n    return e\n  }\n  \/\/ wrapper for elt, which removes the elt from the accessibility tree\n  function eltP(tag, content, className, style) {\n    var e = elt(tag, content, className, style);\n    e.setAttribute(\"role\", \"presentation\");\n    return e\n  }\n\n  var range;\n  if (document.createRange) { range = function(node, start, end, endNode) {\n    var r = document.createRange();\n    r.setEnd(endNode || node, end);\n    r.setStart(node, start);\n    return r\n  }; }\n  else { range = function(node, start, end) {\n    var r = document.body.createTextRange();\n    try { r.moveToElementText(node.parentNode); }\n    catch(e) { return r }\n    r.collapse(true);\n    r.moveEnd(\"character\", end);\n    r.moveStart(\"character\", start);\n    return r\n  }; }\n\n  function contains(parent, child) {\n    if (child.nodeType == 3) \/\/ Android browser always returns false when child is a textnode\n      { child = child.parentNode; }\n    if (parent.contains)\n      { return parent.contains(child) }\n    do {\n      if (child.nodeType == 11) { child = child.host; }\n      if (child == parent) { return true }\n    } while (child = child.parentNode)\n  }\n\n  function activeElt() {\n    \/\/ IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\n    \/\/ IE < 10 will throw when accessed while the page is loading or in an iframe.\n    \/\/ IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\n    var activeElement;\n    try {\n      activeElement = document.activeElement;\n    } catch(e) {\n      activeElement = document.body || null;\n    }\n    while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement)\n      { activeElement = activeElement.shadowRoot.activeElement; }\n    return activeElement\n  }\n\n  function addClass(node, cls) {\n    var current = node.className;\n    if (!classTest(cls).test(current)) { node.className += (current ? \" \" : \"\") + cls; }\n  }\n  function joinClasses(a, b) {\n    var as = a.split(\" \");\n    for (var i = 0; i < as.length; i++)\n      { if (as[i] && !classTest(as[i]).test(b)) { b += \" \" + as[i]; } }\n    return b\n  }\n\n  var selectInput = function(node) { node.select(); };\n  if (ios) \/\/ Mobile Safari apparently has a bug where select() is broken.\n    { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length; }; }\n  else if (ie) \/\/ Suppress mysterious IE10 errors\n    { selectInput = function(node) { try { node.select(); } catch(_e) {} }; }\n\n  function bind(f) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return function(){return f.apply(null, args)}\n  }\n\n  function copyObj(obj, target, overwrite) {\n    if (!target) { target = {}; }\n    for (var prop in obj)\n      { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\n        { target[prop] = obj[prop]; } }\n    return target\n  }\n\n  \/\/ Counts the column offset in a string, taking tabs into account.\n  \/\/ Used mostly to find indentation.\n  function countColumn(string, end, tabSize, startIndex, startValue) {\n    if (end == null) {\n      end = string.search(\/[^\\s\\u00a0]\/);\n      if (end == -1) { end = string.length; }\n    }\n    for (var i = startIndex || 0, n = startValue || 0;;) {\n      var nextTab = string.indexOf(\"\\t\", i);\n      if (nextTab < 0 || nextTab >= end)\n        { return n + (end - i) }\n      n += nextTab - i;\n      n += tabSize - (n % tabSize);\n      i = nextTab + 1;\n    }\n  }\n\n  var Delayed = function() {\n    this.id = null;\n    this.f = null;\n    this.time = 0;\n    this.handler = bind(this.onTimeout, this);\n  };\n  Delayed.prototype.onTimeout = function (self) {\n    self.id = 0;\n    if (self.time <= +new Date) {\n      self.f();\n    } else {\n      setTimeout(self.handler, self.time - +new Date);\n    }\n  };\n  Delayed.prototype.set = function (ms, f) {\n    this.f = f;\n    var time = +new Date + ms;\n    if (!this.id || time < this.time) {\n      clearTimeout(this.id);\n      this.id = setTimeout(this.handler, ms);\n      this.time = time;\n    }\n  };\n\n  function indexOf(array, elt) {\n    for (var i = 0; i < array.length; ++i)\n      { if (array[i] == elt) { return i } }\n    return -1\n  }\n\n  \/\/ Number of pixels added to scroller and sizer to hide scrollbar\n  var scrollerGap = 50;\n\n  \/\/ Returned or thrown by various protocols to signal 'I'm not\n  \/\/ handling this'.\n  var Pass = {toString: function(){return \"CodeMirror.Pass\"}};\n\n  \/\/ Reused option objects for setSelection & friends\n  var sel_dontScroll = {scroll: false}, sel_mouse = {origin: \"*mouse\"}, sel_move = {origin: \"+move\"};\n\n  \/\/ The inverse of countColumn -- find the offset that corresponds to\n  \/\/ a particular column.\n  function findColumn(string, goal, tabSize) {\n    for (var pos = 0, col = 0;;) {\n      var nextTab = string.indexOf(\"\\t\", pos);\n      if (nextTab == -1) { nextTab = string.length; }\n      var skipped = nextTab - pos;\n      if (nextTab == string.length || col + skipped >= goal)\n        { return pos + Math.min(skipped, goal - col) }\n      col += nextTab - pos;\n      col += tabSize - (col % tabSize);\n      pos = nextTab + 1;\n      if (col >= goal) { return pos }\n    }\n  }\n\n  var spaceStrs = [\"\"];\n  function spaceStr(n) {\n    while (spaceStrs.length <= n)\n      { spaceStrs.push(lst(spaceStrs) + \" \"); }\n    return spaceStrs[n]\n  }\n\n  function lst(arr) { return arr[arr.length-1] }\n\n  function map(array, f) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i); }\n    return out\n  }\n\n  function insertSorted(array, value, score) {\n    var pos = 0, priority = score(value);\n    while (pos < array.length && score(array[pos]) <= priority) { pos++; }\n    array.splice(pos, 0, value);\n  }\n\n  function nothing() {}\n\n  function createObj(base, props) {\n    var inst;\n    if (Object.create) {\n      inst = Object.create(base);\n    } else {\n      nothing.prototype = base;\n      inst = new nothing();\n    }\n    if (props) { copyObj(props, inst); }\n    return inst\n  }\n\n  var nonASCIISingleCaseWordChar = \/[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]\/;\n  function isWordCharBasic(ch) {\n    return \/\\w\/.test(ch) || ch > \"\\x80\" &&\n      (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))\n  }\n  function isWordChar(ch, helper) {\n    if (!helper) { return isWordCharBasic(ch) }\n    if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) { return true }\n    return helper.test(ch)\n  }\n\n  function isEmpty(obj) {\n    for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }\n    return true\n  }\n\n  \/\/ Extending unicode characters. A series of a non-extending char +\n  \/\/ any number of extending chars is treated as a single unit as far\n  \/\/ as editing and measuring is concerned. This is not fully correct,\n  \/\/ since some scripts\/fonts\/browsers also treat other configurations\n  \/\/ of code points as a group.\n  var extendingChars = \/[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]\/;\n  function isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }\n\n  \/\/ Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\n  function skipExtendingChars(str, pos, dir) {\n    while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) { pos += dir; }\n    return pos\n  }\n\n  \/\/ Returns the value from the range [`from`; `to`] that satisfies\n  \/\/ `pred` and is closest to `from`. Assumes that at least `to`\n  \/\/ satisfies `pred`. Supports `from` being greater than `to`.\n  function findFirst(pred, from, to) {\n    \/\/ At any point we are certain `to` satisfies `pred`, don't know\n    \/\/ whether `from` does.\n    var dir = from > to ? -1 : 1;\n    for (;;) {\n      if (from == to) { return from }\n      var midF = (from + to) \/ 2, mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF);\n      if (mid == from) { return pred(mid) ? from : to }\n      if (pred(mid)) { to = mid; }\n      else { from = mid + dir; }\n    }\n  }\n\n  \/\/ BIDI HELPERS\n\n  function iterateBidiSections(order, from, to, f) {\n    if (!order) { return f(from, to, \"ltr\", 0) }\n    var found = false;\n    for (var i = 0; i < order.length; ++i) {\n      var part = order[i];\n      if (part.from < to && part.to > from || from == to && part.to == from) {\n        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\", i);\n        found = true;\n      }\n    }\n    if (!found) { f(from, to, \"ltr\"); }\n  }\n\n  var bidiOther = null;\n  function getBidiPartAt(order, ch, sticky) {\n    var found;\n    bidiOther = null;\n    for (var i = 0; i < order.length; ++i) {\n      var cur = order[i];\n      if (cur.from < ch && cur.to > ch) { return i }\n      if (cur.to == ch) {\n        if (cur.from != cur.to && sticky == \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n      if (cur.from == ch) {\n        if (cur.from != cur.to && sticky != \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n    }\n    return found != null ? found : bidiOther\n  }\n\n  \/\/ Bidirectional ordering algorithm\n  \/\/ See http:\/\/unicode.org\/reports\/tr9\/tr9-13.html for the algorithm\n  \/\/ that this (partially) implements.\n\n  \/\/ One-char codes used for character types:\n  \/\/ L (L):   Left-to-Right\n  \/\/ R (R):   Right-to-Left\n  \/\/ r (AL):  Right-to-Left Arabic\n  \/\/ 1 (EN):  European Number\n  \/\/ + (ES):  European Number Separator\n  \/\/ % (ET):  European Number Terminator\n  \/\/ n (AN):  Arabic Number\n  \/\/ , (CS):  Common Number Separator\n  \/\/ m (NSM): Non-Spacing Mark\n  \/\/ b (BN):  Boundary Neutral\n  \/\/ s (B):   Paragraph Separator\n  \/\/ t (S):   Segment Separator\n  \/\/ w (WS):  Whitespace\n  \/\/ N (ON):  Other Neutrals\n\n  \/\/ Returns null if characters are ordered as they appear\n  \/\/ (left-to-right), or an array of sections ({from, to, level}\n  \/\/ objects) in the order in which they occur visually.\n  var bidiOrdering = (function() {\n    \/\/ Character types for codepoints 0 to 0xff\n    var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\";\n    \/\/ Character types for codepoints 0x600 to 0x6f9\n    var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";\n    function charType(code) {\n      if (code <= 0xf7) { return lowTypes.charAt(code) }\n      else if (0x590 <= code && code <= 0x5f4) { return \"R\" }\n      else if (0x600 <= code && code <= 0x6f9) { return arabicTypes.charAt(code - 0x600) }\n      else if (0x6ee <= code && code <= 0x8ac) { return \"r\" }\n      else if (0x2000 <= code && code <= 0x200b) { return \"w\" }\n      else if (code == 0x200c) { return \"b\" }\n      else { return \"L\" }\n    }\n\n    var bidiRE = \/[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]\/;\n    var isNeutral = \/[stwN]\/, isStrong = \/[LRr]\/, countsAsLeft = \/[Lb1n]\/, countsAsNum = \/[1n]\/;\n\n    function BidiSpan(level, from, to) {\n      this.level = level;\n      this.from = from; this.to = to;\n    }\n\n    return function(str, direction) {\n      var outerType = direction == \"ltr\" ? \"L\" : \"R\";\n\n      if (str.length == 0 || direction == \"ltr\" && !bidiRE.test(str)) { return false }\n      var len = str.length, types = [];\n      for (var i = 0; i < len; ++i)\n        { types.push(charType(str.charCodeAt(i))); }\n\n      \/\/ W1. Examine each non-spacing mark (NSM) in the level run, and\n      \/\/ change the type of the NSM to the type of the previous\n      \/\/ character. If the NSM is at the start of the level run, it will\n      \/\/ get the type of sor.\n      for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n        var type = types[i$1];\n        if (type == \"m\") { types[i$1] = prev; }\n        else { prev = type; }\n      }\n\n      \/\/ W2. Search backwards from each instance of a European number\n      \/\/ until the first strong type (R, L, AL, or sor) is found. If an\n      \/\/ AL is found, change the type of the European number to Arabic\n      \/\/ number.\n      \/\/ W3. Change all ALs to R.\n      for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n        var type$1 = types[i$2];\n        if (type$1 == \"1\" && cur == \"r\") { types[i$2] = \"n\"; }\n        else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == \"r\") { types[i$2] = \"R\"; } }\n      }\n\n      \/\/ W4. A single European separator between two European numbers\n      \/\/ changes to a European number. A single common separator between\n      \/\/ two numbers of the same type changes to that type.\n      for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n        var type$2 = types[i$3];\n        if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3+1] == \"1\") { types[i$3] = \"1\"; }\n        else if (type$2 == \",\" && prev$1 == types[i$3+1] &&\n                 (prev$1 == \"1\" || prev$1 == \"n\")) { types[i$3] = prev$1; }\n        prev$1 = type$2;\n      }\n\n      \/\/ W5. A sequence of European terminators adjacent to European\n      \/\/ numbers changes to all European numbers.\n      \/\/ W6. Otherwise, separators and terminators change to Other\n      \/\/ Neutral.\n      for (var i$4 = 0; i$4 < len; ++i$4) {\n        var type$3 = types[i$4];\n        if (type$3 == \",\") { types[i$4] = \"N\"; }\n        else if (type$3 == \"%\") {\n          var end = (void 0);\n          for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n          var replace = (i$4 && types[i$4-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\";\n          for (var j = i$4; j < end; ++j) { types[j] = replace; }\n          i$4 = end - 1;\n        }\n      }\n\n      \/\/ W7. Search backwards from each instance of a European number\n      \/\/ until the first strong type (R, L, or sor) is found. If an L is\n      \/\/ found, then change the type of the European number to L.\n      for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n        var type$4 = types[i$5];\n        if (cur$1 == \"L\" && type$4 == \"1\") { types[i$5] = \"L\"; }\n        else if (isStrong.test(type$4)) { cur$1 = type$4; }\n      }\n\n      \/\/ N1. A sequence of neutrals takes the direction of the\n      \/\/ surrounding strong text if the text on both sides has the same\n      \/\/ direction. European and Arabic numbers act as if they were R in\n      \/\/ terms of their influence on neutrals. Start-of-level-run (sor)\n      \/\/ and end-of-level-run (eor) are used at level run boundaries.\n      \/\/ N2. Any remaining neutrals take the embedding direction.\n      for (var i$6 = 0; i$6 < len; ++i$6) {\n        if (isNeutral.test(types[i$6])) {\n          var end$1 = (void 0);\n          for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n          var before = (i$6 ? types[i$6-1] : outerType) == \"L\";\n          var after = (end$1 < len ? types[end$1] : outerType) == \"L\";\n          var replace$1 = before == after ? (before ? \"L\" : \"R\") : outerType;\n          for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1; }\n          i$6 = end$1 - 1;\n        }\n      }\n\n      \/\/ Here we depart from the documented algorithm, in order to avoid\n      \/\/ building up an actual levels array. Since there are only three\n      \/\/ levels (0, 1, 2) in an implementation that doesn't take\n      \/\/ explicit embedding into account, we can build up the order on\n      \/\/ the fly, without following the level-based algorithm.\n      var order = [], m;\n      for (var i$7 = 0; i$7 < len;) {\n        if (countsAsLeft.test(types[i$7])) {\n          var start = i$7;\n          for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n          order.push(new BidiSpan(0, start, i$7));\n        } else {\n          var pos = i$7, at = order.length, isRTL = direction == \"rtl\" ? 1 : 0;\n          for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n          for (var j$2 = pos; j$2 < i$7;) {\n            if (countsAsNum.test(types[j$2])) {\n              if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)); at += isRTL; }\n              var nstart = j$2;\n              for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n              order.splice(at, 0, new BidiSpan(2, nstart, j$2));\n              at += isRTL;\n              pos = j$2;\n            } else { ++j$2; }\n          }\n          if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)); }\n        }\n      }\n      if (direction == \"ltr\") {\n        if (order[0].level == 1 && (m = str.match(\/^\\s+\/))) {\n          order[0].from = m[0].length;\n          order.unshift(new BidiSpan(0, 0, m[0].length));\n        }\n        if (lst(order).level == 1 && (m = str.match(\/\\s+$\/))) {\n          lst(order).to -= m[0].length;\n          order.push(new BidiSpan(0, len - m[0].length, len));\n        }\n      }\n\n      return direction == \"rtl\" ? order.reverse() : order\n    }\n  })();\n\n  \/\/ Get the bidi ordering for the given line (and cache it). Returns\n  \/\/ false for lines that are fully left-to-right, and an array of\n  \/\/ BidiSpan objects otherwise.\n  function getOrder(line, direction) {\n    var order = line.order;\n    if (order == null) { order = line.order = bidiOrdering(line.text, direction); }\n    return order\n  }\n\n  \/\/ EVENT HANDLING\n\n  \/\/ Lightweight event framework. on\/off also work on DOM nodes,\n  \/\/ registering native DOM handlers.\n\n  var noHandlers = [];\n\n  var on = function(emitter, type, f) {\n    if (emitter.addEventListener) {\n      emitter.addEventListener(type, f, false);\n    } else if (emitter.attachEvent) {\n      emitter.attachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers || (emitter._handlers = {});\n      map[type] = (map[type] || noHandlers).concat(f);\n    }\n  };\n\n  function getHandlers(emitter, type) {\n    return emitter._handlers && emitter._handlers[type] || noHandlers\n  }\n\n  function off(emitter, type, f) {\n    if (emitter.removeEventListener) {\n      emitter.removeEventListener(type, f, false);\n    } else if (emitter.detachEvent) {\n      emitter.detachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers, arr = map && map[type];\n      if (arr) {\n        var index = indexOf(arr, f);\n        if (index > -1)\n          { map[type] = arr.slice(0, index).concat(arr.slice(index + 1)); }\n      }\n    }\n  }\n\n  function signal(emitter, type \/*, values...*\/) {\n    var handlers = getHandlers(emitter, type);\n    if (!handlers.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2);\n    for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args); }\n  }\n\n  \/\/ The DOM events that CodeMirror handles can be overridden by\n  \/\/ registering a (non-DOM) handler on the editor for the event name,\n  \/\/ and preventDefault-ing the event in that handler.\n  function signalDOMEvent(cm, e, override) {\n    if (typeof e == \"string\")\n      { e = {type: e, preventDefault: function() { this.defaultPrevented = true; }}; }\n    signal(cm, override || e.type, cm, e);\n    return e_defaultPrevented(e) || e.codemirrorIgnore\n  }\n\n  function signalCursorActivity(cm) {\n    var arr = cm._handlers && cm._handlers.cursorActivity;\n    if (!arr) { return }\n    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n    for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)\n      { set.push(arr[i]); } }\n  }\n\n  function hasHandler(emitter, type) {\n    return getHandlers(emitter, type).length > 0\n  }\n\n  \/\/ Add on and off methods to a constructor's prototype, to make\n  \/\/ registering events on such objects more convenient.\n  function eventMixin(ctor) {\n    ctor.prototype.on = function(type, f) {on(this, type, f);};\n    ctor.prototype.off = function(type, f) {off(this, type, f);};\n  }\n\n  \/\/ Due to the fact that we still support jurassic IE versions, some\n  \/\/ compatibility wrappers are needed.\n\n  function e_preventDefault(e) {\n    if (e.preventDefault) { e.preventDefault(); }\n    else { e.returnValue = false; }\n  }\n  function e_stopPropagation(e) {\n    if (e.stopPropagation) { e.stopPropagation(); }\n    else { e.cancelBubble = true; }\n  }\n  function e_defaultPrevented(e) {\n    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false\n  }\n  function e_stop(e) {e_preventDefault(e); e_stopPropagation(e);}\n\n  function e_target(e) {return e.target || e.srcElement}\n  function e_button(e) {\n    var b = e.which;\n    if (b == null) {\n      if (e.button & 1) { b = 1; }\n      else if (e.button & 2) { b = 3; }\n      else if (e.button & 4) { b = 2; }\n    }\n    if (mac && e.ctrlKey && b == 1) { b = 3; }\n    return b\n  }\n\n  \/\/ Detect drag-and-drop\n  var dragAndDrop = function() {\n    \/\/ There is *some* kind of drag-and-drop support in IE6-8, but I\n    \/\/ couldn't get it to work yet.\n    if (ie && ie_version < 9) { return false }\n    var div = elt('div');\n    return \"draggable\" in div || \"dragDrop\" in div\n  }();\n\n  var zwspSupported;\n  function zeroWidthElement(measure) {\n    if (zwspSupported == null) {\n      var test = elt(\"span\", \"\\u200b\");\n      removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n      if (measure.firstChild.offsetHeight != 0)\n        { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8); }\n    }\n    var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\n      elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n    node.setAttribute(\"cm-text\", \"\");\n    return node\n  }\n\n  \/\/ Feature-detect IE's crummy client rect reporting for bidi text\n  var badBidiRects;\n  function hasBadBidiRects(measure) {\n    if (badBidiRects != null) { return badBidiRects }\n    var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"));\n    var r0 = range(txt, 0, 1).getBoundingClientRect();\n    var r1 = range(txt, 1, 2).getBoundingClientRect();\n    removeChildren(measure);\n    if (!r0 || r0.left == r0.right) { return false } \/\/ Safari returns null in some cases (#2780)\n    return badBidiRects = (r1.right - r0.right < 3)\n  }\n\n  \/\/ See if \"\".split is the broken IE version, if so, provide an\n  \/\/ alternative way to split lines.\n  var splitLinesAuto = \"\\n\\nb\".split(\/\\n\/).length != 3 ? function (string) {\n    var pos = 0, result = [], l = string.length;\n    while (pos <= l) {\n      var nl = string.indexOf(\"\\n\", pos);\n      if (nl == -1) { nl = string.length; }\n      var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n      var rt = line.indexOf(\"\\r\");\n      if (rt != -1) {\n        result.push(line.slice(0, rt));\n        pos += rt + 1;\n      } else {\n        result.push(line);\n        pos = nl + 1;\n      }\n    }\n    return result\n  } : function (string) { return string.split(\/\\r\\n?|\\n\/); };\n\n  var hasSelection = window.getSelection ? function (te) {\n    try { return te.selectionStart != te.selectionEnd }\n    catch(e) { return false }\n  } : function (te) {\n    var range;\n    try {range = te.ownerDocument.selection.createRange();}\n    catch(e) {}\n    if (!range || range.parentElement() != te) { return false }\n    return range.compareEndPoints(\"StartToEnd\", range) != 0\n  };\n\n  var hasCopyEvent = (function () {\n    var e = elt(\"div\");\n    if (\"oncopy\" in e) { return true }\n    e.setAttribute(\"oncopy\", \"return;\");\n    return typeof e.oncopy == \"function\"\n  })();\n\n  var badZoomedRects = null;\n  function hasBadZoomedRects(measure) {\n    if (badZoomedRects != null) { return badZoomedRects }\n    var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n    var normal = node.getBoundingClientRect();\n    var fromRange = range(node, 0, 1).getBoundingClientRect();\n    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1\n  }\n\n  \/\/ Known modes, by name and by MIME\n  var modes = {}, mimeModes = {};\n\n  \/\/ Extra arguments are stored as the mode's dependencies, which is\n  \/\/ used by (legacy) mechanisms like loadmode.js to automatically\n  \/\/ load a mode. (Preferred mechanism is the require\/define calls.)\n  function defineMode(name, mode) {\n    if (arguments.length > 2)\n      { mode.dependencies = Array.prototype.slice.call(arguments, 2); }\n    modes[name] = mode;\n  }\n\n  function defineMIME(mime, spec) {\n    mimeModes[mime] = spec;\n  }\n\n  \/\/ Given a MIME type, a {name, ...options} config object, or a name\n  \/\/ string, return a mode config object.\n  function resolveMode(spec) {\n    if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n      spec = mimeModes[spec];\n    } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n      var found = mimeModes[spec.name];\n      if (typeof found == \"string\") { found = {name: found}; }\n      spec = createObj(found, spec);\n      spec.name = found.name;\n    } else if (typeof spec == \"string\" && \/^[\\w\\-]+\\\/[\\w\\-]+\\+xml$\/.test(spec)) {\n      return resolveMode(\"application\/xml\")\n    } else if (typeof spec == \"string\" && \/^[\\w\\-]+\\\/[\\w\\-]+\\+json$\/.test(spec)) {\n      return resolveMode(\"application\/json\")\n    }\n    if (typeof spec == \"string\") { return {name: spec} }\n    else { return spec || {name: \"null\"} }\n  }\n\n  \/\/ Given a mode spec (anything that resolveMode accepts), find and\n  \/\/ initialize an actual mode object.\n  function getMode(options, spec) {\n    spec = resolveMode(spec);\n    var mfactory = modes[spec.name];\n    if (!mfactory) { return getMode(options, \"text\/plain\") }\n    var modeObj = mfactory(options, spec);\n    if (modeExtensions.hasOwnProperty(spec.name)) {\n      var exts = modeExtensions[spec.name];\n      for (var prop in exts) {\n        if (!exts.hasOwnProperty(prop)) { continue }\n        if (modeObj.hasOwnProperty(prop)) { modeObj[\"_\" + prop] = modeObj[prop]; }\n        modeObj[prop] = exts[prop];\n      }\n    }\n    modeObj.name = spec.name;\n    if (spec.helperType) { modeObj.helperType = spec.helperType; }\n    if (spec.modeProps) { for (var prop$1 in spec.modeProps)\n      { modeObj[prop$1] = spec.modeProps[prop$1]; } }\n\n    return modeObj\n  }\n\n  \/\/ This can be used to attach properties to mode objects from\n  \/\/ outside the actual mode definition.\n  var modeExtensions = {};\n  function extendMode(mode, properties) {\n    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});\n    copyObj(properties, exts);\n  }\n\n  function copyState(mode, state) {\n    if (state === true) { return state }\n    if (mode.copyState) { return mode.copyState(state) }\n    var nstate = {};\n    for (var n in state) {\n      var val = state[n];\n      if (val instanceof Array) { val = val.concat([]); }\n      nstate[n] = val;\n    }\n    return nstate\n  }\n\n  \/\/ Given a mode and a state (for that mode), find the inner mode and\n  \/\/ state at the position that the state refers to.\n  function innerMode(mode, state) {\n    var info;\n    while (mode.innerMode) {\n      info = mode.innerMode(state);\n      if (!info || info.mode == mode) { break }\n      state = info.state;\n      mode = info.mode;\n    }\n    return info || {mode: mode, state: state}\n  }\n\n  function startState(mode, a1, a2) {\n    return mode.startState ? mode.startState(a1, a2) : true\n  }\n\n  \/\/ STRING STREAM\n\n  \/\/ Fed to the mode parsers, provides helper functions to make\n  \/\/ parsers more succinct.\n\n  var StringStream = function(string, tabSize, lineOracle) {\n    this.pos = this.start = 0;\n    this.string = string;\n    this.tabSize = tabSize || 8;\n    this.lastColumnPos = this.lastColumnValue = 0;\n    this.lineStart = 0;\n    this.lineOracle = lineOracle;\n  };\n\n  StringStream.prototype.eol = function () {return this.pos >= this.string.length};\n  StringStream.prototype.sol = function () {return this.pos == this.lineStart};\n  StringStream.prototype.peek = function () {return this.string.charAt(this.pos) || undefined};\n  StringStream.prototype.next = function () {\n    if (this.pos < this.string.length)\n      { return this.string.charAt(this.pos++) }\n  };\n  StringStream.prototype.eat = function (match) {\n    var ch = this.string.charAt(this.pos);\n    var ok;\n    if (typeof match == \"string\") { ok = ch == match; }\n    else { ok = ch && (match.test ? match.test(ch) : match(ch)); }\n    if (ok) {++this.pos; return ch}\n  };\n  StringStream.prototype.eatWhile = function (match) {\n    var start = this.pos;\n    while (this.eat(match)){}\n    return this.pos > start\n  };\n  StringStream.prototype.eatSpace = function () {\n    var start = this.pos;\n    while (\/[\\s\\u00a0]\/.test(this.string.charAt(this.pos))) { ++this.pos; }\n    return this.pos > start\n  };\n  StringStream.prototype.skipToEnd = function () {this.pos = this.string.length;};\n  StringStream.prototype.skipTo = function (ch) {\n    var found = this.string.indexOf(ch, this.pos);\n    if (found > -1) {this.pos = found; return true}\n  };\n  StringStream.prototype.backUp = function (n) {this.pos -= n;};\n  StringStream.prototype.column = function () {\n    if (this.lastColumnPos < this.start) {\n      this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n      this.lastColumnPos = this.start;\n    }\n    return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.indentation = function () {\n    return countColumn(this.string, null, this.tabSize) -\n      (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n    if (typeof pattern == \"string\") {\n      var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; };\n      var substr = this.string.substr(this.pos, pattern.length);\n      if (cased(substr) == cased(pattern)) {\n        if (consume !== false) { this.pos += pattern.length; }\n        return true\n      }\n    } else {\n      var match = this.string.slice(this.pos).match(pattern);\n      if (match && match.index > 0) { return null }\n      if (match && consume !== false) { this.pos += match[0].length; }\n      return match\n    }\n  };\n  StringStream.prototype.current = function (){return this.string.slice(this.start, this.pos)};\n  StringStream.prototype.hideFirstChars = function (n, inner) {\n    this.lineStart += n;\n    try { return inner() }\n    finally { this.lineStart -= n; }\n  };\n  StringStream.prototype.lookAhead = function (n) {\n    var oracle = this.lineOracle;\n    return oracle && oracle.lookAhead(n)\n  };\n  StringStream.prototype.baseToken = function () {\n    var oracle = this.lineOracle;\n    return oracle && oracle.baseToken(this.pos)\n  };\n\n  \/\/ Find the line object corresponding to the given line number.\n  function getLine(doc, n) {\n    n -= doc.first;\n    if (n < 0 || n >= doc.size) { throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\") }\n    var chunk = doc;\n    while (!chunk.lines) {\n      for (var i = 0;; ++i) {\n        var child = chunk.children[i], sz = child.chunkSize();\n        if (n < sz) { chunk = child; break }\n        n -= sz;\n      }\n    }\n    return chunk.lines[n]\n  }\n\n  \/\/ Get the part of a document between two positions, as an array of\n  \/\/ strings.\n  function getBetween(doc, start, end) {\n    var out = [], n = start.line;\n    doc.iter(start.line, end.line + 1, function (line) {\n      var text = line.text;\n      if (n == end.line) { text = text.slice(0, end.ch); }\n      if (n == start.line) { text = text.slice(start.ch); }\n      out.push(text);\n      ++n;\n    });\n    return out\n  }\n  \/\/ Get the lines between from and to, as array of strings.\n  function getLines(doc, from, to) {\n    var out = [];\n    doc.iter(from, to, function (line) { out.push(line.text); }); \/\/ iter aborts when callback returns truthy value\n    return out\n  }\n\n  \/\/ Update the height of a line, propagating the height change\n  \/\/ upwards to parent nodes.\n  function updateLineHeight(line, height) {\n    var diff = height - line.height;\n    if (diff) { for (var n = line; n; n = n.parent) { n.height += diff; } }\n  }\n\n  \/\/ Given a line object, find its line number by walking up through\n  \/\/ its parent links.\n  function lineNo(line) {\n    if (line.parent == null) { return null }\n    var cur = line.parent, no = indexOf(cur.lines, line);\n    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n      for (var i = 0;; ++i) {\n        if (chunk.children[i] == cur) { break }\n        no += chunk.children[i].chunkSize();\n      }\n    }\n    return no + cur.first\n  }\n\n  \/\/ Find the line at the given vertical position, using the height\n  \/\/ information in the document tree.\n  function lineAtHeight(chunk, h) {\n    var n = chunk.first;\n    outer: do {\n      for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n        var child = chunk.children[i$1], ch = child.height;\n        if (h < ch) { chunk = child; continue outer }\n        h -= ch;\n        n += child.chunkSize();\n      }\n      return n\n    } while (!chunk.lines)\n    var i = 0;\n    for (; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i], lh = line.height;\n      if (h < lh) { break }\n      h -= lh;\n    }\n    return n + i\n  }\n\n  function isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}\n\n  function lineNumberFor(options, i) {\n    return String(options.lineNumberFormatter(i + options.firstLineNumber))\n  }\n\n  \/\/ A Pos instance represents a position within the text.\n  function Pos(line, ch, sticky) {\n    if ( sticky === void 0 ) sticky = null;\n\n    if (!(this instanceof Pos)) { return new Pos(line, ch, sticky) }\n    this.line = line;\n    this.ch = ch;\n    this.sticky = sticky;\n  }\n\n  \/\/ Compare two positions, return 0 if they are the same, a negative\n  \/\/ number when a is less, and a positive number otherwise.\n  function cmp(a, b) { return a.line - b.line || a.ch - b.ch }\n\n  function equalCursorPos(a, b) { return a.sticky == b.sticky && cmp(a, b) == 0 }\n\n  function copyPos(x) {return Pos(x.line, x.ch)}\n  function maxPos(a, b) { return cmp(a, b) < 0 ? b : a }\n  function minPos(a, b) { return cmp(a, b) < 0 ? a : b }\n\n  \/\/ Most of the external API clips given positions to make sure they\n  \/\/ actually exist within the document.\n  function clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}\n  function clipPos(doc, pos) {\n    if (pos.line < doc.first) { return Pos(doc.first, 0) }\n    var last = doc.first + doc.size - 1;\n    if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }\n    return clipToLen(pos, getLine(doc, pos.line).text.length)\n  }\n  function clipToLen(pos, linelen) {\n    var ch = pos.ch;\n    if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }\n    else if (ch < 0) { return Pos(pos.line, 0) }\n    else { return pos }\n  }\n  function clipPosArray(doc, array) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]); }\n    return out\n  }\n\n  var SavedContext = function(state, lookAhead) {\n    this.state = state;\n    this.lookAhead = lookAhead;\n  };\n\n  var Context = function(doc, state, line, lookAhead) {\n    this.state = state;\n    this.doc = doc;\n    this.line = line;\n    this.maxLookAhead = lookAhead || 0;\n    this.baseTokens = null;\n    this.baseTokenPos = 1;\n  };\n\n  Context.prototype.lookAhead = function (n) {\n    var line = this.doc.getLine(this.line + n);\n    if (line != null && n > this.maxLookAhead) { this.maxLookAhead = n; }\n    return line\n  };\n\n  Context.prototype.baseToken = function (n) {\n    if (!this.baseTokens) { return null }\n    while (this.baseTokens[this.baseTokenPos] <= n)\n      { this.baseTokenPos += 2; }\n    var type = this.baseTokens[this.baseTokenPos + 1];\n    return {type: type && type.replace(\/( |^)overlay .*\/, \"\"),\n            size: this.baseTokens[this.baseTokenPos] - n}\n  };\n\n  Context.prototype.nextLine = function () {\n    this.line++;\n    if (this.maxLookAhead > 0) { this.maxLookAhead--; }\n  };\n\n  Context.fromSaved = function (doc, saved, line) {\n    if (saved instanceof SavedContext)\n      { return new Context(doc, copyState(doc.mode, saved.state), line, saved.lookAhead) }\n    else\n      { return new Context(doc, copyState(doc.mode, saved), line) }\n  };\n\n  Context.prototype.save = function (copy) {\n    var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state;\n    return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state\n  };\n\n\n  \/\/ Compute a style array (an array starting with a mode generation\n  \/\/ -- for invalidation -- followed by pairs of end positions and\n  \/\/ style strings), which is used to highlight the tokens on the\n  \/\/ line.\n  function highlightLine(cm, line, context, forceToEnd) {\n    \/\/ A styles array always starts with a number identifying the\n    \/\/ mode\/overlays that it is based on (for easy invalidation).\n    var st = [cm.state.modeGen], lineClasses = {};\n    \/\/ Compute the base array of styles\n    runMode(cm, line.text, cm.doc.mode, context, function (end, style) { return st.push(end, style); },\n            lineClasses, forceToEnd);\n    var state = context.state;\n\n    \/\/ Run overlays, adjust style array.\n    var loop = function ( o ) {\n      context.baseTokens = st;\n      var overlay = cm.state.overlays[o], i = 1, at = 0;\n      context.state = true;\n      runMode(cm, line.text, overlay.mode, context, function (end, style) {\n        var start = i;\n        \/\/ Ensure there's a token end at the current position, and that i points at it\n        while (at < end) {\n          var i_end = st[i];\n          if (i_end > end)\n            { st.splice(i, 1, end, st[i+1], i_end); }\n          i += 2;\n          at = Math.min(end, i_end);\n        }\n        if (!style) { return }\n        if (overlay.opaque) {\n          st.splice(start, i - start, end, \"overlay \" + style);\n          i = start + 2;\n        } else {\n          for (; start < i; start += 2) {\n            var cur = st[start+1];\n            st[start+1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style;\n          }\n        }\n      }, lineClasses);\n      context.state = state;\n      context.baseTokens = null;\n      context.baseTokenPos = 1;\n    };\n\n    for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );\n\n    return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}\n  }\n\n  function getLineStyles(cm, line, updateFrontier) {\n    if (!line.styles || line.styles[0] != cm.state.modeGen) {\n      var context = getContextBefore(cm, lineNo(line));\n      var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state);\n      var result = highlightLine(cm, line, context);\n      if (resetState) { context.state = resetState; }\n      line.stateAfter = context.save(!resetState);\n      line.styles = result.styles;\n      if (result.classes) { line.styleClasses = result.classes; }\n      else if (line.styleClasses) { line.styleClasses = null; }\n      if (updateFrontier === cm.doc.highlightFrontier)\n        { cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier); }\n    }\n    return line.styles\n  }\n\n  function getContextBefore(cm, n, precise) {\n    var doc = cm.doc, display = cm.display;\n    if (!doc.mode.startState) { return new Context(doc, true, n) }\n    var start = findStartLine(cm, n, precise);\n    var saved = start > doc.first && getLine(doc, start - 1).stateAfter;\n    var context = saved ? Context.fromSaved(doc, saved, start) : new Context(doc, startState(doc.mode), start);\n\n    doc.iter(start, n, function (line) {\n      processLine(cm, line.text, context);\n      var pos = context.line;\n      line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null;\n      context.nextLine();\n    });\n    if (precise) { doc.modeFrontier = context.line; }\n    return context\n  }\n\n  \/\/ Lightweight form of highlight -- proceed over this line and\n  \/\/ update state, but don't save a style array. Used for lines that\n  \/\/ aren't currently visible.\n  function processLine(cm, text, context, startAt) {\n    var mode = cm.doc.mode;\n    var stream = new StringStream(text, cm.options.tabSize, context);\n    stream.start = stream.pos = startAt || 0;\n    if (text == \"\") { callBlankLine(mode, context.state); }\n    while (!stream.eol()) {\n      readToken(mode, stream, context.state);\n      stream.start = stream.pos;\n    }\n  }\n\n  function callBlankLine(mode, state) {\n    if (mode.blankLine) { return mode.blankLine(state) }\n    if (!mode.innerMode) { return }\n    var inner = innerMode(mode, state);\n    if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }\n  }\n\n  function readToken(mode, stream, state, inner) {\n    for (var i = 0; i < 10; i++) {\n      if (inner) { inner[0] = innerMode(mode, state).mode; }\n      var style = mode.token(stream, state);\n      if (stream.pos > stream.start) { return style }\n    }\n    throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\")\n  }\n\n  var Token = function(stream, type, state) {\n    this.start = stream.start; this.end = stream.pos;\n    this.string = stream.current();\n    this.type = type || null;\n    this.state = state;\n  };\n\n  \/\/ Utility for getTokenAt and getLineTokens\n  function takeToken(cm, pos, precise, asArray) {\n    var doc = cm.doc, mode = doc.mode, style;\n    pos = clipPos(doc, pos);\n    var line = getLine(doc, pos.line), context = getContextBefore(cm, pos.line, precise);\n    var stream = new StringStream(line.text, cm.options.tabSize, context), tokens;\n    if (asArray) { tokens = []; }\n    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n      stream.start = stream.pos;\n      style = readToken(mode, stream, context.state);\n      if (asArray) { tokens.push(new Token(stream, style, copyState(doc.mode, context.state))); }\n    }\n    return asArray ? tokens : new Token(stream, style, context.state)\n  }\n\n  function extractLineClasses(type, output) {\n    if (type) { for (;;) {\n      var lineClass = type.match(\/(?:^|\\s+)line-(background-)?(\\S+)\/);\n      if (!lineClass) { break }\n      type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n      var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n      if (output[prop] == null)\n        { output[prop] = lineClass[2]; }\n      else if (!(new RegExp(\"(?:^|\\\\s)\" + lineClass[2] + \"(?:$|\\\\s)\")).test(output[prop]))\n        { output[prop] += \" \" + lineClass[2]; }\n    } }\n    return type\n  }\n\n  \/\/ Run the given mode's parser over a line, calling f for each token.\n  function runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {\n    var flattenSpans = mode.flattenSpans;\n    if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans; }\n    var curStart = 0, curStyle = null;\n    var stream = new StringStream(text, cm.options.tabSize, context), style;\n    var inner = cm.options.addModeClass && [null];\n    if (text == \"\") { extractLineClasses(callBlankLine(mode, context.state), lineClasses); }\n    while (!stream.eol()) {\n      if (stream.pos > cm.options.maxHighlightLength) {\n        flattenSpans = false;\n        if (forceToEnd) { processLine(cm, text, context, stream.pos); }\n        stream.pos = text.length;\n        style = null;\n      } else {\n        style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses);\n      }\n      if (inner) {\n        var mName = inner[0].name;\n        if (mName) { style = \"m-\" + (style ? mName + \" \" + style : mName); }\n      }\n      if (!flattenSpans || curStyle != style) {\n        while (curStart < stream.start) {\n          curStart = Math.min(stream.start, curStart + 5000);\n          f(curStart, curStyle);\n        }\n        curStyle = style;\n      }\n      stream.start = stream.pos;\n    }\n    while (curStart < stream.pos) {\n      \/\/ Webkit seems to refuse to render text nodes longer than 57444\n      \/\/ characters, and returns inaccurate measurements in nodes\n      \/\/ starting around 5000 chars.\n      var pos = Math.min(stream.pos, curStart + 5000);\n      f(pos, curStyle);\n      curStart = pos;\n    }\n  }\n\n  \/\/ Finds the line to start with when starting a parse. Tries to\n  \/\/ find a line with a stateAfter, so that it can start with a\n  \/\/ valid state. If that fails, it returns the line with the\n  \/\/ smallest indentation, which tends to need the least context to\n  \/\/ parse correctly.\n  function findStartLine(cm, n, precise) {\n    var minindent, minline, doc = cm.doc;\n    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n    for (var search = n; search > lim; --search) {\n      if (search <= doc.first) { return doc.first }\n      var line = getLine(doc, search - 1), after = line.stateAfter;\n      if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc.modeFrontier))\n        { return search }\n      var indented = countColumn(line.text, null, cm.options.tabSize);\n      if (minline == null || minindent > indented) {\n        minline = search - 1;\n        minindent = indented;\n      }\n    }\n    return minline\n  }\n\n  function retreatFrontier(doc, n) {\n    doc.modeFrontier = Math.min(doc.modeFrontier, n);\n    if (doc.highlightFrontier < n - 10) { return }\n    var start = doc.first;\n    for (var line = n - 1; line > start; line--) {\n      var saved = getLine(doc, line).stateAfter;\n      \/\/ change is on 3\n      \/\/ state on line 1 looked ahead 2 -- so saw 3\n      \/\/ test 1 + 2 < 3 should cover this\n      if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {\n        start = line + 1;\n        break\n      }\n    }\n    doc.highlightFrontier = Math.min(doc.highlightFrontier, start);\n  }\n\n  \/\/ Optimize some code when these features are not used.\n  var sawReadOnlySpans = false, sawCollapsedSpans = false;\n\n  function seeReadOnlySpans() {\n    sawReadOnlySpans = true;\n  }\n\n  function seeCollapsedSpans() {\n    sawCollapsedSpans = true;\n  }\n\n  \/\/ TEXTMARKER SPANS\n\n  function MarkedSpan(marker, from, to) {\n    this.marker = marker;\n    this.from = from; this.to = to;\n  }\n\n  \/\/ Search an array of spans for a span matching the given marker.\n  function getMarkedSpanFor(spans, marker) {\n    if (spans) { for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.marker == marker) { return span }\n    } }\n  }\n  \/\/ Remove a span from an array, returning undefined if no spans are\n  \/\/ left (we don't store arrays for lines without spans).\n  function removeMarkedSpan(spans, span) {\n    var r;\n    for (var i = 0; i < spans.length; ++i)\n      { if (spans[i] != span) { (r || (r = [])).push(spans[i]); } }\n    return r\n  }\n  \/\/ Add a span to a line.\n  function addMarkedSpan(line, span) {\n    line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n    span.marker.attachLine(line);\n  }\n\n  \/\/ Used for the algorithm that adjusts markers for a change in the\n  \/\/ document. These functions cut an array of spans at a given\n  \/\/ character position, returning an array of remaining chunks (or\n  \/\/ undefined if nothing remains).\n  function markedSpansBefore(old, startCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n      if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n      }\n    } }\n    return nw\n  }\n  function markedSpansAfter(old, endCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n      if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\n                                              span.to == null ? null : span.to - endCh));\n      }\n    } }\n    return nw\n  }\n\n  \/\/ Given a change object, compute the new set of marker spans that\n  \/\/ cover the line in which the change took place. Removes spans\n  \/\/ entirely within the change, reconnects spans belonging to the\n  \/\/ same marker that appear on both sides of the change, and cuts off\n  \/\/ spans partially within the change. Returns an array of span\n  \/\/ arrays with one element for each line in (after) the change.\n  function stretchSpansOverChange(doc, change) {\n    if (change.full) { return null }\n    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n    if (!oldFirst && !oldLast) { return null }\n\n    var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;\n    \/\/ Get the spans that 'stick out' on both sides\n    var first = markedSpansBefore(oldFirst, startCh, isInsert);\n    var last = markedSpansAfter(oldLast, endCh, isInsert);\n\n    \/\/ Next, merge those two ends\n    var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);\n    if (first) {\n      \/\/ Fix up .to properties of first\n      for (var i = 0; i < first.length; ++i) {\n        var span = first[i];\n        if (span.to == null) {\n          var found = getMarkedSpanFor(last, span.marker);\n          if (!found) { span.to = startCh; }\n          else if (sameLine) { span.to = found.to == null ? null : found.to + offset; }\n        }\n      }\n    }\n    if (last) {\n      \/\/ Fix up .from in last (or move them into first in case of sameLine)\n      for (var i$1 = 0; i$1 < last.length; ++i$1) {\n        var span$1 = last[i$1];\n        if (span$1.to != null) { span$1.to += offset; }\n        if (span$1.from == null) {\n          var found$1 = getMarkedSpanFor(first, span$1.marker);\n          if (!found$1) {\n            span$1.from = offset;\n            if (sameLine) { (first || (first = [])).push(span$1); }\n          }\n        } else {\n          span$1.from += offset;\n          if (sameLine) { (first || (first = [])).push(span$1); }\n        }\n      }\n    }\n    \/\/ Make sure we didn't create any zero-length spans\n    if (first) { first = clearEmptySpans(first); }\n    if (last && last != first) { last = clearEmptySpans(last); }\n\n    var newMarkers = [first];\n    if (!sameLine) {\n      \/\/ Fill gap with whole-line-spans\n      var gap = change.text.length - 2, gapMarkers;\n      if (gap > 0 && first)\n        { for (var i$2 = 0; i$2 < first.length; ++i$2)\n          { if (first[i$2].to == null)\n            { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)); } } }\n      for (var i$3 = 0; i$3 < gap; ++i$3)\n        { newMarkers.push(gapMarkers); }\n      newMarkers.push(last);\n    }\n    return newMarkers\n  }\n\n  \/\/ Remove spans that are empty and don't have a clearWhenEmpty\n  \/\/ option of false.\n  function clearEmptySpans(spans) {\n    for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\n        { spans.splice(i--, 1); }\n    }\n    if (!spans.length) { return null }\n    return spans\n  }\n\n  \/\/ Used to 'clip' out readOnly ranges when making a change.\n  function removeReadOnlyRanges(doc, from, to) {\n    var markers = null;\n    doc.iter(from.line, to.line + 1, function (line) {\n      if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n        var mark = line.markedSpans[i].marker;\n        if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\n          { (markers || (markers = [])).push(mark); }\n      } }\n    });\n    if (!markers) { return null }\n    var parts = [{from: from, to: to}];\n    for (var i = 0; i < markers.length; ++i) {\n      var mk = markers[i], m = mk.find(0);\n      for (var j = 0; j < parts.length; ++j) {\n        var p = parts[j];\n        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }\n        var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);\n        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\n          { newParts.push({from: p.from, to: m.from}); }\n        if (dto > 0 || !mk.inclusiveRight && !dto)\n          { newParts.push({from: m.to, to: p.to}); }\n        parts.splice.apply(parts, newParts);\n        j += newParts.length - 3;\n      }\n    }\n    return parts\n  }\n\n  \/\/ Connect or disconnect spans from a line.\n  function detachMarkedSpans(line) {\n    var spans = line.markedSpans;\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.detachLine(line); }\n    line.markedSpans = null;\n  }\n  function attachMarkedSpans(line, spans) {\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.attachLine(line); }\n    line.markedSpans = spans;\n  }\n\n  \/\/ Helpers used when computing which overlapping collapsed span\n  \/\/ counts as the larger one.\n  function extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }\n  function extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }\n\n  \/\/ Returns a number indicating which of two overlapping collapsed\n  \/\/ spans is larger (and thus includes the other). Falls back to\n  \/\/ comparing ids when the spans cover exactly the same range.\n  function compareCollapsedMarkers(a, b) {\n    var lenDiff = a.lines.length - b.lines.length;\n    if (lenDiff != 0) { return lenDiff }\n    var aPos = a.find(), bPos = b.find();\n    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n    if (fromCmp) { return -fromCmp }\n    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n    if (toCmp) { return toCmp }\n    return b.id - a.id\n  }\n\n  \/\/ Find out whether a line ends or starts in a collapsed span. If\n  \/\/ so, return the marker for that span.\n  function collapsedSpanAtSide(line, start) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0))\n        { found = sp.marker; }\n    } }\n    return found\n  }\n  function collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }\n  function collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }\n\n  function collapsedSpanAround(line, ch) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (sp.marker.collapsed && (sp.from == null || sp.from < ch) && (sp.to == null || sp.to > ch) &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0)) { found = sp.marker; }\n    } }\n    return found\n  }\n\n  \/\/ Test whether there exists a collapsed span that partially\n  \/\/ overlaps (covers the start or end, but not both) of a new span.\n  \/\/ Such overlap is not allowed.\n  function conflictingCollapsedRange(doc, lineNo, from, to, marker) {\n    var line = getLine(doc, lineNo);\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      var found = sp.marker.find(0);\n      var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n      var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n      if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }\n      if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\n          fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\n        { return true }\n    } }\n  }\n\n  \/\/ A visual line is a line as drawn on the screen. Folding, for\n  \/\/ example, can cause multiple logical lines to appear on the same\n  \/\/ visual line. This finds the start of the visual line that the\n  \/\/ given line is part of (usually that is the line itself).\n  function visualLine(line) {\n    var merged;\n    while (merged = collapsedSpanAtStart(line))\n      { line = merged.find(-1, true).line; }\n    return line\n  }\n\n  function visualLineEnd(line) {\n    var merged;\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return line\n  }\n\n  \/\/ Returns an array of logical lines that continue the visual line\n  \/\/ started by the argument, or undefined if there are no such lines.\n  function visualLineContinued(line) {\n    var merged, lines;\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line\n      ;(lines || (lines = [])).push(line);\n    }\n    return lines\n  }\n\n  \/\/ Get the line number of the start of the visual line that the\n  \/\/ given line number is part of.\n  function visualLineNo(doc, lineN) {\n    var line = getLine(doc, lineN), vis = visualLine(line);\n    if (line == vis) { return lineN }\n    return lineNo(vis)\n  }\n\n  \/\/ Get the line number of the start of the next visual line after\n  \/\/ the given line.\n  function visualLineEndNo(doc, lineN) {\n    if (lineN > doc.lastLine()) { return lineN }\n    var line = getLine(doc, lineN), merged;\n    if (!lineIsHidden(doc, line)) { return lineN }\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return lineNo(line) + 1\n  }\n\n  \/\/ Compute whether a line is hidden. Lines count as hidden when they\n  \/\/ are part of a visual line that starts with another line, or when\n  \/\/ they are entirely covered by collapsed, non-widget span.\n  function lineIsHidden(doc, line) {\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      if (sp.from == null) { return true }\n      if (sp.marker.widgetNode) { continue }\n      if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\n        { return true }\n    } }\n  }\n  function lineIsHiddenInner(doc, line, span) {\n    if (span.to == null) {\n      var end = span.marker.find(1, true);\n      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))\n    }\n    if (span.marker.inclusiveRight && span.to == line.text.length)\n      { return true }\n    for (var sp = (void 0), i = 0; i < line.markedSpans.length; ++i) {\n      sp = line.markedSpans[i];\n      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\n          (sp.to == null || sp.to != span.from) &&\n          (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\n          lineIsHiddenInner(doc, line, sp)) { return true }\n    }\n  }\n\n  \/\/ Find the height above the given line.\n  function heightAtLine(lineObj) {\n    lineObj = visualLine(lineObj);\n\n    var h = 0, chunk = lineObj.parent;\n    for (var i = 0; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i];\n      if (line == lineObj) { break }\n      else { h += line.height; }\n    }\n    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n      for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n        var cur = p.children[i$1];\n        if (cur == chunk) { break }\n        else { h += cur.height; }\n      }\n    }\n    return h\n  }\n\n  \/\/ Compute the character length of a line, taking into account\n  \/\/ collapsed ranges (see markText) that might hide parts, and join\n  \/\/ other lines onto it.\n  function lineLength(line) {\n    if (line.height == 0) { return 0 }\n    var len = line.text.length, merged, cur = line;\n    while (merged = collapsedSpanAtStart(cur)) {\n      var found = merged.find(0, true);\n      cur = found.from.line;\n      len += found.from.ch - found.to.ch;\n    }\n    cur = line;\n    while (merged = collapsedSpanAtEnd(cur)) {\n      var found$1 = merged.find(0, true);\n      len -= cur.text.length - found$1.from.ch;\n      cur = found$1.to.line;\n      len += cur.text.length - found$1.to.ch;\n    }\n    return len\n  }\n\n  \/\/ Find the longest line in the document.\n  function findMaxLine(cm) {\n    var d = cm.display, doc = cm.doc;\n    d.maxLine = getLine(doc, doc.first);\n    d.maxLineLength = lineLength(d.maxLine);\n    d.maxLineChanged = true;\n    doc.iter(function (line) {\n      var len = lineLength(line);\n      if (len > d.maxLineLength) {\n        d.maxLineLength = len;\n        d.maxLine = line;\n      }\n    });\n  }\n\n  \/\/ LINE DATA STRUCTURE\n\n  \/\/ Line objects. These hold state related to a line, including\n  \/\/ highlighting info (the styles array).\n  var Line = function(text, markedSpans, estimateHeight) {\n    this.text = text;\n    attachMarkedSpans(this, markedSpans);\n    this.height = estimateHeight ? estimateHeight(this) : 1;\n  };\n\n  Line.prototype.lineNo = function () { return lineNo(this) };\n  eventMixin(Line);\n\n  \/\/ Change the content (text, markers) of a line. Automatically\n  \/\/ invalidates cached information and tries to re-estimate the\n  \/\/ line's height.\n  function updateLine(line, text, markedSpans, estimateHeight) {\n    line.text = text;\n    if (line.stateAfter) { line.stateAfter = null; }\n    if (line.styles) { line.styles = null; }\n    if (line.order != null) { line.order = null; }\n    detachMarkedSpans(line);\n    attachMarkedSpans(line, markedSpans);\n    var estHeight = estimateHeight ? estimateHeight(line) : 1;\n    if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n  }\n\n  \/\/ Detach a line from the document tree and its markers.\n  function cleanUpLine(line) {\n    line.parent = null;\n    detachMarkedSpans(line);\n  }\n\n  \/\/ Convert a style as returned by a mode (either null, or a string\n  \/\/ containing one or more styles) to a CSS style. This is cached,\n  \/\/ and also looks for line-wide styles.\n  var styleToClassCache = {}, styleToClassCacheWithMode = {};\n  function interpretTokenStyle(style, options) {\n    if (!style || \/^\\s*$\/.test(style)) { return null }\n    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n    return cache[style] ||\n      (cache[style] = style.replace(\/\\S+\/g, \"cm-$&\"))\n  }\n\n  \/\/ Render the DOM representation of the text of a line. Also builds\n  \/\/ up a 'line map', which points at the DOM nodes that represent\n  \/\/ specific stretches of text, and is used by the measuring code.\n  \/\/ The returned object contains the DOM node, this map, and\n  \/\/ information about line-wide styles that were set by the mode.\n  function buildLineContent(cm, lineView) {\n    \/\/ The padding-right forces the element to have a 'border', which\n    \/\/ is needed on Webkit to be able to get line-level bounding\n    \/\/ rectangles for it (in measureChar).\n    var content = eltP(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n    var builder = {pre: eltP(\"pre\", [content], \"CodeMirror-line\"), content: content,\n                   col: 0, pos: 0, cm: cm,\n                   trailingSpace: false,\n                   splitSpaces: cm.getOption(\"lineWrapping\")};\n    lineView.measure = {};\n\n    \/\/ Iterate over the logical lines that make up this visual line.\n    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n      var line = i ? lineView.rest[i - 1] : lineView.line, order = (void 0);\n      builder.pos = 0;\n      builder.addToken = buildToken;\n      \/\/ Optionally wire in some hacks into the token-rendering\n      \/\/ algorithm, to deal with browser quirks.\n      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction)))\n        { builder.addToken = buildTokenBadBidi(builder.addToken, order); }\n      builder.map = [];\n      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n      if (line.styleClasses) {\n        if (line.styleClasses.bgClass)\n          { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\"); }\n        if (line.styleClasses.textClass)\n          { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\"); }\n      }\n\n      \/\/ Ensure at least a single node is present, for measuring.\n      if (builder.map.length == 0)\n        { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))); }\n\n      \/\/ Store the map and a cache object for the current logical line\n      if (i == 0) {\n        lineView.measure.map = builder.map;\n        lineView.measure.cache = {};\n      } else {\n  (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)\n        ;(lineView.measure.caches || (lineView.measure.caches = [])).push({});\n      }\n    }\n\n    \/\/ See issue #2901\n    if (webkit) {\n      var last = builder.content.lastChild;\n      if (\/\\bcm-tab\\b\/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\n        { builder.content.className = \"cm-tab-wrap-hack\"; }\n    }\n\n    signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n    if (builder.pre.className)\n      { builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\"); }\n\n    return builder\n  }\n\n  function defaultSpecialCharPlaceholder(ch) {\n    var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n    token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n    token.setAttribute(\"aria-label\", token.title);\n    return token\n  }\n\n  \/\/ Build up the DOM representation for a single token, and add it to\n  \/\/ the line map. Takes care to render special characters separately.\n  function buildToken(builder, text, style, startStyle, endStyle, css, attributes) {\n    if (!text) { return }\n    var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text;\n    var special = builder.cm.state.specialChars, mustWrap = false;\n    var content;\n    if (!special.test(text)) {\n      builder.col += text.length;\n      content = document.createTextNode(displayText);\n      builder.map.push(builder.pos, builder.pos + text.length, content);\n      if (ie && ie_version < 9) { mustWrap = true; }\n      builder.pos += text.length;\n    } else {\n      content = document.createDocumentFragment();\n      var pos = 0;\n      while (true) {\n        special.lastIndex = pos;\n        var m = special.exec(text);\n        var skipped = m ? m.index - pos : text.length - pos;\n        if (skipped) {\n          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt])); }\n          else { content.appendChild(txt); }\n          builder.map.push(builder.pos, builder.pos + skipped, txt);\n          builder.col += skipped;\n          builder.pos += skipped;\n        }\n        if (!m) { break }\n        pos += skipped + 1;\n        var txt$1 = (void 0);\n        if (m[0] == \"\\t\") {\n          var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;\n          txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n          txt$1.setAttribute(\"role\", \"presentation\");\n          txt$1.setAttribute(\"cm-text\", \"\\t\");\n          builder.col += tabWidth;\n        } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n          txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"));\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          builder.col += 1;\n        } else {\n          txt$1 = builder.cm.options.specialCharPlaceholder(m[0]);\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt$1])); }\n          else { content.appendChild(txt$1); }\n          builder.col += 1;\n        }\n        builder.map.push(builder.pos, builder.pos + 1, txt$1);\n        builder.pos++;\n      }\n    }\n    builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32;\n    if (style || startStyle || endStyle || mustWrap || css || attributes) {\n      var fullStyle = style || \"\";\n      if (startStyle) { fullStyle += startStyle; }\n      if (endStyle) { fullStyle += endStyle; }\n      var token = elt(\"span\", [content], fullStyle, css);\n      if (attributes) {\n        for (var attr in attributes) { if (attributes.hasOwnProperty(attr) && attr != \"style\" && attr != \"class\")\n          { token.setAttribute(attr, attributes[attr]); } }\n      }\n      return builder.content.appendChild(token)\n    }\n    builder.content.appendChild(content);\n  }\n\n  \/\/ Change some spaces to NBSP to prevent the browser from collapsing\n  \/\/ trailing spaces at the end of a line when rendering text (issue #1362).\n  function splitSpaces(text, trailingBefore) {\n    if (text.length > 1 && !\/  \/.test(text)) { return text }\n    var spaceBefore = trailingBefore, result = \"\";\n    for (var i = 0; i < text.length; i++) {\n      var ch = text.charAt(i);\n      if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))\n        { ch = \"\\u00a0\"; }\n      result += ch;\n      spaceBefore = ch == \" \";\n    }\n    return result\n  }\n\n  \/\/ Work around nonsense dimensions being reported for stretches of\n  \/\/ right-to-left text.\n  function buildTokenBadBidi(inner, order) {\n    return function (builder, text, style, startStyle, endStyle, css, attributes) {\n      style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n      var start = builder.pos, end = start + text.length;\n      for (;;) {\n        \/\/ Find the part that overlaps with the start of this text\n        var part = (void 0);\n        for (var i = 0; i < order.length; i++) {\n          part = order[i];\n          if (part.to > start && part.from <= start) { break }\n        }\n        if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, css, attributes) }\n        inner(builder, text.slice(0, part.to - start), style, startStyle, null, css, attributes);\n        startStyle = null;\n        text = text.slice(part.to - start);\n        start = part.to;\n      }\n    }\n  }\n\n  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n    var widget = !ignoreWidget && marker.widgetNode;\n    if (widget) { builder.map.push(builder.pos, builder.pos + size, widget); }\n    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n      if (!widget)\n        { widget = builder.content.appendChild(document.createElement(\"span\")); }\n      widget.setAttribute(\"cm-marker\", marker.id);\n    }\n    if (widget) {\n      builder.cm.display.input.setUneditable(widget);\n      builder.content.appendChild(widget);\n    }\n    builder.pos += size;\n    builder.trailingSpace = false;\n  }\n\n  \/\/ Outputs a number of spans to make up a line, taking highlighting\n  \/\/ and marked text into account.\n  function insertLineContent(line, builder, styles) {\n    var spans = line.markedSpans, allText = line.text, at = 0;\n    if (!spans) {\n      for (var i$1 = 1; i$1 < styles.length; i$1+=2)\n        { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)); }\n      return\n    }\n\n    var len = allText.length, pos = 0, i = 1, text = \"\", style, css;\n    var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, collapsed, attributes;\n    for (;;) {\n      if (nextChange == pos) { \/\/ Update current marker set\n        spanStyle = spanEndStyle = spanStartStyle = css = \"\";\n        attributes = null;\n        collapsed = null; nextChange = Infinity;\n        var foundBookmarks = [], endStyles = (void 0);\n        for (var j = 0; j < spans.length; ++j) {\n          var sp = spans[j], m = sp.marker;\n          if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n            foundBookmarks.push(m);\n          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n            if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n              nextChange = sp.to;\n              spanEndStyle = \"\";\n            }\n            if (m.className) { spanStyle += \" \" + m.className; }\n            if (m.css) { css = (css ? css + \";\" : \"\") + m.css; }\n            if (m.startStyle && sp.from == pos) { spanStartStyle += \" \" + m.startStyle; }\n            if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to); }\n            \/\/ support for the old title property\n            \/\/ https:\/\/github.com\/codemirror\/CodeMirror\/pull\/5673\n            if (m.title) { (attributes || (attributes = {})).title = m.title; }\n            if (m.attributes) {\n              for (var attr in m.attributes)\n                { (attributes || (attributes = {}))[attr] = m.attributes[attr]; }\n            }\n            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\n              { collapsed = sp; }\n          } else if (sp.from > pos && nextChange > sp.from) {\n            nextChange = sp.from;\n          }\n        }\n        if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)\n          { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += \" \" + endStyles[j$1]; } } }\n\n        if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)\n          { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]); } }\n        if (collapsed && (collapsed.from || 0) == pos) {\n          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\n                             collapsed.marker, collapsed.from == null);\n          if (collapsed.to == null) { return }\n          if (collapsed.to == pos) { collapsed = false; }\n        }\n      }\n      if (pos >= len) { break }\n\n      var upto = Math.min(len, nextChange);\n      while (true) {\n        if (text) {\n          var end = pos + text.length;\n          if (!collapsed) {\n            var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\n                             spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", css, attributes);\n          }\n          if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}\n          pos = end;\n          spanStartStyle = \"\";\n        }\n        text = allText.slice(at, at = styles[i++]);\n        style = interpretTokenStyle(styles[i++], builder.cm.options);\n      }\n    }\n  }\n\n\n  \/\/ These objects are used to represent the visible (currently drawn)\n  \/\/ part of the document. A LineView may correspond to multiple\n  \/\/ logical lines, if those are connected by collapsed ranges.\n  function LineView(doc, line, lineN) {\n    \/\/ The starting line\n    this.line = line;\n    \/\/ Continuing lines, if any\n    this.rest = visualLineContinued(line);\n    \/\/ Number of logical lines in this visual line\n    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n    this.node = this.text = null;\n    this.hidden = lineIsHidden(doc, line);\n  }\n\n  \/\/ Create a range of LineView objects for the given lines.\n  function buildViewArray(cm, from, to) {\n    var array = [], nextPos;\n    for (var pos = from; pos < to; pos = nextPos) {\n      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n      nextPos = pos + view.size;\n      array.push(view);\n    }\n    return array\n  }\n\n  var operationGroup = null;\n\n  function pushOperation(op) {\n    if (operationGroup) {\n      operationGroup.ops.push(op);\n    } else {\n      op.ownsGroup = operationGroup = {\n        ops: [op],\n        delayedCallbacks: []\n      };\n    }\n  }\n\n  function fireCallbacksForOps(group) {\n    \/\/ Calls delayed callbacks and cursorActivity handlers until no\n    \/\/ new ones appear\n    var callbacks = group.delayedCallbacks, i = 0;\n    do {\n      for (; i < callbacks.length; i++)\n        { callbacks[i].call(null); }\n      for (var j = 0; j < group.ops.length; j++) {\n        var op = group.ops[j];\n        if (op.cursorActivityHandlers)\n          { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\n            { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm); } }\n      }\n    } while (i < callbacks.length)\n  }\n\n  function finishOperation(op, endCb) {\n    var group = op.ownsGroup;\n    if (!group) { return }\n\n    try { fireCallbacksForOps(group); }\n    finally {\n      operationGroup = null;\n      endCb(group);\n    }\n  }\n\n  var orphanDelayedCallbacks = null;\n\n  \/\/ Often, we want to signal events at a point where we are in the\n  \/\/ middle of some work, but don't want the handler to start calling\n  \/\/ other methods on the editor, which might be in an inconsistent\n  \/\/ state or simply not expect any other events to happen.\n  \/\/ signalLater looks whether there are any handlers, and schedules\n  \/\/ them to be executed when the last operation ends, or, if no\n  \/\/ operation is active, when a timeout fires.\n  function signalLater(emitter, type \/*, values...*\/) {\n    var arr = getHandlers(emitter, type);\n    if (!arr.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2), list;\n    if (operationGroup) {\n      list = operationGroup.delayedCallbacks;\n    } else if (orphanDelayedCallbacks) {\n      list = orphanDelayedCallbacks;\n    } else {\n      list = orphanDelayedCallbacks = [];\n      setTimeout(fireOrphanDelayed, 0);\n    }\n    var loop = function ( i ) {\n      list.push(function () { return arr[i].apply(null, args); });\n    };\n\n    for (var i = 0; i < arr.length; ++i)\n      loop( i );\n  }\n\n  function fireOrphanDelayed() {\n    var delayed = orphanDelayedCallbacks;\n    orphanDelayedCallbacks = null;\n    for (var i = 0; i < delayed.length; ++i) { delayed[i](); }\n  }\n\n  \/\/ When an aspect of a line changes, a string is added to\n  \/\/ lineView.changes. This updates the relevant part of the line's\n  \/\/ DOM structure.\n  function updateLineForChanges(cm, lineView, lineN, dims) {\n    for (var j = 0; j < lineView.changes.length; j++) {\n      var type = lineView.changes[j];\n      if (type == \"text\") { updateLineText(cm, lineView); }\n      else if (type == \"gutter\") { updateLineGutter(cm, lineView, lineN, dims); }\n      else if (type == \"class\") { updateLineClasses(cm, lineView); }\n      else if (type == \"widget\") { updateLineWidgets(cm, lineView, dims); }\n    }\n    lineView.changes = null;\n  }\n\n  \/\/ Lines with gutter elements, widgets or a background class need to\n  \/\/ be wrapped, and have the extra elements added to the wrapper div\n  function ensureLineWrapped(lineView) {\n    if (lineView.node == lineView.text) {\n      lineView.node = elt(\"div\", null, null, \"position: relative\");\n      if (lineView.text.parentNode)\n        { lineView.text.parentNode.replaceChild(lineView.node, lineView.text); }\n      lineView.node.appendChild(lineView.text);\n      if (ie && ie_version < 8) { lineView.node.style.zIndex = 2; }\n    }\n    return lineView.node\n  }\n\n  function updateLineBackground(cm, lineView) {\n    var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n    if (cls) { cls += \" CodeMirror-linebackground\"; }\n    if (lineView.background) {\n      if (cls) { lineView.background.className = cls; }\n      else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null; }\n    } else if (cls) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n      cm.display.input.setUneditable(lineView.background);\n    }\n  }\n\n  \/\/ Wrapper around buildLineContent which will reuse the structure\n  \/\/ in display.externalMeasured when possible.\n  function getLineContent(cm, lineView) {\n    var ext = cm.display.externalMeasured;\n    if (ext && ext.line == lineView.line) {\n      cm.display.externalMeasured = null;\n      lineView.measure = ext.measure;\n      return ext.built\n    }\n    return buildLineContent(cm, lineView)\n  }\n\n  \/\/ Redraw the line's text. Interacts with the background and text\n  \/\/ classes because the mode may output tokens that influence these\n  \/\/ classes.\n  function updateLineText(cm, lineView) {\n    var cls = lineView.text.className;\n    var built = getLineContent(cm, lineView);\n    if (lineView.text == lineView.node) { lineView.node = built.pre; }\n    lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n    lineView.text = built.pre;\n    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n      lineView.bgClass = built.bgClass;\n      lineView.textClass = built.textClass;\n      updateLineClasses(cm, lineView);\n    } else if (cls) {\n      lineView.text.className = cls;\n    }\n  }\n\n  function updateLineClasses(cm, lineView) {\n    updateLineBackground(cm, lineView);\n    if (lineView.line.wrapClass)\n      { ensureLineWrapped(lineView).className = lineView.line.wrapClass; }\n    else if (lineView.node != lineView.text)\n      { lineView.node.className = \"\"; }\n    var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n    lineView.text.className = textClass || \"\";\n  }\n\n  function updateLineGutter(cm, lineView, lineN, dims) {\n    if (lineView.gutter) {\n      lineView.node.removeChild(lineView.gutter);\n      lineView.gutter = null;\n    }\n    if (lineView.gutterBackground) {\n      lineView.node.removeChild(lineView.gutterBackground);\n      lineView.gutterBackground = null;\n    }\n    if (lineView.line.gutterClass) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\n                                      (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + (dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(lineView.gutterBackground);\n      wrap.insertBefore(lineView.gutterBackground, lineView.text);\n    }\n    var markers = lineView.line.gutterMarkers;\n    if (cm.options.lineNumbers || markers) {\n      var wrap$1 = ensureLineWrapped(lineView);\n      var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(gutterWrap);\n      wrap$1.insertBefore(gutterWrap, lineView.text);\n      if (lineView.line.gutterClass)\n        { gutterWrap.className += \" \" + lineView.line.gutterClass; }\n      if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\n        { lineView.lineNumber = gutterWrap.appendChild(\n          elt(\"div\", lineNumberFor(cm.options, lineN),\n              \"CodeMirror-linenumber CodeMirror-gutter-elt\",\n              (\"left: \" + (dims.gutterLeft[\"CodeMirror-linenumbers\"]) + \"px; width: \" + (cm.display.lineNumInnerWidth) + \"px\"))); }\n      if (markers) { for (var k = 0; k < cm.display.gutterSpecs.length; ++k) {\n        var id = cm.display.gutterSpecs[k].className, found = markers.hasOwnProperty(id) && markers[id];\n        if (found)\n          { gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\",\n                                     (\"left: \" + (dims.gutterLeft[id]) + \"px; width: \" + (dims.gutterWidth[id]) + \"px\"))); }\n      } }\n    }\n  }\n\n  function updateLineWidgets(cm, lineView, dims) {\n    if (lineView.alignable) { lineView.alignable = null; }\n    var isWidget = classTest(\"CodeMirror-linewidget\");\n    for (var node = lineView.node.firstChild, next = (void 0); node; node = next) {\n      next = node.nextSibling;\n      if (isWidget.test(node.className)) { lineView.node.removeChild(node); }\n    }\n    insertLineWidgets(cm, lineView, dims);\n  }\n\n  \/\/ Build a line's DOM representation from scratch\n  function buildLineElement(cm, lineView, lineN, dims) {\n    var built = getLineContent(cm, lineView);\n    lineView.text = lineView.node = built.pre;\n    if (built.bgClass) { lineView.bgClass = built.bgClass; }\n    if (built.textClass) { lineView.textClass = built.textClass; }\n\n    updateLineClasses(cm, lineView);\n    updateLineGutter(cm, lineView, lineN, dims);\n    insertLineWidgets(cm, lineView, dims);\n    return lineView.node\n  }\n\n  \/\/ A lineView may contain multiple logical lines (when merged by\n  \/\/ collapsed spans). The widgets for all of them need to be drawn.\n  function insertLineWidgets(cm, lineView, dims) {\n    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n      { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false); } }\n  }\n\n  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n    if (!line.widgets) { return }\n    var wrap = ensureLineWrapped(lineView);\n    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n      var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\" + (widget.className ? \" \" + widget.className : \"\"));\n      if (!widget.handleMouseEvents) { node.setAttribute(\"cm-ignore-events\", \"true\"); }\n      positionLineWidget(widget, node, lineView, dims);\n      cm.display.input.setUneditable(node);\n      if (allowAbove && widget.above)\n        { wrap.insertBefore(node, lineView.gutter || lineView.text); }\n      else\n        { wrap.appendChild(node); }\n      signalLater(widget, \"redraw\");\n    }\n  }\n\n  function positionLineWidget(widget, node, lineView, dims) {\n    if (widget.noHScroll) {\n  (lineView.alignable || (lineView.alignable = [])).push(node);\n      var width = dims.wrapperWidth;\n      node.style.left = dims.fixedPos + \"px\";\n      if (!widget.coverGutter) {\n        width -= dims.gutterTotalWidth;\n        node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n      }\n      node.style.width = width + \"px\";\n    }\n    if (widget.coverGutter) {\n      node.style.zIndex = 5;\n      node.style.position = \"relative\";\n      if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + \"px\"; }\n    }\n  }\n\n  function widgetHeight(widget) {\n    if (widget.height != null) { return widget.height }\n    var cm = widget.doc.cm;\n    if (!cm) { return 0 }\n    if (!contains(document.body, widget.node)) {\n      var parentStyle = \"position: relative;\";\n      if (widget.coverGutter)\n        { parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\"; }\n      if (widget.noHScroll)\n        { parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\"; }\n      removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n    }\n    return widget.height = widget.node.parentNode.offsetHeight\n  }\n\n  \/\/ Return true when the given mouse event happened in a widget\n  function eventInWidget(display, e) {\n    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n      if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\n          (n.parentNode == display.sizer && n != display.mover))\n        { return true }\n    }\n  }\n\n  \/\/ POSITION MEASUREMENT\n\n  function paddingTop(display) {return display.lineSpace.offsetTop}\n  function paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}\n  function paddingH(display) {\n    if (display.cachedPaddingH) { return display.cachedPaddingH }\n    var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\", \"CodeMirror-line-like\"));\n    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n    var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)};\n    if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data; }\n    return data\n  }\n\n  function scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }\n  function displayWidth(cm) {\n    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth\n  }\n  function displayHeight(cm) {\n    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight\n  }\n\n  \/\/ Ensure the lineView.wrapping.heights array is populated. This is\n  \/\/ an array of bottom offsets for the lines that make up a drawn\n  \/\/ line. When lineWrapping is on, there might be more than one\n  \/\/ height.\n  function ensureLineHeights(cm, lineView, rect) {\n    var wrapping = cm.options.lineWrapping;\n    var curWidth = wrapping && displayWidth(cm);\n    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n      var heights = lineView.measure.heights = [];\n      if (wrapping) {\n        lineView.measure.width = curWidth;\n        var rects = lineView.text.firstChild.getClientRects();\n        for (var i = 0; i < rects.length - 1; i++) {\n          var cur = rects[i], next = rects[i + 1];\n          if (Math.abs(cur.bottom - next.bottom) > 2)\n            { heights.push((cur.bottom + next.top) \/ 2 - rect.top); }\n        }\n      }\n      heights.push(rect.bottom - rect.top);\n    }\n  }\n\n  \/\/ Find a line map (mapping character offsets to text nodes) and a\n  \/\/ measurement cache for the given line number. (A line view might\n  \/\/ contain multiple lines when collapsed ranges are present.)\n  function mapFromLineView(lineView, line, lineN) {\n    if (lineView.line == line)\n      { return {map: lineView.measure.map, cache: lineView.measure.cache} }\n    for (var i = 0; i < lineView.rest.length; i++)\n      { if (lineView.rest[i] == line)\n        { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }\n    for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)\n      { if (lineNo(lineView.rest[i$1]) > lineN)\n        { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }\n  }\n\n  \/\/ Render a line into the hidden node display.externalMeasured. Used\n  \/\/ when measurement is needed for a line that's not in the viewport.\n  function updateExternalMeasurement(cm, line) {\n    line = visualLine(line);\n    var lineN = lineNo(line);\n    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n    view.lineN = lineN;\n    var built = view.built = buildLineContent(cm, view);\n    view.text = built.pre;\n    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n    return view\n  }\n\n  \/\/ Get a {top, bottom, left, right} box (in line-local coordinates)\n  \/\/ for a given character.\n  function measureChar(cm, line, ch, bias) {\n    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)\n  }\n\n  \/\/ Find a line view that corresponds to the given line number.\n  function findViewForLine(cm, lineN) {\n    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\n      { return cm.display.view[findViewIndex(cm, lineN)] }\n    var ext = cm.display.externalMeasured;\n    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\n      { return ext }\n  }\n\n  \/\/ Measurement can be split in two steps, the set-up work that\n  \/\/ applies to the whole line, and the measurement of the actual\n  \/\/ character. Functions like coordsChar, that need to do a lot of\n  \/\/ measurements in a row, can thus ensure that the set-up work is\n  \/\/ only done once.\n  function prepareMeasureForLine(cm, line) {\n    var lineN = lineNo(line);\n    var view = findViewForLine(cm, lineN);\n    if (view && !view.text) {\n      view = null;\n    } else if (view && view.changes) {\n      updateLineForChanges(cm, view, lineN, getDimensions(cm));\n      cm.curOp.forceUpdate = true;\n    }\n    if (!view)\n      { view = updateExternalMeasurement(cm, line); }\n\n    var info = mapFromLineView(view, line, lineN);\n    return {\n      line: line, view: view, rect: null,\n      map: info.map, cache: info.cache, before: info.before,\n      hasHeights: false\n    }\n  }\n\n  \/\/ Given a prepared measurement object, measures the position of an\n  \/\/ actual character (or fetches it from the cache).\n  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n    if (prepared.before) { ch = -1; }\n    var key = ch + (bias || \"\"), found;\n    if (prepared.cache.hasOwnProperty(key)) {\n      found = prepared.cache[key];\n    } else {\n      if (!prepared.rect)\n        { prepared.rect = prepared.view.text.getBoundingClientRect(); }\n      if (!prepared.hasHeights) {\n        ensureLineHeights(cm, prepared.view, prepared.rect);\n        prepared.hasHeights = true;\n      }\n      found = measureCharInner(cm, prepared, ch, bias);\n      if (!found.bogus) { prepared.cache[key] = found; }\n    }\n    return {left: found.left, right: found.right,\n            top: varHeight ? found.rtop : found.top,\n            bottom: varHeight ? found.rbottom : found.bottom}\n  }\n\n  var nullRect = {left: 0, right: 0, top: 0, bottom: 0};\n\n  function nodeAndOffsetInLineMap(map, ch, bias) {\n    var node, start, end, collapse, mStart, mEnd;\n    \/\/ First, search the line map for the text node corresponding to,\n    \/\/ or closest to, the target character.\n    for (var i = 0; i < map.length; i += 3) {\n      mStart = map[i];\n      mEnd = map[i + 1];\n      if (ch < mStart) {\n        start = 0; end = 1;\n        collapse = \"left\";\n      } else if (ch < mEnd) {\n        start = ch - mStart;\n        end = start + 1;\n      } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {\n        end = mEnd - mStart;\n        start = end - 1;\n        if (ch >= mEnd) { collapse = \"right\"; }\n      }\n      if (start != null) {\n        node = map[i + 2];\n        if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\n          { collapse = bias; }\n        if (bias == \"left\" && start == 0)\n          { while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {\n            node = map[(i -= 3) + 2];\n            collapse = \"left\";\n          } }\n        if (bias == \"right\" && start == mEnd - mStart)\n          { while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {\n            node = map[(i += 3) + 2];\n            collapse = \"right\";\n          } }\n        break\n      }\n    }\n    return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}\n  }\n\n  function getUsefulRect(rects, bias) {\n    var rect = nullRect;\n    if (bias == \"left\") { for (var i = 0; i < rects.length; i++) {\n      if ((rect = rects[i]).left != rect.right) { break }\n    } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n      if ((rect = rects[i$1]).left != rect.right) { break }\n    } }\n    return rect\n  }\n\n  function measureCharInner(cm, prepared, ch, bias) {\n    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n    var node = place.node, start = place.start, end = place.end, collapse = place.collapse;\n\n    var rect;\n    if (node.nodeType == 3) { \/\/ If it is a text node, use a range to retrieve the coordinates.\n      for (var i$1 = 0; i$1 < 4; i$1++) { \/\/ Retry a maximum of 4 times when nonsense rectangles are returned\n        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start; }\n        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end; }\n        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)\n          { rect = node.parentNode.getBoundingClientRect(); }\n        else\n          { rect = getUsefulRect(range(node, start, end).getClientRects(), bias); }\n        if (rect.left || rect.right || start == 0) { break }\n        end = start;\n        start = start - 1;\n        collapse = \"right\";\n      }\n      if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect); }\n    } else { \/\/ If it is a widget, simply get the box for the whole widget.\n      if (start > 0) { collapse = bias = \"right\"; }\n      var rects;\n      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\n        { rect = rects[bias == \"right\" ? rects.length - 1 : 0]; }\n      else\n        { rect = node.getBoundingClientRect(); }\n    }\n    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n      var rSpan = node.parentNode.getClientRects()[0];\n      if (rSpan)\n        { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom}; }\n      else\n        { rect = nullRect; }\n    }\n\n    var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;\n    var mid = (rtop + rbot) \/ 2;\n    var heights = prepared.view.measure.heights;\n    var i = 0;\n    for (; i < heights.length - 1; i++)\n      { if (mid < heights[i]) { break } }\n    var top = i ? heights[i - 1] : 0, bot = heights[i];\n    var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n                  right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n                  top: top, bottom: bot};\n    if (!rect.left && !rect.right) { result.bogus = true; }\n    if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot; }\n\n    return result\n  }\n\n  \/\/ Work around problem with bounding client rects on ranges being\n  \/\/ returned incorrectly when zoomed on IE10 and below.\n  function maybeUpdateRectForZooming(measure, rect) {\n    if (!window.screen || screen.logicalXDPI == null ||\n        screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\n      { return rect }\n    var scaleX = screen.logicalXDPI \/ screen.deviceXDPI;\n    var scaleY = screen.logicalYDPI \/ screen.deviceYDPI;\n    return {left: rect.left * scaleX, right: rect.right * scaleX,\n            top: rect.top * scaleY, bottom: rect.bottom * scaleY}\n  }\n\n  function clearLineMeasurementCacheFor(lineView) {\n    if (lineView.measure) {\n      lineView.measure.cache = {};\n      lineView.measure.heights = null;\n      if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n        { lineView.measure.caches[i] = {}; } }\n    }\n  }\n\n  function clearLineMeasurementCache(cm) {\n    cm.display.externalMeasure = null;\n    removeChildren(cm.display.lineMeasure);\n    for (var i = 0; i < cm.display.view.length; i++)\n      { clearLineMeasurementCacheFor(cm.display.view[i]); }\n  }\n\n  function clearCaches(cm) {\n    clearLineMeasurementCache(cm);\n    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n    if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true; }\n    cm.display.lineNumChars = null;\n  }\n\n  function pageScrollX() {\n    \/\/ Work around https:\/\/bugs.chromium.org\/p\/chromium\/issues\/detail?id=489206\n    \/\/ which causes page_Offset and bounding client rects to use\n    \/\/ different reference viewports and invalidate our calculations.\n    if (chrome && android) { return -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft)) }\n    return window.pageXOffset || (document.documentElement || document.body).scrollLeft\n  }\n  function pageScrollY() {\n    if (chrome && android) { return -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop)) }\n    return window.pageYOffset || (document.documentElement || document.body).scrollTop\n  }\n\n  function widgetTopHeight(lineObj) {\n    var height = 0;\n    if (lineObj.widgets) { for (var i = 0; i < lineObj.widgets.length; ++i) { if (lineObj.widgets[i].above)\n      { height += widgetHeight(lineObj.widgets[i]); } } }\n    return height\n  }\n\n  \/\/ Converts a {top, bottom, left, right} box from line-local\n  \/\/ coordinates into another coordinate system. Context may be one of\n  \/\/ \"line\", \"div\" (display.lineDiv), \"local\".\/null (editor), \"window\",\n  \/\/ or \"page\".\n  function intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n    if (!includeWidgets) {\n      var height = widgetTopHeight(lineObj);\n      rect.top += height; rect.bottom += height;\n    }\n    if (context == \"line\") { return rect }\n    if (!context) { context = \"local\"; }\n    var yOff = heightAtLine(lineObj);\n    if (context == \"local\") { yOff += paddingTop(cm.display); }\n    else { yOff -= cm.display.viewOffset; }\n    if (context == \"page\" || context == \"window\") {\n      var lOff = cm.display.lineSpace.getBoundingClientRect();\n      yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY());\n      var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX());\n      rect.left += xOff; rect.right += xOff;\n    }\n    rect.top += yOff; rect.bottom += yOff;\n    return rect\n  }\n\n  \/\/ Coverts a box from \"div\" coords to another coordinate system.\n  \/\/ Context may be \"window\", \"page\", \"div\", or \"local\".\/null.\n  function fromCoordSystem(cm, coords, context) {\n    if (context == \"div\") { return coords }\n    var left = coords.left, top = coords.top;\n    \/\/ First move into \"page\" coordinate system\n    if (context == \"page\") {\n      left -= pageScrollX();\n      top -= pageScrollY();\n    } else if (context == \"local\" || !context) {\n      var localBox = cm.display.sizer.getBoundingClientRect();\n      left += localBox.left;\n      top += localBox.top;\n    }\n\n    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n    return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}\n  }\n\n  function charCoords(cm, pos, context, lineObj, bias) {\n    if (!lineObj) { lineObj = getLine(cm.doc, pos.line); }\n    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)\n  }\n\n  \/\/ Returns a box for a given cursor position, which may have an\n  \/\/ 'other' property containing the position of the secondary cursor\n  \/\/ on a bidi boundary.\n  \/\/ A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\n  \/\/ and after `char - 1` in writing order of `char - 1`\n  \/\/ A cursor Pos(line, char, \"after\") is on the same visual line as `char`\n  \/\/ and before `char` in writing order of `char`\n  \/\/ Examples (upper-case letters are RTL, lower-case are LTR):\n  \/\/     Pos(0, 1, ...)\n  \/\/     before   after\n  \/\/ ab     a|b     a|b\n  \/\/ aB     a|B     aB|\n  \/\/ Ab     |Ab     A|b\n  \/\/ AB     B|A     B|A\n  \/\/ Every position after the last character on a line is considered to stick\n  \/\/ to the last character on the line.\n  function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n    lineObj = lineObj || getLine(cm.doc, pos.line);\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    function get(ch, right) {\n      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n      if (right) { m.left = m.right; } else { m.right = m.left; }\n      return intoCoordSystem(cm, lineObj, m, context)\n    }\n    var order = getOrder(lineObj, cm.doc.direction), ch = pos.ch, sticky = pos.sticky;\n    if (ch >= lineObj.text.length) {\n      ch = lineObj.text.length;\n      sticky = \"before\";\n    } else if (ch <= 0) {\n      ch = 0;\n      sticky = \"after\";\n    }\n    if (!order) { return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\") }\n\n    function getBidi(ch, partPos, invert) {\n      var part = order[partPos], right = part.level == 1;\n      return get(invert ? ch - 1 : ch, right != invert)\n    }\n    var partPos = getBidiPartAt(order, ch, sticky);\n    var other = bidiOther;\n    var val = getBidi(ch, partPos, sticky == \"before\");\n    if (other != null) { val.other = getBidi(ch, other, sticky != \"before\"); }\n    return val\n  }\n\n  \/\/ Used to cheaply estimate the coordinates for a position. Used for\n  \/\/ intermediate scroll updates.\n  function estimateCoords(cm, pos) {\n    var left = 0;\n    pos = clipPos(cm.doc, pos);\n    if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch; }\n    var lineObj = getLine(cm.doc, pos.line);\n    var top = heightAtLine(lineObj) + paddingTop(cm.display);\n    return {left: left, right: left, top: top, bottom: top + lineObj.height}\n  }\n\n  \/\/ Positions returned by coordsChar contain some extra information.\n  \/\/ xRel is the relative x position of the input coordinates compared\n  \/\/ to the found position (so xRel > 0 means the coordinates are to\n  \/\/ the right of the character position, for example). When outside\n  \/\/ is true, that means the coordinates lie outside the line's\n  \/\/ vertical range.\n  function PosWithInfo(line, ch, sticky, outside, xRel) {\n    var pos = Pos(line, ch, sticky);\n    pos.xRel = xRel;\n    if (outside) { pos.outside = outside; }\n    return pos\n  }\n\n  \/\/ Compute the character position closest to the given coordinates.\n  \/\/ Input must be lineSpace-local (\"div\" coordinate system).\n  function coordsChar(cm, x, y) {\n    var doc = cm.doc;\n    y += cm.display.viewOffset;\n    if (y < 0) { return PosWithInfo(doc.first, 0, null, -1, -1) }\n    var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1;\n    if (lineN > last)\n      { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, 1, 1) }\n    if (x < 0) { x = 0; }\n\n    var lineObj = getLine(doc, lineN);\n    for (;;) {\n      var found = coordsCharInner(cm, lineObj, lineN, x, y);\n      var collapsed = collapsedSpanAround(lineObj, found.ch + (found.xRel > 0 || found.outside > 0 ? 1 : 0));\n      if (!collapsed) { return found }\n      var rangeEnd = collapsed.find(1);\n      if (rangeEnd.line == lineN) { return rangeEnd }\n      lineObj = getLine(doc, lineN = rangeEnd.line);\n    }\n  }\n\n  function wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\n    y -= widgetTopHeight(lineObj);\n    var end = lineObj.text.length;\n    var begin = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y; }, end, 0);\n    end = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch).top > y; }, begin, end);\n    return {begin: begin, end: end}\n  }\n\n  function wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top;\n    return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop)\n  }\n\n  \/\/ Returns true if the given side of a box is after the given\n  \/\/ coordinates, in top-to-bottom, left-to-right order.\n  function boxIsAfter(box, x, y, left) {\n    return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x\n  }\n\n  function coordsCharInner(cm, lineObj, lineNo, x, y) {\n    \/\/ Move y into line-local coordinate space\n    y -= heightAtLine(lineObj);\n    var preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    \/\/ When directly calling `measureCharPrepared`, we have to adjust\n    \/\/ for the widgets at this line.\n    var widgetHeight = widgetTopHeight(lineObj);\n    var begin = 0, end = lineObj.text.length, ltr = true;\n\n    var order = getOrder(lineObj, cm.doc.direction);\n    \/\/ If the line isn't plain left-to-right text, first figure out\n    \/\/ which bidi section the coordinates fall into.\n    if (order) {\n      var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)\n                   (cm, lineObj, lineNo, preparedMeasure, order, x, y);\n      ltr = part.level != 1;\n      \/\/ The awkward -1 offsets are needed because findFirst (called\n      \/\/ on these below) will treat its first bound as inclusive,\n      \/\/ second as exclusive, but we want to actually address the\n      \/\/ characters in the part's range\n      begin = ltr ? part.from : part.to - 1;\n      end = ltr ? part.to : part.from - 1;\n    }\n\n    \/\/ A binary search to find the first character whose bounding box\n    \/\/ starts after the coordinates. If we run across any whose box wrap\n    \/\/ the coordinates, store that.\n    var chAround = null, boxAround = null;\n    var ch = findFirst(function (ch) {\n      var box = measureCharPrepared(cm, preparedMeasure, ch);\n      box.top += widgetHeight; box.bottom += widgetHeight;\n      if (!boxIsAfter(box, x, y, false)) { return false }\n      if (box.top <= y && box.left <= x) {\n        chAround = ch;\n        boxAround = box;\n      }\n      return true\n    }, begin, end);\n\n    var baseX, sticky, outside = false;\n    \/\/ If a box around the coordinates was found, use that\n    if (boxAround) {\n      \/\/ Distinguish coordinates nearer to the left or right side of the box\n      var atLeft = x - boxAround.left < boxAround.right - x, atStart = atLeft == ltr;\n      ch = chAround + (atStart ? 0 : 1);\n      sticky = atStart ? \"after\" : \"before\";\n      baseX = atLeft ? boxAround.left : boxAround.right;\n    } else {\n      \/\/ (Adjust for extended bound, if necessary.)\n      if (!ltr && (ch == end || ch == begin)) { ch++; }\n      \/\/ To determine which side to associate with, get the box to the\n      \/\/ left of the character and compare it's vertical position to the\n      \/\/ coordinates\n      sticky = ch == 0 ? \"after\" : ch == lineObj.text.length ? \"before\" :\n        (measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight <= y) == ltr ?\n        \"after\" : \"before\";\n      \/\/ Now get accurate coordinates for this place, in order to get a\n      \/\/ base X position\n      var coords = cursorCoords(cm, Pos(lineNo, ch, sticky), \"line\", lineObj, preparedMeasure);\n      baseX = coords.left;\n      outside = y < coords.top ? -1 : y >= coords.bottom ? 1 : 0;\n    }\n\n    ch = skipExtendingChars(lineObj.text, ch, 1);\n    return PosWithInfo(lineNo, ch, sticky, outside, x - baseX)\n  }\n\n  function coordsBidiPart(cm, lineObj, lineNo, preparedMeasure, order, x, y) {\n    \/\/ Bidi parts are sorted left-to-right, and in a non-line-wrapping\n    \/\/ situation, we can take this ordering to correspond to the visual\n    \/\/ ordering. This finds the first part whose end is after the given\n    \/\/ coordinates.\n    var index = findFirst(function (i) {\n      var part = order[i], ltr = part.level != 1;\n      return boxIsAfter(cursorCoords(cm, Pos(lineNo, ltr ? part.to : part.from, ltr ? \"before\" : \"after\"),\n                                     \"line\", lineObj, preparedMeasure), x, y, true)\n    }, 0, order.length - 1);\n    var part = order[index];\n    \/\/ If this isn't the first part, the part's start is also after\n    \/\/ the coordinates, and the coordinates aren't on the same line as\n    \/\/ that start, move one part back.\n    if (index > 0) {\n      var ltr = part.level != 1;\n      var start = cursorCoords(cm, Pos(lineNo, ltr ? part.from : part.to, ltr ? \"after\" : \"before\"),\n                               \"line\", lineObj, preparedMeasure);\n      if (boxIsAfter(start, x, y, true) && start.top > y)\n        { part = order[index - 1]; }\n    }\n    return part\n  }\n\n  function coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {\n    \/\/ In a wrapped line, rtl text on wrapping boundaries can do things\n    \/\/ that don't correspond to the ordering in our `order` array at\n    \/\/ all, so a binary search doesn't work, and we want to return a\n    \/\/ part that only spans one line so that the binary search in\n    \/\/ coordsCharInner is safe. As such, we first find the extent of the\n    \/\/ wrapped line, and then do a flat search in which we discard any\n    \/\/ spans that aren't on the line.\n    var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);\n    var begin = ref.begin;\n    var end = ref.end;\n    if (\/\\s\/.test(lineObj.text.charAt(end - 1))) { end--; }\n    var part = null, closestDist = null;\n    for (var i = 0; i < order.length; i++) {\n      var p = order[i];\n      if (p.from >= end || p.to <= begin) { continue }\n      var ltr = p.level != 1;\n      var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right;\n      \/\/ Weigh against spans ending before this, so that they are only\n      \/\/ picked if nothing ends after\n      var dist = endX < x ? x - endX + 1e9 : endX - x;\n      if (!part || closestDist > dist) {\n        part = p;\n        closestDist = dist;\n      }\n    }\n    if (!part) { part = order[order.length - 1]; }\n    \/\/ Clip the part to the wrapped line.\n    if (part.from < begin) { part = {from: begin, to: part.to, level: part.level}; }\n    if (part.to > end) { part = {from: part.from, to: end, level: part.level}; }\n    return part\n  }\n\n  var measureText;\n  \/\/ Compute the default text height.\n  function textHeight(display) {\n    if (display.cachedTextHeight != null) { return display.cachedTextHeight }\n    if (measureText == null) {\n      measureText = elt(\"pre\", null, \"CodeMirror-line-like\");\n      \/\/ Measure a bunch of lines, for browsers that compute\n      \/\/ fractional heights.\n      for (var i = 0; i < 49; ++i) {\n        measureText.appendChild(document.createTextNode(\"x\"));\n        measureText.appendChild(elt(\"br\"));\n      }\n      measureText.appendChild(document.createTextNode(\"x\"));\n    }\n    removeChildrenAndAdd(display.measure, measureText);\n    var height = measureText.offsetHeight \/ 50;\n    if (height > 3) { display.cachedTextHeight = height; }\n    removeChildren(display.measure);\n    return height || 1\n  }\n\n  \/\/ Compute the default character width.\n  function charWidth(display) {\n    if (display.cachedCharWidth != null) { return display.cachedCharWidth }\n    var anchor = elt(\"span\", \"xxxxxxxxxx\");\n    var pre = elt(\"pre\", [anchor], \"CodeMirror-line-like\");\n    removeChildrenAndAdd(display.measure, pre);\n    var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) \/ 10;\n    if (width > 2) { display.cachedCharWidth = width; }\n    return width || 10\n  }\n\n  \/\/ Do a bulk-read of the DOM positions and sizes needed to draw the\n  \/\/ view, so that we don't interleave reading and writing to the DOM.\n  function getDimensions(cm) {\n    var d = cm.display, left = {}, width = {};\n    var gutterLeft = d.gutters.clientLeft;\n    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n      var id = cm.display.gutterSpecs[i].className;\n      left[id] = n.offsetLeft + n.clientLeft + gutterLeft;\n      width[id] = n.clientWidth;\n    }\n    return {fixedPos: compensateForHScroll(d),\n            gutterTotalWidth: d.gutters.offsetWidth,\n            gutterLeft: left,\n            gutterWidth: width,\n            wrapperWidth: d.wrapper.clientWidth}\n  }\n\n  \/\/ Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n  \/\/ but using getBoundingClientRect to get a sub-pixel-accurate\n  \/\/ result.\n  function compensateForHScroll(display) {\n    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left\n  }\n\n  \/\/ Returns a function that estimates the height of a line, to use as\n  \/\/ first approximation until the line becomes visible (and is thus\n  \/\/ properly measurable).\n  function estimateHeight(cm) {\n    var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;\n    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth \/ charWidth(cm.display) - 3);\n    return function (line) {\n      if (lineIsHidden(cm.doc, line)) { return 0 }\n\n      var widgetsHeight = 0;\n      if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {\n        if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height; }\n      } }\n\n      if (wrapping)\n        { return widgetsHeight + (Math.ceil(line.text.length \/ perLine) || 1) * th }\n      else\n        { return widgetsHeight + th }\n    }\n  }\n\n  function estimateLineHeights(cm) {\n    var doc = cm.doc, est = estimateHeight(cm);\n    doc.iter(function (line) {\n      var estHeight = est(line);\n      if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n    });\n  }\n\n  \/\/ Given a mouse event, find the corresponding position. If liberal\n  \/\/ is false, it checks whether a gutter or scrollbar was clicked,\n  \/\/ and returns null if it was. forRect is used by rectangular\n  \/\/ selections, and tries to estimate a character position even for\n  \/\/ coordinates beyond the right of the text.\n  function posFromMouse(cm, e, liberal, forRect) {\n    var display = cm.display;\n    if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") { return null }\n\n    var x, y, space = display.lineSpace.getBoundingClientRect();\n    \/\/ Fails unpredictably on IE[67] when mouse is dragged around quickly.\n    try { x = e.clientX - space.left; y = e.clientY - space.top; }\n    catch (e$1) { return null }\n    var coords = coordsChar(cm, x, y), line;\n    if (forRect && coords.xRel > 0 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) \/ charWidth(cm.display)) - colDiff));\n    }\n    return coords\n  }\n\n  \/\/ Find the view element corresponding to a given line. Return null\n  \/\/ when the line isn't visible.\n  function findViewIndex(cm, n) {\n    if (n >= cm.display.viewTo) { return null }\n    n -= cm.display.viewFrom;\n    if (n < 0) { return null }\n    var view = cm.display.view;\n    for (var i = 0; i < view.length; i++) {\n      n -= view[i].size;\n      if (n < 0) { return i }\n    }\n  }\n\n  \/\/ Updates the display.view data structure for a given change to the\n  \/\/ document. From and to are in pre-change coordinates. Lendiff is\n  \/\/ the amount of lines added or subtracted by the change. This is\n  \/\/ used for changes that span multiple lines, or change the way\n  \/\/ lines are divided into visual lines. regLineChange (below)\n  \/\/ registers single-line changes.\n  function regChange(cm, from, to, lendiff) {\n    if (from == null) { from = cm.doc.first; }\n    if (to == null) { to = cm.doc.first + cm.doc.size; }\n    if (!lendiff) { lendiff = 0; }\n\n    var display = cm.display;\n    if (lendiff && to < display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers > from))\n      { display.updateLineNumbers = from; }\n\n    cm.curOp.viewChanged = true;\n\n    if (from >= display.viewTo) { \/\/ Change after\n      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\n        { resetView(cm); }\n    } else if (to <= display.viewFrom) { \/\/ Change before\n      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n        resetView(cm);\n      } else {\n        display.viewFrom += lendiff;\n        display.viewTo += lendiff;\n      }\n    } else if (from <= display.viewFrom && to >= display.viewTo) { \/\/ Full overlap\n      resetView(cm);\n    } else if (from <= display.viewFrom) { \/\/ Top overlap\n      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cut) {\n        display.view = display.view.slice(cut.index);\n        display.viewFrom = cut.lineN;\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    } else if (to >= display.viewTo) { \/\/ Bottom overlap\n      var cut$1 = viewCuttingPoint(cm, from, from, -1);\n      if (cut$1) {\n        display.view = display.view.slice(0, cut$1.index);\n        display.viewTo = cut$1.lineN;\n      } else {\n        resetView(cm);\n      }\n    } else { \/\/ Gap in the middle\n      var cutTop = viewCuttingPoint(cm, from, from, -1);\n      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cutTop && cutBot) {\n        display.view = display.view.slice(0, cutTop.index)\n          .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\n          .concat(display.view.slice(cutBot.index));\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    }\n\n    var ext = display.externalMeasured;\n    if (ext) {\n      if (to < ext.lineN)\n        { ext.lineN += lendiff; }\n      else if (from < ext.lineN + ext.size)\n        { display.externalMeasured = null; }\n    }\n  }\n\n  \/\/ Register a change to a single line. Type must be one of \"text\",\n  \/\/ \"gutter\", \"class\", \"widget\"\n  function regLineChange(cm, line, type) {\n    cm.curOp.viewChanged = true;\n    var display = cm.display, ext = cm.display.externalMeasured;\n    if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\n      { display.externalMeasured = null; }\n\n    if (line < display.viewFrom || line >= display.viewTo) { return }\n    var lineView = display.view[findViewIndex(cm, line)];\n    if (lineView.node == null) { return }\n    var arr = lineView.changes || (lineView.changes = []);\n    if (indexOf(arr, type) == -1) { arr.push(type); }\n  }\n\n  \/\/ Clear the view.\n  function resetView(cm) {\n    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n    cm.display.view = [];\n    cm.display.viewOffset = 0;\n  }\n\n  function viewCuttingPoint(cm, oldN, newN, dir) {\n    var index = findViewIndex(cm, oldN), diff, view = cm.display.view;\n    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\n      { return {index: index, lineN: newN} }\n    var n = cm.display.viewFrom;\n    for (var i = 0; i < index; i++)\n      { n += view[i].size; }\n    if (n != oldN) {\n      if (dir > 0) {\n        if (index == view.length - 1) { return null }\n        diff = (n + view[index].size) - oldN;\n        index++;\n      } else {\n        diff = n - oldN;\n      }\n      oldN += diff; newN += diff;\n    }\n    while (visualLineNo(cm.doc, newN) != newN) {\n      if (index == (dir < 0 ? 0 : view.length - 1)) { return null }\n      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n      index += dir;\n    }\n    return {index: index, lineN: newN}\n  }\n\n  \/\/ Force the view to cover a given range, adding empty view element\n  \/\/ or clipping off existing ones as needed.\n  function adjustView(cm, from, to) {\n    var display = cm.display, view = display.view;\n    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n      display.view = buildViewArray(cm, from, to);\n      display.viewFrom = from;\n    } else {\n      if (display.viewFrom > from)\n        { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view); }\n      else if (display.viewFrom < from)\n        { display.view = display.view.slice(findViewIndex(cm, from)); }\n      display.viewFrom = from;\n      if (display.viewTo < to)\n        { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)); }\n      else if (display.viewTo > to)\n        { display.view = display.view.slice(0, findViewIndex(cm, to)); }\n    }\n    display.viewTo = to;\n  }\n\n  \/\/ Count the number of lines in the view whose DOM representation is\n  \/\/ out of date (or nonexistent).\n  function countDirtyView(cm) {\n    var view = cm.display.view, dirty = 0;\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty; }\n    }\n    return dirty\n  }\n\n  function updateSelection(cm) {\n    cm.display.input.showSelection(cm.display.input.prepareSelection());\n  }\n\n  function prepareSelection(cm, primary) {\n    if ( primary === void 0 ) primary = true;\n\n    var doc = cm.doc, result = {};\n    var curFragment = result.cursors = document.createDocumentFragment();\n    var selFragment = result.selection = document.createDocumentFragment();\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      if (!primary && i == doc.sel.primIndex) { continue }\n      var range = doc.sel.ranges[i];\n      if (range.from().line >= cm.display.viewTo || range.to().line < cm.display.viewFrom) { continue }\n      var collapsed = range.empty();\n      if (collapsed || cm.options.showCursorWhenSelecting)\n        { drawSelectionCursor(cm, range.head, curFragment); }\n      if (!collapsed)\n        { drawSelectionRange(cm, range, selFragment); }\n    }\n    return result\n  }\n\n  \/\/ Draws a cursor for the given range\n  function drawSelectionCursor(cm, head, output) {\n    var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n\n    var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"));\n    cursor.style.left = pos.left + \"px\";\n    cursor.style.top = pos.top + \"px\";\n    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n    if (pos.other) {\n      \/\/ Secondary cursor, shown when on a 'jump' in bi-directional text\n      var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n      otherCursor.style.display = \"\";\n      otherCursor.style.left = pos.other.left + \"px\";\n      otherCursor.style.top = pos.other.top + \"px\";\n      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n    }\n  }\n\n  function cmpCoords(a, b) { return a.top - b.top || a.left - b.left }\n\n  \/\/ Draws the given range as a highlighted selection\n  function drawSelectionRange(cm, range, output) {\n    var display = cm.display, doc = cm.doc;\n    var fragment = document.createDocumentFragment();\n    var padding = paddingH(cm.display), leftSide = padding.left;\n    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n    var docLTR = doc.direction == \"ltr\";\n\n    function add(left, top, width, bottom) {\n      if (top < 0) { top = 0; }\n      top = Math.round(top);\n      bottom = Math.round(bottom);\n      fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", (\"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\")));\n    }\n\n    function drawForLine(line, fromArg, toArg) {\n      var lineObj = getLine(doc, line);\n      var lineLen = lineObj.text.length;\n      var start, end;\n      function coords(ch, bias) {\n        return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias)\n      }\n\n      function wrapX(pos, dir, side) {\n        var extent = wrappedLineExtentChar(cm, lineObj, null, pos);\n        var prop = (dir == \"ltr\") == (side == \"after\") ? \"left\" : \"right\";\n        var ch = side == \"after\" ? extent.begin : extent.end - (\/\\s\/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1);\n        return coords(ch, prop)[prop]\n      }\n\n      var order = getOrder(lineObj, doc.direction);\n      iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir, i) {\n        var ltr = dir == \"ltr\";\n        var fromPos = coords(from, ltr ? \"left\" : \"right\");\n        var toPos = coords(to - 1, ltr ? \"right\" : \"left\");\n\n        var openStart = fromArg == null && from == 0, openEnd = toArg == null && to == lineLen;\n        var first = i == 0, last = !order || i == order.length - 1;\n        if (toPos.top - fromPos.top <= 3) { \/\/ Single line\n          var openLeft = (docLTR ? openStart : openEnd) && first;\n          var openRight = (docLTR ? openEnd : openStart) && last;\n          var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left;\n          var right = openRight ? rightSide : (ltr ? toPos : fromPos).right;\n          add(left, fromPos.top, right - left, fromPos.bottom);\n        } else { \/\/ Multiple lines\n          var topLeft, topRight, botLeft, botRight;\n          if (ltr) {\n            topLeft = docLTR && openStart && first ? leftSide : fromPos.left;\n            topRight = docLTR ? rightSide : wrapX(from, dir, \"before\");\n            botLeft = docLTR ? leftSide : wrapX(to, dir, \"after\");\n            botRight = docLTR && openEnd && last ? rightSide : toPos.right;\n          } else {\n            topLeft = !docLTR ? leftSide : wrapX(from, dir, \"before\");\n            topRight = !docLTR && openStart && first ? rightSide : fromPos.right;\n            botLeft = !docLTR && openEnd && last ? leftSide : toPos.left;\n            botRight = !docLTR ? rightSide : wrapX(to, dir, \"after\");\n          }\n          add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom);\n          if (fromPos.bottom < toPos.top) { add(leftSide, fromPos.bottom, null, toPos.top); }\n          add(botLeft, toPos.top, botRight - botLeft, toPos.bottom);\n        }\n\n        if (!start || cmpCoords(fromPos, start) < 0) { start = fromPos; }\n        if (cmpCoords(toPos, start) < 0) { start = toPos; }\n        if (!end || cmpCoords(fromPos, end) < 0) { end = fromPos; }\n        if (cmpCoords(toPos, end) < 0) { end = toPos; }\n      });\n      return {start: start, end: end}\n    }\n\n    var sFrom = range.from(), sTo = range.to();\n    if (sFrom.line == sTo.line) {\n      drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n    } else {\n      var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line);\n      var singleVLine = visualLine(fromLine) == visualLine(toLine);\n      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n      if (singleVLine) {\n        if (leftEnd.top < rightStart.top - 2) {\n          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n        } else {\n          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n        }\n      }\n      if (leftEnd.bottom < rightStart.top)\n        { add(leftSide, leftEnd.bottom, null, rightStart.top); }\n    }\n\n    output.appendChild(fragment);\n  }\n\n  \/\/ Cursor-blinking\n  function restartBlink(cm) {\n    if (!cm.state.focused) { return }\n    var display = cm.display;\n    clearInterval(display.blinker);\n    var on = true;\n    display.cursorDiv.style.visibility = \"\";\n    if (cm.options.cursorBlinkRate > 0)\n      { display.blinker = setInterval(function () {\n        if (!cm.hasFocus()) { onBlur(cm); }\n        display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\";\n      }, cm.options.cursorBlinkRate); }\n    else if (cm.options.cursorBlinkRate < 0)\n      { display.cursorDiv.style.visibility = \"hidden\"; }\n  }\n\n  function ensureFocus(cm) {\n    if (!cm.hasFocus()) {\n      cm.display.input.focus();\n      if (!cm.state.focused) { onFocus(cm); }\n    }\n  }\n\n  function delayBlurEvent(cm) {\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { if (cm.state.delayingBlurEvent) {\n      cm.state.delayingBlurEvent = false;\n      if (cm.state.focused) { onBlur(cm); }\n    } }, 100);\n  }\n\n  function onFocus(cm, e) {\n    if (cm.state.delayingBlurEvent && !cm.state.draggingText) { cm.state.delayingBlurEvent = false; }\n\n    if (cm.options.readOnly == \"nocursor\") { return }\n    if (!cm.state.focused) {\n      signal(cm, \"focus\", cm, e);\n      cm.state.focused = true;\n      addClass(cm.display.wrapper, \"CodeMirror-focused\");\n      \/\/ This test prevents this from firing when a context\n      \/\/ menu is closed (since the input reset would kill the\n      \/\/ select-all detection hack)\n      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n        cm.display.input.reset();\n        if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20); } \/\/ Issue #1730\n      }\n      cm.display.input.receivedFocus();\n    }\n    restartBlink(cm);\n  }\n  function onBlur(cm, e) {\n    if (cm.state.delayingBlurEvent) { return }\n\n    if (cm.state.focused) {\n      signal(cm, \"blur\", cm, e);\n      cm.state.focused = false;\n      rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n    }\n    clearInterval(cm.display.blinker);\n    setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false; } }, 150);\n  }\n\n  \/\/ Read the actual heights of the rendered lines, and update their\n  \/\/ stored heights to match.\n  function updateHeightsInViewport(cm) {\n    var display = cm.display;\n    var prevBottom = display.lineDiv.offsetTop;\n    for (var i = 0; i < display.view.length; i++) {\n      var cur = display.view[i], wrapping = cm.options.lineWrapping;\n      var height = (void 0), width = 0;\n      if (cur.hidden) { continue }\n      if (ie && ie_version < 8) {\n        var bot = cur.node.offsetTop + cur.node.offsetHeight;\n        height = bot - prevBottom;\n        prevBottom = bot;\n      } else {\n        var box = cur.node.getBoundingClientRect();\n        height = box.bottom - box.top;\n        \/\/ Check that lines don't extend past the right of the current\n        \/\/ editor width\n        if (!wrapping && cur.text.firstChild)\n          { width = cur.text.firstChild.getBoundingClientRect().right - box.left - 1; }\n      }\n      var diff = cur.line.height - height;\n      if (diff > .005 || diff < -.005) {\n        updateLineHeight(cur.line, height);\n        updateWidgetHeight(cur.line);\n        if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)\n          { updateWidgetHeight(cur.rest[j]); } }\n      }\n      if (width > cm.display.sizerWidth) {\n        var chWidth = Math.ceil(width \/ charWidth(cm.display));\n        if (chWidth > cm.display.maxLineLength) {\n          cm.display.maxLineLength = chWidth;\n          cm.display.maxLine = cur.line;\n          cm.display.maxLineChanged = true;\n        }\n      }\n    }\n  }\n\n  \/\/ Read and store the height of line widgets associated with the\n  \/\/ given line.\n  function updateWidgetHeight(line) {\n    if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i) {\n      var w = line.widgets[i], parent = w.node.parentNode;\n      if (parent) { w.height = parent.offsetHeight; }\n    } }\n  }\n\n  \/\/ Compute the lines that are visible in a given viewport (defaults\n  \/\/ the the current scroll position). viewport may contain top,\n  \/\/ height, and ensure (see op.scrollToPos) properties.\n  function visibleLines(display, doc, viewport) {\n    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n    top = Math.floor(top - paddingTop(display));\n    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n\n    var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom);\n    \/\/ Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n    \/\/ forces those lines into the viewport (if possible).\n    if (viewport && viewport.ensure) {\n      var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;\n      if (ensureFrom < from) {\n        from = ensureFrom;\n        to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n        from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n        to = ensureTo;\n      }\n    }\n    return {from: from, to: Math.max(to, from + 1)}\n  }\n\n  \/\/ SCROLLING THINGS INTO VIEW\n\n  \/\/ If an editor sits on the top or bottom of the window, partially\n  \/\/ scrolled out of view, this ensures that the cursor is visible.\n  function maybeScrollWindow(cm, rect) {\n    if (signalDOMEvent(cm, \"scrollCursorIntoView\")) { return }\n\n    var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;\n    if (rect.top + box.top < 0) { doScroll = true; }\n    else if (rect.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) { doScroll = false; }\n    if (doScroll != null && !phantom) {\n      var scrollNode = elt(\"div\", \"\\u200b\", null, (\"position: absolute;\\n                         top: \" + (rect.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + (rect.left) + \"px; width: \" + (Math.max(2, rect.right - rect.left)) + \"px;\"));\n      cm.display.lineSpace.appendChild(scrollNode);\n      scrollNode.scrollIntoView(doScroll);\n      cm.display.lineSpace.removeChild(scrollNode);\n    }\n  }\n\n  \/\/ Scroll a given position into view (immediately), verifying that\n  \/\/ it actually became visible (as line heights are accurately\n  \/\/ measured, the position of something may 'drift' during drawing).\n  function scrollPosIntoView(cm, pos, end, margin) {\n    if (margin == null) { margin = 0; }\n    var rect;\n    if (!cm.options.lineWrapping && pos == end) {\n      \/\/ Set pos and end to the cursor positions around the character pos sticks to\n      \/\/ If pos.sticky == \"before\", that is around pos.ch - 1, otherwise around pos.ch\n      \/\/ If pos == Pos(_, 0, \"before\"), pos and end are unchanged\n      pos = pos.ch ? Pos(pos.line, pos.sticky == \"before\" ? pos.ch - 1 : pos.ch, \"after\") : pos;\n      end = pos.sticky == \"before\" ? Pos(pos.line, pos.ch + 1, \"before\") : pos;\n    }\n    for (var limit = 0; limit < 5; limit++) {\n      var changed = false;\n      var coords = cursorCoords(cm, pos);\n      var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);\n      rect = {left: Math.min(coords.left, endCoords.left),\n              top: Math.min(coords.top, endCoords.top) - margin,\n              right: Math.max(coords.left, endCoords.left),\n              bottom: Math.max(coords.bottom, endCoords.bottom) + margin};\n      var scrollPos = calculateScrollPos(cm, rect);\n      var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;\n      if (scrollPos.scrollTop != null) {\n        updateScrollTop(cm, scrollPos.scrollTop);\n        if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true; }\n      }\n      if (scrollPos.scrollLeft != null) {\n        setScrollLeft(cm, scrollPos.scrollLeft);\n        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true; }\n      }\n      if (!changed) { break }\n    }\n    return rect\n  }\n\n  \/\/ Scroll a given set of coordinates into view (immediately).\n  function scrollIntoView(cm, rect) {\n    var scrollPos = calculateScrollPos(cm, rect);\n    if (scrollPos.scrollTop != null) { updateScrollTop(cm, scrollPos.scrollTop); }\n    if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft); }\n  }\n\n  \/\/ Calculate a new scroll position needed to scroll the given\n  \/\/ rectangle into view. Returns an object with scrollTop and\n  \/\/ scrollLeft properties. When these are undefined, the\n  \/\/ vertical\/horizontal position does not need to be adjusted.\n  function calculateScrollPos(cm, rect) {\n    var display = cm.display, snapMargin = textHeight(cm.display);\n    if (rect.top < 0) { rect.top = 0; }\n    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n    var screen = displayHeight(cm), result = {};\n    if (rect.bottom - rect.top > screen) { rect.bottom = rect.top + screen; }\n    var docBottom = cm.doc.height + paddingVert(display);\n    var atTop = rect.top < snapMargin, atBottom = rect.bottom > docBottom - snapMargin;\n    if (rect.top < screentop) {\n      result.scrollTop = atTop ? 0 : rect.top;\n    } else if (rect.bottom > screentop + screen) {\n      var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen);\n      if (newTop != screentop) { result.scrollTop = newTop; }\n    }\n\n    var gutterSpace = cm.options.fixedGutter ? 0 : display.gutters.offsetWidth;\n    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft - gutterSpace;\n    var screenw = displayWidth(cm) - display.gutters.offsetWidth;\n    var tooWide = rect.right - rect.left > screenw;\n    if (tooWide) { rect.right = rect.left + screenw; }\n    if (rect.left < 10)\n      { result.scrollLeft = 0; }\n    else if (rect.left < screenleft)\n      { result.scrollLeft = Math.max(0, rect.left + gutterSpace - (tooWide ? 0 : 10)); }\n    else if (rect.right > screenw + screenleft - 3)\n      { result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw; }\n    return result\n  }\n\n  \/\/ Store a relative adjustment to the scroll position in the current\n  \/\/ operation (to be applied when the operation finishes).\n  function addToScrollTop(cm, top) {\n    if (top == null) { return }\n    resolveScrollToPos(cm);\n    cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n  }\n\n  \/\/ Make sure that at the end of the operation the current cursor is\n  \/\/ shown.\n  function ensureCursorVisible(cm) {\n    resolveScrollToPos(cm);\n    var cur = cm.getCursor();\n    cm.curOp.scrollToPos = {from: cur, to: cur, margin: cm.options.cursorScrollMargin};\n  }\n\n  function scrollToCoords(cm, x, y) {\n    if (x != null || y != null) { resolveScrollToPos(cm); }\n    if (x != null) { cm.curOp.scrollLeft = x; }\n    if (y != null) { cm.curOp.scrollTop = y; }\n  }\n\n  function scrollToRange(cm, range) {\n    resolveScrollToPos(cm);\n    cm.curOp.scrollToPos = range;\n  }\n\n  \/\/ When an operation has its scrollToPos property set, and another\n  \/\/ scroll action is applied before the end of the operation, this\n  \/\/ 'simulates' scrolling that position into view in a cheap way, so\n  \/\/ that the effect of intermediate scroll commands is not ignored.\n  function resolveScrollToPos(cm) {\n    var range = cm.curOp.scrollToPos;\n    if (range) {\n      cm.curOp.scrollToPos = null;\n      var from = estimateCoords(cm, range.from), to = estimateCoords(cm, range.to);\n      scrollToCoordsRange(cm, from, to, range.margin);\n    }\n  }\n\n  function scrollToCoordsRange(cm, from, to, margin) {\n    var sPos = calculateScrollPos(cm, {\n      left: Math.min(from.left, to.left),\n      top: Math.min(from.top, to.top) - margin,\n      right: Math.max(from.right, to.right),\n      bottom: Math.max(from.bottom, to.bottom) + margin\n    });\n    scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop);\n  }\n\n  \/\/ Sync the scrollable area and scrollbars, ensure the viewport\n  \/\/ covers the visible area.\n  function updateScrollTop(cm, val) {\n    if (Math.abs(cm.doc.scrollTop - val) < 2) { return }\n    if (!gecko) { updateDisplaySimple(cm, {top: val}); }\n    setScrollTop(cm, val, true);\n    if (gecko) { updateDisplaySimple(cm); }\n    startWorker(cm, 100);\n  }\n\n  function setScrollTop(cm, val, forceScroll) {\n    val = Math.max(0, Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val));\n    if (cm.display.scroller.scrollTop == val && !forceScroll) { return }\n    cm.doc.scrollTop = val;\n    cm.display.scrollbars.setScrollTop(val);\n    if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val; }\n  }\n\n  \/\/ Sync scroller and scrollbar, ensure the gutter elements are\n  \/\/ aligned.\n  function setScrollLeft(cm, val, isScroller, forceScroll) {\n    val = Math.max(0, Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth));\n    if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) { return }\n    cm.doc.scrollLeft = val;\n    alignHorizontally(cm);\n    if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val; }\n    cm.display.scrollbars.setScrollLeft(val);\n  }\n\n  \/\/ SCROLLBARS\n\n  \/\/ Prepare DOM reads needed to update the scrollbars. Done in one\n  \/\/ shot to minimize update\/measure roundtrips.\n  function measureForScrollbars(cm) {\n    var d = cm.display, gutterW = d.gutters.offsetWidth;\n    var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n    return {\n      clientHeight: d.scroller.clientHeight,\n      viewHeight: d.wrapper.clientHeight,\n      scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\n      viewWidth: d.wrapper.clientWidth,\n      barLeft: cm.options.fixedGutter ? gutterW : 0,\n      docHeight: docH,\n      scrollHeight: docH + scrollGap(cm) + d.barHeight,\n      nativeBarWidth: d.nativeBarWidth,\n      gutterWidth: gutterW\n    }\n  }\n\n  var NativeScrollbars = function(place, scroll, cm) {\n    this.cm = cm;\n    var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n    var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n    vert.tabIndex = horiz.tabIndex = -1;\n    place(vert); place(horiz);\n\n    on(vert, \"scroll\", function () {\n      if (vert.clientHeight) { scroll(vert.scrollTop, \"vertical\"); }\n    });\n    on(horiz, \"scroll\", function () {\n      if (horiz.clientWidth) { scroll(horiz.scrollLeft, \"horizontal\"); }\n    });\n\n    this.checkedZeroWidth = false;\n    \/\/ Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n    if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\"; }\n  };\n\n  NativeScrollbars.prototype.update = function (measure) {\n    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n    var sWidth = measure.nativeBarWidth;\n\n    if (needsV) {\n      this.vert.style.display = \"block\";\n      this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n      var totalHeight = measure.viewHeight - (needsH ? sWidth : 0);\n      \/\/ A bug in IE8 can cause this value to be negative, so guard it.\n      this.vert.firstChild.style.height =\n        Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n    } else {\n      this.vert.style.display = \"\";\n      this.vert.firstChild.style.height = \"0\";\n    }\n\n    if (needsH) {\n      this.horiz.style.display = \"block\";\n      this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n      this.horiz.style.left = measure.barLeft + \"px\";\n      var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n      this.horiz.firstChild.style.width =\n        Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n    } else {\n      this.horiz.style.display = \"\";\n      this.horiz.firstChild.style.width = \"0\";\n    }\n\n    if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n      if (sWidth == 0) { this.zeroWidthHack(); }\n      this.checkedZeroWidth = true;\n    }\n\n    return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}\n  };\n\n  NativeScrollbars.prototype.setScrollLeft = function (pos) {\n    if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos; }\n    if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz, \"horiz\"); }\n  };\n\n  NativeScrollbars.prototype.setScrollTop = function (pos) {\n    if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos; }\n    if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert, \"vert\"); }\n  };\n\n  NativeScrollbars.prototype.zeroWidthHack = function () {\n    var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n    this.horiz.style.height = this.vert.style.width = w;\n    this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\";\n    this.disableHoriz = new Delayed;\n    this.disableVert = new Delayed;\n  };\n\n  NativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay, type) {\n    bar.style.pointerEvents = \"auto\";\n    function maybeDisable() {\n      \/\/ To find out whether the scrollbar is still visible, we\n      \/\/ check whether the element under the pixel in the bottom\n      \/\/ right corner of the scrollbar box is the scrollbar box\n      \/\/ itself (when the bar is still visible) or its filler child\n      \/\/ (when the bar is hidden). If it is still visible, we keep\n      \/\/ it enabled, if it's hidden, we disable pointer events.\n      var box = bar.getBoundingClientRect();\n      var elt = type == \"vert\" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) \/ 2)\n          : document.elementFromPoint((box.right + box.left) \/ 2, box.bottom - 1);\n      if (elt != bar) { bar.style.pointerEvents = \"none\"; }\n      else { delay.set(1000, maybeDisable); }\n    }\n    delay.set(1000, maybeDisable);\n  };\n\n  NativeScrollbars.prototype.clear = function () {\n    var parent = this.horiz.parentNode;\n    parent.removeChild(this.horiz);\n    parent.removeChild(this.vert);\n  };\n\n  var NullScrollbars = function () {};\n\n  NullScrollbars.prototype.update = function () { return {bottom: 0, right: 0} };\n  NullScrollbars.prototype.setScrollLeft = function () {};\n  NullScrollbars.prototype.setScrollTop = function () {};\n  NullScrollbars.prototype.clear = function () {};\n\n  function updateScrollbars(cm, measure) {\n    if (!measure) { measure = measureForScrollbars(cm); }\n    var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight;\n    updateScrollbarsInner(cm, measure);\n    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n      if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\n        { updateHeightsInViewport(cm); }\n      updateScrollbarsInner(cm, measureForScrollbars(cm));\n      startWidth = cm.display.barWidth; startHeight = cm.display.barHeight;\n    }\n  }\n\n  \/\/ Re-synchronize the fake scrollbars with the actual size of the\n  \/\/ content.\n  function updateScrollbarsInner(cm, measure) {\n    var d = cm.display;\n    var sizes = d.scrollbars.update(measure);\n\n    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n    d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\";\n\n    if (sizes.right && sizes.bottom) {\n      d.scrollbarFiller.style.display = \"block\";\n      d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n      d.scrollbarFiller.style.width = sizes.right + \"px\";\n    } else { d.scrollbarFiller.style.display = \"\"; }\n    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n      d.gutterFiller.style.display = \"block\";\n      d.gutterFiller.style.height = sizes.bottom + \"px\";\n      d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n    } else { d.gutterFiller.style.display = \"\"; }\n  }\n\n  var scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars};\n\n  function initScrollbars(cm) {\n    if (cm.display.scrollbars) {\n      cm.display.scrollbars.clear();\n      if (cm.display.scrollbars.addClass)\n        { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n    }\n\n    cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller);\n      \/\/ Prevent clicks in the scrollbars from killing focus\n      on(node, \"mousedown\", function () {\n        if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0); }\n      });\n      node.setAttribute(\"cm-not-content\", \"true\");\n    }, function (pos, axis) {\n      if (axis == \"horizontal\") { setScrollLeft(cm, pos); }\n      else { updateScrollTop(cm, pos); }\n    }, cm);\n    if (cm.display.scrollbars.addClass)\n      { addClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n  }\n\n  \/\/ Operations are used to wrap a series of changes to the editor\n  \/\/ state in such a way that each change won't have to update the\n  \/\/ cursor and display (which would be awkward, slow, and\n  \/\/ error-prone). Instead, display updates are batched and then all\n  \/\/ combined and executed at once.\n\n  var nextOpId = 0;\n  \/\/ Start a new operation.\n  function startOperation(cm) {\n    cm.curOp = {\n      cm: cm,\n      viewChanged: false,      \/\/ Flag that indicates that lines might need to be redrawn\n      startHeight: cm.doc.height, \/\/ Used to detect need to update scrollbar\n      forceUpdate: false,      \/\/ Used to force a redraw\n      updateInput: 0,       \/\/ Whether to reset the input textarea\n      typing: false,           \/\/ Whether this reset should be careful to leave existing text (for compositing)\n      changeObjs: null,        \/\/ Accumulated changes, for firing change events\n      cursorActivityHandlers: null, \/\/ Set of handlers to fire cursorActivity on\n      cursorActivityCalled: 0, \/\/ Tracks which cursorActivity handlers have been called already\n      selectionChanged: false, \/\/ Whether the selection needs to be redrawn\n      updateMaxLine: false,    \/\/ Set when the widest line needs to be determined anew\n      scrollLeft: null, scrollTop: null, \/\/ Intermediate scroll position, not pushed to DOM yet\n      scrollToPos: null,       \/\/ Used to scroll to a specific position\n      focus: false,\n      id: ++nextOpId           \/\/ Unique ID\n    };\n    pushOperation(cm.curOp);\n  }\n\n  \/\/ Finish an operation, updating the display and signalling delayed events\n  function endOperation(cm) {\n    var op = cm.curOp;\n    if (op) { finishOperation(op, function (group) {\n      for (var i = 0; i < group.ops.length; i++)\n        { group.ops[i].cm.curOp = null; }\n      endOperations(group);\n    }); }\n  }\n\n  \/\/ The DOM updates done when an operation finishes are batched so\n  \/\/ that the minimum number of relayouts are required.\n  function endOperations(group) {\n    var ops = group.ops;\n    for (var i = 0; i < ops.length; i++) \/\/ Read DOM\n      { endOperation_R1(ops[i]); }\n    for (var i$1 = 0; i$1 < ops.length; i$1++) \/\/ Write DOM (maybe)\n      { endOperation_W1(ops[i$1]); }\n    for (var i$2 = 0; i$2 < ops.length; i$2++) \/\/ Read DOM\n      { endOperation_R2(ops[i$2]); }\n    for (var i$3 = 0; i$3 < ops.length; i$3++) \/\/ Write DOM (maybe)\n      { endOperation_W2(ops[i$3]); }\n    for (var i$4 = 0; i$4 < ops.length; i$4++) \/\/ Read DOM\n      { endOperation_finish(ops[i$4]); }\n  }\n\n  function endOperation_R1(op) {\n    var cm = op.cm, display = cm.display;\n    maybeClipScrollbars(cm);\n    if (op.updateMaxLine) { findMaxLine(cm); }\n\n    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\n      op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\n                         op.scrollToPos.to.line >= display.viewTo) ||\n      display.maxLineChanged && cm.options.lineWrapping;\n    op.update = op.mustUpdate &&\n      new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate);\n  }\n\n  function endOperation_W1(op) {\n    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n  }\n\n  function endOperation_R2(op) {\n    var cm = op.cm, display = cm.display;\n    if (op.updatedDisplay) { updateHeightsInViewport(cm); }\n\n    op.barMeasure = measureForScrollbars(cm);\n\n    \/\/ If the max line changed since it was last measured, measure it,\n    \/\/ and ensure the document's width matches it.\n    \/\/ updateDisplay_W2 will use these properties to do the actual resizing\n    if (display.maxLineChanged && !cm.options.lineWrapping) {\n      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n      cm.display.sizerWidth = op.adjustWidthTo;\n      op.barMeasure.scrollWidth =\n        Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n    }\n\n    if (op.updatedDisplay || op.selectionChanged)\n      { op.preparedSelection = display.input.prepareSelection(); }\n  }\n\n  function endOperation_W2(op) {\n    var cm = op.cm;\n\n    if (op.adjustWidthTo != null) {\n      cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n      if (op.maxScrollLeft < cm.doc.scrollLeft)\n        { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true); }\n      cm.display.maxLineChanged = false;\n    }\n\n    var takeFocus = op.focus && op.focus == activeElt();\n    if (op.preparedSelection)\n      { cm.display.input.showSelection(op.preparedSelection, takeFocus); }\n    if (op.updatedDisplay || op.startHeight != cm.doc.height)\n      { updateScrollbars(cm, op.barMeasure); }\n    if (op.updatedDisplay)\n      { setDocumentHeight(cm, op.barMeasure); }\n\n    if (op.selectionChanged) { restartBlink(cm); }\n\n    if (cm.state.focused && op.updateInput)\n      { cm.display.input.reset(op.typing); }\n    if (takeFocus) { ensureFocus(op.cm); }\n  }\n\n  function endOperation_finish(op) {\n    var cm = op.cm, display = cm.display, doc = cm.doc;\n\n    if (op.updatedDisplay) { postUpdateDisplay(cm, op.update); }\n\n    \/\/ Abort mouse wheel delta measurement, when scrolling explicitly\n    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\n      { display.wheelStartX = display.wheelStartY = null; }\n\n    \/\/ Propagate the scroll position to the actual DOM scroller\n    if (op.scrollTop != null) { setScrollTop(cm, op.scrollTop, op.forceScroll); }\n\n    if (op.scrollLeft != null) { setScrollLeft(cm, op.scrollLeft, true, true); }\n    \/\/ If we need to scroll a specific position into view, do so.\n    if (op.scrollToPos) {\n      var rect = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\n                                   clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n      maybeScrollWindow(cm, rect);\n    }\n\n    \/\/ Fire events for markers that are hidden\/unidden by editing or\n    \/\/ undoing\n    var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;\n    if (hidden) { for (var i = 0; i < hidden.length; ++i)\n      { if (!hidden[i].lines.length) { signal(hidden[i], \"hide\"); } } }\n    if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)\n      { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], \"unhide\"); } } }\n\n    if (display.wrapper.offsetHeight)\n      { doc.scrollTop = cm.display.scroller.scrollTop; }\n\n    \/\/ Fire change events, and delayed event handlers\n    if (op.changeObjs)\n      { signal(cm, \"changes\", cm, op.changeObjs); }\n    if (op.update)\n      { op.update.finish(); }\n  }\n\n  \/\/ Run the given function in an operation\n  function runInOp(cm, f) {\n    if (cm.curOp) { return f() }\n    startOperation(cm);\n    try { return f() }\n    finally { endOperation(cm); }\n  }\n  \/\/ Wraps a function in an operation. Returns the wrapped function.\n  function operation(cm, f) {\n    return function() {\n      if (cm.curOp) { return f.apply(cm, arguments) }\n      startOperation(cm);\n      try { return f.apply(cm, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n  \/\/ Used to add methods to editor and doc instances, wrapping them in\n  \/\/ operations.\n  function methodOp(f) {\n    return function() {\n      if (this.curOp) { return f.apply(this, arguments) }\n      startOperation(this);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(this); }\n    }\n  }\n  function docMethodOp(f) {\n    return function() {\n      var cm = this.cm;\n      if (!cm || cm.curOp) { return f.apply(this, arguments) }\n      startOperation(cm);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n\n  \/\/ HIGHLIGHT WORKER\n\n  function startWorker(cm, time) {\n    if (cm.doc.highlightFrontier < cm.display.viewTo)\n      { cm.state.highlight.set(time, bind(highlightWorker, cm)); }\n  }\n\n  function highlightWorker(cm) {\n    var doc = cm.doc;\n    if (doc.highlightFrontier >= cm.display.viewTo) { return }\n    var end = +new Date + cm.options.workTime;\n    var context = getContextBefore(cm, doc.highlightFrontier);\n    var changedLines = [];\n\n    doc.iter(context.line, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n      if (context.line >= cm.display.viewFrom) { \/\/ Visible\n        var oldStyles = line.styles;\n        var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc.mode, context.state) : null;\n        var highlighted = highlightLine(cm, line, context, true);\n        if (resetState) { context.state = resetState; }\n        line.styles = highlighted.styles;\n        var oldCls = line.styleClasses, newCls = highlighted.classes;\n        if (newCls) { line.styleClasses = newCls; }\n        else if (oldCls) { line.styleClasses = null; }\n        var ischange = !oldStyles || oldStyles.length != line.styles.length ||\n          oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n        for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i]; }\n        if (ischange) { changedLines.push(context.line); }\n        line.stateAfter = context.save();\n        context.nextLine();\n      } else {\n        if (line.text.length <= cm.options.maxHighlightLength)\n          { processLine(cm, line.text, context); }\n        line.stateAfter = context.line % 5 == 0 ? context.save() : null;\n        context.nextLine();\n      }\n      if (+new Date > end) {\n        startWorker(cm, cm.options.workDelay);\n        return true\n      }\n    });\n    doc.highlightFrontier = context.line;\n    doc.modeFrontier = Math.max(doc.modeFrontier, context.line);\n    if (changedLines.length) { runInOp(cm, function () {\n      for (var i = 0; i < changedLines.length; i++)\n        { regLineChange(cm, changedLines[i], \"text\"); }\n    }); }\n  }\n\n  \/\/ DISPLAY DRAWING\n\n  var DisplayUpdate = function(cm, viewport, force) {\n    var display = cm.display;\n\n    this.viewport = viewport;\n    \/\/ Store some values that we'll need later (but don't want to force a relayout for)\n    this.visible = visibleLines(display, cm.doc, viewport);\n    this.editorIsHidden = !display.wrapper.offsetWidth;\n    this.wrapperHeight = display.wrapper.clientHeight;\n    this.wrapperWidth = display.wrapper.clientWidth;\n    this.oldDisplayWidth = displayWidth(cm);\n    this.force = force;\n    this.dims = getDimensions(cm);\n    this.events = [];\n  };\n\n  DisplayUpdate.prototype.signal = function (emitter, type) {\n    if (hasHandler(emitter, type))\n      { this.events.push(arguments); }\n  };\n  DisplayUpdate.prototype.finish = function () {\n    for (var i = 0; i < this.events.length; i++)\n      { signal.apply(null, this.events[i]); }\n  };\n\n  function maybeClipScrollbars(cm) {\n    var display = cm.display;\n    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n      display.heightForcer.style.height = scrollGap(cm) + \"px\";\n      display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n      display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n      display.scrollbarsClipped = true;\n    }\n  }\n\n  function selectionSnapshot(cm) {\n    if (cm.hasFocus()) { return null }\n    var active = activeElt();\n    if (!active || !contains(cm.display.lineDiv, active)) { return null }\n    var result = {activeElt: active};\n    if (window.getSelection) {\n      var sel = window.getSelection();\n      if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {\n        result.anchorNode = sel.anchorNode;\n        result.anchorOffset = sel.anchorOffset;\n        result.focusNode = sel.focusNode;\n        result.focusOffset = sel.focusOffset;\n      }\n    }\n    return result\n  }\n\n  function restoreSelection(snapshot) {\n    if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt()) { return }\n    snapshot.activeElt.focus();\n    if (!\/^(INPUT|TEXTAREA)$\/.test(snapshot.activeElt.nodeName) &&\n        snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {\n      var sel = window.getSelection(), range = document.createRange();\n      range.setEnd(snapshot.anchorNode, snapshot.anchorOffset);\n      range.collapse(false);\n      sel.removeAllRanges();\n      sel.addRange(range);\n      sel.extend(snapshot.focusNode, snapshot.focusOffset);\n    }\n  }\n\n  \/\/ Does the actual updating of the line display. Bails out\n  \/\/ (returning false) when there is nothing to be done and forced is\n  \/\/ false.\n  function updateDisplayIfNeeded(cm, update) {\n    var display = cm.display, doc = cm.doc;\n\n    if (update.editorIsHidden) {\n      resetView(cm);\n      return false\n    }\n\n    \/\/ Bail out if the visible area is already rendered and nothing changed.\n    if (!update.force &&\n        update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\n        display.renderedView == display.view && countDirtyView(cm) == 0)\n      { return false }\n\n    if (maybeUpdateLineNumberWidth(cm)) {\n      resetView(cm);\n      update.dims = getDimensions(cm);\n    }\n\n    \/\/ Compute a suitable new viewport (from & to)\n    var end = doc.first + doc.size;\n    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n    if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom); }\n    if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo); }\n    if (sawCollapsedSpans) {\n      from = visualLineNo(cm.doc, from);\n      to = visualLineEndNo(cm.doc, to);\n    }\n\n    var different = from != display.viewFrom || to != display.viewTo ||\n      display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n    adjustView(cm, from, to);\n\n    display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));\n    \/\/ Position the mover div to align with the current scroll position\n    cm.display.mover.style.top = display.viewOffset + \"px\";\n\n    var toUpdate = countDirtyView(cm);\n    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\n      { return false }\n\n    \/\/ For big changes, we hide the enclosing element during the\n    \/\/ update, since that speeds up the operations on most browsers.\n    var selSnapshot = selectionSnapshot(cm);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"none\"; }\n    patchDisplay(cm, display.updateLineNumbers, update.dims);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"\"; }\n    display.renderedView = display.view;\n    \/\/ There might have been a widget with a focused element that got\n    \/\/ hidden or updated, if so re-focus it.\n    restoreSelection(selSnapshot);\n\n    \/\/ Prevent selection and cursors from interfering with the scroll\n    \/\/ width and height.\n    removeChildren(display.cursorDiv);\n    removeChildren(display.selectionDiv);\n    display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n    if (different) {\n      display.lastWrapHeight = update.wrapperHeight;\n      display.lastWrapWidth = update.wrapperWidth;\n      startWorker(cm, 400);\n    }\n\n    display.updateLineNumbers = null;\n\n    return true\n  }\n\n  function postUpdateDisplay(cm, update) {\n    var viewport = update.viewport;\n\n    for (var first = true;; first = false) {\n      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n        \/\/ Clip forced viewport to actual scrollable area.\n        if (viewport && viewport.top != null)\n          { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)}; }\n        \/\/ Updated line heights might result in the drawn area not\n        \/\/ actually covering the viewport. Keep looping until it does.\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\n          { break }\n      } else if (first) {\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n      }\n      if (!updateDisplayIfNeeded(cm, update)) { break }\n      updateHeightsInViewport(cm);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.force = false;\n    }\n\n    update.signal(cm, \"update\", cm);\n    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n      update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n      cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo;\n    }\n  }\n\n  function updateDisplaySimple(cm, viewport) {\n    var update = new DisplayUpdate(cm, viewport);\n    if (updateDisplayIfNeeded(cm, update)) {\n      updateHeightsInViewport(cm);\n      postUpdateDisplay(cm, update);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.finish();\n    }\n  }\n\n  \/\/ Sync the actual display DOM structure with display.view, removing\n  \/\/ nodes for lines that are no longer in view, and creating the ones\n  \/\/ that are not there yet, and updating the ones that are out of\n  \/\/ date.\n  function patchDisplay(cm, updateNumbersFrom, dims) {\n    var display = cm.display, lineNumbers = cm.options.lineNumbers;\n    var container = display.lineDiv, cur = container.firstChild;\n\n    function rm(node) {\n      var next = node.nextSibling;\n      \/\/ Works around a throw-scroll bug in OS X Webkit\n      if (webkit && mac && cm.display.currentWheelTarget == node)\n        { node.style.display = \"none\"; }\n      else\n        { node.parentNode.removeChild(node); }\n      return next\n    }\n\n    var view = display.view, lineN = display.viewFrom;\n    \/\/ Loop over the elements in the view, syncing cur (the DOM nodes\n    \/\/ in display.lineDiv) with the view as we go.\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (lineView.hidden) ; else if (!lineView.node || lineView.node.parentNode != container) { \/\/ Not drawn yet\n        var node = buildLineElement(cm, lineView, lineN, dims);\n        container.insertBefore(node, cur);\n      } else { \/\/ Already drawn\n        while (cur != lineView.node) { cur = rm(cur); }\n        var updateNumber = lineNumbers && updateNumbersFrom != null &&\n          updateNumbersFrom <= lineN && lineView.lineNumber;\n        if (lineView.changes) {\n          if (indexOf(lineView.changes, \"gutter\") > -1) { updateNumber = false; }\n          updateLineForChanges(cm, lineView, lineN, dims);\n        }\n        if (updateNumber) {\n          removeChildren(lineView.lineNumber);\n          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n        }\n        cur = lineView.node.nextSibling;\n      }\n      lineN += lineView.size;\n    }\n    while (cur) { cur = rm(cur); }\n  }\n\n  function updateGutterSpace(display) {\n    var width = display.gutters.offsetWidth;\n    display.sizer.style.marginLeft = width + \"px\";\n  }\n\n  function setDocumentHeight(cm, measure) {\n    cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n    cm.display.heightForcer.style.top = measure.docHeight + \"px\";\n    cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\";\n  }\n\n  \/\/ Re-align line numbers and gutter marks to compensate for\n  \/\/ horizontal scrolling.\n  function alignHorizontally(cm) {\n    var display = cm.display, view = display.view;\n    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }\n    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n    var gutterW = display.gutters.offsetWidth, left = comp + \"px\";\n    for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {\n      if (cm.options.fixedGutter) {\n        if (view[i].gutter)\n          { view[i].gutter.style.left = left; }\n        if (view[i].gutterBackground)\n          { view[i].gutterBackground.style.left = left; }\n      }\n      var align = view[i].alignable;\n      if (align) { for (var j = 0; j < align.length; j++)\n        { align[j].style.left = left; } }\n    } }\n    if (cm.options.fixedGutter)\n      { display.gutters.style.left = (comp + gutterW) + \"px\"; }\n  }\n\n  \/\/ Used to ensure that the line number gutter is still the right\n  \/\/ size for the current document size. Returns true when an update\n  \/\/ is needed.\n  function maybeUpdateLineNumberWidth(cm) {\n    if (!cm.options.lineNumbers) { return false }\n    var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display;\n    if (last.length != display.lineNumChars) {\n      var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\n                                                 \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n      var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;\n      display.lineGutter.style.width = \"\";\n      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n      display.lineNumWidth = display.lineNumInnerWidth + padding;\n      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n      display.lineGutter.style.width = display.lineNumWidth + \"px\";\n      updateGutterSpace(cm.display);\n      return true\n    }\n    return false\n  }\n\n  function getGutters(gutters, lineNumbers) {\n    var result = [], sawLineNumbers = false;\n    for (var i = 0; i < gutters.length; i++) {\n      var name = gutters[i], style = null;\n      if (typeof name != \"string\") { style = name.style; name = name.className; }\n      if (name == \"CodeMirror-linenumbers\") {\n        if (!lineNumbers) { continue }\n        else { sawLineNumbers = true; }\n      }\n      result.push({className: name, style: style});\n    }\n    if (lineNumbers && !sawLineNumbers) { result.push({className: \"CodeMirror-linenumbers\", style: null}); }\n    return result\n  }\n\n  \/\/ Rebuild the gutter elements, ensure the margin to the left of the\n  \/\/ code matches their width.\n  function renderGutters(display) {\n    var gutters = display.gutters, specs = display.gutterSpecs;\n    removeChildren(gutters);\n    display.lineGutter = null;\n    for (var i = 0; i < specs.length; ++i) {\n      var ref = specs[i];\n      var className = ref.className;\n      var style = ref.style;\n      var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + className));\n      if (style) { gElt.style.cssText = style; }\n      if (className == \"CodeMirror-linenumbers\") {\n        display.lineGutter = gElt;\n        gElt.style.width = (display.lineNumWidth || 1) + \"px\";\n      }\n    }\n    gutters.style.display = specs.length ? \"\" : \"none\";\n    updateGutterSpace(display);\n  }\n\n  function updateGutters(cm) {\n    renderGutters(cm.display);\n    regChange(cm);\n    alignHorizontally(cm);\n  }\n\n  \/\/ The display handles the DOM integration, both for input reading\n  \/\/ and content drawing. It holds references to DOM nodes and\n  \/\/ display-related state.\n\n  function Display(place, doc, input, options) {\n    var d = this;\n    this.input = input;\n\n    \/\/ Covers bottom-right square when both scrollbars are present.\n    d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n    d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\");\n    \/\/ Covers bottom of gutter when coverGutterNextToScrollbar is on\n    \/\/ and h scrollbar is present.\n    d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n    d.gutterFiller.setAttribute(\"cm-not-content\", \"true\");\n    \/\/ Will contain the actual code, positioned to cover the viewport.\n    d.lineDiv = eltP(\"div\", null, \"CodeMirror-code\");\n    \/\/ Elements are added to these to represent selection and cursors.\n    d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n    d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\");\n    \/\/ A visibility: hidden element used to find the size of things.\n    d.measure = elt(\"div\", null, \"CodeMirror-measure\");\n    \/\/ When lines outside of the viewport are measured, they are drawn in this.\n    d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\");\n    \/\/ Wraps everything that needs to exist inside the vertically-padded coordinate system\n    d.lineSpace = eltP(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\n                      null, \"position: relative; outline: none\");\n    var lines = eltP(\"div\", [d.lineSpace], \"CodeMirror-lines\");\n    \/\/ Moved around its parent to cover visible view.\n    d.mover = elt(\"div\", [lines], null, \"position: relative\");\n    \/\/ Set to the height of the document, allowing scrolling.\n    d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n    d.sizerWidth = null;\n    \/\/ Behavior of elts with overflow: auto and padding is\n    \/\/ inconsistent across browsers. This is used to ensure the\n    \/\/ scrollable area is big enough.\n    d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\");\n    \/\/ Will contain the gutters, if any.\n    d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n    d.lineGutter = null;\n    \/\/ Actual scrollable element.\n    d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n    d.scroller.setAttribute(\"tabIndex\", \"-1\");\n    \/\/ The element in which the editor lives.\n    d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\");\n\n    \/\/ Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n    if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0; }\n    if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true; }\n\n    if (place) {\n      if (place.appendChild) { place.appendChild(d.wrapper); }\n      else { place(d.wrapper); }\n    }\n\n    \/\/ Current rendered range (may be bigger than the view window).\n    d.viewFrom = d.viewTo = doc.first;\n    d.reportedViewFrom = d.reportedViewTo = doc.first;\n    \/\/ Information about the rendered lines.\n    d.view = [];\n    d.renderedView = null;\n    \/\/ Holds info about a single rendered line when it was rendered\n    \/\/ for measurement, while not in view.\n    d.externalMeasured = null;\n    \/\/ Empty space (in pixels) above the view\n    d.viewOffset = 0;\n    d.lastWrapHeight = d.lastWrapWidth = 0;\n    d.updateLineNumbers = null;\n\n    d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n    d.scrollbarsClipped = false;\n\n    \/\/ Used to only resize the line number gutter when necessary (when\n    \/\/ the amount of lines crosses a boundary that makes its width change)\n    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;\n    \/\/ Set to true when a non-horizontal-scrolling line widget is\n    \/\/ added. As an optimization, line widget aligning is skipped when\n    \/\/ this is false.\n    d.alignWidgets = false;\n\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n\n    \/\/ Tracks the maximum line length so that the horizontal scrollbar\n    \/\/ can be kept static when scrolling.\n    d.maxLine = null;\n    d.maxLineLength = 0;\n    d.maxLineChanged = false;\n\n    \/\/ Used for measuring wheel scrolling granularity\n    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;\n\n    \/\/ True when shift is held down.\n    d.shift = false;\n\n    \/\/ Used to track whether anything happened since the context menu\n    \/\/ was opened.\n    d.selForContextMenu = null;\n\n    d.activeTouch = null;\n\n    d.gutterSpecs = getGutters(options.gutters, options.lineNumbers);\n    renderGutters(d);\n\n    input.init(d);\n  }\n\n  \/\/ Since the delta values reported on mouse wheel events are\n  \/\/ unstandardized between browsers and even browser versions, and\n  \/\/ generally horribly unpredictable, this code starts by measuring\n  \/\/ the scroll effect that the first few mouse wheel events have,\n  \/\/ and, from that, detects the way it can convert deltas to pixel\n  \/\/ offsets afterwards.\n  \/\/\n  \/\/ The reason we want to know the amount a wheel event will scroll\n  \/\/ is that it gives us a chance to update the display before the\n  \/\/ actual scrolling happens, reducing flickering.\n\n  var wheelSamples = 0, wheelPixelsPerUnit = null;\n  \/\/ Fill in a browser-detected starting value on browsers where we\n  \/\/ know one. These don't have to be accurate -- the result of them\n  \/\/ being wrong would just be a slight flicker on the first wheel\n  \/\/ scroll (if it is large enough).\n  if (ie) { wheelPixelsPerUnit = -.53; }\n  else if (gecko) { wheelPixelsPerUnit = 15; }\n  else if (chrome) { wheelPixelsPerUnit = -.7; }\n  else if (safari) { wheelPixelsPerUnit = -1\/3; }\n\n  function wheelEventDelta(e) {\n    var dx = e.wheelDeltaX, dy = e.wheelDeltaY;\n    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail; }\n    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail; }\n    else if (dy == null) { dy = e.wheelDelta; }\n    return {x: dx, y: dy}\n  }\n  function wheelEventPixels(e) {\n    var delta = wheelEventDelta(e);\n    delta.x *= wheelPixelsPerUnit;\n    delta.y *= wheelPixelsPerUnit;\n    return delta\n  }\n\n  function onScrollWheel(cm, e) {\n    var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y;\n\n    var display = cm.display, scroll = display.scroller;\n    \/\/ Quit if there's nothing to scroll here\n    var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n    var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n    if (!(dx && canScrollX || dy && canScrollY)) { return }\n\n    \/\/ Webkit browsers on OS X abort momentum scrolls when the target\n    \/\/ of the scroll event is removed from the scrollable element.\n    \/\/ This hack (see related code in patchDisplay) makes sure the\n    \/\/ element is kept around.\n    if (dy && mac && webkit) {\n      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n        for (var i = 0; i < view.length; i++) {\n          if (view[i].node == cur) {\n            cm.display.currentWheelTarget = cur;\n            break outer\n          }\n        }\n      }\n    }\n\n    \/\/ On some browsers, horizontal scrolling will cause redraws to\n    \/\/ happen before the gutter has been realigned, causing it to\n    \/\/ wriggle around in a most unseemly way. When we have an\n    \/\/ estimated pixels\/delta value, we just handle horizontal\n    \/\/ scrolling entirely here. It'll be slightly off from native, but\n    \/\/ better than glitching out.\n    if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {\n      if (dy && canScrollY)\n        { updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * wheelPixelsPerUnit)); }\n      setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * wheelPixelsPerUnit));\n      \/\/ Only prevent default scrolling if vertical scrolling is\n      \/\/ actually possible. Otherwise, it causes vertical scroll\n      \/\/ jitter on OSX trackpads when deltaX is small and deltaY\n      \/\/ is large (issue #3579)\n      if (!dy || (dy && canScrollY))\n        { e_preventDefault(e); }\n      display.wheelStartX = null; \/\/ Abort measurement, if in progress\n      return\n    }\n\n    \/\/ 'Project' the visible viewport to cover the area that is being\n    \/\/ scrolled into view (if we know enough to estimate it).\n    if (dy && wheelPixelsPerUnit != null) {\n      var pixels = dy * wheelPixelsPerUnit;\n      var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;\n      if (pixels < 0) { top = Math.max(0, top + pixels - 50); }\n      else { bot = Math.min(cm.doc.height, bot + pixels + 50); }\n      updateDisplaySimple(cm, {top: top, bottom: bot});\n    }\n\n    if (wheelSamples < 20) {\n      if (display.wheelStartX == null) {\n        display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop;\n        display.wheelDX = dx; display.wheelDY = dy;\n        setTimeout(function () {\n          if (display.wheelStartX == null) { return }\n          var movedX = scroll.scrollLeft - display.wheelStartX;\n          var movedY = scroll.scrollTop - display.wheelStartY;\n          var sample = (movedY && display.wheelDY && movedY \/ display.wheelDY) ||\n            (movedX && display.wheelDX && movedX \/ display.wheelDX);\n          display.wheelStartX = display.wheelStartY = null;\n          if (!sample) { return }\n          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) \/ (wheelSamples + 1);\n          ++wheelSamples;\n        }, 200);\n      } else {\n        display.wheelDX += dx; display.wheelDY += dy;\n      }\n    }\n  }\n\n  \/\/ Selection objects are immutable. A new one is created every time\n  \/\/ the selection changes. A selection is one or more non-overlapping\n  \/\/ (and non-touching) ranges, sorted, and an integer that indicates\n  \/\/ which one is the primary selection (the one that's scrolled into\n  \/\/ view, that getCursor returns, etc).\n  var Selection = function(ranges, primIndex) {\n    this.ranges = ranges;\n    this.primIndex = primIndex;\n  };\n\n  Selection.prototype.primary = function () { return this.ranges[this.primIndex] };\n\n  Selection.prototype.equals = function (other) {\n    if (other == this) { return true }\n    if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var here = this.ranges[i], there = other.ranges[i];\n      if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) { return false }\n    }\n    return true\n  };\n\n  Selection.prototype.deepCopy = function () {\n    var out = [];\n    for (var i = 0; i < this.ranges.length; i++)\n      { out[i] = new Range(copyPos(this.ranges[i].anchor), copyPos(this.ranges[i].head)); }\n    return new Selection(out, this.primIndex)\n  };\n\n  Selection.prototype.somethingSelected = function () {\n    for (var i = 0; i < this.ranges.length; i++)\n      { if (!this.ranges[i].empty()) { return true } }\n    return false\n  };\n\n  Selection.prototype.contains = function (pos, end) {\n    if (!end) { end = pos; }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var range = this.ranges[i];\n      if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\n        { return i }\n    }\n    return -1\n  };\n\n  var Range = function(anchor, head) {\n    this.anchor = anchor; this.head = head;\n  };\n\n  Range.prototype.from = function () { return minPos(this.anchor, this.head) };\n  Range.prototype.to = function () { return maxPos(this.anchor, this.head) };\n  Range.prototype.empty = function () { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch };\n\n  \/\/ Take an unsorted, potentially overlapping set of ranges, and\n  \/\/ build a selection out of it. 'Consumes' ranges array (modifying\n  \/\/ it).\n  function normalizeSelection(cm, ranges, primIndex) {\n    var mayTouch = cm && cm.options.selectionsMayTouch;\n    var prim = ranges[primIndex];\n    ranges.sort(function (a, b) { return cmp(a.from(), b.from()); });\n    primIndex = indexOf(ranges, prim);\n    for (var i = 1; i < ranges.length; i++) {\n      var cur = ranges[i], prev = ranges[i - 1];\n      var diff = cmp(prev.to(), cur.from());\n      if (mayTouch && !cur.empty() ? diff > 0 : diff >= 0) {\n        var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());\n        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n        if (i <= primIndex) { --primIndex; }\n        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n      }\n    }\n    return new Selection(ranges, primIndex)\n  }\n\n  function simpleSelection(anchor, head) {\n    return new Selection([new Range(anchor, head || anchor)], 0)\n  }\n\n  \/\/ Compute the position of the end of a change (its 'to' property\n  \/\/ refers to the pre-change end).\n  function changeEnd(change) {\n    if (!change.text) { return change.to }\n    return Pos(change.from.line + change.text.length - 1,\n               lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))\n  }\n\n  \/\/ Adjust a position to refer to the post-change position of the\n  \/\/ same text, or the end of the change if the change covers it.\n  function adjustForChange(pos, change) {\n    if (cmp(pos, change.from) < 0) { return pos }\n    if (cmp(pos, change.to) <= 0) { return changeEnd(change) }\n\n    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;\n    if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch; }\n    return Pos(line, ch)\n  }\n\n  function computeSelAfterChange(doc, change) {\n    var out = [];\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      var range = doc.sel.ranges[i];\n      out.push(new Range(adjustForChange(range.anchor, change),\n                         adjustForChange(range.head, change)));\n    }\n    return normalizeSelection(doc.cm, out, doc.sel.primIndex)\n  }\n\n  function offsetPos(pos, old, nw) {\n    if (pos.line == old.line)\n      { return Pos(nw.line, pos.ch - old.ch + nw.ch) }\n    else\n      { return Pos(nw.line + (pos.line - old.line), pos.ch) }\n  }\n\n  \/\/ Used by replaceSelections to allow moving the selection to the\n  \/\/ start or around the replaced test. Hint may be \"start\" or \"around\".\n  function computeReplacedSel(doc, changes, hint) {\n    var out = [];\n    var oldPrev = Pos(doc.first, 0), newPrev = oldPrev;\n    for (var i = 0; i < changes.length; i++) {\n      var change = changes[i];\n      var from = offsetPos(change.from, oldPrev, newPrev);\n      var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n      oldPrev = change.to;\n      newPrev = to;\n      if (hint == \"around\") {\n        var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0;\n        out[i] = new Range(inv ? to : from, inv ? from : to);\n      } else {\n        out[i] = new Range(from, from);\n      }\n    }\n    return new Selection(out, doc.sel.primIndex)\n  }\n\n  \/\/ Used to get the editor into a consistent state again when options change.\n\n  function loadMode(cm) {\n    cm.doc.mode = getMode(cm.options, cm.doc.modeOption);\n    resetModeState(cm);\n  }\n\n  function resetModeState(cm) {\n    cm.doc.iter(function (line) {\n      if (line.stateAfter) { line.stateAfter = null; }\n      if (line.styles) { line.styles = null; }\n    });\n    cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first;\n    startWorker(cm, 100);\n    cm.state.modeGen++;\n    if (cm.curOp) { regChange(cm); }\n  }\n\n  \/\/ DOCUMENT DATA STRUCTURE\n\n  \/\/ By default, updates that start and end at the beginning of a line\n  \/\/ are treated specially, in order to make the association of line\n  \/\/ widgets and marker elements with the text behave more intuitive.\n  function isWholeLineUpdate(doc, change) {\n    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\n      (!doc.cm || doc.cm.options.wholeLineUpdateBefore)\n  }\n\n  \/\/ Perform a change on the document data structure.\n  function updateDoc(doc, change, markedSpans, estimateHeight) {\n    function spansFor(n) {return markedSpans ? markedSpans[n] : null}\n    function update(line, text, spans) {\n      updateLine(line, text, spans, estimateHeight);\n      signalLater(line, \"change\", line, change);\n    }\n    function linesFor(start, end) {\n      var result = [];\n      for (var i = start; i < end; ++i)\n        { result.push(new Line(text[i], spansFor(i), estimateHeight)); }\n      return result\n    }\n\n    var from = change.from, to = change.to, text = change.text;\n    var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line);\n    var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;\n\n    \/\/ Adjust the line structure\n    if (change.full) {\n      doc.insert(0, linesFor(0, text.length));\n      doc.remove(text.length, doc.size - text.length);\n    } else if (isWholeLineUpdate(doc, change)) {\n      \/\/ This is a whole-line replace. Treated specially to make\n      \/\/ sure line objects move the way they are supposed to.\n      var added = linesFor(0, text.length - 1);\n      update(lastLine, lastLine.text, lastSpans);\n      if (nlines) { doc.remove(from.line, nlines); }\n      if (added.length) { doc.insert(from.line, added); }\n    } else if (firstLine == lastLine) {\n      if (text.length == 1) {\n        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n      } else {\n        var added$1 = linesFor(1, text.length - 1);\n        added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight));\n        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n        doc.insert(from.line + 1, added$1);\n      }\n    } else if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n      doc.remove(from.line + 1, nlines);\n    } else {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n      var added$2 = linesFor(1, text.length - 1);\n      if (nlines > 1) { doc.remove(from.line + 1, nlines - 1); }\n      doc.insert(from.line + 1, added$2);\n    }\n\n    signalLater(doc, \"change\", doc, change);\n  }\n\n  \/\/ Call f for all linked documents.\n  function linkedDocs(doc, f, sharedHistOnly) {\n    function propagate(doc, skip, sharedHist) {\n      if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {\n        var rel = doc.linked[i];\n        if (rel.doc == skip) { continue }\n        var shared = sharedHist && rel.sharedHist;\n        if (sharedHistOnly && !shared) { continue }\n        f(rel.doc, shared);\n        propagate(rel.doc, doc, shared);\n      } }\n    }\n    propagate(doc, null, true);\n  }\n\n  \/\/ Attach a document to an editor.\n  function attachDoc(cm, doc) {\n    if (doc.cm) { throw new Error(\"This document is already in use.\") }\n    cm.doc = doc;\n    doc.cm = cm;\n    estimateLineHeights(cm);\n    loadMode(cm);\n    setDirectionClass(cm);\n    if (!cm.options.lineWrapping) { findMaxLine(cm); }\n    cm.options.mode = doc.modeOption;\n    regChange(cm);\n  }\n\n  function setDirectionClass(cm) {\n  (cm.doc.direction == \"rtl\" ? addClass : rmClass)(cm.display.lineDiv, \"CodeMirror-rtl\");\n  }\n\n  function directionChanged(cm) {\n    runInOp(cm, function () {\n      setDirectionClass(cm);\n      regChange(cm);\n    });\n  }\n\n  function History(startGen) {\n    \/\/ Arrays of change events and selections. Doing something adds an\n    \/\/ event to done and clears undo. Undoing moves events from done\n    \/\/ to undone, redoing moves them in the other direction.\n    this.done = []; this.undone = [];\n    this.undoDepth = Infinity;\n    \/\/ Used to track when changes can be merged into a single undo\n    \/\/ event\n    this.lastModTime = this.lastSelTime = 0;\n    this.lastOp = this.lastSelOp = null;\n    this.lastOrigin = this.lastSelOrigin = null;\n    \/\/ Used by the isClean() method\n    this.generation = this.maxGeneration = startGen || 1;\n  }\n\n  \/\/ Create a history change event from an updateDoc-style change\n  \/\/ object.\n  function historyChangeFromChange(doc, change) {\n    var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)};\n    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true);\n    return histChange\n  }\n\n  \/\/ Pop all selection events off the end of a history array. Stop at\n  \/\/ a change event.\n  function clearSelectionEvents(array) {\n    while (array.length) {\n      var last = lst(array);\n      if (last.ranges) { array.pop(); }\n      else { break }\n    }\n  }\n\n  \/\/ Find the top change event in the history. Pop off selection\n  \/\/ events that are in the way.\n  function lastChangeEvent(hist, force) {\n    if (force) {\n      clearSelectionEvents(hist.done);\n      return lst(hist.done)\n    } else if (hist.done.length && !lst(hist.done).ranges) {\n      return lst(hist.done)\n    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n      hist.done.pop();\n      return lst(hist.done)\n    }\n  }\n\n  \/\/ Register a change in the history. Merges changes that are within\n  \/\/ a single operation, or are close together with an origin that\n  \/\/ allows merging (starting with \"+\") into a single event.\n  function addChangeToHistory(doc, change, selAfter, opId) {\n    var hist = doc.history;\n    hist.undone.length = 0;\n    var time = +new Date, cur;\n    var last;\n\n    if ((hist.lastOp == opId ||\n         hist.lastOrigin == change.origin && change.origin &&\n         ((change.origin.charAt(0) == \"+\" && hist.lastModTime > time - (doc.cm ? doc.cm.options.historyEventDelay : 500)) ||\n          change.origin.charAt(0) == \"*\")) &&\n        (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n      \/\/ Merge this change into the last event\n      last = lst(cur.changes);\n      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n        \/\/ Optimized case for simple insertion -- don't want to add\n        \/\/ new changesets for every character typed\n        last.to = changeEnd(change);\n      } else {\n        \/\/ Add new sub-event\n        cur.changes.push(historyChangeFromChange(doc, change));\n      }\n    } else {\n      \/\/ Can not be merged, start a new event.\n      var before = lst(hist.done);\n      if (!before || !before.ranges)\n        { pushSelectionToHistory(doc.sel, hist.done); }\n      cur = {changes: [historyChangeFromChange(doc, change)],\n             generation: hist.generation};\n      hist.done.push(cur);\n      while (hist.done.length > hist.undoDepth) {\n        hist.done.shift();\n        if (!hist.done[0].ranges) { hist.done.shift(); }\n      }\n    }\n    hist.done.push(selAfter);\n    hist.generation = ++hist.maxGeneration;\n    hist.lastModTime = hist.lastSelTime = time;\n    hist.lastOp = hist.lastSelOp = opId;\n    hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n    if (!last) { signal(doc, \"historyAdded\"); }\n  }\n\n  function selectionEventCanBeMerged(doc, origin, prev, sel) {\n    var ch = origin.charAt(0);\n    return ch == \"*\" ||\n      ch == \"+\" &&\n      prev.ranges.length == sel.ranges.length &&\n      prev.somethingSelected() == sel.somethingSelected() &&\n      new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)\n  }\n\n  \/\/ Called whenever the selection changes, sets the new selection as\n  \/\/ the pending selection in the history, and pushes the old pending\n  \/\/ selection into the 'done' array when it was significantly\n  \/\/ different (in number of selected ranges, emptiness, or time).\n  function addSelectionToHistory(doc, sel, opId, options) {\n    var hist = doc.history, origin = options && options.origin;\n\n    \/\/ A new event is started when the previous origin does not match\n    \/\/ the current, or the origins don't allow matching. Origins\n    \/\/ starting with * are always merged, those starting with + are\n    \/\/ merged when similar and close together in time.\n    if (opId == hist.lastSelOp ||\n        (origin && hist.lastSelOrigin == origin &&\n         (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\n          selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\n      { hist.done[hist.done.length - 1] = sel; }\n    else\n      { pushSelectionToHistory(sel, hist.done); }\n\n    hist.lastSelTime = +new Date;\n    hist.lastSelOrigin = origin;\n    hist.lastSelOp = opId;\n    if (options && options.clearRedo !== false)\n      { clearSelectionEvents(hist.undone); }\n  }\n\n  function pushSelectionToHistory(sel, dest) {\n    var top = lst(dest);\n    if (!(top && top.ranges && top.equals(sel)))\n      { dest.push(sel); }\n  }\n\n  \/\/ Used to store marked span information in the history.\n  function attachLocalSpans(doc, change, from, to) {\n    var existing = change[\"spans_\" + doc.id], n = 0;\n    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n      if (line.markedSpans)\n        { (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans; }\n      ++n;\n    });\n  }\n\n  \/\/ When un\/re-doing restores text containing marked spans, those\n  \/\/ that have been explicitly cleared should not be restored.\n  function removeClearedSpans(spans) {\n    if (!spans) { return null }\n    var out;\n    for (var i = 0; i < spans.length; ++i) {\n      if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i); } }\n      else if (out) { out.push(spans[i]); }\n    }\n    return !out ? spans : out.length ? out : null\n  }\n\n  \/\/ Retrieve and filter the old marked spans stored in a change event.\n  function getOldSpans(doc, change) {\n    var found = change[\"spans_\" + doc.id];\n    if (!found) { return null }\n    var nw = [];\n    for (var i = 0; i < change.text.length; ++i)\n      { nw.push(removeClearedSpans(found[i])); }\n    return nw\n  }\n\n  \/\/ Used for un\/re-doing changes from the history. Combines the\n  \/\/ result of computing the existing spans with the set of spans that\n  \/\/ existed in the history (so that deleting around a span and then\n  \/\/ undoing brings back the span).\n  function mergeOldSpans(doc, change) {\n    var old = getOldSpans(doc, change);\n    var stretched = stretchSpansOverChange(doc, change);\n    if (!old) { return stretched }\n    if (!stretched) { return old }\n\n    for (var i = 0; i < old.length; ++i) {\n      var oldCur = old[i], stretchCur = stretched[i];\n      if (oldCur && stretchCur) {\n        spans: for (var j = 0; j < stretchCur.length; ++j) {\n          var span = stretchCur[j];\n          for (var k = 0; k < oldCur.length; ++k)\n            { if (oldCur[k].marker == span.marker) { continue spans } }\n          oldCur.push(span);\n        }\n      } else if (stretchCur) {\n        old[i] = stretchCur;\n      }\n    }\n    return old\n  }\n\n  \/\/ Used both to provide a JSON-safe object in .getHistory, and, when\n  \/\/ detaching a document, to split the history in two\n  function copyHistoryArray(events, newGroup, instantiateSel) {\n    var copy = [];\n    for (var i = 0; i < events.length; ++i) {\n      var event = events[i];\n      if (event.ranges) {\n        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n        continue\n      }\n      var changes = event.changes, newChanges = [];\n      copy.push({changes: newChanges});\n      for (var j = 0; j < changes.length; ++j) {\n        var change = changes[j], m = (void 0);\n        newChanges.push({from: change.from, to: change.to, text: change.text});\n        if (newGroup) { for (var prop in change) { if (m = prop.match(\/^spans_(\\d+)$\/)) {\n          if (indexOf(newGroup, Number(m[1])) > -1) {\n            lst(newChanges)[prop] = change[prop];\n            delete change[prop];\n          }\n        } } }\n      }\n    }\n    return copy\n  }\n\n  \/\/ The 'scroll' parameter given to many of these indicated whether\n  \/\/ the new cursor position should be scrolled into view after\n  \/\/ modifying the selection.\n\n  \/\/ If shift is held or the extend flag is set, extends a range to\n  \/\/ include a given position (and optionally a second position).\n  \/\/ Otherwise, simply returns the range between the given positions.\n  \/\/ Used for cursor motion and such.\n  function extendRange(range, head, other, extend) {\n    if (extend) {\n      var anchor = range.anchor;\n      if (other) {\n        var posBefore = cmp(head, anchor) < 0;\n        if (posBefore != (cmp(other, anchor) < 0)) {\n          anchor = head;\n          head = other;\n        } else if (posBefore != (cmp(head, other) < 0)) {\n          head = other;\n        }\n      }\n      return new Range(anchor, head)\n    } else {\n      return new Range(other || head, head)\n    }\n  }\n\n  \/\/ Extend the primary selection range, discard the rest.\n  function extendSelection(doc, head, other, options, extend) {\n    if (extend == null) { extend = doc.cm && (doc.cm.display.shift || doc.extend); }\n    setSelection(doc, new Selection([extendRange(doc.sel.primary(), head, other, extend)], 0), options);\n  }\n\n  \/\/ Extend all selections (pos is an array of selections with length\n  \/\/ equal the number of selections)\n  function extendSelections(doc, heads, options) {\n    var out = [];\n    var extend = doc.cm && (doc.cm.display.shift || doc.extend);\n    for (var i = 0; i < doc.sel.ranges.length; i++)\n      { out[i] = extendRange(doc.sel.ranges[i], heads[i], null, extend); }\n    var newSel = normalizeSelection(doc.cm, out, doc.sel.primIndex);\n    setSelection(doc, newSel, options);\n  }\n\n  \/\/ Updates a single range in the selection.\n  function replaceOneSelection(doc, i, range, options) {\n    var ranges = doc.sel.ranges.slice(0);\n    ranges[i] = range;\n    setSelection(doc, normalizeSelection(doc.cm, ranges, doc.sel.primIndex), options);\n  }\n\n  \/\/ Reset the selection to a single range.\n  function setSimpleSelection(doc, anchor, head, options) {\n    setSelection(doc, simpleSelection(anchor, head), options);\n  }\n\n  \/\/ Give beforeSelectionChange handlers a change to influence a\n  \/\/ selection update.\n  function filterSelectionChange(doc, sel, options) {\n    var obj = {\n      ranges: sel.ranges,\n      update: function(ranges) {\n        this.ranges = [];\n        for (var i = 0; i < ranges.length; i++)\n          { this.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\n                                     clipPos(doc, ranges[i].head)); }\n      },\n      origin: options && options.origin\n    };\n    signal(doc, \"beforeSelectionChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj); }\n    if (obj.ranges != sel.ranges) { return normalizeSelection(doc.cm, obj.ranges, obj.ranges.length - 1) }\n    else { return sel }\n  }\n\n  function setSelectionReplaceHistory(doc, sel, options) {\n    var done = doc.history.done, last = lst(done);\n    if (last && last.ranges) {\n      done[done.length - 1] = sel;\n      setSelectionNoUndo(doc, sel, options);\n    } else {\n      setSelection(doc, sel, options);\n    }\n  }\n\n  \/\/ Set a new selection.\n  function setSelection(doc, sel, options) {\n    setSelectionNoUndo(doc, sel, options);\n    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n  }\n\n  function setSelectionNoUndo(doc, sel, options) {\n    if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\n      { sel = filterSelectionChange(doc, sel, options); }\n\n    var bias = options && options.bias ||\n      (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n    if (!(options && options.scroll === false) && doc.cm && doc.cm.getOption(\"readOnly\") != \"nocursor\")\n      { ensureCursorVisible(doc.cm); }\n  }\n\n  function setSelectionInner(doc, sel) {\n    if (sel.equals(doc.sel)) { return }\n\n    doc.sel = sel;\n\n    if (doc.cm) {\n      doc.cm.curOp.updateInput = 1;\n      doc.cm.curOp.selectionChanged = true;\n      signalCursorActivity(doc.cm);\n    }\n    signalLater(doc, \"cursorActivity\", doc);\n  }\n\n  \/\/ Verify that the selection does not partially select any atomic\n  \/\/ marked ranges.\n  function reCheckSelection(doc) {\n    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false));\n  }\n\n  \/\/ Return a selection that does not partially select any atomic\n  \/\/ ranges.\n  function skipAtomicInSelection(doc, sel, bias, mayClear) {\n    var out;\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range = sel.ranges[i];\n      var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];\n      var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);\n      var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear);\n      if (out || newAnchor != range.anchor || newHead != range.head) {\n        if (!out) { out = sel.ranges.slice(0, i); }\n        out[i] = new Range(newAnchor, newHead);\n      }\n    }\n    return out ? normalizeSelection(doc.cm, out, sel.primIndex) : sel\n  }\n\n  function skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n    var line = getLine(doc, pos.line);\n    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n      var sp = line.markedSpans[i], m = sp.marker;\n\n      \/\/ Determine if we should prevent the cursor being placed to the left\/right of an atomic marker\n      \/\/ Historically this was determined using the inclusiveLeft\/Right option, but the new way to control it\n      \/\/ is with selectLeft\/Right\n      var preventCursorLeft = (\"selectLeft\" in m) ? !m.selectLeft : m.inclusiveLeft;\n      var preventCursorRight = (\"selectRight\" in m) ? !m.selectRight : m.inclusiveRight;\n\n      if ((sp.from == null || (preventCursorLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\n          (sp.to == null || (preventCursorRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n        if (mayClear) {\n          signal(m, \"beforeCursorEnter\");\n          if (m.explicitlyCleared) {\n            if (!line.markedSpans) { break }\n            else {--i; continue}\n          }\n        }\n        if (!m.atomic) { continue }\n\n        if (oldPos) {\n          var near = m.find(dir < 0 ? 1 : -1), diff = (void 0);\n          if (dir < 0 ? preventCursorRight : preventCursorLeft)\n            { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null); }\n          if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\n            { return skipAtomicInner(doc, near, pos, dir, mayClear) }\n        }\n\n        var far = m.find(dir < 0 ? -1 : 1);\n        if (dir < 0 ? preventCursorLeft : preventCursorRight)\n          { far = movePos(doc, far, dir, far.line == pos.line ? line : null); }\n        return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null\n      }\n    } }\n    return pos\n  }\n\n  \/\/ Ensure a given position is not inside an atomic range.\n  function skipAtomic(doc, pos, oldPos, bias, mayClear) {\n    var dir = bias || 1;\n    var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\n        skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true));\n    if (!found) {\n      doc.cantEdit = true;\n      return Pos(doc.first, 0)\n    }\n    return found\n  }\n\n  function movePos(doc, pos, dir, line) {\n    if (dir < 0 && pos.ch == 0) {\n      if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }\n      else { return null }\n    } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n      if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }\n      else { return null }\n    } else {\n      return new Pos(pos.line, pos.ch + dir)\n    }\n  }\n\n  function selectAll(cm) {\n    cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);\n  }\n\n  \/\/ UPDATING\n\n  \/\/ Allow \"beforeChange\" event handlers to influence a change\n  function filterChange(doc, change, update) {\n    var obj = {\n      canceled: false,\n      from: change.from,\n      to: change.to,\n      text: change.text,\n      origin: change.origin,\n      cancel: function () { return obj.canceled = true; }\n    };\n    if (update) { obj.update = function (from, to, text, origin) {\n      if (from) { obj.from = clipPos(doc, from); }\n      if (to) { obj.to = clipPos(doc, to); }\n      if (text) { obj.text = text; }\n      if (origin !== undefined) { obj.origin = origin; }\n    }; }\n    signal(doc, \"beforeChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeChange\", doc.cm, obj); }\n\n    if (obj.canceled) {\n      if (doc.cm) { doc.cm.curOp.updateInput = 2; }\n      return null\n    }\n    return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}\n  }\n\n  \/\/ Apply a change to a document, and add it to the document's\n  \/\/ history, and propagating it to all linked documents.\n  function makeChange(doc, change, ignoreReadOnly) {\n    if (doc.cm) {\n      if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }\n      if (doc.cm.state.suppressEdits) { return }\n    }\n\n    if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n      change = filterChange(doc, change, true);\n      if (!change) { return }\n    }\n\n    \/\/ Possibly split or suppress the update based on the presence\n    \/\/ of read-only spans in its range.\n    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n    if (split) {\n      for (var i = split.length - 1; i >= 0; --i)\n        { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text, origin: change.origin}); }\n    } else {\n      makeChangeInner(doc, change);\n    }\n  }\n\n  function makeChangeInner(doc, change) {\n    if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) { return }\n    var selAfter = computeSelAfterChange(doc, change);\n    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n\n    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n    var rebased = [];\n\n    linkedDocs(doc, function (doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change);\n        rebased.push(doc.history);\n      }\n      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n    });\n  }\n\n  \/\/ Revert a change stored in a document's history.\n  function makeChangeFromHistory(doc, type, allowSelectionOnly) {\n    var suppress = doc.cm && doc.cm.state.suppressEdits;\n    if (suppress && !allowSelectionOnly) { return }\n\n    var hist = doc.history, event, selAfter = doc.sel;\n    var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done;\n\n    \/\/ Verify that there is a useable event (so that ctrl-z won't\n    \/\/ needlessly clear selection events)\n    var i = 0;\n    for (; i < source.length; i++) {\n      event = source[i];\n      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\n        { break }\n    }\n    if (i == source.length) { return }\n    hist.lastOrigin = hist.lastSelOrigin = null;\n\n    for (;;) {\n      event = source.pop();\n      if (event.ranges) {\n        pushSelectionToHistory(event, dest);\n        if (allowSelectionOnly && !event.equals(doc.sel)) {\n          setSelection(doc, event, {clearRedo: false});\n          return\n        }\n        selAfter = event;\n      } else if (suppress) {\n        source.push(event);\n        return\n      } else { break }\n    }\n\n    \/\/ Build up a reverse change object to add to the opposite history\n    \/\/ stack (redo when undoing, and vice versa).\n    var antiChanges = [];\n    pushSelectionToHistory(selAfter, dest);\n    dest.push({changes: antiChanges, generation: hist.generation});\n    hist.generation = event.generation || ++hist.maxGeneration;\n\n    var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n    var loop = function ( i ) {\n      var change = event.changes[i];\n      change.origin = type;\n      if (filter && !filterChange(doc, change, false)) {\n        source.length = 0;\n        return {}\n      }\n\n      antiChanges.push(historyChangeFromChange(doc, change));\n\n      var after = i ? computeSelAfterChange(doc, change) : lst(source);\n      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n      if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}); }\n      var rebased = [];\n\n      \/\/ Propagate to the linked documents\n      linkedDocs(doc, function (doc, sharedHist) {\n        if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n          rebaseHist(doc.history, change);\n          rebased.push(doc.history);\n        }\n        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n      });\n    };\n\n    for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n      var returned = loop( i$1 );\n\n      if ( returned ) return returned.v;\n    }\n  }\n\n  \/\/ Sub-views need their line numbers shifted when text is added\n  \/\/ above or below them in the parent document.\n  function shiftDoc(doc, distance) {\n    if (distance == 0) { return }\n    doc.first += distance;\n    doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(\n      Pos(range.anchor.line + distance, range.anchor.ch),\n      Pos(range.head.line + distance, range.head.ch)\n    ); }), doc.sel.primIndex);\n    if (doc.cm) {\n      regChange(doc.cm, doc.first, doc.first - distance, distance);\n      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\n        { regLineChange(doc.cm, l, \"gutter\"); }\n    }\n  }\n\n  \/\/ More lower-level change function, handling only a single document\n  \/\/ (not linked ones).\n  function makeChangeSingleDoc(doc, change, selAfter, spans) {\n    if (doc.cm && !doc.cm.curOp)\n      { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }\n\n    if (change.to.line < doc.first) {\n      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n      return\n    }\n    if (change.from.line > doc.lastLine()) { return }\n\n    \/\/ Clip the change to the size of this doc\n    if (change.from.line < doc.first) {\n      var shift = change.text.length - 1 - (doc.first - change.from.line);\n      shiftDoc(doc, shift);\n      change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\n                text: [lst(change.text)], origin: change.origin};\n    }\n    var last = doc.lastLine();\n    if (change.to.line > last) {\n      change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\n                text: [change.text[0]], origin: change.origin};\n    }\n\n    change.removed = getBetween(doc, change.from, change.to);\n\n    if (!selAfter) { selAfter = computeSelAfterChange(doc, change); }\n    if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans); }\n    else { updateDoc(doc, change, spans); }\n    setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n\n    if (doc.cantEdit && skipAtomic(doc, Pos(doc.firstLine(), 0)))\n      { doc.cantEdit = false; }\n  }\n\n  \/\/ Handle the interaction of a change to a document with the editor\n  \/\/ that this document is part of.\n  function makeChangeSingleDocInEditor(cm, change, spans) {\n    var doc = cm.doc, display = cm.display, from = change.from, to = change.to;\n\n    var recomputeMaxLength = false, checkWidthStart = from.line;\n    if (!cm.options.lineWrapping) {\n      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n      doc.iter(checkWidthStart, to.line + 1, function (line) {\n        if (line == display.maxLine) {\n          recomputeMaxLength = true;\n          return true\n        }\n      });\n    }\n\n    if (doc.sel.contains(change.from, change.to) > -1)\n      { signalCursorActivity(cm); }\n\n    updateDoc(doc, change, spans, estimateHeight(cm));\n\n    if (!cm.options.lineWrapping) {\n      doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n        var len = lineLength(line);\n        if (len > display.maxLineLength) {\n          display.maxLine = line;\n          display.maxLineLength = len;\n          display.maxLineChanged = true;\n          recomputeMaxLength = false;\n        }\n      });\n      if (recomputeMaxLength) { cm.curOp.updateMaxLine = true; }\n    }\n\n    retreatFrontier(doc, from.line);\n    startWorker(cm, 400);\n\n    var lendiff = change.text.length - (to.line - from.line) - 1;\n    \/\/ Remember that these lines changed, for updating the display\n    if (change.full)\n      { regChange(cm); }\n    else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\n      { regLineChange(cm, from.line, \"text\"); }\n    else\n      { regChange(cm, from.line, to.line + 1, lendiff); }\n\n    var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\");\n    if (changeHandler || changesHandler) {\n      var obj = {\n        from: from, to: to,\n        text: change.text,\n        removed: change.removed,\n        origin: change.origin\n      };\n      if (changeHandler) { signalLater(cm, \"change\", cm, obj); }\n      if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj); }\n    }\n    cm.display.selForContextMenu = null;\n  }\n\n  function replaceRange(doc, code, from, to, origin) {\n    var assign;\n\n    if (!to) { to = from; }\n    if (cmp(to, from) < 0) { (assign = [to, from], from = assign[0], to = assign[1]); }\n    if (typeof code == \"string\") { code = doc.splitLines(code); }\n    makeChange(doc, {from: from, to: to, text: code, origin: origin});\n  }\n\n  \/\/ Rebasing\/resetting history to deal with externally-sourced changes\n\n  function rebaseHistSelSingle(pos, from, to, diff) {\n    if (to < pos.line) {\n      pos.line += diff;\n    } else if (from < pos.line) {\n      pos.line = from;\n      pos.ch = 0;\n    }\n  }\n\n  \/\/ Tries to rebase an array of history events given a change in the\n  \/\/ document. If the change touches the same lines as the event, the\n  \/\/ event, and everything 'behind' it, is discarded. If the change is\n  \/\/ before the event, the event's positions are updated. Uses a\n  \/\/ copy-on-write scheme for the positions, to avoid having to\n  \/\/ reallocate them all on every rebase, but also avoid problems with\n  \/\/ shared position objects being unsafely updated.\n  function rebaseHistArray(array, from, to, diff) {\n    for (var i = 0; i < array.length; ++i) {\n      var sub = array[i], ok = true;\n      if (sub.ranges) {\n        if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true; }\n        for (var j = 0; j < sub.ranges.length; j++) {\n          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n        }\n        continue\n      }\n      for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n        var cur = sub.changes[j$1];\n        if (to < cur.from.line) {\n          cur.from = Pos(cur.from.line + diff, cur.from.ch);\n          cur.to = Pos(cur.to.line + diff, cur.to.ch);\n        } else if (from <= cur.to.line) {\n          ok = false;\n          break\n        }\n      }\n      if (!ok) {\n        array.splice(0, i + 1);\n        i = 0;\n      }\n    }\n  }\n\n  function rebaseHist(hist, change) {\n    var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;\n    rebaseHistArray(hist.done, from, to, diff);\n    rebaseHistArray(hist.undone, from, to, diff);\n  }\n\n  \/\/ Utility for applying a change to a line by handle or number,\n  \/\/ returning the number and optionally registering the line as\n  \/\/ changed.\n  function changeLine(doc, handle, changeType, op) {\n    var no = handle, line = handle;\n    if (typeof handle == \"number\") { line = getLine(doc, clipLine(doc, handle)); }\n    else { no = lineNo(handle); }\n    if (no == null) { return null }\n    if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType); }\n    return line\n  }\n\n  \/\/ The document is represented as a BTree consisting of leaves, with\n  \/\/ chunk of lines in them, and branches, with up to ten leaves or\n  \/\/ other branch nodes below them. The top node is always a branch\n  \/\/ node, and is the document object itself (meaning it has\n  \/\/ additional methods and properties).\n  \/\/\n  \/\/ All nodes have parent links. The tree is used both to go from\n  \/\/ line numbers to line objects, and to go from objects to numbers.\n  \/\/ It also indexes by height, and is used to convert between height\n  \/\/ and line object, and to find the total height of the document.\n  \/\/\n  \/\/ See also http:\/\/marijnhaverbeke.nl\/blog\/codemirror-line-tree.html\n\n  function LeafChunk(lines) {\n    this.lines = lines;\n    this.parent = null;\n    var height = 0;\n    for (var i = 0; i < lines.length; ++i) {\n      lines[i].parent = this;\n      height += lines[i].height;\n    }\n    this.height = height;\n  }\n\n  LeafChunk.prototype = {\n    chunkSize: function() { return this.lines.length },\n\n    \/\/ Remove the n lines at offset 'at'.\n    removeInner: function(at, n) {\n      for (var i = at, e = at + n; i < e; ++i) {\n        var line = this.lines[i];\n        this.height -= line.height;\n        cleanUpLine(line);\n        signalLater(line, \"delete\");\n      }\n      this.lines.splice(at, n);\n    },\n\n    \/\/ Helper used to collapse a small branch into a single leaf.\n    collapse: function(lines) {\n      lines.push.apply(lines, this.lines);\n    },\n\n    \/\/ Insert the given array of lines at offset 'at', count them as\n    \/\/ having the given height.\n    insertInner: function(at, lines, height) {\n      this.height += height;\n      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n      for (var i = 0; i < lines.length; ++i) { lines[i].parent = this; }\n    },\n\n    \/\/ Used to iterate over a part of the tree.\n    iterN: function(at, n, op) {\n      for (var e = at + n; at < e; ++at)\n        { if (op(this.lines[at])) { return true } }\n    }\n  };\n\n  function BranchChunk(children) {\n    this.children = children;\n    var size = 0, height = 0;\n    for (var i = 0; i < children.length; ++i) {\n      var ch = children[i];\n      size += ch.chunkSize(); height += ch.height;\n      ch.parent = this;\n    }\n    this.size = size;\n    this.height = height;\n    this.parent = null;\n  }\n\n  BranchChunk.prototype = {\n    chunkSize: function() { return this.size },\n\n    removeInner: function(at, n) {\n      this.size -= n;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var rm = Math.min(n, sz - at), oldHeight = child.height;\n          child.removeInner(at, rm);\n          this.height -= oldHeight - child.height;\n          if (sz == rm) { this.children.splice(i--, 1); child.parent = null; }\n          if ((n -= rm) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n      \/\/ If the result is smaller than 25 lines, ensure that it is a\n      \/\/ single leaf node.\n      if (this.size - n < 25 &&\n          (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n        var lines = [];\n        this.collapse(lines);\n        this.children = [new LeafChunk(lines)];\n        this.children[0].parent = this;\n      }\n    },\n\n    collapse: function(lines) {\n      for (var i = 0; i < this.children.length; ++i) { this.children[i].collapse(lines); }\n    },\n\n    insertInner: function(at, lines, height) {\n      this.size += lines.length;\n      this.height += height;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at <= sz) {\n          child.insertInner(at, lines, height);\n          if (child.lines && child.lines.length > 50) {\n            \/\/ To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n            \/\/ Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n            var remaining = child.lines.length % 25 + 25;\n            for (var pos = remaining; pos < child.lines.length;) {\n              var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));\n              child.height -= leaf.height;\n              this.children.splice(++i, 0, leaf);\n              leaf.parent = this;\n            }\n            child.lines = child.lines.slice(0, remaining);\n            this.maybeSpill();\n          }\n          break\n        }\n        at -= sz;\n      }\n    },\n\n    \/\/ When a node has grown, check whether it should be split.\n    maybeSpill: function() {\n      if (this.children.length <= 10) { return }\n      var me = this;\n      do {\n        var spilled = me.children.splice(me.children.length - 5, 5);\n        var sibling = new BranchChunk(spilled);\n        if (!me.parent) { \/\/ Become the parent node\n          var copy = new BranchChunk(me.children);\n          copy.parent = me;\n          me.children = [copy, sibling];\n          me = copy;\n       } else {\n          me.size -= sibling.size;\n          me.height -= sibling.height;\n          var myIndex = indexOf(me.parent.children, me);\n          me.parent.children.splice(myIndex + 1, 0, sibling);\n        }\n        sibling.parent = me.parent;\n      } while (me.children.length > 10)\n      me.parent.maybeSpill();\n    },\n\n    iterN: function(at, n, op) {\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var used = Math.min(n, sz - at);\n          if (child.iterN(at, used, op)) { return true }\n          if ((n -= used) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n    }\n  };\n\n  \/\/ Line widgets are block elements displayed above or below a line.\n\n  var LineWidget = function(doc, node, options) {\n    if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))\n      { this[opt] = options[opt]; } } }\n    this.doc = doc;\n    this.node = node;\n  };\n\n  LineWidget.prototype.clear = function () {\n    var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);\n    if (no == null || !ws) { return }\n    for (var i = 0; i < ws.length; ++i) { if (ws[i] == this) { ws.splice(i--, 1); } }\n    if (!ws.length) { line.widgets = null; }\n    var height = widgetHeight(this);\n    updateLineHeight(line, Math.max(0, line.height - height));\n    if (cm) {\n      runInOp(cm, function () {\n        adjustScrollWhenAboveVisible(cm, line, -height);\n        regLineChange(cm, no, \"widget\");\n      });\n      signalLater(cm, \"lineWidgetCleared\", cm, this, no);\n    }\n  };\n\n  LineWidget.prototype.changed = function () {\n      var this$1 = this;\n\n    var oldH = this.height, cm = this.doc.cm, line = this.line;\n    this.height = null;\n    var diff = widgetHeight(this) - oldH;\n    if (!diff) { return }\n    if (!lineIsHidden(this.doc, line)) { updateLineHeight(line, line.height + diff); }\n    if (cm) {\n      runInOp(cm, function () {\n        cm.curOp.forceUpdate = true;\n        adjustScrollWhenAboveVisible(cm, line, diff);\n        signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line));\n      });\n    }\n  };\n  eventMixin(LineWidget);\n\n  function adjustScrollWhenAboveVisible(cm, line, diff) {\n    if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\n      { addToScrollTop(cm, diff); }\n  }\n\n  function addLineWidget(doc, handle, node, options) {\n    var widget = new LineWidget(doc, node, options);\n    var cm = doc.cm;\n    if (cm && widget.noHScroll) { cm.display.alignWidgets = true; }\n    changeLine(doc, handle, \"widget\", function (line) {\n      var widgets = line.widgets || (line.widgets = []);\n      if (widget.insertAt == null) { widgets.push(widget); }\n      else { widgets.splice(Math.min(widgets.length, Math.max(0, widget.insertAt)), 0, widget); }\n      widget.line = line;\n      if (cm && !lineIsHidden(doc, line)) {\n        var aboveVisible = heightAtLine(line) < doc.scrollTop;\n        updateLineHeight(line, line.height + widgetHeight(widget));\n        if (aboveVisible) { addToScrollTop(cm, widget.height); }\n        cm.curOp.forceUpdate = true;\n      }\n      return true\n    });\n    if (cm) { signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle)); }\n    return widget\n  }\n\n  \/\/ TEXTMARKERS\n\n  \/\/ Created with markText and setBookmark methods. A TextMarker is a\n  \/\/ handle that can be used to clear or find a marked position in the\n  \/\/ document. Line objects hold arrays (markedSpans) containing\n  \/\/ {from, to, marker} object pointing to such marker objects, and\n  \/\/ indicating that such a marker is present on that line. Multiple\n  \/\/ lines may point to the same marker when it spans across lines.\n  \/\/ The spans will have null for their from\/to properties when the\n  \/\/ marker continues beyond the start\/end of the line. Markers have\n  \/\/ links back to the lines they currently touch.\n\n  \/\/ Collapsed markers have unique ids, in order to be able to order\n  \/\/ them, which is needed for uniquely determining an outer marker\n  \/\/ when they overlap (they may nest, but not partially overlap).\n  var nextMarkerId = 0;\n\n  var TextMarker = function(doc, type) {\n    this.lines = [];\n    this.type = type;\n    this.doc = doc;\n    this.id = ++nextMarkerId;\n  };\n\n  \/\/ Clear the marker.\n  TextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    var cm = this.doc.cm, withOp = cm && !cm.curOp;\n    if (withOp) { startOperation(cm); }\n    if (hasHandler(this, \"clear\")) {\n      var found = this.find();\n      if (found) { signalLater(this, \"clear\", found.from, found.to); }\n    }\n    var min = null, max = null;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (cm && !this.collapsed) { regLineChange(cm, lineNo(line), \"text\"); }\n      else if (cm) {\n        if (span.to != null) { max = lineNo(line); }\n        if (span.from != null) { min = lineNo(line); }\n      }\n      line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n      if (span.from == null && this.collapsed && !lineIsHidden(this.doc, line) && cm)\n        { updateLineHeight(line, textHeight(cm.display)); }\n    }\n    if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n      var visual = visualLine(this.lines[i$1]), len = lineLength(visual);\n      if (len > cm.display.maxLineLength) {\n        cm.display.maxLine = visual;\n        cm.display.maxLineLength = len;\n        cm.display.maxLineChanged = true;\n      }\n    } }\n\n    if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1); }\n    this.lines.length = 0;\n    this.explicitlyCleared = true;\n    if (this.atomic && this.doc.cantEdit) {\n      this.doc.cantEdit = false;\n      if (cm) { reCheckSelection(cm.doc); }\n    }\n    if (cm) { signalLater(cm, \"markerCleared\", cm, this, min, max); }\n    if (withOp) { endOperation(cm); }\n    if (this.parent) { this.parent.clear(); }\n  };\n\n  \/\/ Find the position of the marker in the document. Returns a {from,\n  \/\/ to} object by default. Side can be passed to get a specific side\n  \/\/ -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n  \/\/ Pos objects returned contain a line object, rather than a line\n  \/\/ number (used to prevent looking up the same line twice).\n  TextMarker.prototype.find = function (side, lineObj) {\n    if (side == null && this.type == \"bookmark\") { side = 1; }\n    var from, to;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (span.from != null) {\n        from = Pos(lineObj ? line : lineNo(line), span.from);\n        if (side == -1) { return from }\n      }\n      if (span.to != null) {\n        to = Pos(lineObj ? line : lineNo(line), span.to);\n        if (side == 1) { return to }\n      }\n    }\n    return from && {from: from, to: to}\n  };\n\n  \/\/ Signals that the marker's widget changed, and surrounding layout\n  \/\/ should be recomputed.\n  TextMarker.prototype.changed = function () {\n      var this$1 = this;\n\n    var pos = this.find(-1, true), widget = this, cm = this.doc.cm;\n    if (!pos || !cm) { return }\n    runInOp(cm, function () {\n      var line = pos.line, lineN = lineNo(pos.line);\n      var view = findViewForLine(cm, lineN);\n      if (view) {\n        clearLineMeasurementCacheFor(view);\n        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n      }\n      cm.curOp.updateMaxLine = true;\n      if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n        var oldHeight = widget.height;\n        widget.height = null;\n        var dHeight = widgetHeight(widget) - oldHeight;\n        if (dHeight)\n          { updateLineHeight(line, line.height + dHeight); }\n      }\n      signalLater(cm, \"markerChanged\", cm, this$1);\n    });\n  };\n\n  TextMarker.prototype.attachLine = function (line) {\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\n        { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this); }\n    }\n    this.lines.push(line);\n  };\n\n  TextMarker.prototype.detachLine = function (line) {\n    this.lines.splice(indexOf(this.lines, line), 1);\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp\n      ;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n    }\n  };\n  eventMixin(TextMarker);\n\n  \/\/ Create a marker, wire it up to the right lines, and\n  function markText(doc, from, to, options, type) {\n    \/\/ Shared markers (across linked documents) are handled separately\n    \/\/ (markTextShared will call out to this again, once per\n    \/\/ document).\n    if (options && options.shared) { return markTextShared(doc, from, to, options, type) }\n    \/\/ Ensure we are in an operation.\n    if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }\n\n    var marker = new TextMarker(doc, type), diff = cmp(from, to);\n    if (options) { copyObj(options, marker, false); }\n    \/\/ Don't connect empty markers unless clearWhenEmpty is false\n    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\n      { return marker }\n    if (marker.replacedWith) {\n      \/\/ Showing up as a widget implies collapsed (widget replaces text)\n      marker.collapsed = true;\n      marker.widgetNode = eltP(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n      if (!options.handleMouseEvents) { marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\"); }\n      if (options.insertLeft) { marker.widgetNode.insertLeft = true; }\n    }\n    if (marker.collapsed) {\n      if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\n          from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\n        { throw new Error(\"Inserting collapsed marker partially overlapping an existing one\") }\n      seeCollapsedSpans();\n    }\n\n    if (marker.addToHistory)\n      { addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN); }\n\n    var curLine = from.line, cm = doc.cm, updateMaxLine;\n    doc.iter(curLine, to.line + 1, function (line) {\n      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\n        { updateMaxLine = true; }\n      if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0); }\n      addMarkedSpan(line, new MarkedSpan(marker,\n                                         curLine == from.line ? from.ch : null,\n                                         curLine == to.line ? to.ch : null));\n      ++curLine;\n    });\n    \/\/ lineIsHidden depends on the presence of the spans, so needs a second pass\n    if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {\n      if (lineIsHidden(doc, line)) { updateLineHeight(line, 0); }\n    }); }\n\n    if (marker.clearOnEnter) { on(marker, \"beforeCursorEnter\", function () { return marker.clear(); }); }\n\n    if (marker.readOnly) {\n      seeReadOnlySpans();\n      if (doc.history.done.length || doc.history.undone.length)\n        { doc.clearHistory(); }\n    }\n    if (marker.collapsed) {\n      marker.id = ++nextMarkerId;\n      marker.atomic = true;\n    }\n    if (cm) {\n      \/\/ Sync editor state\n      if (updateMaxLine) { cm.curOp.updateMaxLine = true; }\n      if (marker.collapsed)\n        { regChange(cm, from.line, to.line + 1); }\n      else if (marker.className || marker.startStyle || marker.endStyle || marker.css ||\n               marker.attributes || marker.title)\n        { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, \"text\"); } }\n      if (marker.atomic) { reCheckSelection(cm.doc); }\n      signalLater(cm, \"markerAdded\", cm, marker);\n    }\n    return marker\n  }\n\n  \/\/ SHARED TEXTMARKERS\n\n  \/\/ A shared marker spans multiple linked documents. It is\n  \/\/ implemented as a meta-marker-object controlling multiple normal\n  \/\/ markers.\n  var SharedTextMarker = function(markers, primary) {\n    this.markers = markers;\n    this.primary = primary;\n    for (var i = 0; i < markers.length; ++i)\n      { markers[i].parent = this; }\n  };\n\n  SharedTextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    this.explicitlyCleared = true;\n    for (var i = 0; i < this.markers.length; ++i)\n      { this.markers[i].clear(); }\n    signalLater(this, \"clear\");\n  };\n\n  SharedTextMarker.prototype.find = function (side, lineObj) {\n    return this.primary.find(side, lineObj)\n  };\n  eventMixin(SharedTextMarker);\n\n  function markTextShared(doc, from, to, options, type) {\n    options = copyObj(options);\n    options.shared = false;\n    var markers = [markText(doc, from, to, options, type)], primary = markers[0];\n    var widget = options.widgetNode;\n    linkedDocs(doc, function (doc) {\n      if (widget) { options.widgetNode = widget.cloneNode(true); }\n      markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));\n      for (var i = 0; i < doc.linked.length; ++i)\n        { if (doc.linked[i].isParent) { return } }\n      primary = lst(markers);\n    });\n    return new SharedTextMarker(markers, primary)\n  }\n\n  function findSharedMarkers(doc) {\n    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })\n  }\n\n  function copySharedMarkers(doc, markers) {\n    for (var i = 0; i < markers.length; i++) {\n      var marker = markers[i], pos = marker.find();\n      var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to);\n      if (cmp(mFrom, mTo)) {\n        var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n        marker.markers.push(subMark);\n        subMark.parent = marker;\n      }\n    }\n  }\n\n  function detachSharedMarkers(markers) {\n    var loop = function ( i ) {\n      var marker = markers[i], linked = [marker.primary.doc];\n      linkedDocs(marker.primary.doc, function (d) { return linked.push(d); });\n      for (var j = 0; j < marker.markers.length; j++) {\n        var subMarker = marker.markers[j];\n        if (indexOf(linked, subMarker.doc) == -1) {\n          subMarker.parent = null;\n          marker.markers.splice(j--, 1);\n        }\n      }\n    };\n\n    for (var i = 0; i < markers.length; i++) loop( i );\n  }\n\n  var nextDocId = 0;\n  var Doc = function(text, mode, firstLine, lineSep, direction) {\n    if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep, direction) }\n    if (firstLine == null) { firstLine = 0; }\n\n    BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n    this.first = firstLine;\n    this.scrollTop = this.scrollLeft = 0;\n    this.cantEdit = false;\n    this.cleanGeneration = 1;\n    this.modeFrontier = this.highlightFrontier = firstLine;\n    var start = Pos(firstLine, 0);\n    this.sel = simpleSelection(start);\n    this.history = new History(null);\n    this.id = ++nextDocId;\n    this.modeOption = mode;\n    this.lineSep = lineSep;\n    this.direction = (direction == \"rtl\") ? \"rtl\" : \"ltr\";\n    this.extend = false;\n\n    if (typeof text == \"string\") { text = this.splitLines(text); }\n    updateDoc(this, {from: start, to: start, text: text});\n    setSelection(this, simpleSelection(start), sel_dontScroll);\n  };\n\n  Doc.prototype = createObj(BranchChunk.prototype, {\n    constructor: Doc,\n    \/\/ Iterate over the document. Supports two forms -- with only one\n    \/\/ argument, it calls that for each line in the document. With\n    \/\/ three, it iterates over the range given by the first two (with\n    \/\/ the second being non-inclusive).\n    iter: function(from, to, op) {\n      if (op) { this.iterN(from - this.first, to - from, op); }\n      else { this.iterN(this.first, this.first + this.size, from); }\n    },\n\n    \/\/ Non-public interface for adding and removing lines.\n    insert: function(at, lines) {\n      var height = 0;\n      for (var i = 0; i < lines.length; ++i) { height += lines[i].height; }\n      this.insertInner(at - this.first, lines, height);\n    },\n    remove: function(at, n) { this.removeInner(at - this.first, n); },\n\n    \/\/ From here, the methods are part of the public interface. Most\n    \/\/ are also available from CodeMirror (editor) instances.\n\n    getValue: function(lineSep) {\n      var lines = getLines(this, this.first, this.first + this.size);\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n    setValue: docMethodOp(function(code) {\n      var top = Pos(this.first, 0), last = this.first + this.size - 1;\n      makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\n                        text: this.splitLines(code), origin: \"setValue\", full: true}, true);\n      if (this.cm) { scrollToCoords(this.cm, 0, 0); }\n      setSelection(this, simpleSelection(top), sel_dontScroll);\n    }),\n    replaceRange: function(code, from, to, origin) {\n      from = clipPos(this, from);\n      to = to ? clipPos(this, to) : from;\n      replaceRange(this, code, from, to, origin);\n    },\n    getRange: function(from, to, lineSep) {\n      var lines = getBetween(this, clipPos(this, from), clipPos(this, to));\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n\n    getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},\n\n    getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},\n    getLineNumber: function(line) {return lineNo(line)},\n\n    getLineHandleVisualStart: function(line) {\n      if (typeof line == \"number\") { line = getLine(this, line); }\n      return visualLine(line)\n    },\n\n    lineCount: function() {return this.size},\n    firstLine: function() {return this.first},\n    lastLine: function() {return this.first + this.size - 1},\n\n    clipPos: function(pos) {return clipPos(this, pos)},\n\n    getCursor: function(start) {\n      var range = this.sel.primary(), pos;\n      if (start == null || start == \"head\") { pos = range.head; }\n      else if (start == \"anchor\") { pos = range.anchor; }\n      else if (start == \"end\" || start == \"to\" || start === false) { pos = range.to(); }\n      else { pos = range.from(); }\n      return pos\n    },\n    listSelections: function() { return this.sel.ranges },\n    somethingSelected: function() {return this.sel.somethingSelected()},\n\n    setCursor: docMethodOp(function(line, ch, options) {\n      setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n    }),\n    setSelection: docMethodOp(function(anchor, head, options) {\n      setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);\n    }),\n    extendSelection: docMethodOp(function(head, other, options) {\n      extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);\n    }),\n    extendSelections: docMethodOp(function(heads, options) {\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    extendSelectionsBy: docMethodOp(function(f, options) {\n      var heads = map(this.sel.ranges, f);\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    setSelections: docMethodOp(function(ranges, primary, options) {\n      if (!ranges.length) { return }\n      var out = [];\n      for (var i = 0; i < ranges.length; i++)\n        { out[i] = new Range(clipPos(this, ranges[i].anchor),\n                           clipPos(this, ranges[i].head)); }\n      if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex); }\n      setSelection(this, normalizeSelection(this.cm, out, primary), options);\n    }),\n    addSelection: docMethodOp(function(anchor, head, options) {\n      var ranges = this.sel.ranges.slice(0);\n      ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));\n      setSelection(this, normalizeSelection(this.cm, ranges, ranges.length - 1), options);\n    }),\n\n    getSelection: function(lineSep) {\n      var ranges = this.sel.ranges, lines;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        lines = lines ? lines.concat(sel) : sel;\n      }\n      if (lineSep === false) { return lines }\n      else { return lines.join(lineSep || this.lineSeparator()) }\n    },\n    getSelections: function(lineSep) {\n      var parts = [], ranges = this.sel.ranges;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        if (lineSep !== false) { sel = sel.join(lineSep || this.lineSeparator()); }\n        parts[i] = sel;\n      }\n      return parts\n    },\n    replaceSelection: function(code, collapse, origin) {\n      var dup = [];\n      for (var i = 0; i < this.sel.ranges.length; i++)\n        { dup[i] = code; }\n      this.replaceSelections(dup, collapse, origin || \"+input\");\n    },\n    replaceSelections: docMethodOp(function(code, collapse, origin) {\n      var changes = [], sel = this.sel;\n      for (var i = 0; i < sel.ranges.length; i++) {\n        var range = sel.ranges[i];\n        changes[i] = {from: range.from(), to: range.to(), text: this.splitLines(code[i]), origin: origin};\n      }\n      var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n      for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)\n        { makeChange(this, changes[i$1]); }\n      if (newSel) { setSelectionReplaceHistory(this, newSel); }\n      else if (this.cm) { ensureCursorVisible(this.cm); }\n    }),\n    undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\");}),\n    redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\");}),\n    undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true);}),\n    redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true);}),\n\n    setExtending: function(val) {this.extend = val;},\n    getExtending: function() {return this.extend},\n\n    historySize: function() {\n      var hist = this.history, done = 0, undone = 0;\n      for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done; } }\n      for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone; } }\n      return {undo: done, redo: undone}\n    },\n    clearHistory: function() {\n      var this$1 = this;\n\n      this.history = new History(this.history.maxGeneration);\n      linkedDocs(this, function (doc) { return doc.history = this$1.history; }, true);\n    },\n\n    markClean: function() {\n      this.cleanGeneration = this.changeGeneration(true);\n    },\n    changeGeneration: function(forceSplit) {\n      if (forceSplit)\n        { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null; }\n      return this.history.generation\n    },\n    isClean: function (gen) {\n      return this.history.generation == (gen || this.cleanGeneration)\n    },\n\n    getHistory: function() {\n      return {done: copyHistoryArray(this.history.done),\n              undone: copyHistoryArray(this.history.undone)}\n    },\n    setHistory: function(histData) {\n      var hist = this.history = new History(this.history.maxGeneration);\n      hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n    },\n\n    setGutterMarker: docMethodOp(function(line, gutterID, value) {\n      return changeLine(this, line, \"gutter\", function (line) {\n        var markers = line.gutterMarkers || (line.gutterMarkers = {});\n        markers[gutterID] = value;\n        if (!value && isEmpty(markers)) { line.gutterMarkers = null; }\n        return true\n      })\n    }),\n\n    clearGutter: docMethodOp(function(gutterID) {\n      var this$1 = this;\n\n      this.iter(function (line) {\n        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n          changeLine(this$1, line, \"gutter\", function () {\n            line.gutterMarkers[gutterID] = null;\n            if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null; }\n            return true\n          });\n        }\n      });\n    }),\n\n    lineInfo: function(line) {\n      var n;\n      if (typeof line == \"number\") {\n        if (!isLine(this, line)) { return null }\n        n = line;\n        line = getLine(this, line);\n        if (!line) { return null }\n      } else {\n        n = lineNo(line);\n        if (n == null) { return null }\n      }\n      return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\n              textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\n              widgets: line.widgets}\n    },\n\n    addLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        if (!line[prop]) { line[prop] = cls; }\n        else if (classTest(cls).test(line[prop])) { return false }\n        else { line[prop] += \" \" + cls; }\n        return true\n      })\n    }),\n    removeLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        var cur = line[prop];\n        if (!cur) { return false }\n        else if (cls == null) { line[prop] = null; }\n        else {\n          var found = cur.match(classTest(cls));\n          if (!found) { return false }\n          var end = found.index + found[0].length;\n          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n        }\n        return true\n      })\n    }),\n\n    addLineWidget: docMethodOp(function(handle, node, options) {\n      return addLineWidget(this, handle, node, options)\n    }),\n    removeLineWidget: function(widget) { widget.clear(); },\n\n    markText: function(from, to, options) {\n      return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\")\n    },\n    setBookmark: function(pos, options) {\n      var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\n                      insertLeft: options && options.insertLeft,\n                      clearWhenEmpty: false, shared: options && options.shared,\n                      handleMouseEvents: options && options.handleMouseEvents};\n      pos = clipPos(this, pos);\n      return markText(this, pos, pos, realOpts, \"bookmark\")\n    },\n    findMarksAt: function(pos) {\n      pos = clipPos(this, pos);\n      var markers = [], spans = getLine(this, pos.line).markedSpans;\n      if (spans) { for (var i = 0; i < spans.length; ++i) {\n        var span = spans[i];\n        if ((span.from == null || span.from <= pos.ch) &&\n            (span.to == null || span.to >= pos.ch))\n          { markers.push(span.marker.parent || span.marker); }\n      } }\n      return markers\n    },\n    findMarks: function(from, to, filter) {\n      from = clipPos(this, from); to = clipPos(this, to);\n      var found = [], lineNo = from.line;\n      this.iter(from.line, to.line + 1, function (line) {\n        var spans = line.markedSpans;\n        if (spans) { for (var i = 0; i < spans.length; i++) {\n          var span = spans[i];\n          if (!(span.to != null && lineNo == from.line && from.ch >= span.to ||\n                span.from == null && lineNo != from.line ||\n                span.from != null && lineNo == to.line && span.from >= to.ch) &&\n              (!filter || filter(span.marker)))\n            { found.push(span.marker.parent || span.marker); }\n        } }\n        ++lineNo;\n      });\n      return found\n    },\n    getAllMarks: function() {\n      var markers = [];\n      this.iter(function (line) {\n        var sps = line.markedSpans;\n        if (sps) { for (var i = 0; i < sps.length; ++i)\n          { if (sps[i].from != null) { markers.push(sps[i].marker); } } }\n      });\n      return markers\n    },\n\n    posFromIndex: function(off) {\n      var ch, lineNo = this.first, sepSize = this.lineSeparator().length;\n      this.iter(function (line) {\n        var sz = line.text.length + sepSize;\n        if (sz > off) { ch = off; return true }\n        off -= sz;\n        ++lineNo;\n      });\n      return clipPos(this, Pos(lineNo, ch))\n    },\n    indexFromPos: function (coords) {\n      coords = clipPos(this, coords);\n      var index = coords.ch;\n      if (coords.line < this.first || coords.ch < 0) { return 0 }\n      var sepSize = this.lineSeparator().length;\n      this.iter(this.first, coords.line, function (line) { \/\/ iter aborts when callback returns a truthy value\n        index += line.text.length + sepSize;\n      });\n      return index\n    },\n\n    copy: function(copyHistory) {\n      var doc = new Doc(getLines(this, this.first, this.first + this.size),\n                        this.modeOption, this.first, this.lineSep, this.direction);\n      doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft;\n      doc.sel = this.sel;\n      doc.extend = false;\n      if (copyHistory) {\n        doc.history.undoDepth = this.history.undoDepth;\n        doc.setHistory(this.getHistory());\n      }\n      return doc\n    },\n\n    linkedDoc: function(options) {\n      if (!options) { options = {}; }\n      var from = this.first, to = this.first + this.size;\n      if (options.from != null && options.from > from) { from = options.from; }\n      if (options.to != null && options.to < to) { to = options.to; }\n      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction);\n      if (options.sharedHist) { copy.history = this.history\n      ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist});\n      copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}];\n      copySharedMarkers(copy, findSharedMarkers(this));\n      return copy\n    },\n    unlinkDoc: function(other) {\n      if (other instanceof CodeMirror) { other = other.doc; }\n      if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {\n        var link = this.linked[i];\n        if (link.doc != other) { continue }\n        this.linked.splice(i, 1);\n        other.unlinkDoc(this);\n        detachSharedMarkers(findSharedMarkers(this));\n        break\n      } }\n      \/\/ If the histories were shared, split them again\n      if (other.history == this.history) {\n        var splitIds = [other.id];\n        linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true);\n        other.history = new History(null);\n        other.history.done = copyHistoryArray(this.history.done, splitIds);\n        other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n      }\n    },\n    iterLinkedDocs: function(f) {linkedDocs(this, f);},\n\n    getMode: function() {return this.mode},\n    getEditor: function() {return this.cm},\n\n    splitLines: function(str) {\n      if (this.lineSep) { return str.split(this.lineSep) }\n      return splitLinesAuto(str)\n    },\n    lineSeparator: function() { return this.lineSep || \"\\n\" },\n\n    setDirection: docMethodOp(function (dir) {\n      if (dir != \"rtl\") { dir = \"ltr\"; }\n      if (dir == this.direction) { return }\n      this.direction = dir;\n      this.iter(function (line) { return line.order = null; });\n      if (this.cm) { directionChanged(this.cm); }\n    })\n  });\n\n  \/\/ Public alias.\n  Doc.prototype.eachLine = Doc.prototype.iter;\n\n  \/\/ Kludge to work around strange IE behavior where it'll sometimes\n  \/\/ re-fire a series of drag-related events right after the drop (#1551)\n  var lastDrop = 0;\n\n  function onDrop(e) {\n    var cm = this;\n    clearDragCursor(cm);\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\n      { return }\n    e_preventDefault(e);\n    if (ie) { lastDrop = +new Date; }\n    var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;\n    if (!pos || cm.isReadOnly()) { return }\n    \/\/ Might be a file drop, in which case we simply extract the text\n    \/\/ and insert it.\n    if (files && files.length && window.FileReader && window.File) {\n      var n = files.length, text = Array(n), read = 0;\n      var markAsReadAndPasteIfAllFilesAreRead = function () {\n        if (++read == n) {\n          operation(cm, function () {\n            pos = clipPos(cm.doc, pos);\n            var change = {from: pos, to: pos,\n                          text: cm.doc.splitLines(\n                              text.filter(function (t) { return t != null; }).join(cm.doc.lineSeparator())),\n                          origin: \"paste\"};\n            makeChange(cm.doc, change);\n            setSelectionReplaceHistory(cm.doc, simpleSelection(clipPos(cm.doc, pos), clipPos(cm.doc, changeEnd(change))));\n          })();\n        }\n      };\n      var readTextFromFile = function (file, i) {\n        if (cm.options.allowDropFileTypes &&\n            indexOf(cm.options.allowDropFileTypes, file.type) == -1) {\n          markAsReadAndPasteIfAllFilesAreRead();\n          return\n        }\n        var reader = new FileReader;\n        reader.onerror = function () { return markAsReadAndPasteIfAllFilesAreRead(); };\n        reader.onload = function () {\n          var content = reader.result;\n          if (\/[\\x00-\\x08\\x0e-\\x1f]{2}\/.test(content)) {\n            markAsReadAndPasteIfAllFilesAreRead();\n            return\n          }\n          text[i] = content;\n          markAsReadAndPasteIfAllFilesAreRead();\n        };\n        reader.readAsText(file);\n      };\n      for (var i = 0; i < files.length; i++) { readTextFromFile(files[i], i); }\n    } else { \/\/ Normal drop\n      \/\/ Don't do a replace if the drop happened inside of the selected text.\n      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n        cm.state.draggingText(e);\n        \/\/ Ensure the editor is re-focused\n        setTimeout(function () { return cm.display.input.focus(); }, 20);\n        return\n      }\n      try {\n        var text$1 = e.dataTransfer.getData(\"Text\");\n        if (text$1) {\n          var selected;\n          if (cm.state.draggingText && !cm.state.draggingText.copy)\n            { selected = cm.listSelections(); }\n          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n          if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)\n            { replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\"); } }\n          cm.replaceSelection(text$1, \"around\", \"paste\");\n          cm.display.input.focus();\n        }\n      }\n      catch(e$1){}\n    }\n  }\n\n  function onDragStart(cm, e) {\n    if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }\n\n    e.dataTransfer.setData(\"Text\", cm.getSelection());\n    e.dataTransfer.effectAllowed = \"copyMove\";\n\n    \/\/ Use dummy image instead of default browsers image.\n    \/\/ Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n    if (e.dataTransfer.setDragImage && !safari) {\n      var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n      img.src = \"data:image\/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n      if (presto) {\n        img.width = img.height = 1;\n        cm.display.wrapper.appendChild(img);\n        \/\/ Force a relayout, or Opera won't use our image for some obscure reason\n        img._top = img.offsetTop;\n      }\n      e.dataTransfer.setDragImage(img, 0, 0);\n      if (presto) { img.parentNode.removeChild(img); }\n    }\n  }\n\n  function onDragOver(cm, e) {\n    var pos = posFromMouse(cm, e);\n    if (!pos) { return }\n    var frag = document.createDocumentFragment();\n    drawSelectionCursor(cm, pos, frag);\n    if (!cm.display.dragCursor) {\n      cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n      cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n    }\n    removeChildrenAndAdd(cm.display.dragCursor, frag);\n  }\n\n  function clearDragCursor(cm) {\n    if (cm.display.dragCursor) {\n      cm.display.lineSpace.removeChild(cm.display.dragCursor);\n      cm.display.dragCursor = null;\n    }\n  }\n\n  \/\/ These must be handled carefully, because naively registering a\n  \/\/ handler for each editor will cause the editors to never be\n  \/\/ garbage collected.\n\n  function forEachCodeMirror(f) {\n    if (!document.getElementsByClassName) { return }\n    var byClass = document.getElementsByClassName(\"CodeMirror\"), editors = [];\n    for (var i = 0; i < byClass.length; i++) {\n      var cm = byClass[i].CodeMirror;\n      if (cm) { editors.push(cm); }\n    }\n    if (editors.length) { editors[0].operation(function () {\n      for (var i = 0; i < editors.length; i++) { f(editors[i]); }\n    }); }\n  }\n\n  var globalsRegistered = false;\n  function ensureGlobalHandlers() {\n    if (globalsRegistered) { return }\n    registerGlobalHandlers();\n    globalsRegistered = true;\n  }\n  function registerGlobalHandlers() {\n    \/\/ When the window resizes, we need to refresh active editors.\n    var resizeTimer;\n    on(window, \"resize\", function () {\n      if (resizeTimer == null) { resizeTimer = setTimeout(function () {\n        resizeTimer = null;\n        forEachCodeMirror(onResize);\n      }, 100); }\n    });\n    \/\/ When the window loses focus, we want to show the editor as blurred\n    on(window, \"blur\", function () { return forEachCodeMirror(onBlur); });\n  }\n  \/\/ Called when the window resizes\n  function onResize(cm) {\n    var d = cm.display;\n    \/\/ Might be a text scaling operation, clear size caches.\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n    d.scrollbarsClipped = false;\n    cm.setSize();\n  }\n\n  var keyNames = {\n    3: \"Pause\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\n    19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\n    36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\n    46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\n    106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"\/\", 145: \"ScrollLock\",\n    173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"\/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\n    221: \"]\", 222: \"'\", 224: \"Mod\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\n    63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\n  };\n\n  \/\/ Number keys\n  for (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i); }\n  \/\/ Alphabetic keys\n  for (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1); }\n  \/\/ Function keys\n  for (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2; }\n\n  var keyMap = {};\n\n  keyMap.basic = {\n    \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\n    \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\n    \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\n    \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\n    \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\n    \"Esc\": \"singleSelection\"\n  };\n  \/\/ Note that the save and find-related commands aren't defined by\n  \/\/ default. User code or addons can define them. Unknown commands\n  \/\/ are simply ignored.\n  keyMap.pcDefault = {\n    \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\n    \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\n    \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\n    \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\n    \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\n    \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\n    \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\n    \"fallthrough\": \"basic\"\n  };\n  \/\/ Very basic readline\/emacs-style bindings, which are standard on Mac.\n  keyMap.emacsy = {\n    \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\n    \"Alt-F\": \"goWordRight\", \"Alt-B\": \"goWordLeft\", \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\",\n    \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\", \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\",\n    \"Alt-D\": \"delWordAfter\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\", \"Ctrl-T\": \"transposeChars\",\n    \"Ctrl-O\": \"openLine\"\n  };\n  keyMap.macDefault = {\n    \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\n    \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\n    \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\n    \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\n    \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\n    \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\n    \"fallthrough\": [\"basic\", \"emacsy\"]\n  };\n  keyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault;\n\n  \/\/ KEYMAP DISPATCH\n\n  function normalizeKeyName(name) {\n    var parts = name.split(\/-(?!$)\/);\n    name = parts[parts.length - 1];\n    var alt, ctrl, shift, cmd;\n    for (var i = 0; i < parts.length - 1; i++) {\n      var mod = parts[i];\n      if (\/^(cmd|meta|m)$\/i.test(mod)) { cmd = true; }\n      else if (\/^a(lt)?$\/i.test(mod)) { alt = true; }\n      else if (\/^(c|ctrl|control)$\/i.test(mod)) { ctrl = true; }\n      else if (\/^s(hift)?$\/i.test(mod)) { shift = true; }\n      else { throw new Error(\"Unrecognized modifier name: \" + mod) }\n    }\n    if (alt) { name = \"Alt-\" + name; }\n    if (ctrl) { name = \"Ctrl-\" + name; }\n    if (cmd) { name = \"Cmd-\" + name; }\n    if (shift) { name = \"Shift-\" + name; }\n    return name\n  }\n\n  \/\/ This is a kludge to keep keymaps mostly working as raw objects\n  \/\/ (backwards compatibility) while at the same time support features\n  \/\/ like normalization and multi-stroke key bindings. It compiles a\n  \/\/ new normalized keymap, and then updates the old object to reflect\n  \/\/ this.\n  function normalizeKeyMap(keymap) {\n    var copy = {};\n    for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {\n      var value = keymap[keyname];\n      if (\/^(name|fallthrough|(de|at)tach)$\/.test(keyname)) { continue }\n      if (value == \"...\") { delete keymap[keyname]; continue }\n\n      var keys = map(keyname.split(\" \"), normalizeKeyName);\n      for (var i = 0; i < keys.length; i++) {\n        var val = (void 0), name = (void 0);\n        if (i == keys.length - 1) {\n          name = keys.join(\" \");\n          val = value;\n        } else {\n          name = keys.slice(0, i + 1).join(\" \");\n          val = \"...\";\n        }\n        var prev = copy[name];\n        if (!prev) { copy[name] = val; }\n        else if (prev != val) { throw new Error(\"Inconsistent bindings for \" + name) }\n      }\n      delete keymap[keyname];\n    } }\n    for (var prop in copy) { keymap[prop] = copy[prop]; }\n    return keymap\n  }\n\n  function lookupKey(key, map, handle, context) {\n    map = getKeyMap(map);\n    var found = map.call ? map.call(key, context) : map[key];\n    if (found === false) { return \"nothing\" }\n    if (found === \"...\") { return \"multi\" }\n    if (found != null && handle(found)) { return \"handled\" }\n\n    if (map.fallthrough) {\n      if (Object.prototype.toString.call(map.fallthrough) != \"[object Array]\")\n        { return lookupKey(key, map.fallthrough, handle, context) }\n      for (var i = 0; i < map.fallthrough.length; i++) {\n        var result = lookupKey(key, map.fallthrough[i], handle, context);\n        if (result) { return result }\n      }\n    }\n  }\n\n  \/\/ Modifier key presses don't count as 'real' key presses for the\n  \/\/ purpose of keymap fallthrough.\n  function isModifierKey(value) {\n    var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n    return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\"\n  }\n\n  function addModifierNames(name, event, noShift) {\n    var base = name;\n    if (event.altKey && base != \"Alt\") { name = \"Alt-\" + name; }\n    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") { name = \"Ctrl-\" + name; }\n    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Mod\") { name = \"Cmd-\" + name; }\n    if (!noShift && event.shiftKey && base != \"Shift\") { name = \"Shift-\" + name; }\n    return name\n  }\n\n  \/\/ Look up the name of a key as indicated by an event object.\n  function keyName(event, noShift) {\n    if (presto && event.keyCode == 34 && event[\"char\"]) { return false }\n    var name = keyNames[event.keyCode];\n    if (name == null || event.altGraphKey) { return false }\n    \/\/ Ctrl-ScrollLock has keyCode 3, same as Ctrl-Pause,\n    \/\/ so we'll use event.code when available (Chrome 48+, FF 38+, Safari 10.1+)\n    if (event.keyCode == 3 && event.code) { name = event.code; }\n    return addModifierNames(name, event, noShift)\n  }\n\n  function getKeyMap(val) {\n    return typeof val == \"string\" ? keyMap[val] : val\n  }\n\n  \/\/ Helper for deleting text near the selection(s), used to implement\n  \/\/ backspace, delete, and similar functionality.\n  function deleteNearSelection(cm, compute) {\n    var ranges = cm.doc.sel.ranges, kill = [];\n    \/\/ Build up a set of ranges to kill first, merging overlapping\n    \/\/ ranges.\n    for (var i = 0; i < ranges.length; i++) {\n      var toKill = compute(ranges[i]);\n      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n        var replaced = kill.pop();\n        if (cmp(replaced.from, toKill.from) < 0) {\n          toKill.from = replaced.from;\n          break\n        }\n      }\n      kill.push(toKill);\n    }\n    \/\/ Next, remove those actual ranges.\n    runInOp(cm, function () {\n      for (var i = kill.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\"); }\n      ensureCursorVisible(cm);\n    });\n  }\n\n  function moveCharLogically(line, ch, dir) {\n    var target = skipExtendingChars(line.text, ch + dir, dir);\n    return target < 0 || target > line.text.length ? null : target\n  }\n\n  function moveLogically(line, start, dir) {\n    var ch = moveCharLogically(line, start.ch, dir);\n    return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\")\n  }\n\n  function endOfLine(visually, cm, lineObj, lineNo, dir) {\n    if (visually) {\n      if (cm.doc.direction == \"rtl\") { dir = -dir; }\n      var order = getOrder(lineObj, cm.doc.direction);\n      if (order) {\n        var part = dir < 0 ? lst(order) : order[0];\n        var moveInStorageOrder = (dir < 0) == (part.level == 1);\n        var sticky = moveInStorageOrder ? \"after\" : \"before\";\n        var ch;\n        \/\/ With a wrapped rtl chunk (possibly spanning multiple bidi parts),\n        \/\/ it could be that the last bidi part is not on the last visual line,\n        \/\/ since visual lines contain content order-consecutive chunks.\n        \/\/ Thus, in rtl, we are looking for the first (content-order) character\n        \/\/ in the rtl chunk that is on the last line (that is, the same line\n        \/\/ as the last (content-order) character).\n        if (part.level > 0 || cm.doc.direction == \"rtl\") {\n          var prep = prepareMeasureForLine(cm, lineObj);\n          ch = dir < 0 ? lineObj.text.length - 1 : 0;\n          var targetTop = measureCharPrepared(cm, prep, ch).top;\n          ch = findFirst(function (ch) { return measureCharPrepared(cm, prep, ch).top == targetTop; }, (dir < 0) == (part.level == 1) ? part.from : part.to - 1, ch);\n          if (sticky == \"before\") { ch = moveCharLogically(lineObj, ch, 1); }\n        } else { ch = dir < 0 ? part.to : part.from; }\n        return new Pos(lineNo, ch, sticky)\n      }\n    }\n    return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\")\n  }\n\n  function moveVisually(cm, line, start, dir) {\n    var bidi = getOrder(line, cm.doc.direction);\n    if (!bidi) { return moveLogically(line, start, dir) }\n    if (start.ch >= line.text.length) {\n      start.ch = line.text.length;\n      start.sticky = \"before\";\n    } else if (start.ch <= 0) {\n      start.ch = 0;\n      start.sticky = \"after\";\n    }\n    var partPos = getBidiPartAt(bidi, start.ch, start.sticky), part = bidi[partPos];\n    if (cm.doc.direction == \"ltr\" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\n      \/\/ Case 1: We move within an ltr part in an ltr editor. Even with wrapped lines,\n      \/\/ nothing interesting happens.\n      return moveLogically(line, start, dir)\n    }\n\n    var mv = function (pos, dir) { return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir); };\n    var prep;\n    var getWrappedLineExtent = function (ch) {\n      if (!cm.options.lineWrapping) { return {begin: 0, end: line.text.length} }\n      prep = prep || prepareMeasureForLine(cm, line);\n      return wrappedLineExtentChar(cm, line, prep, ch)\n    };\n    var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch);\n\n    if (cm.doc.direction == \"rtl\" || part.level == 1) {\n      var moveInStorageOrder = (part.level == 1) == (dir < 0);\n      var ch = mv(start, moveInStorageOrder ? 1 : -1);\n      if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\n        \/\/ Case 2: We move within an rtl part or in an rtl editor on the same visual line\n        var sticky = moveInStorageOrder ? \"before\" : \"after\";\n        return new Pos(start.line, ch, sticky)\n      }\n    }\n\n    \/\/ Case 3: Could not move within this bidi part in this visual line, so leave\n    \/\/ the current bidi part\n\n    var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {\n      var getRes = function (ch, moveInStorageOrder) { return moveInStorageOrder\n        ? new Pos(start.line, mv(ch, 1), \"before\")\n        : new Pos(start.line, ch, \"after\"); };\n\n      for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\n        var part = bidi[partPos];\n        var moveInStorageOrder = (dir > 0) == (part.level != 1);\n        var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1);\n        if (part.from <= ch && ch < part.to) { return getRes(ch, moveInStorageOrder) }\n        ch = moveInStorageOrder ? part.from : mv(part.to, -1);\n        if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) { return getRes(ch, moveInStorageOrder) }\n      }\n    };\n\n    \/\/ Case 3a: Look for other bidi parts on the same visual line\n    var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent);\n    if (res) { return res }\n\n    \/\/ Case 3b: Look for other bidi parts on the next visual line\n    var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1);\n    if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\n      res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh));\n      if (res) { return res }\n    }\n\n    \/\/ Case 4: Nowhere to move\n    return null\n  }\n\n  \/\/ Commands are parameter-less actions that can be performed on an\n  \/\/ editor, mostly used for keybindings.\n  var commands = {\n    selectAll: selectAll,\n    singleSelection: function (cm) { return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll); },\n    killLine: function (cm) { return deleteNearSelection(cm, function (range) {\n      if (range.empty()) {\n        var len = getLine(cm.doc, range.head.line).text.length;\n        if (range.head.ch == len && range.head.line < cm.lastLine())\n          { return {from: range.head, to: Pos(range.head.line + 1, 0)} }\n        else\n          { return {from: range.head, to: Pos(range.head.line, len)} }\n      } else {\n        return {from: range.from(), to: range.to()}\n      }\n    }); },\n    deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0),\n      to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\n    }); }); },\n    delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0), to: range.from()\n    }); }); },\n    delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var leftPos = cm.coordsChar({left: 0, top: top}, \"div\");\n      return {from: leftPos, to: range.from()}\n    }); },\n    delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\");\n      return {from: range.from(), to: rightPos }\n    }); },\n    undo: function (cm) { return cm.undo(); },\n    redo: function (cm) { return cm.redo(); },\n    undoSelection: function (cm) { return cm.undoSelection(); },\n    redoSelection: function (cm) { return cm.redoSelection(); },\n    goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },\n    goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },\n    goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },\n      {origin: \"+move\", bias: -1}\n    ); },\n    goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: 0, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      var pos = cm.coordsChar({left: 0, top: top}, \"div\");\n      if (pos.ch < cm.getLine(pos.line).search(\/\\S\/)) { return lineStartSmart(cm, range.head) }\n      return pos\n    }, sel_move); },\n    goLineUp: function (cm) { return cm.moveV(-1, \"line\"); },\n    goLineDown: function (cm) { return cm.moveV(1, \"line\"); },\n    goPageUp: function (cm) { return cm.moveV(-1, \"page\"); },\n    goPageDown: function (cm) { return cm.moveV(1, \"page\"); },\n    goCharLeft: function (cm) { return cm.moveH(-1, \"char\"); },\n    goCharRight: function (cm) { return cm.moveH(1, \"char\"); },\n    goColumnLeft: function (cm) { return cm.moveH(-1, \"column\"); },\n    goColumnRight: function (cm) { return cm.moveH(1, \"column\"); },\n    goWordLeft: function (cm) { return cm.moveH(-1, \"word\"); },\n    goGroupRight: function (cm) { return cm.moveH(1, \"group\"); },\n    goGroupLeft: function (cm) { return cm.moveH(-1, \"group\"); },\n    goWordRight: function (cm) { return cm.moveH(1, \"word\"); },\n    delCharBefore: function (cm) { return cm.deleteH(-1, \"codepoint\"); },\n    delCharAfter: function (cm) { return cm.deleteH(1, \"char\"); },\n    delWordBefore: function (cm) { return cm.deleteH(-1, \"word\"); },\n    delWordAfter: function (cm) { return cm.deleteH(1, \"word\"); },\n    delGroupBefore: function (cm) { return cm.deleteH(-1, \"group\"); },\n    delGroupAfter: function (cm) { return cm.deleteH(1, \"group\"); },\n    indentAuto: function (cm) { return cm.indentSelection(\"smart\"); },\n    indentMore: function (cm) { return cm.indentSelection(\"add\"); },\n    indentLess: function (cm) { return cm.indentSelection(\"subtract\"); },\n    insertTab: function (cm) { return cm.replaceSelection(\"\\t\"); },\n    insertSoftTab: function (cm) {\n      var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;\n      for (var i = 0; i < ranges.length; i++) {\n        var pos = ranges[i].from();\n        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n        spaces.push(spaceStr(tabSize - col % tabSize));\n      }\n      cm.replaceSelections(spaces);\n    },\n    defaultTab: function (cm) {\n      if (cm.somethingSelected()) { cm.indentSelection(\"add\"); }\n      else { cm.execCommand(\"insertTab\"); }\n    },\n    \/\/ Swap the two chars left and right of each selection's head.\n    \/\/ Move cursor behind the two swapped characters afterwards.\n    \/\/\n    \/\/ Doesn't consider line feeds a character.\n    \/\/ Doesn't scan more than one line above to find a character.\n    \/\/ Doesn't do anything on an empty line.\n    \/\/ Doesn't do anything with non-empty selections.\n    transposeChars: function (cm) { return runInOp(cm, function () {\n      var ranges = cm.listSelections(), newSel = [];\n      for (var i = 0; i < ranges.length; i++) {\n        if (!ranges[i].empty()) { continue }\n        var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text;\n        if (line) {\n          if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1); }\n          if (cur.ch > 0) {\n            cur = new Pos(cur.line, cur.ch + 1);\n            cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\n                            Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n          } else if (cur.line > cm.doc.first) {\n            var prev = getLine(cm.doc, cur.line - 1).text;\n            if (prev) {\n              cur = new Pos(cur.line, 1);\n              cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\n                              prev.charAt(prev.length - 1),\n                              Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\");\n            }\n          }\n        }\n        newSel.push(new Range(cur, cur));\n      }\n      cm.setSelections(newSel);\n    }); },\n    newlineAndIndent: function (cm) { return runInOp(cm, function () {\n      var sels = cm.listSelections();\n      for (var i = sels.length - 1; i >= 0; i--)\n        { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\"); }\n      sels = cm.listSelections();\n      for (var i$1 = 0; i$1 < sels.length; i$1++)\n        { cm.indentLine(sels[i$1].from().line, null, true); }\n      ensureCursorVisible(cm);\n    }); },\n    openLine: function (cm) { return cm.replaceSelection(\"\\n\", \"start\"); },\n    toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }\n  };\n\n\n  function lineStart(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLine(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, visual, lineN, 1)\n  }\n  function lineEnd(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLineEnd(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, line, lineN, -1)\n  }\n  function lineStartSmart(cm, pos) {\n    var start = lineStart(cm, pos.line);\n    var line = getLine(cm.doc, start.line);\n    var order = getOrder(line, cm.doc.direction);\n    if (!order || order[0].level == 0) {\n      var firstNonWS = Math.max(start.ch, line.text.search(\/\\S\/));\n      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n      return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky)\n    }\n    return start\n  }\n\n  \/\/ Run a handler that was bound to a key.\n  function doHandleBinding(cm, bound, dropShift) {\n    if (typeof bound == \"string\") {\n      bound = commands[bound];\n      if (!bound) { return false }\n    }\n    \/\/ Ensure previous input has been read, so that the handler sees a\n    \/\/ consistent view of the document\n    cm.display.input.ensurePolled();\n    var prevShift = cm.display.shift, done = false;\n    try {\n      if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n      if (dropShift) { cm.display.shift = false; }\n      done = bound(cm) != Pass;\n    } finally {\n      cm.display.shift = prevShift;\n      cm.state.suppressEdits = false;\n    }\n    return done\n  }\n\n  function lookupKeyForEditor(cm, name, handle) {\n    for (var i = 0; i < cm.state.keyMaps.length; i++) {\n      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n      if (result) { return result }\n    }\n    return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\n      || lookupKey(name, cm.options.keyMap, handle, cm)\n  }\n\n  \/\/ Note that, despite the name, this function is also used to check\n  \/\/ for bound mouse clicks.\n\n  var stopSeq = new Delayed;\n\n  function dispatchKey(cm, name, e, handle) {\n    var seq = cm.state.keySeq;\n    if (seq) {\n      if (isModifierKey(name)) { return \"handled\" }\n      if (\/\\'$\/.test(name))\n        { cm.state.keySeq = null; }\n      else\n        { stopSeq.set(50, function () {\n          if (cm.state.keySeq == seq) {\n            cm.state.keySeq = null;\n            cm.display.input.reset();\n          }\n        }); }\n      if (dispatchKeyInner(cm, seq + \" \" + name, e, handle)) { return true }\n    }\n    return dispatchKeyInner(cm, name, e, handle)\n  }\n\n  function dispatchKeyInner(cm, name, e, handle) {\n    var result = lookupKeyForEditor(cm, name, handle);\n\n    if (result == \"multi\")\n      { cm.state.keySeq = name; }\n    if (result == \"handled\")\n      { signalLater(cm, \"keyHandled\", cm, name, e); }\n\n    if (result == \"handled\" || result == \"multi\") {\n      e_preventDefault(e);\n      restartBlink(cm);\n    }\n\n    return !!result\n  }\n\n  \/\/ Handle a key from the keydown event.\n  function handleKeyBinding(cm, e) {\n    var name = keyName(e, true);\n    if (!name) { return false }\n\n    if (e.shiftKey && !cm.state.keySeq) {\n      \/\/ First try to resolve full name (including 'Shift-'). Failing\n      \/\/ that, see if there is a cursor-motion command (starting with\n      \/\/ 'go') bound to the keyname without 'Shift-'.\n      return dispatchKey(cm, \"Shift-\" + name, e, function (b) { return doHandleBinding(cm, b, true); })\n          || dispatchKey(cm, name, e, function (b) {\n               if (typeof b == \"string\" ? \/^go[A-Z]\/.test(b) : b.motion)\n                 { return doHandleBinding(cm, b) }\n             })\n    } else {\n      return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })\n    }\n  }\n\n  \/\/ Handle a key from the keypress event\n  function handleCharBinding(cm, e, ch) {\n    return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) { return doHandleBinding(cm, b, true); })\n  }\n\n  var lastStoppedKey = null;\n  function onKeyDown(e) {\n    var cm = this;\n    if (e.target && e.target != cm.display.input.getField()) { return }\n    cm.curOp.focus = activeElt();\n    if (signalDOMEvent(cm, e)) { return }\n    \/\/ IE does strange things with escape.\n    if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false; }\n    var code = e.keyCode;\n    cm.display.shift = code == 16 || e.shiftKey;\n    var handled = handleKeyBinding(cm, e);\n    if (presto) {\n      lastStoppedKey = handled ? code : null;\n      \/\/ Opera has no cut event... we try to at least catch the key combo\n      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\n        { cm.replaceSelection(\"\", null, \"cut\"); }\n    }\n    if (gecko && !mac && !handled && code == 46 && e.shiftKey && !e.ctrlKey && document.execCommand)\n      { document.execCommand(\"cut\"); }\n\n    \/\/ Turn mouse into crosshair when Alt is held on Mac.\n    if (code == 18 && !\/\\bCodeMirror-crosshair\\b\/.test(cm.display.lineDiv.className))\n      { showCrossHair(cm); }\n  }\n\n  function showCrossHair(cm) {\n    var lineDiv = cm.display.lineDiv;\n    addClass(lineDiv, \"CodeMirror-crosshair\");\n\n    function up(e) {\n      if (e.keyCode == 18 || !e.altKey) {\n        rmClass(lineDiv, \"CodeMirror-crosshair\");\n        off(document, \"keyup\", up);\n        off(document, \"mouseover\", up);\n      }\n    }\n    on(document, \"keyup\", up);\n    on(document, \"mouseover\", up);\n  }\n\n  function onKeyUp(e) {\n    if (e.keyCode == 16) { this.doc.sel.shift = false; }\n    signalDOMEvent(this, e);\n  }\n\n  function onKeyPress(e) {\n    var cm = this;\n    if (e.target && e.target != cm.display.input.getField()) { return }\n    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }\n    var keyCode = e.keyCode, charCode = e.charCode;\n    if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}\n    if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }\n    var ch = String.fromCharCode(charCode == null ? keyCode : charCode);\n    \/\/ Some browsers fire keypress events for backspace\n    if (ch == \"\\x08\") { return }\n    if (handleCharBinding(cm, e, ch)) { return }\n    cm.display.input.onKeyPress(e);\n  }\n\n  var DOUBLECLICK_DELAY = 400;\n\n  var PastClick = function(time, pos, button) {\n    this.time = time;\n    this.pos = pos;\n    this.button = button;\n  };\n\n  PastClick.prototype.compare = function (time, pos, button) {\n    return this.time + DOUBLECLICK_DELAY > time &&\n      cmp(pos, this.pos) == 0 && button == this.button\n  };\n\n  var lastClick, lastDoubleClick;\n  function clickRepeat(pos, button) {\n    var now = +new Date;\n    if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {\n      lastClick = lastDoubleClick = null;\n      return \"triple\"\n    } else if (lastClick && lastClick.compare(now, pos, button)) {\n      lastDoubleClick = new PastClick(now, pos, button);\n      lastClick = null;\n      return \"double\"\n    } else {\n      lastClick = new PastClick(now, pos, button);\n      lastDoubleClick = null;\n      return \"single\"\n    }\n  }\n\n  \/\/ A mouse down can be a single click, double click, triple click,\n  \/\/ start of selection drag, start of text drag, new cursor\n  \/\/ (ctrl-click), rectangle drag (alt-drag), or xwin\n  \/\/ middle-click-paste. Or it might be a click on something we should\n  \/\/ not interfere with, such as a scrollbar or widget.\n  function onMouseDown(e) {\n    var cm = this, display = cm.display;\n    if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }\n    display.input.ensurePolled();\n    display.shift = e.shiftKey;\n\n    if (eventInWidget(display, e)) {\n      if (!webkit) {\n        \/\/ Briefly turn off draggability, to allow widgets to do\n        \/\/ normal dragging things.\n        display.scroller.draggable = false;\n        setTimeout(function () { return display.scroller.draggable = true; }, 100);\n      }\n      return\n    }\n    if (clickInGutter(cm, e)) { return }\n    var pos = posFromMouse(cm, e), button = e_button(e), repeat = pos ? clickRepeat(pos, button) : \"single\";\n    window.focus();\n\n    \/\/ #3261: make sure, that we're not starting a second selection\n    if (button == 1 && cm.state.selectingText)\n      { cm.state.selectingText(e); }\n\n    if (pos && handleMappedButton(cm, button, pos, repeat, e)) { return }\n\n    if (button == 1) {\n      if (pos) { leftButtonDown(cm, pos, repeat, e); }\n      else if (e_target(e) == display.scroller) { e_preventDefault(e); }\n    } else if (button == 2) {\n      if (pos) { extendSelection(cm.doc, pos); }\n      setTimeout(function () { return display.input.focus(); }, 20);\n    } else if (button == 3) {\n      if (captureRightClick) { cm.display.input.onContextMenu(e); }\n      else { delayBlurEvent(cm); }\n    }\n  }\n\n  function handleMappedButton(cm, button, pos, repeat, event) {\n    var name = \"Click\";\n    if (repeat == \"double\") { name = \"Double\" + name; }\n    else if (repeat == \"triple\") { name = \"Triple\" + name; }\n    name = (button == 1 ? \"Left\" : button == 2 ? \"Middle\" : \"Right\") + name;\n\n    return dispatchKey(cm,  addModifierNames(name, event), event, function (bound) {\n      if (typeof bound == \"string\") { bound = commands[bound]; }\n      if (!bound) { return false }\n      var done = false;\n      try {\n        if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n        done = bound(cm, pos) != Pass;\n      } finally {\n        cm.state.suppressEdits = false;\n      }\n      return done\n    })\n  }\n\n  function configureMouse(cm, repeat, event) {\n    var option = cm.getOption(\"configureMouse\");\n    var value = option ? option(cm, repeat, event) : {};\n    if (value.unit == null) {\n      var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey;\n      value.unit = rect ? \"rectangle\" : repeat == \"single\" ? \"char\" : repeat == \"double\" ? \"word\" : \"line\";\n    }\n    if (value.extend == null || cm.doc.extend) { value.extend = cm.doc.extend || event.shiftKey; }\n    if (value.addNew == null) { value.addNew = mac ? event.metaKey : event.ctrlKey; }\n    if (value.moveOnDrag == null) { value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey); }\n    return value\n  }\n\n  function leftButtonDown(cm, pos, repeat, event) {\n    if (ie) { setTimeout(bind(ensureFocus, cm), 0); }\n    else { cm.curOp.focus = activeElt(); }\n\n    var behavior = configureMouse(cm, repeat, event);\n\n    var sel = cm.doc.sel, contained;\n    if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\n        repeat == \"single\" && (contained = sel.contains(pos)) > -1 &&\n        (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) &&\n        (cmp(contained.to(), pos) > 0 || pos.xRel < 0))\n      { leftButtonStartDrag(cm, event, pos, behavior); }\n    else\n      { leftButtonSelect(cm, event, pos, behavior); }\n  }\n\n  \/\/ Start a text drag. When it ends, see if any dragging actually\n  \/\/ happen, and treat as a click if it didn't.\n  function leftButtonStartDrag(cm, event, pos, behavior) {\n    var display = cm.display, moved = false;\n    var dragEnd = operation(cm, function (e) {\n      if (webkit) { display.scroller.draggable = false; }\n      cm.state.draggingText = false;\n      if (cm.state.delayingBlurEvent) {\n        if (cm.hasFocus()) { cm.state.delayingBlurEvent = false; }\n        else { delayBlurEvent(cm); }\n      }\n      off(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n      off(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n      off(display.scroller, \"dragstart\", dragStart);\n      off(display.scroller, \"drop\", dragEnd);\n      if (!moved) {\n        e_preventDefault(e);\n        if (!behavior.addNew)\n          { extendSelection(cm.doc, pos, null, null, behavior.extend); }\n        \/\/ Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n        if ((webkit && !safari) || ie && ie_version == 9)\n          { setTimeout(function () {display.wrapper.ownerDocument.body.focus({preventScroll: true}); display.input.focus();}, 20); }\n        else\n          { display.input.focus(); }\n      }\n    });\n    var mouseMove = function(e2) {\n      moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10;\n    };\n    var dragStart = function () { return moved = true; };\n    \/\/ Let the drag handler handle this.\n    if (webkit) { display.scroller.draggable = true; }\n    cm.state.draggingText = dragEnd;\n    dragEnd.copy = !behavior.moveOnDrag;\n    on(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n    on(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n    on(display.scroller, \"dragstart\", dragStart);\n    on(display.scroller, \"drop\", dragEnd);\n\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { return display.input.focus(); }, 20);\n    \/\/ IE's approach to draggable\n    if (display.scroller.dragDrop) { display.scroller.dragDrop(); }\n  }\n\n  function rangeForUnit(cm, pos, unit) {\n    if (unit == \"char\") { return new Range(pos, pos) }\n    if (unit == \"word\") { return cm.findWordAt(pos) }\n    if (unit == \"line\") { return new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }\n    var result = unit(cm, pos);\n    return new Range(result.from, result.to)\n  }\n\n  \/\/ Normal selection, as opposed to text dragging.\n  function leftButtonSelect(cm, event, start, behavior) {\n    if (ie) { delayBlurEvent(cm); }\n    var display = cm.display, doc = cm.doc;\n    e_preventDefault(event);\n\n    var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges;\n    if (behavior.addNew && !behavior.extend) {\n      ourIndex = doc.sel.contains(start);\n      if (ourIndex > -1)\n        { ourRange = ranges[ourIndex]; }\n      else\n        { ourRange = new Range(start, start); }\n    } else {\n      ourRange = doc.sel.primary();\n      ourIndex = doc.sel.primIndex;\n    }\n\n    if (behavior.unit == \"rectangle\") {\n      if (!behavior.addNew) { ourRange = new Range(start, start); }\n      start = posFromMouse(cm, event, true, true);\n      ourIndex = -1;\n    } else {\n      var range = rangeForUnit(cm, start, behavior.unit);\n      if (behavior.extend)\n        { ourRange = extendRange(ourRange, range.anchor, range.head, behavior.extend); }\n      else\n        { ourRange = range; }\n    }\n\n    if (!behavior.addNew) {\n      ourIndex = 0;\n      setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n      startSel = doc.sel;\n    } else if (ourIndex == -1) {\n      ourIndex = ranges.length;\n      setSelection(doc, normalizeSelection(cm, ranges.concat([ourRange]), ourIndex),\n                   {scroll: false, origin: \"*mouse\"});\n    } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == \"char\" && !behavior.extend) {\n      setSelection(doc, normalizeSelection(cm, ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\n                   {scroll: false, origin: \"*mouse\"});\n      startSel = doc.sel;\n    } else {\n      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n    }\n\n    var lastPos = start;\n    function extendTo(pos) {\n      if (cmp(lastPos, pos) == 0) { return }\n      lastPos = pos;\n\n      if (behavior.unit == \"rectangle\") {\n        var ranges = [], tabSize = cm.options.tabSize;\n        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n        var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);\n        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\n             line <= end; line++) {\n          var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize);\n          if (left == right)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))); }\n          else if (text.length > leftPos)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))); }\n        }\n        if (!ranges.length) { ranges.push(new Range(start, start)); }\n        setSelection(doc, normalizeSelection(cm, startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\n                     {origin: \"*mouse\", scroll: false});\n        cm.scrollIntoView(pos);\n      } else {\n        var oldRange = ourRange;\n        var range = rangeForUnit(cm, pos, behavior.unit);\n        var anchor = oldRange.anchor, head;\n        if (cmp(range.anchor, anchor) > 0) {\n          head = range.head;\n          anchor = minPos(oldRange.from(), range.anchor);\n        } else {\n          head = range.anchor;\n          anchor = maxPos(oldRange.to(), range.head);\n        }\n        var ranges$1 = startSel.ranges.slice(0);\n        ranges$1[ourIndex] = bidiSimplify(cm, new Range(clipPos(doc, anchor), head));\n        setSelection(doc, normalizeSelection(cm, ranges$1, ourIndex), sel_mouse);\n      }\n    }\n\n    var editorSize = display.wrapper.getBoundingClientRect();\n    \/\/ Used to ensure timeout re-tries don't fire when another extend\n    \/\/ happened in the meantime (clearTimeout isn't reliable -- at\n    \/\/ least on Chrome, the timeouts still happen even when cleared,\n    \/\/ if the clear happens after their scheduled firing time).\n    var counter = 0;\n\n    function extend(e) {\n      var curCount = ++counter;\n      var cur = posFromMouse(cm, e, true, behavior.unit == \"rectangle\");\n      if (!cur) { return }\n      if (cmp(cur, lastPos) != 0) {\n        cm.curOp.focus = activeElt();\n        extendTo(cur);\n        var visible = visibleLines(display, doc);\n        if (cur.line >= visible.to || cur.line < visible.from)\n          { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e); }}), 150); }\n      } else {\n        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n        if (outside) { setTimeout(operation(cm, function () {\n          if (counter != curCount) { return }\n          display.scroller.scrollTop += outside;\n          extend(e);\n        }), 50); }\n      }\n    }\n\n    function done(e) {\n      cm.state.selectingText = false;\n      counter = Infinity;\n      \/\/ If e is null or undefined we interpret this as someone trying\n      \/\/ to explicitly cancel the selection rather than the user\n      \/\/ letting go of the mouse button.\n      if (e) {\n        e_preventDefault(e);\n        display.input.focus();\n      }\n      off(display.wrapper.ownerDocument, \"mousemove\", move);\n      off(display.wrapper.ownerDocument, \"mouseup\", up);\n      doc.history.lastSelOrigin = null;\n    }\n\n    var move = operation(cm, function (e) {\n      if (e.buttons === 0 || !e_button(e)) { done(e); }\n      else { extend(e); }\n    });\n    var up = operation(cm, done);\n    cm.state.selectingText = up;\n    on(display.wrapper.ownerDocument, \"mousemove\", move);\n    on(display.wrapper.ownerDocument, \"mouseup\", up);\n  }\n\n  \/\/ Used when mouse-selecting to adjust the anchor to the proper side\n  \/\/ of a bidi jump depending on the visual position of the head.\n  function bidiSimplify(cm, range) {\n    var anchor = range.anchor;\n    var head = range.head;\n    var anchorLine = getLine(cm.doc, anchor.line);\n    if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) { return range }\n    var order = getOrder(anchorLine);\n    if (!order) { return range }\n    var index = getBidiPartAt(order, anchor.ch, anchor.sticky), part = order[index];\n    if (part.from != anchor.ch && part.to != anchor.ch) { return range }\n    var boundary = index + ((part.from == anchor.ch) == (part.level != 1) ? 0 : 1);\n    if (boundary == 0 || boundary == order.length) { return range }\n\n    \/\/ Compute the relative visual position of the head compared to the\n    \/\/ anchor (<0 is to the left, >0 to the right)\n    var leftSide;\n    if (head.line != anchor.line) {\n      leftSide = (head.line - anchor.line) * (cm.doc.direction == \"ltr\" ? 1 : -1) > 0;\n    } else {\n      var headIndex = getBidiPartAt(order, head.ch, head.sticky);\n      var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1);\n      if (headIndex == boundary - 1 || headIndex == boundary)\n        { leftSide = dir < 0; }\n      else\n        { leftSide = dir > 0; }\n    }\n\n    var usePart = order[boundary + (leftSide ? -1 : 0)];\n    var from = leftSide == (usePart.level == 1);\n    var ch = from ? usePart.from : usePart.to, sticky = from ? \"after\" : \"before\";\n    return anchor.ch == ch && anchor.sticky == sticky ? range : new Range(new Pos(anchor.line, ch, sticky), head)\n  }\n\n\n  \/\/ Determines whether an event happened in the gutter, and fires the\n  \/\/ handlers for the corresponding event.\n  function gutterEvent(cm, e, type, prevent) {\n    var mX, mY;\n    if (e.touches) {\n      mX = e.touches[0].clientX;\n      mY = e.touches[0].clientY;\n    } else {\n      try { mX = e.clientX; mY = e.clientY; }\n      catch(e$1) { return false }\n    }\n    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }\n    if (prevent) { e_preventDefault(e); }\n\n    var display = cm.display;\n    var lineBox = display.lineDiv.getBoundingClientRect();\n\n    if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }\n    mY -= lineBox.top - display.viewOffset;\n\n    for (var i = 0; i < cm.display.gutterSpecs.length; ++i) {\n      var g = display.gutters.childNodes[i];\n      if (g && g.getBoundingClientRect().right >= mX) {\n        var line = lineAtHeight(cm.doc, mY);\n        var gutter = cm.display.gutterSpecs[i];\n        signal(cm, type, cm, line, gutter.className, e);\n        return e_defaultPrevented(e)\n      }\n    }\n  }\n\n  function clickInGutter(cm, e) {\n    return gutterEvent(cm, e, \"gutterClick\", true)\n  }\n\n  \/\/ CONTEXT MENU HANDLING\n\n  \/\/ To make the context menu work, we need to briefly unhide the\n  \/\/ textarea (making it as unobtrusive as possible) to let the\n  \/\/ right-click take effect on it.\n  function onContextMenu(cm, e) {\n    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }\n    if (signalDOMEvent(cm, e, \"contextmenu\")) { return }\n    if (!captureRightClick) { cm.display.input.onContextMenu(e); }\n  }\n\n  function contextMenuInGutter(cm, e) {\n    if (!hasHandler(cm, \"gutterContextMenu\")) { return false }\n    return gutterEvent(cm, e, \"gutterContextMenu\", false)\n  }\n\n  function themeChanged(cm) {\n    cm.display.wrapper.className = cm.display.wrapper.className.replace(\/\\s*cm-s-\\S+\/g, \"\") +\n      cm.options.theme.replace(\/(^|\\s)\\s*\/g, \" cm-s-\");\n    clearCaches(cm);\n  }\n\n  var Init = {toString: function(){return \"CodeMirror.Init\"}};\n\n  var defaults = {};\n  var optionHandlers = {};\n\n  function defineOptions(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    function option(name, deflt, handle, notOnInit) {\n      CodeMirror.defaults[name] = deflt;\n      if (handle) { optionHandlers[name] =\n        notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old); }} : handle; }\n    }\n\n    CodeMirror.defineOption = option;\n\n    \/\/ Passed to option handlers when there is no old value.\n    CodeMirror.Init = Init;\n\n    \/\/ These two are, on init, called from the constructor because they\n    \/\/ have to be initialized before the editor can start at all.\n    option(\"value\", \"\", function (cm, val) { return cm.setValue(val); }, true);\n    option(\"mode\", null, function (cm, val) {\n      cm.doc.modeOption = val;\n      loadMode(cm);\n    }, true);\n\n    option(\"indentUnit\", 2, loadMode, true);\n    option(\"indentWithTabs\", false);\n    option(\"smartIndent\", true);\n    option(\"tabSize\", 4, function (cm) {\n      resetModeState(cm);\n      clearCaches(cm);\n      regChange(cm);\n    }, true);\n\n    option(\"lineSeparator\", null, function (cm, val) {\n      cm.doc.lineSep = val;\n      if (!val) { return }\n      var newBreaks = [], lineNo = cm.doc.first;\n      cm.doc.iter(function (line) {\n        for (var pos = 0;;) {\n          var found = line.text.indexOf(val, pos);\n          if (found == -1) { break }\n          pos = found + val.length;\n          newBreaks.push(Pos(lineNo, found));\n        }\n        lineNo++;\n      });\n      for (var i = newBreaks.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)); }\n    });\n    option(\"specialChars\", \/[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b-\\u200c\\u200e\\u200f\\u2028\\u2029\\ufeff\\ufff9-\\ufffc]\/g, function (cm, val, old) {\n      cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n      if (old != Init) { cm.refresh(); }\n    });\n    option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true);\n    option(\"electricChars\", true);\n    option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n      throw new Error(\"inputStyle can not (yet) be changed in a running editor\") \/\/ FIXME\n    }, true);\n    option(\"spellcheck\", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true);\n    option(\"autocorrect\", false, function (cm, val) { return cm.getInputField().autocorrect = val; }, true);\n    option(\"autocapitalize\", false, function (cm, val) { return cm.getInputField().autocapitalize = val; }, true);\n    option(\"rtlMoveVisually\", !windows);\n    option(\"wholeLineUpdateBefore\", true);\n\n    option(\"theme\", \"default\", function (cm) {\n      themeChanged(cm);\n      updateGutters(cm);\n    }, true);\n    option(\"keyMap\", \"default\", function (cm, val, old) {\n      var next = getKeyMap(val);\n      var prev = old != Init && getKeyMap(old);\n      if (prev && prev.detach) { prev.detach(cm, next); }\n      if (next.attach) { next.attach(cm, prev || null); }\n    });\n    option(\"extraKeys\", null);\n    option(\"configureMouse\", null);\n\n    option(\"lineWrapping\", false, wrappingChanged, true);\n    option(\"gutters\", [], function (cm, val) {\n      cm.display.gutterSpecs = getGutters(val, cm.options.lineNumbers);\n      updateGutters(cm);\n    }, true);\n    option(\"fixedGutter\", true, function (cm, val) {\n      cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n      cm.refresh();\n    }, true);\n    option(\"coverGutterNextToScrollbar\", false, function (cm) { return updateScrollbars(cm); }, true);\n    option(\"scrollbarStyle\", \"native\", function (cm) {\n      initScrollbars(cm);\n      updateScrollbars(cm);\n      cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n      cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n    }, true);\n    option(\"lineNumbers\", false, function (cm, val) {\n      cm.display.gutterSpecs = getGutters(cm.options.gutters, val);\n      updateGutters(cm);\n    }, true);\n    option(\"firstLineNumber\", 1, updateGutters, true);\n    option(\"lineNumberFormatter\", function (integer) { return integer; }, updateGutters, true);\n    option(\"showCursorWhenSelecting\", false, updateSelection, true);\n\n    option(\"resetSelectionOnContextMenu\", true);\n    option(\"lineWiseCopyCut\", true);\n    option(\"pasteLinesPerSelection\", true);\n    option(\"selectionsMayTouch\", false);\n\n    option(\"readOnly\", false, function (cm, val) {\n      if (val == \"nocursor\") {\n        onBlur(cm);\n        cm.display.input.blur();\n      }\n      cm.display.input.readOnlyChanged(val);\n    });\n\n    option(\"screenReaderLabel\", null, function (cm, val) {\n      val = (val === '') ? null : val;\n      cm.display.input.screenReaderLabelChanged(val);\n    });\n\n    option(\"disableInput\", false, function (cm, val) {if (!val) { cm.display.input.reset(); }}, true);\n    option(\"dragDrop\", true, dragDropChanged);\n    option(\"allowDropFileTypes\", null);\n\n    option(\"cursorBlinkRate\", 530);\n    option(\"cursorScrollMargin\", 0);\n    option(\"cursorHeight\", 1, updateSelection, true);\n    option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n    option(\"workTime\", 100);\n    option(\"workDelay\", 100);\n    option(\"flattenSpans\", true, resetModeState, true);\n    option(\"addModeClass\", false, resetModeState, true);\n    option(\"pollInterval\", 100);\n    option(\"undoDepth\", 200, function (cm, val) { return cm.doc.history.undoDepth = val; });\n    option(\"historyEventDelay\", 1250);\n    option(\"viewportMargin\", 10, function (cm) { return cm.refresh(); }, true);\n    option(\"maxHighlightLength\", 10000, resetModeState, true);\n    option(\"moveInputWithCursor\", true, function (cm, val) {\n      if (!val) { cm.display.input.resetPosition(); }\n    });\n\n    option(\"tabindex\", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || \"\"; });\n    option(\"autofocus\", null);\n    option(\"direction\", \"ltr\", function (cm, val) { return cm.doc.setDirection(val); }, true);\n    option(\"phrases\", null);\n  }\n\n  function dragDropChanged(cm, value, old) {\n    var wasOn = old && old != Init;\n    if (!value != !wasOn) {\n      var funcs = cm.display.dragFunctions;\n      var toggle = value ? on : off;\n      toggle(cm.display.scroller, \"dragstart\", funcs.start);\n      toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n      toggle(cm.display.scroller, \"dragover\", funcs.over);\n      toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n      toggle(cm.display.scroller, \"drop\", funcs.drop);\n    }\n  }\n\n  function wrappingChanged(cm) {\n    if (cm.options.lineWrapping) {\n      addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      cm.display.sizer.style.minWidth = \"\";\n      cm.display.sizerWidth = null;\n    } else {\n      rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      findMaxLine(cm);\n    }\n    estimateLineHeights(cm);\n    regChange(cm);\n    clearCaches(cm);\n    setTimeout(function () { return updateScrollbars(cm); }, 100);\n  }\n\n  \/\/ A CodeMirror instance represents an editor. This is the object\n  \/\/ that user code is usually dealing with.\n\n  function CodeMirror(place, options) {\n    var this$1 = this;\n\n    if (!(this instanceof CodeMirror)) { return new CodeMirror(place, options) }\n\n    this.options = options = options ? copyObj(options) : {};\n    \/\/ Determine effective options based on given values and defaults.\n    copyObj(defaults, options, false);\n\n    var doc = options.value;\n    if (typeof doc == \"string\") { doc = new Doc(doc, options.mode, null, options.lineSeparator, options.direction); }\n    else if (options.mode) { doc.modeOption = options.mode; }\n    this.doc = doc;\n\n    var input = new CodeMirror.inputStyles[options.inputStyle](this);\n    var display = this.display = new Display(place, doc, input, options);\n    display.wrapper.CodeMirror = this;\n    themeChanged(this);\n    if (options.lineWrapping)\n      { this.display.wrapper.className += \" CodeMirror-wrap\"; }\n    initScrollbars(this);\n\n    this.state = {\n      keyMaps: [],  \/\/ stores maps added by addKeyMap\n      overlays: [], \/\/ highlighting overlays, as added by addOverlay\n      modeGen: 0,   \/\/ bumped when mode\/overlay changes, used to invalidate highlighting info\n      overwrite: false,\n      delayingBlurEvent: false,\n      focused: false,\n      suppressEdits: false, \/\/ used to disable editing during key handlers when in readOnly mode\n      pasteIncoming: -1, cutIncoming: -1, \/\/ help recognize paste\/cut edits in input.poll\n      selectingText: false,\n      draggingText: false,\n      highlight: new Delayed(), \/\/ stores highlight worker timeout\n      keySeq: null,  \/\/ Unfinished key sequence\n      specialChars: null\n    };\n\n    if (options.autofocus && !mobile) { display.input.focus(); }\n\n    \/\/ Override magic textarea content restore that IE sometimes does\n    \/\/ on our hidden textarea on reload\n    if (ie && ie_version < 11) { setTimeout(function () { return this$1.display.input.reset(true); }, 20); }\n\n    registerEventHandlers(this);\n    ensureGlobalHandlers();\n\n    startOperation(this);\n    this.curOp.forceUpdate = true;\n    attachDoc(this, doc);\n\n    if ((options.autofocus && !mobile) || this.hasFocus())\n      { setTimeout(function () {\n        if (this$1.hasFocus() && !this$1.state.focused) { onFocus(this$1); }\n      }, 20); }\n    else\n      { onBlur(this); }\n\n    for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))\n      { optionHandlers[opt](this, options[opt], Init); } }\n    maybeUpdateLineNumberWidth(this);\n    if (options.finishInit) { options.finishInit(this); }\n    for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this); }\n    endOperation(this);\n    \/\/ Suppress optimizelegibility in Webkit, since it breaks text\n    \/\/ measuring on line wrapping boundaries.\n    if (webkit && options.lineWrapping &&\n        getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\n      { display.lineDiv.style.textRendering = \"auto\"; }\n  }\n\n  \/\/ The default configuration options.\n  CodeMirror.defaults = defaults;\n  \/\/ Functions to run when options are changed.\n  CodeMirror.optionHandlers = optionHandlers;\n\n  \/\/ Attach the necessary event handlers when initializing the editor\n  function registerEventHandlers(cm) {\n    var d = cm.display;\n    on(d.scroller, \"mousedown\", operation(cm, onMouseDown));\n    \/\/ Older IE's will not fire a second mousedown for a double click\n    if (ie && ie_version < 11)\n      { on(d.scroller, \"dblclick\", operation(cm, function (e) {\n        if (signalDOMEvent(cm, e)) { return }\n        var pos = posFromMouse(cm, e);\n        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }\n        e_preventDefault(e);\n        var word = cm.findWordAt(pos);\n        extendSelection(cm.doc, word.anchor, word.head);\n      })); }\n    else\n      { on(d.scroller, \"dblclick\", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }); }\n    \/\/ Some browsers fire contextmenu *after* opening the menu, at\n    \/\/ which point we can't mess with it anymore. Context menu is\n    \/\/ handled in onMouseDown for these browsers.\n    on(d.scroller, \"contextmenu\", function (e) { return onContextMenu(cm, e); });\n    on(d.input.getField(), \"contextmenu\", function (e) {\n      if (!d.scroller.contains(e.target)) { onContextMenu(cm, e); }\n    });\n\n    \/\/ Used to suppress mouse event handling when a touch happens\n    var touchFinished, prevTouch = {end: 0};\n    function finishTouch() {\n      if (d.activeTouch) {\n        touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000);\n        prevTouch = d.activeTouch;\n        prevTouch.end = +new Date;\n      }\n    }\n    function isMouseLikeTouchEvent(e) {\n      if (e.touches.length != 1) { return false }\n      var touch = e.touches[0];\n      return touch.radiusX <= 1 && touch.radiusY <= 1\n    }\n    function farAway(touch, other) {\n      if (other.left == null) { return true }\n      var dx = other.left - touch.left, dy = other.top - touch.top;\n      return dx * dx + dy * dy > 20 * 20\n    }\n    on(d.scroller, \"touchstart\", function (e) {\n      if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {\n        d.input.ensurePolled();\n        clearTimeout(touchFinished);\n        var now = +new Date;\n        d.activeTouch = {start: now, moved: false,\n                         prev: now - prevTouch.end <= 300 ? prevTouch : null};\n        if (e.touches.length == 1) {\n          d.activeTouch.left = e.touches[0].pageX;\n          d.activeTouch.top = e.touches[0].pageY;\n        }\n      }\n    });\n    on(d.scroller, \"touchmove\", function () {\n      if (d.activeTouch) { d.activeTouch.moved = true; }\n    });\n    on(d.scroller, \"touchend\", function (e) {\n      var touch = d.activeTouch;\n      if (touch && !eventInWidget(d, e) && touch.left != null &&\n          !touch.moved && new Date - touch.start < 300) {\n        var pos = cm.coordsChar(d.activeTouch, \"page\"), range;\n        if (!touch.prev || farAway(touch, touch.prev)) \/\/ Single tap\n          { range = new Range(pos, pos); }\n        else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) \/\/ Double tap\n          { range = cm.findWordAt(pos); }\n        else \/\/ Triple tap\n          { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))); }\n        cm.setSelection(range.anchor, range.head);\n        cm.focus();\n        e_preventDefault(e);\n      }\n      finishTouch();\n    });\n    on(d.scroller, \"touchcancel\", finishTouch);\n\n    \/\/ Sync scrolling between fake scrollbars and real scrollable\n    \/\/ area, ensure viewport is updated when scrolling.\n    on(d.scroller, \"scroll\", function () {\n      if (d.scroller.clientHeight) {\n        updateScrollTop(cm, d.scroller.scrollTop);\n        setScrollLeft(cm, d.scroller.scrollLeft, true);\n        signal(cm, \"scroll\", cm);\n      }\n    });\n\n    \/\/ Listen to wheel events in order to try and update the viewport on time.\n    on(d.scroller, \"mousewheel\", function (e) { return onScrollWheel(cm, e); });\n    on(d.scroller, \"DOMMouseScroll\", function (e) { return onScrollWheel(cm, e); });\n\n    \/\/ Prevent wrapper from ever scrolling\n    on(d.wrapper, \"scroll\", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; });\n\n    d.dragFunctions = {\n      enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e); }},\n      over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e); }},\n      start: function (e) { return onDragStart(cm, e); },\n      drop: operation(cm, onDrop),\n      leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm); }}\n    };\n\n    var inp = d.input.getField();\n    on(inp, \"keyup\", function (e) { return onKeyUp.call(cm, e); });\n    on(inp, \"keydown\", operation(cm, onKeyDown));\n    on(inp, \"keypress\", operation(cm, onKeyPress));\n    on(inp, \"focus\", function (e) { return onFocus(cm, e); });\n    on(inp, \"blur\", function (e) { return onBlur(cm, e); });\n  }\n\n  var initHooks = [];\n  CodeMirror.defineInitHook = function (f) { return initHooks.push(f); };\n\n  \/\/ Indent the given line. The how parameter can be \"smart\",\n  \/\/ \"add\"\/null, \"subtract\", or \"prev\". When aggressive is false\n  \/\/ (typically set to true for forced single-line indents), empty\n  \/\/ lines are not indented, and places where the mode returns Pass\n  \/\/ are left alone.\n  function indentLine(cm, n, how, aggressive) {\n    var doc = cm.doc, state;\n    if (how == null) { how = \"add\"; }\n    if (how == \"smart\") {\n      \/\/ Fall back to \"prev\" when the mode doesn't have an indentation\n      \/\/ method.\n      if (!doc.mode.indent) { how = \"prev\"; }\n      else { state = getContextBefore(cm, n).state; }\n    }\n\n    var tabSize = cm.options.tabSize;\n    var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize);\n    if (line.stateAfter) { line.stateAfter = null; }\n    var curSpaceString = line.text.match(\/^\\s*\/)[0], indentation;\n    if (!aggressive && !\/\\S\/.test(line.text)) {\n      indentation = 0;\n      how = \"not\";\n    } else if (how == \"smart\") {\n      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n      if (indentation == Pass || indentation > 150) {\n        if (!aggressive) { return }\n        how = \"prev\";\n      }\n    }\n    if (how == \"prev\") {\n      if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize); }\n      else { indentation = 0; }\n    } else if (how == \"add\") {\n      indentation = curSpace + cm.options.indentUnit;\n    } else if (how == \"subtract\") {\n      indentation = curSpace - cm.options.indentUnit;\n    } else if (typeof how == \"number\") {\n      indentation = curSpace + how;\n    }\n    indentation = Math.max(0, indentation);\n\n    var indentString = \"\", pos = 0;\n    if (cm.options.indentWithTabs)\n      { for (var i = Math.floor(indentation \/ tabSize); i; --i) {pos += tabSize; indentString += \"\\t\";} }\n    if (pos < indentation) { indentString += spaceStr(indentation - pos); }\n\n    if (indentString != curSpaceString) {\n      replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n      line.stateAfter = null;\n      return true\n    } else {\n      \/\/ Ensure that, if the cursor was in the whitespace at the start\n      \/\/ of the line, it is moved to the end of that space.\n      for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n        var range = doc.sel.ranges[i$1];\n        if (range.head.line == n && range.head.ch < curSpaceString.length) {\n          var pos$1 = Pos(n, curSpaceString.length);\n          replaceOneSelection(doc, i$1, new Range(pos$1, pos$1));\n          break\n        }\n      }\n    }\n  }\n\n  \/\/ This will be set to a {lineWise: bool, text: [string]} object, so\n  \/\/ that, when pasting, we know what kind of selections the copied\n  \/\/ text was made out of.\n  var lastCopied = null;\n\n  function setLastCopied(newLastCopied) {\n    lastCopied = newLastCopied;\n  }\n\n  function applyTextInput(cm, inserted, deleted, sel, origin) {\n    var doc = cm.doc;\n    cm.display.shift = false;\n    if (!sel) { sel = doc.sel; }\n\n    var recent = +new Date - 200;\n    var paste = origin == \"paste\" || cm.state.pasteIncoming > recent;\n    var textLines = splitLinesAuto(inserted), multiPaste = null;\n    \/\/ When pasting N lines into N selections, insert one line per selection\n    if (paste && sel.ranges.length > 1) {\n      if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n        if (sel.ranges.length % lastCopied.text.length == 0) {\n          multiPaste = [];\n          for (var i = 0; i < lastCopied.text.length; i++)\n            { multiPaste.push(doc.splitLines(lastCopied.text[i])); }\n        }\n      } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {\n        multiPaste = map(textLines, function (l) { return [l]; });\n      }\n    }\n\n    var updateInput = cm.curOp.updateInput;\n    \/\/ Normal behavior is to insert the new text into every selection\n    for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n      var range = sel.ranges[i$1];\n      var from = range.from(), to = range.to();\n      if (range.empty()) {\n        if (deleted && deleted > 0) \/\/ Handle deletion\n          { from = Pos(from.line, from.ch - deleted); }\n        else if (cm.state.overwrite && !paste) \/\/ Handle overwrite\n          { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)); }\n        else if (paste && lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == textLines.join(\"\\n\"))\n          { from = to = Pos(from.line, 0); }\n      }\n      var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n                         origin: origin || (paste ? \"paste\" : cm.state.cutIncoming > recent ? \"cut\" : \"+input\")};\n      makeChange(cm.doc, changeEvent);\n      signalLater(cm, \"inputRead\", cm, changeEvent);\n    }\n    if (inserted && !paste)\n      { triggerElectric(cm, inserted); }\n\n    ensureCursorVisible(cm);\n    if (cm.curOp.updateInput < 2) { cm.curOp.updateInput = updateInput; }\n    cm.curOp.typing = true;\n    cm.state.pasteIncoming = cm.state.cutIncoming = -1;\n  }\n\n  function handlePaste(e, cm) {\n    var pasted = e.clipboardData && e.clipboardData.getData(\"Text\");\n    if (pasted) {\n      e.preventDefault();\n      if (!cm.isReadOnly() && !cm.options.disableInput)\n        { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, \"paste\"); }); }\n      return true\n    }\n  }\n\n  function triggerElectric(cm, inserted) {\n    \/\/ When an 'electric' character is inserted, immediately trigger a reindent\n    if (!cm.options.electricChars || !cm.options.smartIndent) { return }\n    var sel = cm.doc.sel;\n\n    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n      var range = sel.ranges[i];\n      if (range.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range.head.line)) { continue }\n      var mode = cm.getModeAt(range.head);\n      var indented = false;\n      if (mode.electricChars) {\n        for (var j = 0; j < mode.electricChars.length; j++)\n          { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n            indented = indentLine(cm, range.head.line, \"smart\");\n            break\n          } }\n      } else if (mode.electricInput) {\n        if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch)))\n          { indented = indentLine(cm, range.head.line, \"smart\"); }\n      }\n      if (indented) { signalLater(cm, \"electricInput\", cm, range.head.line); }\n    }\n  }\n\n  function copyableRanges(cm) {\n    var text = [], ranges = [];\n    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n      var line = cm.doc.sel.ranges[i].head.line;\n      var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)};\n      ranges.push(lineRange);\n      text.push(cm.getRange(lineRange.anchor, lineRange.head));\n    }\n    return {text: text, ranges: ranges}\n  }\n\n  function disableBrowserMagic(field, spellcheck, autocorrect, autocapitalize) {\n    field.setAttribute(\"autocorrect\", autocorrect ? \"\" : \"off\");\n    field.setAttribute(\"autocapitalize\", autocapitalize ? \"\" : \"off\");\n    field.setAttribute(\"spellcheck\", !!spellcheck);\n  }\n\n  function hiddenTextarea() {\n    var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\");\n    var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");\n    \/\/ The textarea is kept positioned near the cursor to prevent the\n    \/\/ fact that it'll be scrolled into view on input from scrolling\n    \/\/ our fake cursor out of view. On webkit, when wrap=off, paste is\n    \/\/ very slow. So make the area wide instead.\n    if (webkit) { te.style.width = \"1000px\"; }\n    else { te.setAttribute(\"wrap\", \"off\"); }\n    \/\/ If border: 0; -- iOS fails to open keyboard (issue #1287)\n    if (ios) { te.style.border = \"1px solid black\"; }\n    disableBrowserMagic(te);\n    return div\n  }\n\n  \/\/ The publicly visible API. Note that methodOp(f) means\n  \/\/ 'wrap f in an operation, performed on its `this` parameter'.\n\n  \/\/ This is not the complete set of editor methods. Most of the\n  \/\/ methods defined on the Doc type are also injected into\n  \/\/ CodeMirror.prototype, for backwards compatibility and\n  \/\/ convenience.\n\n  function addEditorMethods(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    var helpers = CodeMirror.helpers = {};\n\n    CodeMirror.prototype = {\n      constructor: CodeMirror,\n      focus: function(){window.focus(); this.display.input.focus();},\n\n      setOption: function(option, value) {\n        var options = this.options, old = options[option];\n        if (options[option] == value && option != \"mode\") { return }\n        options[option] = value;\n        if (optionHandlers.hasOwnProperty(option))\n          { operation(this, optionHandlers[option])(this, value, old); }\n        signal(this, \"optionChange\", this, option);\n      },\n\n      getOption: function(option) {return this.options[option]},\n      getDoc: function() {return this.doc},\n\n      addKeyMap: function(map, bottom) {\n        this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map));\n      },\n      removeKeyMap: function(map) {\n        var maps = this.state.keyMaps;\n        for (var i = 0; i < maps.length; ++i)\n          { if (maps[i] == map || maps[i].name == map) {\n            maps.splice(i, 1);\n            return true\n          } }\n      },\n\n      addOverlay: methodOp(function(spec, options) {\n        var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n        if (mode.startState) { throw new Error(\"Overlays may not be stateful.\") }\n        insertSorted(this.state.overlays,\n                     {mode: mode, modeSpec: spec, opaque: options && options.opaque,\n                      priority: (options && options.priority) || 0},\n                     function (overlay) { return overlay.priority; });\n        this.state.modeGen++;\n        regChange(this);\n      }),\n      removeOverlay: methodOp(function(spec) {\n        var overlays = this.state.overlays;\n        for (var i = 0; i < overlays.length; ++i) {\n          var cur = overlays[i].modeSpec;\n          if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n            overlays.splice(i, 1);\n            this.state.modeGen++;\n            regChange(this);\n            return\n          }\n        }\n      }),\n\n      indentLine: methodOp(function(n, dir, aggressive) {\n        if (typeof dir != \"string\" && typeof dir != \"number\") {\n          if (dir == null) { dir = this.options.smartIndent ? \"smart\" : \"prev\"; }\n          else { dir = dir ? \"add\" : \"subtract\"; }\n        }\n        if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive); }\n      }),\n      indentSelection: methodOp(function(how) {\n        var ranges = this.doc.sel.ranges, end = -1;\n        for (var i = 0; i < ranges.length; i++) {\n          var range = ranges[i];\n          if (!range.empty()) {\n            var from = range.from(), to = range.to();\n            var start = Math.max(end, from.line);\n            end = Math.min(this.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n            for (var j = start; j < end; ++j)\n              { indentLine(this, j, how); }\n            var newRanges = this.doc.sel.ranges;\n            if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\n              { replaceOneSelection(this.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll); }\n          } else if (range.head.line > end) {\n            indentLine(this, range.head.line, how, true);\n            end = range.head.line;\n            if (i == this.doc.sel.primIndex) { ensureCursorVisible(this); }\n          }\n        }\n      }),\n\n      \/\/ Fetch the parser token for a given character. Useful for hacks\n      \/\/ that want to inspect the mode state (say, for completion).\n      getTokenAt: function(pos, precise) {\n        return takeToken(this, pos, precise)\n      },\n\n      getLineTokens: function(line, precise) {\n        return takeToken(this, Pos(line), precise, true)\n      },\n\n      getTokenTypeAt: function(pos) {\n        pos = clipPos(this.doc, pos);\n        var styles = getLineStyles(this, getLine(this.doc, pos.line));\n        var before = 0, after = (styles.length - 1) \/ 2, ch = pos.ch;\n        var type;\n        if (ch == 0) { type = styles[2]; }\n        else { for (;;) {\n          var mid = (before + after) >> 1;\n          if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid; }\n          else if (styles[mid * 2 + 1] < ch) { before = mid + 1; }\n          else { type = styles[mid * 2 + 2]; break }\n        } }\n        var cut = type ? type.indexOf(\"overlay \") : -1;\n        return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)\n      },\n\n      getModeAt: function(pos) {\n        var mode = this.doc.mode;\n        if (!mode.innerMode) { return mode }\n        return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode\n      },\n\n      getHelper: function(pos, type) {\n        return this.getHelpers(pos, type)[0]\n      },\n\n      getHelpers: function(pos, type) {\n        var found = [];\n        if (!helpers.hasOwnProperty(type)) { return found }\n        var help = helpers[type], mode = this.getModeAt(pos);\n        if (typeof mode[type] == \"string\") {\n          if (help[mode[type]]) { found.push(help[mode[type]]); }\n        } else if (mode[type]) {\n          for (var i = 0; i < mode[type].length; i++) {\n            var val = help[mode[type][i]];\n            if (val) { found.push(val); }\n          }\n        } else if (mode.helperType && help[mode.helperType]) {\n          found.push(help[mode.helperType]);\n        } else if (help[mode.name]) {\n          found.push(help[mode.name]);\n        }\n        for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n          var cur = help._global[i$1];\n          if (cur.pred(mode, this) && indexOf(found, cur.val) == -1)\n            { found.push(cur.val); }\n        }\n        return found\n      },\n\n      getStateAfter: function(line, precise) {\n        var doc = this.doc;\n        line = clipLine(doc, line == null ? doc.first + doc.size - 1: line);\n        return getContextBefore(this, line + 1, precise).state\n      },\n\n      cursorCoords: function(start, mode) {\n        var pos, range = this.doc.sel.primary();\n        if (start == null) { pos = range.head; }\n        else if (typeof start == \"object\") { pos = clipPos(this.doc, start); }\n        else { pos = start ? range.from() : range.to(); }\n        return cursorCoords(this, pos, mode || \"page\")\n      },\n\n      charCoords: function(pos, mode) {\n        return charCoords(this, clipPos(this.doc, pos), mode || \"page\")\n      },\n\n      coordsChar: function(coords, mode) {\n        coords = fromCoordSystem(this, coords, mode || \"page\");\n        return coordsChar(this, coords.left, coords.top)\n      },\n\n      lineAtHeight: function(height, mode) {\n        height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top;\n        return lineAtHeight(this.doc, height + this.display.viewOffset)\n      },\n      heightAtLine: function(line, mode, includeWidgets) {\n        var end = false, lineObj;\n        if (typeof line == \"number\") {\n          var last = this.doc.first + this.doc.size - 1;\n          if (line < this.doc.first) { line = this.doc.first; }\n          else if (line > last) { line = last; end = true; }\n          lineObj = getLine(this.doc, line);\n        } else {\n          lineObj = line;\n        }\n        return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\", includeWidgets || end).top +\n          (end ? this.doc.height - heightAtLine(lineObj) : 0)\n      },\n\n      defaultTextHeight: function() { return textHeight(this.display) },\n      defaultCharWidth: function() { return charWidth(this.display) },\n\n      getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},\n\n      addWidget: function(pos, node, scroll, vert, horiz) {\n        var display = this.display;\n        pos = cursorCoords(this, clipPos(this.doc, pos));\n        var top = pos.bottom, left = pos.left;\n        node.style.position = \"absolute\";\n        node.setAttribute(\"cm-ignore-events\", \"true\");\n        this.display.input.setUneditable(node);\n        display.sizer.appendChild(node);\n        if (vert == \"over\") {\n          top = pos.top;\n        } else if (vert == \"above\" || vert == \"near\") {\n          var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n          hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);\n          \/\/ Default to positioning above (if specified and possible); otherwise default to positioning below\n          if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\n            { top = pos.top - node.offsetHeight; }\n          else if (pos.bottom + node.offsetHeight <= vspace)\n            { top = pos.bottom; }\n          if (left + node.offsetWidth > hspace)\n            { left = hspace - node.offsetWidth; }\n        }\n        node.style.top = top + \"px\";\n        node.style.left = node.style.right = \"\";\n        if (horiz == \"right\") {\n          left = display.sizer.clientWidth - node.offsetWidth;\n          node.style.right = \"0px\";\n        } else {\n          if (horiz == \"left\") { left = 0; }\n          else if (horiz == \"middle\") { left = (display.sizer.clientWidth - node.offsetWidth) \/ 2; }\n          node.style.left = left + \"px\";\n        }\n        if (scroll)\n          { scrollIntoView(this, {left: left, top: top, right: left + node.offsetWidth, bottom: top + node.offsetHeight}); }\n      },\n\n      triggerOnKeyDown: methodOp(onKeyDown),\n      triggerOnKeyPress: methodOp(onKeyPress),\n      triggerOnKeyUp: onKeyUp,\n      triggerOnMouseDown: methodOp(onMouseDown),\n\n      execCommand: function(cmd) {\n        if (commands.hasOwnProperty(cmd))\n          { return commands[cmd].call(null, this) }\n      },\n\n      triggerElectric: methodOp(function(text) { triggerElectric(this, text); }),\n\n      findPosH: function(from, amount, unit, visually) {\n        var dir = 1;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          cur = findPosH(this.doc, cur, dir, unit, visually);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveH: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        this.extendSelectionsBy(function (range) {\n          if (this$1.display.shift || this$1.doc.extend || range.empty())\n            { return findPosH(this$1.doc, range.head, dir, unit, this$1.options.rtlMoveVisually) }\n          else\n            { return dir < 0 ? range.from() : range.to() }\n        }, sel_move);\n      }),\n\n      deleteH: methodOp(function(dir, unit) {\n        var sel = this.doc.sel, doc = this.doc;\n        if (sel.somethingSelected())\n          { doc.replaceSelection(\"\", null, \"+delete\"); }\n        else\n          { deleteNearSelection(this, function (range) {\n            var other = findPosH(doc, range.head, dir, unit, false);\n            return dir < 0 ? {from: other, to: range.head} : {from: range.head, to: other}\n          }); }\n      }),\n\n      findPosV: function(from, amount, unit, goalColumn) {\n        var dir = 1, x = goalColumn;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          var coords = cursorCoords(this, cur, \"div\");\n          if (x == null) { x = coords.left; }\n          else { coords.left = x; }\n          cur = findPosV(this, coords, dir, unit);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveV: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        var doc = this.doc, goals = [];\n        var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected();\n        doc.extendSelectionsBy(function (range) {\n          if (collapse)\n            { return dir < 0 ? range.from() : range.to() }\n          var headPos = cursorCoords(this$1, range.head, \"div\");\n          if (range.goalColumn != null) { headPos.left = range.goalColumn; }\n          goals.push(headPos.left);\n          var pos = findPosV(this$1, headPos, dir, unit);\n          if (unit == \"page\" && range == doc.sel.primary())\n            { addToScrollTop(this$1, charCoords(this$1, pos, \"div\").top - headPos.top); }\n          return pos\n        }, sel_move);\n        if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)\n          { doc.sel.ranges[i].goalColumn = goals[i]; } }\n      }),\n\n      \/\/ Find the word at the given position (as returned by coordsChar).\n      findWordAt: function(pos) {\n        var doc = this.doc, line = getLine(doc, pos.line).text;\n        var start = pos.ch, end = pos.ch;\n        if (line) {\n          var helper = this.getHelper(pos, \"wordChars\");\n          if ((pos.sticky == \"before\" || end == line.length) && start) { --start; } else { ++end; }\n          var startChar = line.charAt(start);\n          var check = isWordChar(startChar, helper)\n            ? function (ch) { return isWordChar(ch, helper); }\n            : \/\\s\/.test(startChar) ? function (ch) { return \/\\s\/.test(ch); }\n            : function (ch) { return (!\/\\s\/.test(ch) && !isWordChar(ch)); };\n          while (start > 0 && check(line.charAt(start - 1))) { --start; }\n          while (end < line.length && check(line.charAt(end))) { ++end; }\n        }\n        return new Range(Pos(pos.line, start), Pos(pos.line, end))\n      },\n\n      toggleOverwrite: function(value) {\n        if (value != null && value == this.state.overwrite) { return }\n        if (this.state.overwrite = !this.state.overwrite)\n          { addClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n        else\n          { rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n\n        signal(this, \"overwriteToggle\", this, this.state.overwrite);\n      },\n      hasFocus: function() { return this.display.input.getField() == activeElt() },\n      isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },\n\n      scrollTo: methodOp(function (x, y) { scrollToCoords(this, x, y); }),\n      getScrollInfo: function() {\n        var scroller = this.display.scroller;\n        return {left: scroller.scrollLeft, top: scroller.scrollTop,\n                height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n                width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n                clientHeight: displayHeight(this), clientWidth: displayWidth(this)}\n      },\n\n      scrollIntoView: methodOp(function(range, margin) {\n        if (range == null) {\n          range = {from: this.doc.sel.primary().head, to: null};\n          if (margin == null) { margin = this.options.cursorScrollMargin; }\n        } else if (typeof range == \"number\") {\n          range = {from: Pos(range, 0), to: null};\n        } else if (range.from == null) {\n          range = {from: range, to: null};\n        }\n        if (!range.to) { range.to = range.from; }\n        range.margin = margin || 0;\n\n        if (range.from.line != null) {\n          scrollToRange(this, range);\n        } else {\n          scrollToCoordsRange(this, range.from, range.to, range.margin);\n        }\n      }),\n\n      setSize: methodOp(function(width, height) {\n        var this$1 = this;\n\n        var interpret = function (val) { return typeof val == \"number\" || \/^\\d+$\/.test(String(val)) ? val + \"px\" : val; };\n        if (width != null) { this.display.wrapper.style.width = interpret(width); }\n        if (height != null) { this.display.wrapper.style.height = interpret(height); }\n        if (this.options.lineWrapping) { clearLineMeasurementCache(this); }\n        var lineNo = this.display.viewFrom;\n        this.doc.iter(lineNo, this.display.viewTo, function (line) {\n          if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)\n            { if (line.widgets[i].noHScroll) { regLineChange(this$1, lineNo, \"widget\"); break } } }\n          ++lineNo;\n        });\n        this.curOp.forceUpdate = true;\n        signal(this, \"refresh\", this);\n      }),\n\n      operation: function(f){return runInOp(this, f)},\n      startOperation: function(){return startOperation(this)},\n      endOperation: function(){return endOperation(this)},\n\n      refresh: methodOp(function() {\n        var oldHeight = this.display.cachedTextHeight;\n        regChange(this);\n        this.curOp.forceUpdate = true;\n        clearCaches(this);\n        scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop);\n        updateGutterSpace(this.display);\n        if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5 || this.options.lineWrapping)\n          { estimateLineHeights(this); }\n        signal(this, \"refresh\", this);\n      }),\n\n      swapDoc: methodOp(function(doc) {\n        var old = this.doc;\n        old.cm = null;\n        \/\/ Cancel the current text selection if any (#5821)\n        if (this.state.selectingText) { this.state.selectingText(); }\n        attachDoc(this, doc);\n        clearCaches(this);\n        this.display.input.reset();\n        scrollToCoords(this, doc.scrollLeft, doc.scrollTop);\n        this.curOp.forceScroll = true;\n        signalLater(this, \"swapDoc\", this, old);\n        return old\n      }),\n\n      phrase: function(phraseText) {\n        var phrases = this.options.phrases;\n        return phrases && Object.prototype.hasOwnProperty.call(phrases, phraseText) ? phrases[phraseText] : phraseText\n      },\n\n      getInputField: function(){return this.display.input.getField()},\n      getWrapperElement: function(){return this.display.wrapper},\n      getScrollerElement: function(){return this.display.scroller},\n      getGutterElement: function(){return this.display.gutters}\n    };\n    eventMixin(CodeMirror);\n\n    CodeMirror.registerHelper = function(type, name, value) {\n      if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []}; }\n      helpers[type][name] = value;\n    };\n    CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\n      CodeMirror.registerHelper(type, name, value);\n      helpers[type]._global.push({pred: predicate, val: value});\n    };\n  }\n\n  \/\/ Used for horizontal relative motion. Dir is -1 or 1 (left or\n  \/\/ right), unit can be \"codepoint\", \"char\", \"column\" (like char, but\n  \/\/ doesn't cross line boundaries), \"word\" (across next word), or\n  \/\/ \"group\" (to the start of next group of word or\n  \/\/ non-word-non-whitespace chars). The visually param controls\n  \/\/ whether, in right-to-left text, direction 1 means to move towards\n  \/\/ the next index in the string, or towards the character to the right\n  \/\/ of the current position. The resulting position will have a\n  \/\/ hitSide=true property if it reached the end of the document.\n  function findPosH(doc, pos, dir, unit, visually) {\n    var oldPos = pos;\n    var origDir = dir;\n    var lineObj = getLine(doc, pos.line);\n    var lineDir = visually && doc.direction == \"rtl\" ? -dir : dir;\n    function findNextLine() {\n      var l = pos.line + lineDir;\n      if (l < doc.first || l >= doc.first + doc.size) { return false }\n      pos = new Pos(l, pos.ch, pos.sticky);\n      return lineObj = getLine(doc, l)\n    }\n    function moveOnce(boundToLine) {\n      var next;\n      if (unit == \"codepoint\") {\n        var ch = lineObj.text.charCodeAt(pos.ch + (dir > 0 ? 0 : -1));\n        if (isNaN(ch)) {\n          next = null;\n        } else {\n          var astral = dir > 0 ? ch >= 0xD800 && ch < 0xDC00 : ch >= 0xDC00 && ch < 0xDFFF;\n          next = new Pos(pos.line, Math.max(0, Math.min(lineObj.text.length, pos.ch + dir * (astral ? 2 : 1))), -dir);\n        }\n      } else if (visually) {\n        next = moveVisually(doc.cm, lineObj, pos, dir);\n      } else {\n        next = moveLogically(lineObj, pos, dir);\n      }\n      if (next == null) {\n        if (!boundToLine && findNextLine())\n          { pos = endOfLine(visually, doc.cm, lineObj, pos.line, lineDir); }\n        else\n          { return false }\n      } else {\n        pos = next;\n      }\n      return true\n    }\n\n    if (unit == \"char\" || unit == \"codepoint\") {\n      moveOnce();\n    } else if (unit == \"column\") {\n      moveOnce(true);\n    } else if (unit == \"word\" || unit == \"group\") {\n      var sawType = null, group = unit == \"group\";\n      var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n      for (var first = true;; first = false) {\n        if (dir < 0 && !moveOnce(!first)) { break }\n        var cur = lineObj.text.charAt(pos.ch) || \"\\n\";\n        var type = isWordChar(cur, helper) ? \"w\"\n          : group && cur == \"\\n\" ? \"n\"\n          : !group || \/\\s\/.test(cur) ? null\n          : \"p\";\n        if (group && !first && !type) { type = \"s\"; }\n        if (sawType && sawType != type) {\n          if (dir < 0) {dir = 1; moveOnce(); pos.sticky = \"after\";}\n          break\n        }\n\n        if (type) { sawType = type; }\n        if (dir > 0 && !moveOnce(!first)) { break }\n      }\n    }\n    var result = skipAtomic(doc, pos, oldPos, origDir, true);\n    if (equalCursorPos(oldPos, result)) { result.hitSide = true; }\n    return result\n  }\n\n  \/\/ For relative vertical movement. Dir may be -1 or 1. Unit can be\n  \/\/ \"page\" or \"line\". The resulting position will have a hitSide=true\n  \/\/ property if it reached the end of the document.\n  function findPosV(cm, pos, dir, unit) {\n    var doc = cm.doc, x = pos.left, y;\n    if (unit == \"page\") {\n      var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);\n      var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3);\n      y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount;\n\n    } else if (unit == \"line\") {\n      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n    }\n    var target;\n    for (;;) {\n      target = coordsChar(cm, x, y);\n      if (!target.outside) { break }\n      if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }\n      y += dir * 5;\n    }\n    return target\n  }\n\n  \/\/ CONTENTEDITABLE INPUT STYLE\n\n  var ContentEditableInput = function(cm) {\n    this.cm = cm;\n    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n    this.polling = new Delayed();\n    this.composing = null;\n    this.gracePeriod = false;\n    this.readDOMTimeout = null;\n  };\n\n  ContentEditableInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = input.cm;\n    var div = input.div = display.lineDiv;\n    disableBrowserMagic(div, cm.options.spellcheck, cm.options.autocorrect, cm.options.autocapitalize);\n\n    function belongsToInput(e) {\n      for (var t = e.target; t; t = t.parentNode) {\n        if (t == div) { return true }\n        if (\/\\bCodeMirror-(?:line)?widget\\b\/.test(t.className)) { break }\n      }\n      return false\n    }\n\n    on(div, \"paste\", function (e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n      \/\/ IE doesn't fire input events, so we schedule a read for the pasted content in this way\n      if (ie_version <= 11) { setTimeout(operation(cm, function () { return this$1.updateFromDOM(); }), 20); }\n    });\n\n    on(div, \"compositionstart\", function (e) {\n      this$1.composing = {data: e.data, done: false};\n    });\n    on(div, \"compositionupdate\", function (e) {\n      if (!this$1.composing) { this$1.composing = {data: e.data, done: false}; }\n    });\n    on(div, \"compositionend\", function (e) {\n      if (this$1.composing) {\n        if (e.data != this$1.composing.data) { this$1.readFromDOMSoon(); }\n        this$1.composing.done = true;\n      }\n    });\n\n    on(div, \"touchstart\", function () { return input.forceCompositionEnd(); });\n\n    on(div, \"input\", function () {\n      if (!this$1.composing) { this$1.readFromDOMSoon(); }\n    });\n\n    function onCopyCut(e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n        if (e.type == \"cut\") { cm.replaceSelection(\"\", null, \"cut\"); }\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.operation(function () {\n            cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n            cm.replaceSelection(\"\", null, \"cut\");\n          });\n        }\n      }\n      if (e.clipboardData) {\n        e.clipboardData.clearData();\n        var content = lastCopied.text.join(\"\\n\");\n        \/\/ iOS exposes the clipboard API, but seems to discard content inserted into it\n        e.clipboardData.setData(\"Text\", content);\n        if (e.clipboardData.getData(\"Text\") == content) {\n          e.preventDefault();\n          return\n        }\n      }\n      \/\/ Old-fashioned briefly-focus-a-textarea hack\n      var kludge = hiddenTextarea(), te = kludge.firstChild;\n      cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n      te.value = lastCopied.text.join(\"\\n\");\n      var hadFocus = document.activeElement;\n      selectInput(te);\n      setTimeout(function () {\n        cm.display.lineSpace.removeChild(kludge);\n        hadFocus.focus();\n        if (hadFocus == div) { input.showPrimarySelection(); }\n      }, 50);\n    }\n    on(div, \"copy\", onCopyCut);\n    on(div, \"cut\", onCopyCut);\n  };\n\n  ContentEditableInput.prototype.screenReaderLabelChanged = function (label) {\n    \/\/ Label for screenreaders, accessibility\n    if(label) {\n      this.div.setAttribute('aria-label', label);\n    } else {\n      this.div.removeAttribute('aria-label');\n    }\n  };\n\n  ContentEditableInput.prototype.prepareSelection = function () {\n    var result = prepareSelection(this.cm, false);\n    result.focus = document.activeElement == this.div;\n    return result\n  };\n\n  ContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n    if (!info || !this.cm.display.view.length) { return }\n    if (info.focus || takeFocus) { this.showPrimarySelection(); }\n    this.showMultipleSelections(info);\n  };\n\n  ContentEditableInput.prototype.getSelection = function () {\n    return this.cm.display.wrapper.ownerDocument.getSelection()\n  };\n\n  ContentEditableInput.prototype.showPrimarySelection = function () {\n    var sel = this.getSelection(), cm = this.cm, prim = cm.doc.sel.primary();\n    var from = prim.from(), to = prim.to();\n\n    if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\n        cmp(minPos(curAnchor, curFocus), from) == 0 &&\n        cmp(maxPos(curAnchor, curFocus), to) == 0)\n      { return }\n\n    var view = cm.display.view;\n    var start = (from.line >= cm.display.viewFrom && posToDOM(cm, from)) ||\n        {node: view[0].measure.map[2], offset: 0};\n    var end = to.line < cm.display.viewTo && posToDOM(cm, to);\n    if (!end) {\n      var measure = view[view.length - 1].measure;\n      var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n      end = {node: map[map.length - 1], offset: map[map.length - 2] - map[map.length - 3]};\n    }\n\n    if (!start || !end) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var old = sel.rangeCount && sel.getRangeAt(0), rng;\n    try { rng = range(start.node, start.offset, end.offset, end.node); }\n    catch(e) {} \/\/ Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n    if (rng) {\n      if (!gecko && cm.state.focused) {\n        sel.collapse(start.node, start.offset);\n        if (!rng.collapsed) {\n          sel.removeAllRanges();\n          sel.addRange(rng);\n        }\n      } else {\n        sel.removeAllRanges();\n        sel.addRange(rng);\n      }\n      if (old && sel.anchorNode == null) { sel.addRange(old); }\n      else if (gecko) { this.startGracePeriod(); }\n    }\n    this.rememberSelection();\n  };\n\n  ContentEditableInput.prototype.startGracePeriod = function () {\n      var this$1 = this;\n\n    clearTimeout(this.gracePeriod);\n    this.gracePeriod = setTimeout(function () {\n      this$1.gracePeriod = false;\n      if (this$1.selectionChanged())\n        { this$1.cm.operation(function () { return this$1.cm.curOp.selectionChanged = true; }); }\n    }, 20);\n  };\n\n  ContentEditableInput.prototype.showMultipleSelections = function (info) {\n    removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n    removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n  };\n\n  ContentEditableInput.prototype.rememberSelection = function () {\n    var sel = this.getSelection();\n    this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset;\n    this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset;\n  };\n\n  ContentEditableInput.prototype.selectionInEditor = function () {\n    var sel = this.getSelection();\n    if (!sel.rangeCount) { return false }\n    var node = sel.getRangeAt(0).commonAncestorContainer;\n    return contains(this.div, node)\n  };\n\n  ContentEditableInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\") {\n      if (!this.selectionInEditor() || document.activeElement != this.div)\n        { this.showSelection(this.prepareSelection(), true); }\n      this.div.focus();\n    }\n  };\n  ContentEditableInput.prototype.blur = function () { this.div.blur(); };\n  ContentEditableInput.prototype.getField = function () { return this.div };\n\n  ContentEditableInput.prototype.supportsTouch = function () { return true };\n\n  ContentEditableInput.prototype.receivedFocus = function () {\n    var input = this;\n    if (this.selectionInEditor())\n      { this.pollSelection(); }\n    else\n      { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }); }\n\n    function poll() {\n      if (input.cm.state.focused) {\n        input.pollSelection();\n        input.polling.set(input.cm.options.pollInterval, poll);\n      }\n    }\n    this.polling.set(this.cm.options.pollInterval, poll);\n  };\n\n  ContentEditableInput.prototype.selectionChanged = function () {\n    var sel = this.getSelection();\n    return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\n      sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset\n  };\n\n  ContentEditableInput.prototype.pollSelection = function () {\n    if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) { return }\n    var sel = this.getSelection(), cm = this.cm;\n    \/\/ On Android Chrome (version 56, at least), backspacing into an\n    \/\/ uneditable block element will put the cursor in that element,\n    \/\/ and then, because it's not editable, hide the virtual keyboard.\n    \/\/ Because Android doesn't allow us to actually detect backspace\n    \/\/ presses in a sane way, this code checks for when that happens\n    \/\/ and simulates a backspace press in this case.\n    if (android && chrome && this.cm.display.gutterSpecs.length && isInGutter(sel.anchorNode)) {\n      this.cm.triggerOnKeyDown({type: \"keydown\", keyCode: 8, preventDefault: Math.abs});\n      this.blur();\n      this.focus();\n      return\n    }\n    if (this.composing) { return }\n    this.rememberSelection();\n    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (anchor && head) { runInOp(cm, function () {\n      setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n      if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true; }\n    }); }\n  };\n\n  ContentEditableInput.prototype.pollContent = function () {\n    if (this.readDOMTimeout != null) {\n      clearTimeout(this.readDOMTimeout);\n      this.readDOMTimeout = null;\n    }\n\n    var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary();\n    var from = sel.from(), to = sel.to();\n    if (from.ch == 0 && from.line > cm.firstLine())\n      { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length); }\n    if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())\n      { to = Pos(to.line + 1, 0); }\n    if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }\n\n    var fromIndex, fromLine, fromNode;\n    if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n      fromLine = lineNo(display.view[0].line);\n      fromNode = display.view[0].node;\n    } else {\n      fromLine = lineNo(display.view[fromIndex].line);\n      fromNode = display.view[fromIndex - 1].node.nextSibling;\n    }\n    var toIndex = findViewIndex(cm, to.line);\n    var toLine, toNode;\n    if (toIndex == display.view.length - 1) {\n      toLine = display.viewTo - 1;\n      toNode = display.lineDiv.lastChild;\n    } else {\n      toLine = lineNo(display.view[toIndex + 1].line) - 1;\n      toNode = display.view[toIndex + 1].node.previousSibling;\n    }\n\n    if (!fromNode) { return false }\n    var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n    var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n    while (newText.length > 1 && oldText.length > 1) {\n      if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine--; }\n      else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++; }\n      else { break }\n    }\n\n    var cutFront = 0, cutEnd = 0;\n    var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length);\n    while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\n      { ++cutFront; }\n    var newBot = lst(newText), oldBot = lst(oldText);\n    var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\n                             oldBot.length - (oldText.length == 1 ? cutFront : 0));\n    while (cutEnd < maxCutEnd &&\n           newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\n      { ++cutEnd; }\n    \/\/ Try to move start of change to start of selection if ambiguous\n    if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {\n      while (cutFront && cutFront > from.ch &&\n             newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n        cutFront--;\n        cutEnd++;\n      }\n    }\n\n    newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(\/^\\u200b+\/, \"\");\n    newText[0] = newText[0].slice(cutFront).replace(\/\\u200b+$\/, \"\");\n\n    var chFrom = Pos(fromLine, cutFront);\n    var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n    if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n      replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n      return true\n    }\n  };\n\n  ContentEditableInput.prototype.ensurePolled = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.reset = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.forceCompositionEnd = function () {\n    if (!this.composing) { return }\n    clearTimeout(this.readDOMTimeout);\n    this.composing = null;\n    this.updateFromDOM();\n    this.div.blur();\n    this.div.focus();\n  };\n  ContentEditableInput.prototype.readFromDOMSoon = function () {\n      var this$1 = this;\n\n    if (this.readDOMTimeout != null) { return }\n    this.readDOMTimeout = setTimeout(function () {\n      this$1.readDOMTimeout = null;\n      if (this$1.composing) {\n        if (this$1.composing.done) { this$1.composing = null; }\n        else { return }\n      }\n      this$1.updateFromDOM();\n    }, 80);\n  };\n\n  ContentEditableInput.prototype.updateFromDOM = function () {\n      var this$1 = this;\n\n    if (this.cm.isReadOnly() || !this.pollContent())\n      { runInOp(this.cm, function () { return regChange(this$1.cm); }); }\n  };\n\n  ContentEditableInput.prototype.setUneditable = function (node) {\n    node.contentEditable = \"false\";\n  };\n\n  ContentEditableInput.prototype.onKeyPress = function (e) {\n    if (e.charCode == 0 || this.composing) { return }\n    e.preventDefault();\n    if (!this.cm.isReadOnly())\n      { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0); }\n  };\n\n  ContentEditableInput.prototype.readOnlyChanged = function (val) {\n    this.div.contentEditable = String(val != \"nocursor\");\n  };\n\n  ContentEditableInput.prototype.onContextMenu = function () {};\n  ContentEditableInput.prototype.resetPosition = function () {};\n\n  ContentEditableInput.prototype.needsContentAttribute = true;\n\n  function posToDOM(cm, pos) {\n    var view = findViewForLine(cm, pos.line);\n    if (!view || view.hidden) { return null }\n    var line = getLine(cm.doc, pos.line);\n    var info = mapFromLineView(view, line, pos.line);\n\n    var order = getOrder(line, cm.doc.direction), side = \"left\";\n    if (order) {\n      var partPos = getBidiPartAt(order, pos.ch);\n      side = partPos % 2 ? \"right\" : \"left\";\n    }\n    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n    result.offset = result.collapse == \"right\" ? result.end : result.start;\n    return result\n  }\n\n  function isInGutter(node) {\n    for (var scan = node; scan; scan = scan.parentNode)\n      { if (\/CodeMirror-gutter-wrapper\/.test(scan.className)) { return true } }\n    return false\n  }\n\n  function badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }\n\n  function domTextBetween(cm, from, to, fromLine, toLine) {\n    var text = \"\", closing = false, lineSep = cm.doc.lineSeparator(), extraLinebreak = false;\n    function recognizeMarker(id) { return function (marker) { return marker.id == id; } }\n    function close() {\n      if (closing) {\n        text += lineSep;\n        if (extraLinebreak) { text += lineSep; }\n        closing = extraLinebreak = false;\n      }\n    }\n    function addText(str) {\n      if (str) {\n        close();\n        text += str;\n      }\n    }\n    function walk(node) {\n      if (node.nodeType == 1) {\n        var cmText = node.getAttribute(\"cm-text\");\n        if (cmText) {\n          addText(cmText);\n          return\n        }\n        var markerID = node.getAttribute(\"cm-marker\"), range;\n        if (markerID) {\n          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n          if (found.length && (range = found[0].find(0)))\n            { addText(getBetween(cm.doc, range.from, range.to).join(lineSep)); }\n          return\n        }\n        if (node.getAttribute(\"contenteditable\") == \"false\") { return }\n        var isBlock = \/^(pre|div|p|li|table|br)$\/i.test(node.nodeName);\n        if (!\/^br$\/i.test(node.nodeName) && node.textContent.length == 0) { return }\n\n        if (isBlock) { close(); }\n        for (var i = 0; i < node.childNodes.length; i++)\n          { walk(node.childNodes[i]); }\n\n        if (\/^(pre|p)$\/i.test(node.nodeName)) { extraLinebreak = true; }\n        if (isBlock) { closing = true; }\n      } else if (node.nodeType == 3) {\n        addText(node.nodeValue.replace(\/\\u200b\/g, \"\").replace(\/\\u00a0\/g, \" \"));\n      }\n    }\n    for (;;) {\n      walk(from);\n      if (from == to) { break }\n      from = from.nextSibling;\n      extraLinebreak = false;\n    }\n    return text\n  }\n\n  function domToPos(cm, node, offset) {\n    var lineNode;\n    if (node == cm.display.lineDiv) {\n      lineNode = cm.display.lineDiv.childNodes[offset];\n      if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }\n      node = null; offset = 0;\n    } else {\n      for (lineNode = node;; lineNode = lineNode.parentNode) {\n        if (!lineNode || lineNode == cm.display.lineDiv) { return null }\n        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }\n      }\n    }\n    for (var i = 0; i < cm.display.view.length; i++) {\n      var lineView = cm.display.view[i];\n      if (lineView.node == lineNode)\n        { return locateNodeInLineView(lineView, node, offset) }\n    }\n  }\n\n  function locateNodeInLineView(lineView, node, offset) {\n    var wrapper = lineView.text.firstChild, bad = false;\n    if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }\n    if (node == wrapper) {\n      bad = true;\n      node = wrapper.childNodes[offset];\n      offset = 0;\n      if (!node) {\n        var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n        return badPos(Pos(lineNo(line), line.text.length), bad)\n      }\n    }\n\n    var textNode = node.nodeType == 3 ? node : null, topNode = node;\n    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n      textNode = node.firstChild;\n      if (offset) { offset = textNode.nodeValue.length; }\n    }\n    while (topNode.parentNode != wrapper) { topNode = topNode.parentNode; }\n    var measure = lineView.measure, maps = measure.maps;\n\n    function find(textNode, topNode, offset) {\n      for (var i = -1; i < (maps ? maps.length : 0); i++) {\n        var map = i < 0 ? measure.map : maps[i];\n        for (var j = 0; j < map.length; j += 3) {\n          var curNode = map[j + 2];\n          if (curNode == textNode || curNode == topNode) {\n            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n            var ch = map[j] + offset;\n            if (offset < 0 || curNode != textNode) { ch = map[j + (offset ? 1 : 0)]; }\n            return Pos(line, ch)\n          }\n        }\n      }\n    }\n    var found = find(textNode, topNode, offset);\n    if (found) { return badPos(found, bad) }\n\n    \/\/ FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n      found = find(after, after.firstChild, 0);\n      if (found)\n        { return badPos(Pos(found.line, found.ch - dist), bad) }\n      else\n        { dist += after.textContent.length; }\n    }\n    for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n      found = find(before, before.firstChild, -1);\n      if (found)\n        { return badPos(Pos(found.line, found.ch + dist$1), bad) }\n      else\n        { dist$1 += before.textContent.length; }\n    }\n  }\n\n  \/\/ TEXTAREA INPUT STYLE\n\n  var TextareaInput = function(cm) {\n    this.cm = cm;\n    \/\/ See input.poll and input.reset\n    this.prevInput = \"\";\n\n    \/\/ Flag that indicates whether we expect input to appear real soon\n    \/\/ now (after some event like 'keypress' or 'input') and are\n    \/\/ polling intensively.\n    this.pollingFast = false;\n    \/\/ Self-resetting timeout for the poller\n    this.polling = new Delayed();\n    \/\/ Used to work around IE issue with selection being forgotten when focus moves away from textarea\n    this.hasSelection = false;\n    this.composing = null;\n  };\n\n  TextareaInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = this.cm;\n    this.createField(display);\n    var te = this.textarea;\n\n    display.wrapper.insertBefore(this.wrapper, display.wrapper.firstChild);\n\n    \/\/ Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n    if (ios) { te.style.width = \"0px\"; }\n\n    on(te, \"input\", function () {\n      if (ie && ie_version >= 9 && this$1.hasSelection) { this$1.hasSelection = null; }\n      input.poll();\n    });\n\n    on(te, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n\n      cm.state.pasteIncoming = +new Date;\n      input.fastPoll();\n    });\n\n    function prepareCopyCut(e) {\n      if (signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.setSelections(ranges.ranges, null, sel_dontScroll);\n        } else {\n          input.prevInput = \"\";\n          te.value = ranges.text.join(\"\\n\");\n          selectInput(te);\n        }\n      }\n      if (e.type == \"cut\") { cm.state.cutIncoming = +new Date; }\n    }\n    on(te, \"cut\", prepareCopyCut);\n    on(te, \"copy\", prepareCopyCut);\n\n    on(display.scroller, \"paste\", function (e) {\n      if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }\n      if (!te.dispatchEvent) {\n        cm.state.pasteIncoming = +new Date;\n        input.focus();\n        return\n      }\n\n      \/\/ Pass the `paste` event to the textarea so it's handled by its event listener.\n      var event = new Event(\"paste\");\n      event.clipboardData = e.clipboardData;\n      te.dispatchEvent(event);\n    });\n\n    \/\/ Prevent normal selection in the editor (we handle our own)\n    on(display.lineSpace, \"selectstart\", function (e) {\n      if (!eventInWidget(display, e)) { e_preventDefault(e); }\n    });\n\n    on(te, \"compositionstart\", function () {\n      var start = cm.getCursor(\"from\");\n      if (input.composing) { input.composing.range.clear(); }\n      input.composing = {\n        start: start,\n        range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\n      };\n    });\n    on(te, \"compositionend\", function () {\n      if (input.composing) {\n        input.poll();\n        input.composing.range.clear();\n        input.composing = null;\n      }\n    });\n  };\n\n  TextareaInput.prototype.createField = function (_display) {\n    \/\/ Wraps and hides input textarea\n    this.wrapper = hiddenTextarea();\n    \/\/ The semihidden textarea that is focused when the editor is\n    \/\/ focused, and receives input.\n    this.textarea = this.wrapper.firstChild;\n  };\n\n  TextareaInput.prototype.screenReaderLabelChanged = function (label) {\n    \/\/ Label for screenreaders, accessibility\n    if(label) {\n      this.textarea.setAttribute('aria-label', label);\n    } else {\n      this.textarea.removeAttribute('aria-label');\n    }\n  };\n\n  TextareaInput.prototype.prepareSelection = function () {\n    \/\/ Redraw the selection and\/or cursor\n    var cm = this.cm, display = cm.display, doc = cm.doc;\n    var result = prepareSelection(cm);\n\n    \/\/ Move the hidden textarea near the cursor to prevent scrolling artifacts\n    if (cm.options.moveInputWithCursor) {\n      var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\");\n      var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();\n      result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\n                                          headPos.top + lineOff.top - wrapOff.top));\n      result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\n                                           headPos.left + lineOff.left - wrapOff.left));\n    }\n\n    return result\n  };\n\n  TextareaInput.prototype.showSelection = function (drawn) {\n    var cm = this.cm, display = cm.display;\n    removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n    removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n    if (drawn.teTop != null) {\n      this.wrapper.style.top = drawn.teTop + \"px\";\n      this.wrapper.style.left = drawn.teLeft + \"px\";\n    }\n  };\n\n  \/\/ Reset the input to correspond to the selection (or to be empty,\n  \/\/ when not typing and nothing is selected)\n  TextareaInput.prototype.reset = function (typing) {\n    if (this.contextMenuPending || this.composing) { return }\n    var cm = this.cm;\n    if (cm.somethingSelected()) {\n      this.prevInput = \"\";\n      var content = cm.getSelection();\n      this.textarea.value = content;\n      if (cm.state.focused) { selectInput(this.textarea); }\n      if (ie && ie_version >= 9) { this.hasSelection = content; }\n    } else if (!typing) {\n      this.prevInput = this.textarea.value = \"\";\n      if (ie && ie_version >= 9) { this.hasSelection = null; }\n    }\n  };\n\n  TextareaInput.prototype.getField = function () { return this.textarea };\n\n  TextareaInput.prototype.supportsTouch = function () { return false };\n\n  TextareaInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n      try { this.textarea.focus(); }\n      catch (e) {} \/\/ IE8 will throw if the textarea is display: none or not in DOM\n    }\n  };\n\n  TextareaInput.prototype.blur = function () { this.textarea.blur(); };\n\n  TextareaInput.prototype.resetPosition = function () {\n    this.wrapper.style.top = this.wrapper.style.left = 0;\n  };\n\n  TextareaInput.prototype.receivedFocus = function () { this.slowPoll(); };\n\n  \/\/ Poll for input changes, using the normal rate of polling. This\n  \/\/ runs as long as the editor is focused.\n  TextareaInput.prototype.slowPoll = function () {\n      var this$1 = this;\n\n    if (this.pollingFast) { return }\n    this.polling.set(this.cm.options.pollInterval, function () {\n      this$1.poll();\n      if (this$1.cm.state.focused) { this$1.slowPoll(); }\n    });\n  };\n\n  \/\/ When an event has just come in that is likely to add or change\n  \/\/ something in the input textarea, we poll faster, to ensure that\n  \/\/ the change appears on the screen quickly.\n  TextareaInput.prototype.fastPoll = function () {\n    var missed = false, input = this;\n    input.pollingFast = true;\n    function p() {\n      var changed = input.poll();\n      if (!changed && !missed) {missed = true; input.polling.set(60, p);}\n      else {input.pollingFast = false; input.slowPoll();}\n    }\n    input.polling.set(20, p);\n  };\n\n  \/\/ Read input from the textarea, and update the document to match.\n  \/\/ When something is selected, it is present in the textarea, and\n  \/\/ selected (unless it is huge, in which case a placeholder is\n  \/\/ used). When nothing is selected, the cursor sits after previously\n  \/\/ seen text (can be empty), which is stored in prevInput (we must\n  \/\/ not reset the textarea when typing, because that breaks IME).\n  TextareaInput.prototype.poll = function () {\n      var this$1 = this;\n\n    var cm = this.cm, input = this.textarea, prevInput = this.prevInput;\n    \/\/ Since this is called a *lot*, try to bail out as cheaply as\n    \/\/ possible when it is clear that nothing happened. hasSelection\n    \/\/ will be the case when there is a lot of text in the textarea,\n    \/\/ in which case reading its value would be expensive.\n    if (this.contextMenuPending || !cm.state.focused ||\n        (hasSelection(input) && !prevInput && !this.composing) ||\n        cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\n      { return false }\n\n    var text = input.value;\n    \/\/ If nothing changed, bail.\n    if (text == prevInput && !cm.somethingSelected()) { return false }\n    \/\/ Work around nonsensical selection resetting in IE9\/10, and\n    \/\/ inexplicable appearance of private area unicode characters on\n    \/\/ some key combos in Mac (#2689).\n    if (ie && ie_version >= 9 && this.hasSelection === text ||\n        mac && \/[\\uf700-\\uf7ff]\/.test(text)) {\n      cm.display.input.reset();\n      return false\n    }\n\n    if (cm.doc.sel == cm.display.selForContextMenu) {\n      var first = text.charCodeAt(0);\n      if (first == 0x200b && !prevInput) { prevInput = \"\\u200b\"; }\n      if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\") }\n    }\n    \/\/ Find the part of the input that is actually new\n    var same = 0, l = Math.min(prevInput.length, text.length);\n    while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same; }\n\n    runInOp(cm, function () {\n      applyTextInput(cm, text.slice(same), prevInput.length - same,\n                     null, this$1.composing ? \"*compose\" : null);\n\n      \/\/ Don't leave long text in the textarea, since it makes further polling slow\n      if (text.length > 1000 || text.indexOf(\"\\n\") > -1) { input.value = this$1.prevInput = \"\"; }\n      else { this$1.prevInput = text; }\n\n      if (this$1.composing) {\n        this$1.composing.range.clear();\n        this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"),\n                                           {className: \"CodeMirror-composing\"});\n      }\n    });\n    return true\n  };\n\n  TextareaInput.prototype.ensurePolled = function () {\n    if (this.pollingFast && this.poll()) { this.pollingFast = false; }\n  };\n\n  TextareaInput.prototype.onKeyPress = function () {\n    if (ie && ie_version >= 9) { this.hasSelection = null; }\n    this.fastPoll();\n  };\n\n  TextareaInput.prototype.onContextMenu = function (e) {\n    var input = this, cm = input.cm, display = cm.display, te = input.textarea;\n    if (input.contextMenuPending) { input.contextMenuPending(); }\n    var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;\n    if (!pos || presto) { return } \/\/ Opera is difficult.\n\n    \/\/ Reset the current text selection only if the click is done outside of the selection\n    \/\/ and 'resetSelectionOnContextMenu' option is true.\n    var reset = cm.options.resetSelectionOnContextMenu;\n    if (reset && cm.doc.sel.contains(pos) == -1)\n      { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll); }\n\n    var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText;\n    var wrapperBox = input.wrapper.offsetParent.getBoundingClientRect();\n    input.wrapper.style.cssText = \"position: static\";\n    te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n    var oldScrollY;\n    if (webkit) { oldScrollY = window.scrollY; } \/\/ Work around Chrome issue (#2712)\n    display.input.focus();\n    if (webkit) { window.scrollTo(null, oldScrollY); }\n    display.input.reset();\n    \/\/ Adds \"Select all\" to context menu in FF\n    if (!cm.somethingSelected()) { te.value = input.prevInput = \" \"; }\n    input.contextMenuPending = rehide;\n    display.selForContextMenu = cm.doc.sel;\n    clearTimeout(display.detectingSelectAll);\n\n    \/\/ Select-all will be greyed out if there's nothing to select, so\n    \/\/ this adds a zero-width space so that we can later check whether\n    \/\/ it got selected.\n    function prepareSelectAllHack() {\n      if (te.selectionStart != null) {\n        var selected = cm.somethingSelected();\n        var extval = \"\\u200b\" + (selected ? te.value : \"\");\n        te.value = \"\\u21da\"; \/\/ Used to catch context-menu undo\n        te.value = extval;\n        input.prevInput = selected ? \"\" : \"\\u200b\";\n        te.selectionStart = 1; te.selectionEnd = extval.length;\n        \/\/ Re-set this, in case some other handler touched the\n        \/\/ selection in the meantime.\n        display.selForContextMenu = cm.doc.sel;\n      }\n    }\n    function rehide() {\n      if (input.contextMenuPending != rehide) { return }\n      input.contextMenuPending = false;\n      input.wrapper.style.cssText = oldWrapperCSS;\n      te.style.cssText = oldCSS;\n      if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos); }\n\n      \/\/ Try to detect the user choosing select-all\n      if (te.selectionStart != null) {\n        if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack(); }\n        var i = 0, poll = function () {\n          if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\n              te.selectionEnd > 0 && input.prevInput == \"\\u200b\") {\n            operation(cm, selectAll)(cm);\n          } else if (i++ < 10) {\n            display.detectingSelectAll = setTimeout(poll, 500);\n          } else {\n            display.selForContextMenu = null;\n            display.input.reset();\n          }\n        };\n        display.detectingSelectAll = setTimeout(poll, 200);\n      }\n    }\n\n    if (ie && ie_version >= 9) { prepareSelectAllHack(); }\n    if (captureRightClick) {\n      e_stop(e);\n      var mouseup = function () {\n        off(window, \"mouseup\", mouseup);\n        setTimeout(rehide, 20);\n      };\n      on(window, \"mouseup\", mouseup);\n    } else {\n      setTimeout(rehide, 50);\n    }\n  };\n\n  TextareaInput.prototype.readOnlyChanged = function (val) {\n    if (!val) { this.reset(); }\n    this.textarea.disabled = val == \"nocursor\";\n    this.textarea.readOnly = !!val;\n  };\n\n  TextareaInput.prototype.setUneditable = function () {};\n\n  TextareaInput.prototype.needsContentAttribute = false;\n\n  function fromTextArea(textarea, options) {\n    options = options ? copyObj(options) : {};\n    options.value = textarea.value;\n    if (!options.tabindex && textarea.tabIndex)\n      { options.tabindex = textarea.tabIndex; }\n    if (!options.placeholder && textarea.placeholder)\n      { options.placeholder = textarea.placeholder; }\n    \/\/ Set autofocus to true if this textarea is focused, or if it has\n    \/\/ autofocus and no other element is focused.\n    if (options.autofocus == null) {\n      var hasFocus = activeElt();\n      options.autofocus = hasFocus == textarea ||\n        textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n    }\n\n    function save() {textarea.value = cm.getValue();}\n\n    var realSubmit;\n    if (textarea.form) {\n      on(textarea.form, \"submit\", save);\n      \/\/ Deplorable hack to make the submit method do the right thing.\n      if (!options.leaveSubmitMethodAlone) {\n        var form = textarea.form;\n        realSubmit = form.submit;\n        try {\n          var wrappedSubmit = form.submit = function () {\n            save();\n            form.submit = realSubmit;\n            form.submit();\n            form.submit = wrappedSubmit;\n          };\n        } catch(e) {}\n      }\n    }\n\n    options.finishInit = function (cm) {\n      cm.save = save;\n      cm.getTextArea = function () { return textarea; };\n      cm.toTextArea = function () {\n        cm.toTextArea = isNaN; \/\/ Prevent this from being ran twice\n        save();\n        textarea.parentNode.removeChild(cm.getWrapperElement());\n        textarea.style.display = \"\";\n        if (textarea.form) {\n          off(textarea.form, \"submit\", save);\n          if (!options.leaveSubmitMethodAlone && typeof textarea.form.submit == \"function\")\n            { textarea.form.submit = realSubmit; }\n        }\n      };\n    };\n\n    textarea.style.display = \"none\";\n    var cm = CodeMirror(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },\n      options);\n    return cm\n  }\n\n  function addLegacyProps(CodeMirror) {\n    CodeMirror.off = off;\n    CodeMirror.on = on;\n    CodeMirror.wheelEventPixels = wheelEventPixels;\n    CodeMirror.Doc = Doc;\n    CodeMirror.splitLines = splitLinesAuto;\n    CodeMirror.countColumn = countColumn;\n    CodeMirror.findColumn = findColumn;\n    CodeMirror.isWordChar = isWordCharBasic;\n    CodeMirror.Pass = Pass;\n    CodeMirror.signal = signal;\n    CodeMirror.Line = Line;\n    CodeMirror.changeEnd = changeEnd;\n    CodeMirror.scrollbarModel = scrollbarModel;\n    CodeMirror.Pos = Pos;\n    CodeMirror.cmpPos = cmp;\n    CodeMirror.modes = modes;\n    CodeMirror.mimeModes = mimeModes;\n    CodeMirror.resolveMode = resolveMode;\n    CodeMirror.getMode = getMode;\n    CodeMirror.modeExtensions = modeExtensions;\n    CodeMirror.extendMode = extendMode;\n    CodeMirror.copyState = copyState;\n    CodeMirror.startState = startState;\n    CodeMirror.innerMode = innerMode;\n    CodeMirror.commands = commands;\n    CodeMirror.keyMap = keyMap;\n    CodeMirror.keyName = keyName;\n    CodeMirror.isModifierKey = isModifierKey;\n    CodeMirror.lookupKey = lookupKey;\n    CodeMirror.normalizeKeyMap = normalizeKeyMap;\n    CodeMirror.StringStream = StringStream;\n    CodeMirror.SharedTextMarker = SharedTextMarker;\n    CodeMirror.TextMarker = TextMarker;\n    CodeMirror.LineWidget = LineWidget;\n    CodeMirror.e_preventDefault = e_preventDefault;\n    CodeMirror.e_stopPropagation = e_stopPropagation;\n    CodeMirror.e_stop = e_stop;\n    CodeMirror.addClass = addClass;\n    CodeMirror.contains = contains;\n    CodeMirror.rmClass = rmClass;\n    CodeMirror.keyNames = keyNames;\n  }\n\n  \/\/ EDITOR CONSTRUCTOR\n\n  defineOptions(CodeMirror);\n\n  addEditorMethods(CodeMirror);\n\n  \/\/ Set up methods on CodeMirror's prototype to redirect to the editor's document.\n  var dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\n  for (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\n    { CodeMirror.prototype[prop] = (function(method) {\n      return function() {return method.apply(this.doc, arguments)}\n    })(Doc.prototype[prop]); } }\n\n  eventMixin(Doc);\n  CodeMirror.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput};\n\n  \/\/ Extra arguments are stored as the mode's dependencies, which is\n  \/\/ used by (legacy) mechanisms like loadmode.js to automatically\n  \/\/ load a mode. (Preferred mechanism is the require\/define calls.)\n  CodeMirror.defineMode = function(name\/*, mode, \u2026*\/) {\n    if (!CodeMirror.defaults.mode && name != \"null\") { CodeMirror.defaults.mode = name; }\n    defineMode.apply(this, arguments);\n  };\n\n  CodeMirror.defineMIME = defineMIME;\n\n  \/\/ Minimal default mode.\n  CodeMirror.defineMode(\"null\", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); });\n  CodeMirror.defineMIME(\"text\/plain\", \"null\");\n\n  \/\/ EXTENSIONS\n\n  CodeMirror.defineExtension = function (name, func) {\n    CodeMirror.prototype[name] = func;\n  };\n  CodeMirror.defineDocExtension = function (name, func) {\n    Doc.prototype[name] = func;\n  };\n\n  CodeMirror.fromTextArea = fromTextArea;\n\n  addLegacyProps(CodeMirror);\n\n  CodeMirror.version = \"5.59.2\";\n\n  return CodeMirror;\n\n})));\n\n};"],"names":["shadow$provide","global","require","module","exports","factory","define","amd","self","CodeMirror","classTest","cls","RegExp","removeChildren","e","count","childNodes","length","removeChild","firstChild","removeChildrenAndAdd","parent","appendChild","elt","tag","content","className","style","document","createElement","cssText","createTextNode","i","eltP","setAttribute","contains","child","nodeType","parentNode","host","activeElt","activeElement","body","shadowRoot","addClass","node","current","test","joinClasses","a","b","as","split","bind","f","args","Array","prototype","slice","call","arguments","apply","copyObj","obj","target","overwrite","prop","hasOwnProperty","countColumn","string","end","tabSize","startIndex","startValue","search","n","nextTab","indexOf","array","findColumn","goal","pos","col","skipped","Math","min","spaceStr","spaceStrs","push","lst","arr","map","out","insertSorted","value","score","priority","splice","nothing","createObj","base","props","Object","create","inst","isWordCharBasic","ch","toUpperCase","toLowerCase","nonASCIISingleCaseWordChar","isWordChar","helper","source","isEmpty","isExtendingChar","charCodeAt","extendingChars","skipExtendingChars","str","dir","charAt","findFirst","pred","from","to","midF","mid","ceil","floor","iterateBidiSections","order","found","part","max","level","getBidiPartAt","sticky","bidiOther","cur","getOrder","line","direction","bidiOrdering","text","off","emitter","type","removeEventListener","detachEvent","_handlers","index","concat","signal","handlers","noHandlers","signalDOMEvent","cm","override","preventDefault","defaultPrevented","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","cursorActivity","set","curOp","cursorActivityHandlers","hasHandler","eventMixin","ctor","on","ctor.prototype.on","ctor.prototype.off","e_preventDefault","returnValue","e_stopPropagation","stopPropagation","cancelBubble","e_stop","e_button","which","button","mac","ctrlKey","defineMode","name","mode","dependencies","modes","resolveMode","spec","mimeModes","getMode","options","mfactory","modeObj","modeExtensions","exts","helperType","modeProps","prop$1","extendMode","properties","copyState","state","nstate","val","innerMode","info","startState","a1","a2","getLine","doc","first","size","Error","chunk","lines","children","sz","chunkSize","getBetween","start","iter","getLines","updateLineHeight","height","diff","lineNo","no","lineAtHeight","h","i$1","lh","isLine","l","lineNumberFor","String","lineNumberFormatter","firstLineNumber","Pos","cmp","equalCursorPos","copyPos","x","maxPos","minPos","clipPos","last","linelen","clipPosArray","highlightLine","context","forceToEnd","st","modeGen","lineClasses","runMode","loop","o","baseTokens","overlay","overlays","at","i_end","opaque","baseTokenPos","styles","classes","bgClass","textClass","getLineStyles","updateFrontier","getContextBefore","resetState","maxHighlightLength","result","stateAfter","save","styleClasses","highlightFrontier","modeFrontier","precise","display","Context","findStartLine","saved","fromSaved","processLine","viewFrom","viewTo","nextLine","startAt","stream","StringStream","callBlankLine","eol","readToken","blankLine","inner","token","takeToken","asArray","tokens","Token","extractLineClasses","output","lineClass","match","flattenSpans","curStart","curStyle","addModeClass","mName","minindent","minline","lim","after","SavedContext","lookAhead","indented","retreatFrontier","MarkedSpan","marker","getMarkedSpanFor","spans","span","stretchSpansOverChange","change","full","oldFirst","markedSpans","oldLast","startCh","endCh","isInsert","nw","inclusiveLeft","insertLeft","endsAfter","inclusiveRight","startsBefore","sameLine","offset","span$1","found$1","clearEmptySpans","newMarkers","gap","gapMarkers","i$2","i$3","clearWhenEmpty","removeReadOnlyRanges","markers","mark","readOnly","parts","mk","m","find","j","p","newParts","dfrom","dto","detachMarkedSpans","detachLine","attachMarkedSpans","attachLine","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","id","collapsedSpanAtSide","sps","sawCollapsedSpans","sp","collapsed","conflictingCollapsedRange","visualLine","merged","visualLineNo","lineN","vis","visualLineEndNo","lastLine","lineIsHidden","widgetNode","lineIsHiddenInner","heightAtLine","lineObj","lineLength","len","findMaxLine","d","maxLine","maxLineLength","maxLineChanged","interpretTokenStyle","cache","styleToClassCacheWithMode","styleToClassCache","replace","buildLineContent","lineView","webkit","builder","pre","trailingSpace","splitSpaces","getOption","measure","rest","addToken","buildToken","badBidiRects","txt","r0","range","getBoundingClientRect","r1","left","right","buildTokenBadBidi","allowFrontierUpdate","externalMeasured","spanEndStyle","spanStartStyle","attributes","spanStyle","css","allText","nextChange","Infinity","foundBookmarks","endStyles","startStyle","endStyle","title","attr","j$1","j$2","buildCollapsedSpan","upto","tokenText","zwspSupported","offsetHeight","offsetWidth","ie","ie_version","maps","caches","lastChild","querySelector","defaultSpecialCharPlaceholder","toString","spaceBefore","displayText","special","specialChars","mustWrap","createDocumentFragment","lastIndex","exec","txt$1","tabWidth","specialCharPlaceholder","fullStyle","ignoreWidget","widget","input","needsContentAttribute","setUneditable","LineView","hidden","buildViewArray","nextPos","view","finishOperation","op","endCb","group","ownsGroup","callbacks","delayedCallbacks","ops","cursorActivityCalled","operationGroup","signalLater","list","orphanDelayedCallbacks","setTimeout","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","built","getLineContent","replaceChild","updateLineClasses","updateLineGutter","alignable","isWidget","next","nextSibling","insertLineWidgets","ensureLineWrapped","zIndex","ext","background","wrap","insertBefore","wrapClass","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","gutterMarkers","lineNumbers","wrap$1","gutterWrap","lineNumber","gutterLeft","lineNumInnerWidth","k","gutterSpecs","gutterWidth","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","ws","handleMouseEvents","noHScroll","width","wrapperWidth","coverGutter","paddingLeft","position","marginLeft","above","widgetHeight","parentStyle","gutters","wrapper","clientWidth","eventInWidget","srcElement","getAttribute","sizer","mover","paddingVert","lineSpace","paddingH","cachedPaddingH","window","getComputedStyle","currentStyle","data","parseInt","paddingRight","isNaN","scrollGap","scrollerGap","nativeBarWidth","displayWidth","scroller","barWidth","displayHeight","clientHeight","barHeight","mapFromLineView","before","findViewForLine","findViewIndex","prepareMeasureForLine","getDimensions","forceUpdate","lineMeasure","rect","hasHeights","measureCharPrepared","prepared","bias","varHeight","key","wrapping","lineWrapping","curWidth","heights","rects","getClientRects","abs","bottom","top","place","nodeAndOffsetInLineMap","collapse","coverStart","coverEnd","nullRect","badZoomedRects","normal","fromRange","scaleX","screen","logicalXDPI","deviceXDPI","scaleY","logicalYDPI","deviceYDPI","rSpan","charWidth","rtop","rbot","bot","bogus","singleCursorHeightPerLine","rbottom","mStart","mEnd","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","cachedCharWidth","cachedTextHeight","lineNumChars","pageScrollX","chrome","android","pageXOffset","scrollLeft","documentElement","pageScrollY","marginTop","pageYOffset","scrollTop","widgetTopHeight","intoCoordSystem","includeWidgets","yOff","offsetTop","viewOffset","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","charCoords","cursorCoords","preparedMeasure","get","getBidi","partPos","invert","other","estimateCoords","PosWithInfo","outside","xRel","coordsChar","y","coordsCharInner","rangeEnd","wrappedLineExtent","begin","wrappedLineExtentChar","targetTop","boxIsAfter","box","ltr","coordsBidiPartWrapped","coordsBidiPart","chAround","boxAround","atLeft","atStart","baseX","_lineNo","ref","closestDist","endX","dist","textHeight","measureText","anchor","clientLeft","offsetLeft","compensateForHScroll","estimateHeight","th","perLine","widgetsHeight","estimateLineHeights","est","estHeight","posFromMouse","liberal","forRect","space","clientX","clientY","e$1","colDiff","round","regChange","lendiff","updateLineNumbers","viewChanged","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","countDirtyView","dirty","updateSelection","showSelection","prepareSelection","primary","curFragment","cursors","selFragment","selection","sel","ranges","primIndex","empty","showCursorWhenSelecting","drawSelectionCursor","head","drawSelectionRange","cursor","cursorHeight","otherCursor","cmpCoords","add","fragment","rightSide","drawForLine","fromArg","toArg","wrapX","side","extent","lineLen","fromPos","toPos","openStart","openEnd","docLTR","leftSide","topLeft","topRight","botLeft","botRight","padding","sizerWidth","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","focused","clearInterval","blinker","cursorDiv","visibility","cursorBlinkRate","setInterval","hasFocus","onBlur","ensureFocus","focus","onFocus","delayBlurEvent","delayingBlurEvent","draggingText","selForContextMenu","reset","receivedFocus","rmClass","shift","updateHeightsInViewport","prevBottom","lineDiv","updateWidgetHeight","chWidth","w","visibleLines","viewport","ensure","ensureFrom","ensureTo","calculateScrollPos","snapMargin","screentop","docBottom","atTop","atBottom","newTop","gutterSpace","screenleft","screenw","tooWide","addToScrollTop","resolveScrollToPos","ensureCursorVisible","getCursor","scrollToPos","margin","cursorScrollMargin","scrollToCoords","scrollToCoordsRange","sPos","updateScrollTop","gecko","updateDisplaySimple","setScrollTop","startWorker","forceScroll","scrollHeight","scrollbars","setScrollLeft","isScroller","scrollWidth","alignHorizontally","measureForScrollbars","gutterW","docH","viewHeight","viewWidth","barLeft","docHeight","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","sizes","update","paddingBottom","heightForcer","borderBottom","scrollbarFiller","coverGutterNextToScrollbar","gutterFiller","initScrollbars","clear","scrollbarModel","scrollbarStyle","axis","startOperation","updateInput","typing","changeObjs","selectionChanged","updateMaxLine","nextOpId","endOperation","scrollbarsClipped","marginBottom","borderRightWidth","mustUpdate","DisplayUpdate","updatedDisplay","updateDisplayIfNeeded","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","minWidth","takeFocus","setDocumentHeight","i$4","postUpdateDisplay","wheelStartX","wheelStartY","limit","changed","endCoords","scrollPos","startTop","startLeft","doScroll","innerHeight","phantom","scrollNode","scrollIntoView","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","operation","methodOp","docMethodOp","time","highlight","highlightWorker","Date","workTime","changedLines","oldStyles","highlighted","oldCls","newCls","ischange","workDelay","editorIsHidden","force","visible","renderedView","maybeUpdateLineNumberWidth","viewportMargin","different","lastWrapHeight","wrapperHeight","lastWrapWidth","toUpdate","active","getSelection","anchorNode","extend","anchorOffset","focusNode","focusOffset","patchDisplay","selSnapshot","snapshot","nodeName","createRange","setEnd","removeAllRanges","addRange","selectionDiv","minHeight","oldDisplayWidth","reportedViewFrom","reportedViewTo","updateNumbersFrom","rm","currentWheelTarget","container","updateNumber","updateGutterSpace","alignWidgets","comp","align","innerW","lineGutter","lineNumWidth","getGutters","sawLineNumbers","renderGutters","specs","gElt","updateGutters","Display","mobile","draggable","wheelDX","wheelDY","activeTouch","init","wheelEventDelta","dx","wheelDeltaX","dy","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","delta","wheelPixelsPerUnit","onScrollWheel","scroll","canScrollX","canScrollY","presto","pixels","wheelSamples","movedX","movedY","sample","normalizeSelection","mayTouch","selectionsMayTouch","prim","sort","prev","inv","Range","Selection","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","old","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","linesFor","Line","firstLine","lastText","lastSpans","nlines","insert","remove","added","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","rel","shared","attachDoc","setDirectionClass","directionChanged","History","startGen","done","undone","undoDepth","lastModTime","lastSelTime","lastOrigin","lastSelOrigin","lastOp","lastSelOp","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","pop","addChangeToHistory","selAfter","opId","hist","history","pushSelectionToHistory","origin","dest","equals","existing","mergeOldSpans","explicitlyCleared","stretched","oldCur","stretchCur","copyHistoryArray","events","newGroup","instantiateSel","copy","event","deepCopy","newChanges","Number","extendRange","posBefore","extendSelection","setSelection","extendSelections","heads","newSel","replaceOneSelection","filterSelectionChange","setSelectionReplaceHistory","setSelectionNoUndo","NaN","somethingSelected","historyEventDelay","clearRedo","setSelectionInner","skipAtomicInSelection","reCheckSelection","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","oldPos","preventCursorLeft","selectLeft","preventCursorRight","selectRight","atomic","near","movePos","far","cantEdit","selectAll","sel_dontScroll","filterChange","canceled","cancel","obj.update","undefined","makeChange","ignoreReadOnly","suppressEdits","sawReadOnlySpans","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","suppress","antiChanges","filter","returned","v","shiftDoc","distance","removed","makeChangeSingleDocInEditor","recomputeMaxLength","checkWidthStart","changesHandler","changeHandler","replaceRange","code","assign","splitLines","rebaseHistSelSingle","rebaseHistArray","sub","ok","copied","changeLine","handle","changeType","LeafChunk","BranchChunk","addLineWidget","LineWidget","insertAt","aboveVisible","markText","markTextShared","TextMarker","replacedWith","addToHistory","curLine","clearOnEnter","clearHistory","nextMarkerId","cloneNode","isParent","SharedTextMarker","findSharedMarkers","findMarks","detachSharedMarkers","subMarker","onDrop","clearDragCursor","lastDrop","files","dataTransfer","isReadOnly","FileReader","File","read","markAsReadAndPasteIfAllFilesAreRead","t","join","lineSeparator","readTextFromFile","file","allowDropFileTypes","reader","onerror","reader.onerror","onload","reader.onload","readAsText","text$1","getData","selected","listSelections","replaceSelection","dragCursor","forEachCodeMirror","getElementsByClassName","byClass","editors","registerGlobalHandlers","resizeTimer","onResize","setSize","normalizeKeyName","alt","ctrl","cmd","mod","normalizeKeyMap","keymap","keyname","keys","lookupKey","getKeyMap","fallthrough","isModifierKey","keyNames","keyCode","addModifierNames","noShift","altKey","flipCtrlCmd","metaKey","shiftKey","keyName","altGraphKey","keyMap","deleteNearSelection","compute","kill","toKill","replaced","moveCharLogically","moveLogically","endOfLine","visually","prep","moveVisually","bidi","mv","getWrappedLineExtent","moveInStorageOrder","searchInVisualLine","getRes","res","nextCh","lineStart","visual","lineStartSmart","firstNonWS","doHandleBinding","bound","dropShift","commands","ensurePolled","prevShift","Pass","dispatchKey","seq","keySeq","stopSeq","dispatchKeyInner","keyMaps","extraKeys","handleKeyBinding","motion","handleCharBinding","onKeyDown","getField","handled","lastStoppedKey","hasCopyEvent","execCommand","showCrossHair","up","onKeyUp","onKeyPress","charCode","fromCharCode","clickRepeat","now","lastDoubleClick","compare","lastClick","PastClick","onMouseDown","supportsTouch","gutterEvent","repeat","selectingText","handleMappedButton","leftButtonDown","captureRightClick","onContextMenu","option","unit","chromeOS","addNew","moveOnDrag","contained","dragDrop","dragAndDrop","leftButtonStartDrag","leftButtonSelect","behavior","moved","dragEnd","ownerDocument","mouseMove","dragStart","safari","preventScroll","e2","rangeForUnit","findWordAt","extendTo","lastPos","startCol","posCol","leftPos","startSel","ourIndex","oldRange","ourRange","ranges$1","bidiSimplify","sel_mouse","curCount","counter","editorSize","move","buttons","anchorLine","boundary","headIndex","usePart","prevent","touches","mX","mY","lineBox","g","themeChanged","theme","dragDropChanged","Init","funcs","dragFunctions","toggle","enter","over","leave","drop","wrappingChanged","this$1","defaults","Doc","inputStyles","inputStyle","pasteIncoming","cutIncoming","Delayed","autofocus","registerEventHandlers","globalsRegistered","opt","optionHandlers","finishInit","initHooks","textRendering","finishTouch","touchFinished","prevTouch","farAway","touch","word","radiusX","radiusY","clearTimeout","pageX","pageY","frag","setData","effectAllowed","setDragImage","img","src","_top","inp","indentLine","how","aggressive","indent","curSpace","curSpaceString","indentation","indentUnit","indentString","indentWithTabs","pos$1","applyTextInput","inserted","deleted","recent","paste","textLines","splitLinesAuto","multiPaste","lastCopied","pasteLinesPerSelection","lineWise","changeEvent","triggerElectric","handlePaste","pasted","clipboardData","disableInput","electricChars","smartIndent","getModeAt","electricInput","copyableRanges","lineRange","getRange","disableBrowserMagic","field","spellcheck","autocorrect","autocapitalize","hiddenTextarea","te","div","ios","border","findPosH","moveOnce","boundToLine","astral","lineDir","origDir","sawType","getHelper","hitSide","findPosV","moveAmount","pageSize","posToDOM","isInGutter","scan","badPos","bad","domTextBetween","recognizeMarker","close","closing","lineSep","extraLinebreak","addText","walk","cmText","markerID","isBlock","textContent","nodeValue","domToPos","lineNode","locateNodeInLineView","textNode","topNode","curNode","previousSibling","dist$1","userAgent","navigator","platform","ie_upto10","ie_11up","edge","documentMode","qtwebkit","vendor","mac_geMountainLion","maxTouchPoints","windows","presto_version","endNode","r","setStart","createTextRange","moveToElementText","moveEnd","moveStart","selectInput","select","selectionStart","selectionEnd","_e","handler","onTimeout","Delayed.prototype.onTimeout","Delayed.prototype.set","ms","sel_move","BidiSpan","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","outerType","types","lowTypes","arabicTypes","type$1","prev$1","type$2","type$3","i$5","cur$1","type$4","i$6","end$1","replace$1","i$7","isRTL","nstart","unshift","reverse","addEventListener","attachEvent","nl","rt","hasSelection","parentElement","compareEndPoints","oncopy","lineOracle","lastColumnPos","lastColumnValue","StringStream.prototype.eol","sol","StringStream.prototype.sol","peek","StringStream.prototype.peek","StringStream.prototype.next","eat","StringStream.prototype.eat","eatWhile","StringStream.prototype.eatWhile","eatSpace","StringStream.prototype.eatSpace","skipToEnd","StringStream.prototype.skipToEnd","skipTo","StringStream.prototype.skipTo","backUp","StringStream.prototype.backUp","column","StringStream.prototype.column","StringStream.prototype.indentation","StringStream.prototype.match","pattern","consume","caseInsensitive","cased","substr","StringStream.prototype.current","hideFirstChars","StringStream.prototype.hideFirstChars","StringStream.prototype.lookAhead","oracle","baseToken","StringStream.prototype.baseToken","maxLookAhead","Context.prototype.lookAhead","Context.prototype.baseToken","Context.prototype.nextLine","Context.fromSaved","Context.prototype.save","Line.prototype.lineNo","NativeScrollbars","vert","horiz","tabIndex","checkedZeroWidth","NativeScrollbars.prototype.update","needsH","needsV","sWidth","zeroWidthHack","NativeScrollbars.prototype.setScrollLeft","disableHoriz","enableZeroWidthBar","NativeScrollbars.prototype.setScrollTop","disableVert","NativeScrollbars.prototype.zeroWidthHack","pointerEvents","NativeScrollbars.prototype.enableZeroWidthBar","bar","delay","maybeDisable","elementFromPoint","NativeScrollbars.prototype.clear","NullScrollbars","NullScrollbars.prototype.update","NullScrollbars.prototype.setScrollLeft","NullScrollbars.prototype.setScrollTop","NullScrollbars.prototype.clear","DisplayUpdate.prototype.signal","DisplayUpdate.prototype.finish","Selection.prototype.primary","Selection.prototype.equals","here","there","Selection.prototype.deepCopy","Selection.prototype.somethingSelected","Selection.prototype.contains","Range.prototype.from","Range.prototype.to","Range.prototype.empty","removeInner","insertInner","iterN","oldHeight","remaining","leaf","maybeSpill","me","spilled","sibling","myIndex","used","LineWidget.prototype.clear","LineWidget.prototype.changed","oldH","TextMarker.prototype.clear","withOp","TextMarker.prototype.find","TextMarker.prototype.changed","dHeight","TextMarker.prototype.attachLine","TextMarker.prototype.detachLine","SharedTextMarker.prototype.clear","SharedTextMarker.prototype.find","nextDocId","cleanGeneration","constructor","getValue","setValue","getLineHandle","getLineNumber","getLineHandleVisualStart","lineCount","setCursor","extendSelectionsBy","setSelections","addSelection","getSelections","dup","replaceSelections","newPrev","oldPrev","hint","undo","redo","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","gen","getHistory","setHistory","histData","setGutterMarker","gutterID","clearGutter","lineInfo","addLineClass","where","removeLineClass","removeLineWidget","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","mFrom","mTo","subMark","unlinkDoc","link","splitIds","iterLinkedDocs","getEditor","setDirection","eachLine","macDefault","pcDefault","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","delWrappedLineRight","rightPos","goDocStart","goDocEnd","goLineStart","goLineStartSmart","goLineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","moveV","goLineDown","goPageUp","goPageDown","goCharLeft","moveH","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","deleteH","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentSelection","indentMore","indentLess","insertTab","insertSoftTab","spaces","defaultTab","transposeChars","newlineAndIndent","sels","openLine","toggleOverwrite","PastClick.prototype.compare","DOUBLECLICK_DELAY","defineInitHook","CodeMirror.defineInitHook","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","ContentEditableInput.prototype.init","belongsToInput","onCopyCut","newLastCopied","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","updateFromDOM","readFromDOMSoon","forceCompositionEnd","screenReaderLabelChanged","ContentEditableInput.prototype.screenReaderLabelChanged","label","removeAttribute","ContentEditableInput.prototype.prepareSelection","ContentEditableInput.prototype.showSelection","showMultipleSelections","ContentEditableInput.prototype.getSelection","ContentEditableInput.prototype.showPrimarySelection","curAnchor","curFocus","rangeCount","getRangeAt","rng","startGracePeriod","rememberSelection","ContentEditableInput.prototype.startGracePeriod","ContentEditableInput.prototype.showMultipleSelections","ContentEditableInput.prototype.rememberSelection","selectionInEditor","ContentEditableInput.prototype.selectionInEditor","commonAncestorContainer","ContentEditableInput.prototype.focus","blur","ContentEditableInput.prototype.blur","ContentEditableInput.prototype.getField","ContentEditableInput.prototype.supportsTouch","ContentEditableInput.prototype.receivedFocus","poll","pollSelection","pollInterval","ContentEditableInput.prototype.selectionChanged","ContentEditableInput.prototype.pollSelection","triggerOnKeyDown","pollContent","ContentEditableInput.prototype.pollContent","fromIndex","fromNode","toIndex","toNode","newText","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","ContentEditableInput.prototype.ensurePolled","ContentEditableInput.prototype.reset","ContentEditableInput.prototype.forceCompositionEnd","ContentEditableInput.prototype.readFromDOMSoon","ContentEditableInput.prototype.updateFromDOM","ContentEditableInput.prototype.setUneditable","contentEditable","ContentEditableInput.prototype.onKeyPress","readOnlyChanged","ContentEditableInput.prototype.readOnlyChanged","ContentEditableInput.prototype.onContextMenu","resetPosition","ContentEditableInput.prototype.resetPosition","TextareaInput","prevInput","pollingFast","TextareaInput.prototype.init","prepareCopyCut","createField","textarea","fastPoll","dispatchEvent","Event","TextareaInput.prototype.createField","_display","TextareaInput.prototype.screenReaderLabelChanged","TextareaInput.prototype.prepareSelection","moveInputWithCursor","headPos","wrapOff","lineOff","teTop","teLeft","TextareaInput.prototype.showSelection","drawn","TextareaInput.prototype.reset","contextMenuPending","TextareaInput.prototype.getField","TextareaInput.prototype.supportsTouch","TextareaInput.prototype.focus","TextareaInput.prototype.blur","TextareaInput.prototype.resetPosition","TextareaInput.prototype.receivedFocus","slowPoll","TextareaInput.prototype.slowPoll","TextareaInput.prototype.fastPoll","missed","TextareaInput.prototype.poll","same","TextareaInput.prototype.ensurePolled","TextareaInput.prototype.onKeyPress","TextareaInput.prototype.onContextMenu","prepareSelectAllHack","extval","rehide","oldWrapperCSS","oldCSS","detectingSelectAll","resetSelectionOnContextMenu","wrapperBox","offsetParent","oldScrollY","scrollY","scrollTo","mouseup","TextareaInput.prototype.readOnlyChanged","disabled","TextareaInput.prototype.setUneditable","defineOptions","deflt","notOnInit","defineOption","newBreaks","refresh","getInputField","detach","attach","integer","addEditorMethods","helpers","setOption","getDoc","addKeyMap","removeKeyMap","addOverlay","modeSpec","removeOverlay","newRanges","getTokenAt","getLineTokens","getTokenTypeAt","getHelpers","help","_global","getStateAfter","defaultTextHeight","defaultCharWidth","getViewport","addWidget","vspace","hspace","triggerOnKeyPress","triggerOnKeyUp","triggerOnMouseDown","amount","rtlMoveVisually","goalColumn","goals","startChar","check","getScrollInfo","interpret","swapDoc","phrase","phraseText","phrases","getWrapperElement","getScrollerElement","getGutterElement","registerHelper","CodeMirror.registerHelper","registerGlobalHelper","CodeMirror.registerGlobalHelper","predicate","dontDelegate","method","CodeMirror.defineMode","defineMIME","mime","defineExtension","CodeMirror.defineExtension","func","defineDocExtension","CodeMirror.defineDocExtension","fromTextArea","tabindex","placeholder","form","leaveSubmitMethodAlone","realSubmit","submit","wrappedSubmit","form.submit","options.finishInit","getTextArea","cm.getTextArea","toTextArea","cm.toTextArea","addLegacyProps","cmpPos","version"]}},{"offset":{"line":340,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$addon$edit$matchbrackets.js","lineCount":7,"mappings":"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\/C,CAAvB+C,EAAiC\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","sources":["node_modules\/codemirror\/addon\/edit\/matchbrackets.js"],"sourcesContent":["shadow$provide[255] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  var ie_lt8 = \/MSIE \\d\/.test(navigator.userAgent) &&\n    (document.documentMode == null || document.documentMode < 8);\n\n  var Pos = CodeMirror.Pos;\n\n  var matching = {\"(\": \")>\", \")\": \"(<\", \"[\": \"]>\", \"]\": \"[<\", \"{\": \"}>\", \"}\": \"{<\", \"<\": \">>\", \">\": \"<<\"};\n\n  function bracketRegex(config) {\n    return config && config.bracketRegex || \/[(){}[\\]]\/\n  }\n\n  function findMatchingBracket(cm, where, config) {\n    var line = cm.getLineHandle(where.line), pos = where.ch - 1;\n    var afterCursor = config && config.afterCursor\n    if (afterCursor == null)\n      afterCursor = \/(^| )cm-fat-cursor($| )\/.test(cm.getWrapperElement().className)\n    var re = bracketRegex(config)\n\n    \/\/ A cursor is defined as between two characters, but in in vim command mode\n    \/\/ (i.e. not insert mode), the cursor is visually represented as a\n    \/\/ highlighted box on top of the 2nd character. Otherwise, we allow matches\n    \/\/ from before or after the cursor.\n    var match = (!afterCursor && pos >= 0 && re.test(line.text.charAt(pos)) && matching[line.text.charAt(pos)]) ||\n        re.test(line.text.charAt(pos + 1)) && matching[line.text.charAt(++pos)];\n    if (!match) return null;\n    var dir = match.charAt(1) == \">\" ? 1 : -1;\n    if (config && config.strict && (dir > 0) != (pos == where.ch)) return null;\n    var style = cm.getTokenTypeAt(Pos(where.line, pos + 1));\n\n    var found = scanForBracket(cm, Pos(where.line, pos + (dir > 0 ? 1 : 0)), dir, style, config);\n    if (found == null) return null;\n    return {from: Pos(where.line, pos), to: found && found.pos,\n            match: found && found.ch == match.charAt(0), forward: dir > 0};\n  }\n\n  \/\/ bracketRegex is used to specify which type of bracket to scan\n  \/\/ should be a regexp, e.g. \/[[\\]]\/\n  \/\/\n  \/\/ Note: If \"where\" is on an open bracket, then this bracket is ignored.\n  \/\/\n  \/\/ Returns false when no bracket was found, null when it reached\n  \/\/ maxScanLines and gave up\n  function scanForBracket(cm, where, dir, style, config) {\n    var maxScanLen = (config && config.maxScanLineLength) || 10000;\n    var maxScanLines = (config && config.maxScanLines) || 1000;\n\n    var stack = [];\n    var re = bracketRegex(config)\n    var lineEnd = dir > 0 ? Math.min(where.line + maxScanLines, cm.lastLine() + 1)\n                          : Math.max(cm.firstLine() - 1, where.line - maxScanLines);\n    for (var lineNo = where.line; lineNo != lineEnd; lineNo += dir) {\n      var line = cm.getLine(lineNo);\n      if (!line) continue;\n      var pos = dir > 0 ? 0 : line.length - 1, end = dir > 0 ? line.length : -1;\n      if (line.length > maxScanLen) continue;\n      if (lineNo == where.line) pos = where.ch - (dir < 0 ? 1 : 0);\n      for (; pos != end; pos += dir) {\n        var ch = line.charAt(pos);\n        if (re.test(ch) && (style === undefined ||\n                            (cm.getTokenTypeAt(Pos(lineNo, pos + 1)) || \"\") == (style || \"\"))) {\n          var match = matching[ch];\n          if (match && (match.charAt(1) == \">\") == (dir > 0)) stack.push(ch);\n          else if (!stack.length) return {pos: Pos(lineNo, pos), ch: ch};\n          else stack.pop();\n        }\n      }\n    }\n    return lineNo - dir == (dir > 0 ? cm.lastLine() : cm.firstLine()) ? false : null;\n  }\n\n  function matchBrackets(cm, autoclear, config) {\n    \/\/ Disable brace matching in long lines, since it'll cause hugely slow updates\n    var maxHighlightLen = cm.state.matchBrackets.maxHighlightLineLength || 1000,\n      highlightNonMatching = config && config.highlightNonMatching;\n    var marks = [], ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      var match = ranges[i].empty() && findMatchingBracket(cm, ranges[i].head, config);\n      if (match && (match.match || highlightNonMatching !== false) && cm.getLine(match.from.line).length <= maxHighlightLen) {\n        var style = match.match ? \"CodeMirror-matchingbracket\" : \"CodeMirror-nonmatchingbracket\";\n        marks.push(cm.markText(match.from, Pos(match.from.line, match.from.ch + 1), {className: style}));\n        if (match.to && cm.getLine(match.to.line).length <= maxHighlightLen)\n          marks.push(cm.markText(match.to, Pos(match.to.line, match.to.ch + 1), {className: style}));\n      }\n    }\n\n    if (marks.length) {\n      \/\/ Kludge to work around the IE bug from issue #1193, where text\n      \/\/ input stops going to the textarea whenever this fires.\n      if (ie_lt8 && cm.state.focused) cm.focus();\n\n      var clear = function() {\n        cm.operation(function() {\n          for (var i = 0; i < marks.length; i++) marks[i].clear();\n        });\n      };\n      if (autoclear) setTimeout(clear, 800);\n      else return clear;\n    }\n  }\n\n  function doMatchBrackets(cm) {\n    cm.operation(function() {\n      if (cm.state.matchBrackets.currentlyHighlighted) {\n        cm.state.matchBrackets.currentlyHighlighted();\n        cm.state.matchBrackets.currentlyHighlighted = null;\n      }\n      cm.state.matchBrackets.currentlyHighlighted = matchBrackets(cm, false, cm.state.matchBrackets);\n    });\n  }\n\n  function clearHighlighted(cm) {\n    if (cm.state.matchBrackets && cm.state.matchBrackets.currentlyHighlighted) {\n      cm.state.matchBrackets.currentlyHighlighted();\n      cm.state.matchBrackets.currentlyHighlighted = null;\n    }\n  }\n\n  CodeMirror.defineOption(\"matchBrackets\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.off(\"cursorActivity\", doMatchBrackets);\n      cm.off(\"focus\", doMatchBrackets)\n      cm.off(\"blur\", clearHighlighted)\n      clearHighlighted(cm);\n    }\n    if (val) {\n      cm.state.matchBrackets = typeof val == \"object\" ? val : {};\n      cm.on(\"cursorActivity\", doMatchBrackets);\n      cm.on(\"focus\", doMatchBrackets)\n      cm.on(\"blur\", clearHighlighted)\n    }\n  });\n\n  CodeMirror.defineExtension(\"matchBrackets\", function() {matchBrackets(this, true);});\n  CodeMirror.defineExtension(\"findMatchingBracket\", function(pos, config, oldConfig){\n    \/\/ Backwards-compatibility kludge\n    if (oldConfig || typeof config == \"boolean\") {\n      if (!oldConfig) {\n        config = config ? {strict: true} : null\n      } else {\n        oldConfig.strict = config\n        config = oldConfig\n      }\n    }\n    return findMatchingBracket(this, pos, config)\n  });\n  CodeMirror.defineExtension(\"scanForBracket\", function(pos, dir, style, config){\n    return scanForBracket(this, pos, dir, style, config);\n  });\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","findMatchingBracket","cm","where","config","line","getLineHandle","pos","ch","afterCursor","test","getWrapperElement","className","re","bracketRegex","match","text","charAt","matching","dir","strict","style","getTokenTypeAt","Pos","found","scanForBracket","from","to","forward","maxScanLen","maxScanLineLength","maxScanLines","stack","lineEnd","Math","min","lastLine","max","firstLine","lineNo","getLine","length","end","undefined","push","pop","matchBrackets","autoclear","maxHighlightLen","state","maxHighlightLineLength","highlightNonMatching","marks","ranges","listSelections","i","empty","head","markText","ie_lt8","focused","focus","clear","operation","setTimeout","doMatchBrackets","currentlyHighlighted","clearHighlighted","navigator","userAgent","document","documentMode","defineOption","val","old","Init","off","on","defineExtension","oldConfig"]}},{"offset":{"line":347,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$addon$edit$closebrackets.js","lineCount":8,"mappings":"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","sources":["node_modules\/codemirror\/addon\/edit\/closebrackets.js"],"sourcesContent":["shadow$provide[256] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  var defaults = {\n    pairs: \"()[]{}''\\\"\\\"\",\n    closeBefore: \")]}'\\\":;>\",\n    triples: \"\",\n    explode: \"[]{}\"\n  };\n\n  var Pos = CodeMirror.Pos;\n\n  CodeMirror.defineOption(\"autoCloseBrackets\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.removeKeyMap(keyMap);\n      cm.state.closeBrackets = null;\n    }\n    if (val) {\n      ensureBound(getOption(val, \"pairs\"))\n      cm.state.closeBrackets = val;\n      cm.addKeyMap(keyMap);\n    }\n  });\n\n  function getOption(conf, name) {\n    if (name == \"pairs\" && typeof conf == \"string\") return conf;\n    if (typeof conf == \"object\" && conf[name] != null) return conf[name];\n    return defaults[name];\n  }\n\n  var keyMap = {Backspace: handleBackspace, Enter: handleEnter};\n  function ensureBound(chars) {\n    for (var i = 0; i < chars.length; i++) {\n      var ch = chars.charAt(i), key = \"'\" + ch + \"'\"\n      if (!keyMap[key]) keyMap[key] = handler(ch)\n    }\n  }\n  ensureBound(defaults.pairs + \"`\")\n\n  function handler(ch) {\n    return function(cm) { return handleChar(cm, ch); };\n  }\n\n  function getConfig(cm) {\n    var deflt = cm.state.closeBrackets;\n    if (!deflt || deflt.override) return deflt;\n    var mode = cm.getModeAt(cm.getCursor());\n    return mode.closeBrackets || deflt;\n  }\n\n  function handleBackspace(cm) {\n    var conf = getConfig(cm);\n    if (!conf || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var pairs = getOption(conf, \"pairs\");\n    var ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) return CodeMirror.Pass;\n      var around = charsAround(cm, ranges[i].head);\n      if (!around || pairs.indexOf(around) % 2 != 0) return CodeMirror.Pass;\n    }\n    for (var i = ranges.length - 1; i >= 0; i--) {\n      var cur = ranges[i].head;\n      cm.replaceRange(\"\", Pos(cur.line, cur.ch - 1), Pos(cur.line, cur.ch + 1), \"+delete\");\n    }\n  }\n\n  function handleEnter(cm) {\n    var conf = getConfig(cm);\n    var explode = conf && getOption(conf, \"explode\");\n    if (!explode || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) return CodeMirror.Pass;\n      var around = charsAround(cm, ranges[i].head);\n      if (!around || explode.indexOf(around) % 2 != 0) return CodeMirror.Pass;\n    }\n    cm.operation(function() {\n      var linesep = cm.lineSeparator() || \"\\n\";\n      cm.replaceSelection(linesep + linesep, null);\n      moveSel(cm, -1)\n      ranges = cm.listSelections();\n      for (var i = 0; i < ranges.length; i++) {\n        var line = ranges[i].head.line;\n        cm.indentLine(line, null, true);\n        cm.indentLine(line + 1, null, true);\n      }\n    });\n  }\n\n  function moveSel(cm, dir) {\n    var newRanges = [], ranges = cm.listSelections(), primary = 0\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i]\n      if (range.head == cm.getCursor()) primary = i\n      var pos = range.head.ch || dir > 0 ? {line: range.head.line, ch: range.head.ch + dir} : {line: range.head.line - 1}\n      newRanges.push({anchor: pos, head: pos})\n    }\n    cm.setSelections(newRanges, primary)\n  }\n\n  function contractSelection(sel) {\n    var inverted = CodeMirror.cmpPos(sel.anchor, sel.head) > 0;\n    return {anchor: new Pos(sel.anchor.line, sel.anchor.ch + (inverted ? -1 : 1)),\n            head: new Pos(sel.head.line, sel.head.ch + (inverted ? 1 : -1))};\n  }\n\n  function handleChar(cm, ch) {\n    var conf = getConfig(cm);\n    if (!conf || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var pairs = getOption(conf, \"pairs\");\n    var pos = pairs.indexOf(ch);\n    if (pos == -1) return CodeMirror.Pass;\n\n    var closeBefore = getOption(conf,\"closeBefore\");\n\n    var triples = getOption(conf, \"triples\");\n\n    var identical = pairs.charAt(pos + 1) == ch;\n    var ranges = cm.listSelections();\n    var opening = pos % 2 == 0;\n\n    var type;\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i], cur = range.head, curType;\n      var next = cm.getRange(cur, Pos(cur.line, cur.ch + 1));\n      if (opening && !range.empty()) {\n        curType = \"surround\";\n      } else if ((identical || !opening) && next == ch) {\n        if (identical && stringStartsAfter(cm, cur))\n          curType = \"both\";\n        else if (triples.indexOf(ch) >= 0 && cm.getRange(cur, Pos(cur.line, cur.ch + 3)) == ch + ch + ch)\n          curType = \"skipThree\";\n        else\n          curType = \"skip\";\n      } else if (identical && cur.ch > 1 && triples.indexOf(ch) >= 0 &&\n                 cm.getRange(Pos(cur.line, cur.ch - 2), cur) == ch + ch) {\n        if (cur.ch > 2 && \/\\bstring\/.test(cm.getTokenTypeAt(Pos(cur.line, cur.ch - 2)))) return CodeMirror.Pass;\n        curType = \"addFour\";\n      } else if (identical) {\n        var prev = cur.ch == 0 ? \" \" : cm.getRange(Pos(cur.line, cur.ch - 1), cur)\n        if (!CodeMirror.isWordChar(next) && prev != ch && !CodeMirror.isWordChar(prev)) curType = \"both\";\n        else return CodeMirror.Pass;\n      } else if (opening && (next.length === 0 || \/\\s\/.test(next) || closeBefore.indexOf(next) > -1)) {\n        curType = \"both\";\n      } else {\n        return CodeMirror.Pass;\n      }\n      if (!type) type = curType;\n      else if (type != curType) return CodeMirror.Pass;\n    }\n\n    var left = pos % 2 ? pairs.charAt(pos - 1) : ch;\n    var right = pos % 2 ? ch : pairs.charAt(pos + 1);\n    cm.operation(function() {\n      if (type == \"skip\") {\n        moveSel(cm, 1)\n      } else if (type == \"skipThree\") {\n        moveSel(cm, 3)\n      } else if (type == \"surround\") {\n        var sels = cm.getSelections();\n        for (var i = 0; i < sels.length; i++)\n          sels[i] = left + sels[i] + right;\n        cm.replaceSelections(sels, \"around\");\n        sels = cm.listSelections().slice();\n        for (var i = 0; i < sels.length; i++)\n          sels[i] = contractSelection(sels[i]);\n        cm.setSelections(sels);\n      } else if (type == \"both\") {\n        cm.replaceSelection(left + right, null);\n        cm.triggerElectric(left + right);\n        moveSel(cm, -1)\n      } else if (type == \"addFour\") {\n        cm.replaceSelection(left + left + left + left, \"before\");\n        moveSel(cm, 1)\n      }\n    });\n  }\n\n  function charsAround(cm, pos) {\n    var str = cm.getRange(Pos(pos.line, pos.ch - 1),\n                          Pos(pos.line, pos.ch + 1));\n    return str.length == 2 ? str : null;\n  }\n\n  function stringStartsAfter(cm, pos) {\n    var token = cm.getTokenAt(Pos(pos.line, pos.ch + 1))\n    return \/\\bstring\/.test(token.type) && token.start == pos.ch &&\n      (pos.ch == 0 || !\/\\bstring\/.test(cm.getTokenTypeAt(pos)))\n  }\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","getOption","conf","name","defaults","ensureBound","chars","i","length","ch","charAt","key","keyMap","handler","cm","handleChar","getConfig","deflt","state","closeBrackets","override","getModeAt","mode","getCursor","moveSel","dir","newRanges","ranges","listSelections","primary","range","head","pos","line","push","anchor","setSelections","Pass","pairs","indexOf","closeBefore","triples","identical","opening","type","cur","next","getRange","Pos","empty","curType","test","getTokenTypeAt","prev","isWordChar","stringStartsAfter","left","right","operation","sels","getSelections","replaceSelections","slice","inverted","cmpPos","sel","replaceSelection","triggerElectric","charsAround","str","token","getTokenAt","start","explode","defineOption","val","old","Init","removeKeyMap","addKeyMap","Backspace","handleBackspace","around","replaceRange","Enter","handleEnter","linesep","lineSeparator","indentLine"]}},{"offset":{"line":355,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$addon$selection$active_line.js","lineCount":3,"mappings":"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","sources":["node_modules\/codemirror\/addon\/selection\/active-line.js"],"sourcesContent":["shadow$provide[257] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n  var WRAP_CLASS = \"CodeMirror-activeline\";\n  var BACK_CLASS = \"CodeMirror-activeline-background\";\n  var GUTT_CLASS = \"CodeMirror-activeline-gutter\";\n\n  CodeMirror.defineOption(\"styleActiveLine\", false, function(cm, val, old) {\n    var prev = old == CodeMirror.Init ? false : old;\n    if (val == prev) return\n    if (prev) {\n      cm.off(\"beforeSelectionChange\", selectionChange);\n      clearActiveLines(cm);\n      delete cm.state.activeLines;\n    }\n    if (val) {\n      cm.state.activeLines = [];\n      updateActiveLines(cm, cm.listSelections());\n      cm.on(\"beforeSelectionChange\", selectionChange);\n    }\n  });\n\n  function clearActiveLines(cm) {\n    for (var i = 0; i < cm.state.activeLines.length; i++) {\n      cm.removeLineClass(cm.state.activeLines[i], \"wrap\", WRAP_CLASS);\n      cm.removeLineClass(cm.state.activeLines[i], \"background\", BACK_CLASS);\n      cm.removeLineClass(cm.state.activeLines[i], \"gutter\", GUTT_CLASS);\n    }\n  }\n\n  function sameArray(a, b) {\n    if (a.length != b.length) return false;\n    for (var i = 0; i < a.length; i++)\n      if (a[i] != b[i]) return false;\n    return true;\n  }\n\n  function updateActiveLines(cm, ranges) {\n    var active = [];\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i];\n      var option = cm.getOption(\"styleActiveLine\");\n      if (typeof option == \"object\" && option.nonEmpty ? range.anchor.line != range.head.line : !range.empty())\n        continue\n      var line = cm.getLineHandleVisualStart(range.head.line);\n      if (active[active.length - 1] != line) active.push(line);\n    }\n    if (sameArray(cm.state.activeLines, active)) return;\n    cm.operation(function() {\n      clearActiveLines(cm);\n      for (var i = 0; i < active.length; i++) {\n        cm.addLineClass(active[i], \"wrap\", WRAP_CLASS);\n        cm.addLineClass(active[i], \"background\", BACK_CLASS);\n        cm.addLineClass(active[i], \"gutter\", GUTT_CLASS);\n      }\n      cm.state.activeLines = active;\n    });\n  }\n\n  function selectionChange(cm, sel) {\n    updateActiveLines(cm, sel.ranges);\n  }\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","clearActiveLines","cm","i","state","activeLines","length","removeLineClass","WRAP_CLASS","BACK_CLASS","GUTT_CLASS","sameArray","a","b","updateActiveLines","ranges","active","range","option","getOption","nonEmpty","anchor","line","head","empty","getLineHandleVisualStart","push","operation","addLineClass","selectionChange","sel","defineOption","val","old","prev","Init","off","listSelections","on"]}},{"offset":{"line":358,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$mode$clojure$clojure.js","lineCount":7,"mappings":"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\/ByB,CAAA,CAAU,CAACA,CAAX,EAA+B,IAA\/B;AAAsBJ,EAFK,CAK7B,MAAO,CAAC,IAAD,CAAO,QAAP,CARwB,CAWjCN,QAASA,EAAS,CAACd,CAAD,CAASC,CAAT,CAAgB,CAIhC,IAHA,IAAIwB,EAAmB,CAAvB,CACIL,EAEJ,CAAOA,EAAP,CAAcpB,CAAOoB,CAAAA,IAAP,EAAd,CAAA,CAGE,GAFa,GAET,GAFAA,EAEA,EAFcK,CAAA,EAEd,CADS,GACT,GADAL,EACA,EADcK,CAAA,EACd,CAAqB,CAArB,GAAAA,CAAJ,CAA4B,CAC1BzB,CAAO0B,CAAAA,MAAP,CAAc,CAAd,CACAzB,EAAMM,CAAAA,QAAN,CAAiBR,CACjB,MAH0B,CAO9B,MAAO,CAAC,OAAD,CAAU,SAAV,CAdyB,CAiBlC4B,QAASA,EAAe,CAACC,CAAD,CAAQ,CAG9B,IAFA,IAAIC,EAAM,EAAV,CAESC,EAAI,CAAb,CAAgBA,CAAhB,CAAoBF,CAAMG,CAAAA,MAA1B,CAAkC,EAAED,CAApC,CAAuCD,CAAA,CAAID,CAAA,CAAME,CAAN,CAAJ,CAAA,CAAgB,CAAA,CAEvD,OAAOD,EALuB,CAQhCd,QAASA,EAAE,CAACiB,CAAD,CAAQC,CAAR,CAAc,CACvB,GAAIA,CAAJ,WAAoBC,OAApB,CAA4B,MAAOD,EAAKA,CAAAA,IAAL,CAAUD,CAAV,CACnC,IAAIC,CAAJ,WAAoBE,OAApB,CAA4B,MAAOF,EAAKG,CAAAA,oBAAL,CAA0BJ,CAA1B,CAFZ,CA1NzB,IAAIK,EAAQ,CAAC,OAAD,CAAU,KAAV,CAAiB,MAAjB,CAAZ,CACIC,EAAe,iFAAA,CAAA,KAAA,CAAA,GAAA,CADnB,CAGIC,EAAc,wsMAAA,CAAA,KAAA,CAAA,GAAA,CAsIlB3C;CAAW4C,CAAAA,cAAX,CAA0B,WAA1B,CAAuC,SAAvC,CACE,EAAGC,CAAAA,MAAH,CAAUJ,CAAV,CAAiBC,CAAjB,CAA+BC,CAA\/B,CADF,CAGA,KAAIvB,EAAOW,CAAA,CAAgBU,CAAhB,CAAX,CACInB,EAAcS,CAAA,CAAgBW,CAAhB,CADlB,CAEInB,EAAaQ,CAAA,CAAgBY,CAAhB,CAFjB,CAGIG,EAAmBf,CAAA,CAlBCgB,yiBAAAA,CAAAA,KAAAA,CAAAA,GAAAA,CAkBD,CAHvB;AAIIpB,EAAY,8BAJhB,CAKIlB,EAAgB,iJALpB,CAMIC,GAAmB,gIANvB,CAWIK,EAAkB,yNAwEtB;MAAO,CACLiC,WAAYA,QAAS,EAAG,CACtB,MAAO,CACLC,IAAK,CAACC,KAAM,IAAP,CAAaC,MAAO,CAApB,CAAuBC,SAAU,CAAjC,CADA,CAELnC,UAAW,IAFN,CAGLN,SAAUR,CAHL,CADe,CADnB,CASLkD,MAAOA,QAAS,CAACjD,CAAD,CAASC,CAAT,CAAgB,CAC1BD,CAAOkD,CAAAA,GAAP,EAAJ,EAAmD,QAAnD,GAAqB,MAAOjD,EAAM4C,CAAAA,GAAIG,CAAAA,QAAtC,GACE\/C,CAAM4C,CAAAA,GAAIG,CAAAA,QADZ,CACuB\/C,CAAM4C,CAAAA,GAAIE,CAAAA,KADjC,CACyC,CADzC,CAGA,KAAII,EAAgBlD,CAAMM,CAAAA,QAAN,CAAeP,CAAf,CAAuBC,CAAvB,CAApB,CACImD,GAAOD,CAAA,CAAc,CAAd,CACPE,EAAAA,CAAQF,CAAA,CAAc,CAAd,CACZ,KAAIG,GAAUtD,CAAOsD,CAAAA,OAAP,EAED,QAAb,GAAIF,EAAJ,GAC0B,GAAxB,GAAInD,CAAMY,CAAAA,SAAV,EAAsD,IAAtD,GAA+BZ,CAAM4C,CAAAA,GAAIG,CAAAA,QAAzC,CACe,QAAb,GAAII,EAAJ,EAAyBrC,CAAA,CAAGuC,EAAH,CAAYZ,CAAZ,CAAzB,CACEzC,CAAM4C,CAAAA,GAAIG,CAAAA,QADZ,CACuB\/C,CAAM4C,CAAAA,GAAIE,CAAAA,KADjC,CACyCjD,CAAQyD,CAAAA,UADjD,CAEKtD,CAAM4C,CAAAA,GAAIG,CAAAA,QAFf,CAE0B,MAH5B,CAIkC,MAJlC,GAIW\/C,CAAM4C,CAAAA,GAAIG,CAAAA,QAJrB,GAKE\/C,CAAM4C,CAAAA,GAAIG,CAAAA,QALZ,CAKuBhD,CAAOwD,CAAAA,MAAP,EALvB,CAQA,CAAAvD,CAAMY,CAAAA,SAAN,CAAkByC,EATpB,CAYa,OAAb,GAAIF,EAAJ,CACEnD,CAAM4C,CAAAA,GADR,CACc,CAACC,KAAM7C,CAAM4C,CAAAA,GAAb,CAAkBE,MAAO\/C,CAAOwD,CAAAA,MAAP,EAAzB;AAA0CR,SAAU,IAApD,CADd,CAEkB,OAFlB,GAESI,EAFT,GAE2BnD,CAAM4C,CAAAA,GAFjC,CAEuC5C,CAAM4C,CAAAA,GAAIC,CAAAA,IAFjD,EAEyD7C,CAAM4C,CAAAA,GAF\/D,CAIA,OAAOQ,EAzBuB,CAT3B,CAqCLI,OAAQA,QAAS,CAACxD,CAAD,CAAQ,CACvB,IAAI6B,EAAI7B,CAAM4C,CAAAA,GAAIG,CAAAA,QAElB,OAAqB,QAAd,GAAC,MAAOlB,EAAR,CACLA,CADK,CAEL7B,CAAM4C,CAAAA,GAAIE,CAAAA,KAFL,CAEa,CALG,CArCpB,CA6CLW,cAAe,CAACC,MAAO,UAAR,CA7CV,CA8CLC,YAAa,IA9CR,CAhO2C,CAApD,CAkRAhE,EAAWiE,CAAAA,UAAX,CAAsB,gBAAtB,CAAwC,SAAxC,CACAjE,EAAWiE,CAAAA,UAAX,CAAsB,sBAAtB,CAA8C,SAA9C,CACAjE,EAAWiE,CAAAA,UAAX,CAAsB,iBAAtB,CAAyC,SAAzC,CAvRwB,CAPxB,CAJ8D;","sources":["node_modules\/codemirror\/mode\/clojure\/clojure.js"],"sourcesContent":["shadow$provide[258] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports === \"object\" && typeof module === \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define === \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"clojure\", function (options) {\n  var atoms = [\"false\", \"nil\", \"true\"];\n  var specialForms = [\".\", \"catch\", \"def\", \"do\", \"if\", \"monitor-enter\",\n      \"monitor-exit\", \"new\", \"quote\", \"recur\", \"set!\", \"throw\", \"try\", \"var\"];\n  var coreSymbols = [\"*\", \"*'\", \"*1\", \"*2\", \"*3\", \"*agent*\",\n      \"*allow-unresolved-vars*\", \"*assert*\", \"*clojure-version*\",\n      \"*command-line-args*\", \"*compile-files*\", \"*compile-path*\",\n      \"*compiler-options*\", \"*data-readers*\", \"*default-data-reader-fn*\", \"*e\",\n      \"*err*\", \"*file*\", \"*flush-on-newline*\", \"*fn-loader*\", \"*in*\",\n      \"*math-context*\", \"*ns*\", \"*out*\", \"*print-dup*\", \"*print-length*\",\n      \"*print-level*\", \"*print-meta*\", \"*print-namespace-maps*\",\n      \"*print-readably*\", \"*read-eval*\", \"*reader-resolver*\", \"*source-path*\",\n      \"*suppress-read*\", \"*unchecked-math*\", \"*use-context-classloader*\",\n      \"*verbose-defrecords*\", \"*warn-on-reflection*\", \"+\", \"+'\", \"-\", \"-'\",\n      \"->\", \"->>\", \"->ArrayChunk\", \"->Eduction\", \"->Vec\", \"->VecNode\",\n      \"->VecSeq\", \"-cache-protocol-fn\", \"-reset-methods\", \"..\", \"\/\", \"<\", \"<=\",\n      \"=\", \"==\", \">\", \">=\", \"EMPTY-NODE\", \"Inst\", \"StackTraceElement->vec\",\n      \"Throwable->map\", \"accessor\", \"aclone\", \"add-classpath\", \"add-watch\",\n      \"agent\", \"agent-error\", \"agent-errors\", \"aget\", \"alength\", \"alias\",\n      \"all-ns\", \"alter\", \"alter-meta!\", \"alter-var-root\", \"amap\", \"ancestors\",\n      \"and\", \"any?\", \"apply\", \"areduce\", \"array-map\", \"as->\", \"aset\",\n      \"aset-boolean\", \"aset-byte\", \"aset-char\", \"aset-double\", \"aset-float\",\n      \"aset-int\", \"aset-long\", \"aset-short\", \"assert\", \"assoc\", \"assoc!\",\n      \"assoc-in\", \"associative?\", \"atom\", \"await\", \"await-for\", \"await1\",\n      \"bases\", \"bean\", \"bigdec\", \"bigint\", \"biginteger\", \"binding\", \"bit-and\",\n      \"bit-and-not\", \"bit-clear\", \"bit-flip\", \"bit-not\", \"bit-or\", \"bit-set\",\n      \"bit-shift-left\", \"bit-shift-right\", \"bit-test\", \"bit-xor\", \"boolean\",\n      \"boolean-array\", \"boolean?\", \"booleans\", \"bound-fn\", \"bound-fn*\",\n      \"bound?\", \"bounded-count\", \"butlast\", \"byte\", \"byte-array\", \"bytes\",\n      \"bytes?\", \"case\", \"cast\", \"cat\", \"char\", \"char-array\",\n      \"char-escape-string\", \"char-name-string\", \"char?\", \"chars\", \"chunk\",\n      \"chunk-append\", \"chunk-buffer\", \"chunk-cons\", \"chunk-first\", \"chunk-next\",\n      \"chunk-rest\", \"chunked-seq?\", \"class\", \"class?\", \"clear-agent-errors\",\n      \"clojure-version\", \"coll?\", \"comment\", \"commute\", \"comp\", \"comparator\",\n      \"compare\", \"compare-and-set!\", \"compile\", \"complement\", \"completing\",\n      \"concat\", \"cond\", \"cond->\", \"cond->>\", \"condp\", \"conj\", \"conj!\", \"cons\",\n      \"constantly\", \"construct-proxy\", \"contains?\", \"count\", \"counted?\",\n      \"create-ns\", \"create-struct\", \"cycle\", \"dec\", \"dec'\", \"decimal?\",\n      \"declare\", \"dedupe\", \"default-data-readers\", \"definline\", \"definterface\",\n      \"defmacro\", \"defmethod\", \"defmulti\", \"defn\", \"defn-\", \"defonce\",\n      \"defprotocol\", \"defrecord\", \"defstruct\", \"deftype\", \"delay\", \"delay?\",\n      \"deliver\", \"denominator\", \"deref\", \"derive\", \"descendants\", \"destructure\",\n      \"disj\", \"disj!\", \"dissoc\", \"dissoc!\", \"distinct\", \"distinct?\", \"doall\",\n      \"dorun\", \"doseq\", \"dosync\", \"dotimes\", \"doto\", \"double\", \"double-array\",\n      \"double?\", \"doubles\", \"drop\", \"drop-last\", \"drop-while\", \"eduction\",\n      \"empty\", \"empty?\", \"ensure\", \"ensure-reduced\", \"enumeration-seq\",\n      \"error-handler\", \"error-mode\", \"eval\", \"even?\", \"every-pred\", \"every?\",\n      \"ex-data\", \"ex-info\", \"extend\", \"extend-protocol\", \"extend-type\",\n      \"extenders\", \"extends?\", \"false?\", \"ffirst\", \"file-seq\", \"filter\",\n      \"filterv\", \"find\", \"find-keyword\", \"find-ns\", \"find-protocol-impl\",\n      \"find-protocol-method\", \"find-var\", \"first\", \"flatten\", \"float\",\n      \"float-array\", \"float?\", \"floats\", \"flush\", \"fn\", \"fn?\", \"fnext\", \"fnil\",\n      \"for\", \"force\", \"format\", \"frequencies\", \"future\", \"future-call\",\n      \"future-cancel\", \"future-cancelled?\", \"future-done?\", \"future?\",\n      \"gen-class\", \"gen-interface\", \"gensym\", \"get\", \"get-in\", \"get-method\",\n      \"get-proxy-class\", \"get-thread-bindings\", \"get-validator\", \"group-by\",\n      \"halt-when\", \"hash\", \"hash-combine\", \"hash-map\", \"hash-ordered-coll\",\n      \"hash-set\", \"hash-unordered-coll\", \"ident?\", \"identical?\", \"identity\",\n      \"if-let\", \"if-not\", \"if-some\", \"ifn?\", \"import\", \"in-ns\", \"inc\", \"inc'\",\n      \"indexed?\", \"init-proxy\", \"inst-ms\", \"inst-ms*\", \"inst?\", \"instance?\",\n      \"int\", \"int-array\", \"int?\", \"integer?\", \"interleave\", \"intern\",\n      \"interpose\", \"into\", \"into-array\", \"ints\", \"io!\", \"isa?\", \"iterate\",\n      \"iterator-seq\", \"juxt\", \"keep\", \"keep-indexed\", \"key\", \"keys\", \"keyword\",\n      \"keyword?\", \"last\", \"lazy-cat\", \"lazy-seq\", \"let\", \"letfn\", \"line-seq\",\n      \"list\", \"list*\", \"list?\", \"load\", \"load-file\", \"load-reader\",\n      \"load-string\", \"loaded-libs\", \"locking\", \"long\", \"long-array\", \"longs\",\n      \"loop\", \"macroexpand\", \"macroexpand-1\", \"make-array\", \"make-hierarchy\",\n      \"map\", \"map-entry?\", \"map-indexed\", \"map?\", \"mapcat\", \"mapv\", \"max\",\n      \"max-key\", \"memfn\", \"memoize\", \"merge\", \"merge-with\", \"meta\",\n      \"method-sig\", \"methods\", \"min\", \"min-key\", \"mix-collection-hash\", \"mod\",\n      \"munge\", \"name\", \"namespace\", \"namespace-munge\", \"nat-int?\", \"neg-int?\",\n      \"neg?\", \"newline\", \"next\", \"nfirst\", \"nil?\", \"nnext\", \"not\", \"not-any?\",\n      \"not-empty\", \"not-every?\", \"not=\", \"ns\", \"ns-aliases\", \"ns-imports\",\n      \"ns-interns\", \"ns-map\", \"ns-name\", \"ns-publics\", \"ns-refers\",\n      \"ns-resolve\", \"ns-unalias\", \"ns-unmap\", \"nth\", \"nthnext\", \"nthrest\",\n      \"num\", \"number?\", \"numerator\", \"object-array\", \"odd?\", \"or\", \"parents\",\n      \"partial\", \"partition\", \"partition-all\", \"partition-by\", \"pcalls\", \"peek\",\n      \"persistent!\", \"pmap\", \"pop\", \"pop!\", \"pop-thread-bindings\", \"pos-int?\",\n      \"pos?\", \"pr\", \"pr-str\", \"prefer-method\", \"prefers\",\n      \"primitives-classnames\", \"print\", \"print-ctor\", \"print-dup\",\n      \"print-method\", \"print-simple\", \"print-str\", \"printf\", \"println\",\n      \"println-str\", \"prn\", \"prn-str\", \"promise\", \"proxy\",\n      \"proxy-call-with-super\", \"proxy-mappings\", \"proxy-name\", \"proxy-super\",\n      \"push-thread-bindings\", \"pvalues\", \"qualified-ident?\",\n      \"qualified-keyword?\", \"qualified-symbol?\", \"quot\", \"rand\", \"rand-int\",\n      \"rand-nth\", \"random-sample\", \"range\", \"ratio?\", \"rational?\",\n      \"rationalize\", \"re-find\", \"re-groups\", \"re-matcher\", \"re-matches\",\n      \"re-pattern\", \"re-seq\", \"read\", \"read-line\", \"read-string\",\n      \"reader-conditional\", \"reader-conditional?\", \"realized?\", \"record?\",\n      \"reduce\", \"reduce-kv\", \"reduced\", \"reduced?\", \"reductions\", \"ref\",\n      \"ref-history-count\", \"ref-max-history\", \"ref-min-history\", \"ref-set\",\n      \"refer\", \"refer-clojure\", \"reify\", \"release-pending-sends\", \"rem\",\n      \"remove\", \"remove-all-methods\", \"remove-method\", \"remove-ns\",\n      \"remove-watch\", \"repeat\", \"repeatedly\", \"replace\", \"replicate\", \"require\",\n      \"reset!\", \"reset-meta!\", \"reset-vals!\", \"resolve\", \"rest\",\n      \"restart-agent\", \"resultset-seq\", \"reverse\", \"reversible?\", \"rseq\",\n      \"rsubseq\", \"run!\", \"satisfies?\", \"second\", \"select-keys\", \"send\",\n      \"send-off\", \"send-via\", \"seq\", \"seq?\", \"seqable?\", \"seque\", \"sequence\",\n      \"sequential?\", \"set\", \"set-agent-send-executor!\",\n      \"set-agent-send-off-executor!\", \"set-error-handler!\", \"set-error-mode!\",\n      \"set-validator!\", \"set?\", \"short\", \"short-array\", \"shorts\", \"shuffle\",\n      \"shutdown-agents\", \"simple-ident?\", \"simple-keyword?\", \"simple-symbol?\",\n      \"slurp\", \"some\", \"some->\", \"some->>\", \"some-fn\", \"some?\", \"sort\",\n      \"sort-by\", \"sorted-map\", \"sorted-map-by\", \"sorted-set\", \"sorted-set-by\",\n      \"sorted?\", \"special-symbol?\", \"spit\", \"split-at\", \"split-with\", \"str\",\n      \"string?\", \"struct\", \"struct-map\", \"subs\", \"subseq\", \"subvec\", \"supers\",\n      \"swap!\", \"swap-vals!\", \"symbol\", \"symbol?\", \"sync\", \"tagged-literal\",\n      \"tagged-literal?\", \"take\", \"take-last\", \"take-nth\", \"take-while\", \"test\",\n      \"the-ns\", \"thread-bound?\", \"time\", \"to-array\", \"to-array-2d\",\n      \"trampoline\", \"transduce\", \"transient\", \"tree-seq\", \"true?\", \"type\",\n      \"unchecked-add\", \"unchecked-add-int\", \"unchecked-byte\", \"unchecked-char\",\n      \"unchecked-dec\", \"unchecked-dec-int\", \"unchecked-divide-int\",\n      \"unchecked-double\", \"unchecked-float\", \"unchecked-inc\",\n      \"unchecked-inc-int\", \"unchecked-int\", \"unchecked-long\",\n      \"unchecked-multiply\", \"unchecked-multiply-int\", \"unchecked-negate\",\n      \"unchecked-negate-int\", \"unchecked-remainder-int\", \"unchecked-short\",\n      \"unchecked-subtract\", \"unchecked-subtract-int\", \"underive\", \"unquote\",\n      \"unquote-splicing\", \"unreduced\", \"unsigned-bit-shift-right\", \"update\",\n      \"update-in\", \"update-proxy\", \"uri?\", \"use\", \"uuid?\", \"val\", \"vals\",\n      \"var-get\", \"var-set\", \"var?\", \"vary-meta\", \"vec\", \"vector\", \"vector-of\",\n      \"vector?\", \"volatile!\", \"volatile?\", \"vreset!\", \"vswap!\", \"when\",\n      \"when-first\", \"when-let\", \"when-not\", \"when-some\", \"while\",\n      \"with-bindings\", \"with-bindings*\", \"with-in-str\", \"with-loading-context\",\n      \"with-local-vars\", \"with-meta\", \"with-open\", \"with-out-str\",\n      \"with-precision\", \"with-redefs\", \"with-redefs-fn\", \"xml-seq\", \"zero?\",\n      \"zipmap\"];\n  var haveBodyParameter = [\n      \"->\", \"->>\", \"as->\", \"binding\", \"bound-fn\", \"case\", \"catch\", \"comment\",\n      \"cond\", \"cond->\", \"cond->>\", \"condp\", \"def\", \"definterface\", \"defmethod\",\n      \"defn\", \"defmacro\", \"defprotocol\", \"defrecord\", \"defstruct\", \"deftype\",\n      \"do\", \"doseq\", \"dotimes\", \"doto\", \"extend\", \"extend-protocol\",\n      \"extend-type\", \"fn\", \"for\", \"future\", \"if\", \"if-let\", \"if-not\", \"if-some\",\n      \"let\", \"letfn\", \"locking\", \"loop\", \"ns\", \"proxy\", \"reify\", \"struct-map\",\n      \"some->\", \"some->>\", \"try\", \"when\", \"when-first\", \"when-let\", \"when-not\",\n      \"when-some\", \"while\", \"with-bindings\", \"with-bindings*\", \"with-in-str\",\n      \"with-loading-context\", \"with-local-vars\", \"with-meta\", \"with-open\",\n      \"with-out-str\", \"with-precision\", \"with-redefs\", \"with-redefs-fn\"];\n\n  CodeMirror.registerHelper(\"hintWords\", \"clojure\",\n    [].concat(atoms, specialForms, coreSymbols));\n\n  var atom = createLookupMap(atoms);\n  var specialForm = createLookupMap(specialForms);\n  var coreSymbol = createLookupMap(coreSymbols);\n  var hasBodyParameter = createLookupMap(haveBodyParameter);\n  var delimiter = \/^(?:[\\\\\\[\\]\\s\"(),;@^`{}~]|$)\/;\n  var numberLiteral = \/^(?:[+\\-]?\\d+(?:(?:N|(?:[eE][+\\-]?\\d+))|(?:\\.?\\d*(?:M|(?:[eE][+\\-]?\\d+))?)|\\\/\\d+|[xX][0-9a-fA-F]+|r[0-9a-zA-Z]+)?(?=[\\\\\\[\\]\\s\"#'(),;@^`{}~]|$))\/;\n  var characterLiteral = \/^(?:\\\\(?:backspace|formfeed|newline|return|space|tab|o[0-7]{3}|u[0-9A-Fa-f]{4}|x[0-9A-Fa-f]{4}|.)?(?=[\\\\\\[\\]\\s\"(),;@^`{}~]|$))\/;\n\n  \/\/ simple-namespace := \/^[^\\\\\\\/\\[\\]\\d\\s\"#'(),;@^`{}~.][^\\\\\\[\\]\\s\"(),;@^`{}~.\\\/]*\/\n  \/\/ simple-symbol    := \/^(?:\\\/|[^\\\\\\\/\\[\\]\\d\\s\"#'(),;@^`{}~][^\\\\\\[\\]\\s\"(),;@^`{}~]*)\/\n  \/\/ qualified-symbol := (<simple-namespace>(<.><simple-namespace>)*<\/>)?<simple-symbol>\n  var qualifiedSymbol = \/^(?:(?:[^\\\\\\\/\\[\\]\\d\\s\"#'(),;@^`{}~.][^\\\\\\[\\]\\s\"(),;@^`{}~.\\\/]*(?:\\.[^\\\\\\\/\\[\\]\\d\\s\"#'(),;@^`{}~.][^\\\\\\[\\]\\s\"(),;@^`{}~.\\\/]*)*\\\/)?(?:\\\/|[^\\\\\\\/\\[\\]\\d\\s\"#'(),;@^`{}~][^\\\\\\[\\]\\s\"(),;@^`{}~]*)*(?=[\\\\\\[\\]\\s\"(),;@^`{}~]|$))\/;\n\n  function base(stream, state) {\n    if (stream.eatSpace() || stream.eat(\",\")) return [\"space\", null];\n    if (stream.match(numberLiteral)) return [null, \"number\"];\n    if (stream.match(characterLiteral)) return [null, \"string-2\"];\n    if (stream.eat(\/^\"\/)) return (state.tokenize = inString)(stream, state);\n    if (stream.eat(\/^[(\\[{]\/)) return [\"open\", \"bracket\"];\n    if (stream.eat(\/^[)\\]}]\/)) return [\"close\", \"bracket\"];\n    if (stream.eat(\/^;\/)) {stream.skipToEnd(); return [\"space\", \"comment\"];}\n    if (stream.eat(\/^[#'@^`~]\/)) return [null, \"meta\"];\n\n    var matches = stream.match(qualifiedSymbol);\n    var symbol = matches && matches[0];\n\n    if (!symbol) {\n      \/\/ advance stream by at least one character so we don't get stuck.\n      stream.next();\n      stream.eatWhile(function (c) {return !is(c, delimiter);});\n      return [null, \"error\"];\n    }\n\n    if (symbol === \"comment\" && state.lastToken === \"(\")\n      return (state.tokenize = inComment)(stream, state);\n    if (is(symbol, atom) || symbol.charAt(0) === \":\") return [\"symbol\", \"atom\"];\n    if (is(symbol, specialForm) || is(symbol, coreSymbol)) return [\"symbol\", \"keyword\"];\n    if (state.lastToken === \"(\") return [\"symbol\", \"builtin\"]; \/\/ other operator\n\n    return [\"symbol\", \"variable\"];\n  }\n\n  function inString(stream, state) {\n    var escaped = false, next;\n\n    while (next = stream.next()) {\n      if (next === \"\\\"\" && !escaped) {state.tokenize = base; break;}\n      escaped = !escaped && next === \"\\\\\";\n    }\n\n    return [null, \"string\"];\n  }\n\n  function inComment(stream, state) {\n    var parenthesisCount = 1;\n    var next;\n\n    while (next = stream.next()) {\n      if (next === \")\") parenthesisCount--;\n      if (next === \"(\") parenthesisCount++;\n      if (parenthesisCount === 0) {\n        stream.backUp(1);\n        state.tokenize = base;\n        break;\n      }\n    }\n\n    return [\"space\", \"comment\"];\n  }\n\n  function createLookupMap(words) {\n    var obj = {};\n\n    for (var i = 0; i < words.length; ++i) obj[words[i]] = true;\n\n    return obj;\n  }\n\n  function is(value, test) {\n    if (test instanceof RegExp) return test.test(value);\n    if (test instanceof Object) return test.propertyIsEnumerable(value);\n  }\n\n  return {\n    startState: function () {\n      return {\n        ctx: {prev: null, start: 0, indentTo: 0},\n        lastToken: null,\n        tokenize: base\n      };\n    },\n\n    token: function (stream, state) {\n      if (stream.sol() && (typeof state.ctx.indentTo !== \"number\"))\n        state.ctx.indentTo = state.ctx.start + 1;\n\n      var typeStylePair = state.tokenize(stream, state);\n      var type = typeStylePair[0];\n      var style = typeStylePair[1];\n      var current = stream.current();\n\n      if (type !== \"space\") {\n        if (state.lastToken === \"(\" && state.ctx.indentTo === null) {\n          if (type === \"symbol\" && is(current, hasBodyParameter))\n            state.ctx.indentTo = state.ctx.start + options.indentUnit;\n          else state.ctx.indentTo = \"next\";\n        } else if (state.ctx.indentTo === \"next\") {\n          state.ctx.indentTo = stream.column();\n        }\n\n        state.lastToken = current;\n      }\n\n      if (type === \"open\")\n        state.ctx = {prev: state.ctx, start: stream.column(), indentTo: null};\n      else if (type === \"close\") state.ctx = state.ctx.prev || state.ctx;\n\n      return style;\n    },\n\n    indent: function (state) {\n      var i = state.ctx.indentTo;\n\n      return (typeof i === \"number\") ?\n        i :\n        state.ctx.start + 1;\n    },\n\n    closeBrackets: {pairs: \"()[]{}\\\"\\\"\"},\n    lineComment: \";;\"\n  };\n});\n\nCodeMirror.defineMIME(\"text\/x-clojure\", \"clojure\");\nCodeMirror.defineMIME(\"text\/x-clojurescript\", \"clojure\");\nCodeMirror.defineMIME(\"application\/edn\", \"clojure\");\n\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","defineMode","options","base","stream","state","eatSpace","eat","match","numberLiteral","characterLiteral","tokenize","inString","skipToEnd","matches","qualifiedSymbol","symbol","lastToken","inComment","is","atom","charAt","specialForm","coreSymbol","next","eatWhile","c","delimiter","escaped","parenthesisCount","backUp","createLookupMap","words","obj","i","length","value","test","RegExp","Object","propertyIsEnumerable","atoms","specialForms","coreSymbols","registerHelper","concat","hasBodyParameter","haveBodyParameter","startState","ctx","prev","start","indentTo","token","sol","typeStylePair","type","style","current","indentUnit","column","indent","closeBrackets","pairs","lineComment","defineMIME"]}},{"offset":{"line":365,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$mode$powershell$powershell.js","lineCount":15,"mappings":"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","sources":["node_modules\/codemirror\/mode\/powershell\/powershell.js"],"sourcesContent":["shadow$provide[259] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  'use strict';\n  if (typeof exports == 'object' && typeof module == 'object') \/\/ CommonJS\n    mod(require('..\/..\/lib\/codemirror'));\n  else if (typeof define == 'function' && define.amd) \/\/ AMD\n    define(['..\/..\/lib\/codemirror'], mod);\n  else \/\/ Plain browser env\n    mod(window.CodeMirror);\n})(function(CodeMirror) {\n'use strict';\n\nCodeMirror.defineMode('powershell', function() {\n  function buildRegexp(patterns, options) {\n    options = options || {};\n    var prefix = options.prefix !== undefined ? options.prefix : '^';\n    var suffix = options.suffix !== undefined ? options.suffix : '\\\\b';\n\n    for (var i = 0; i < patterns.length; i++) {\n      if (patterns[i] instanceof RegExp) {\n        patterns[i] = patterns[i].source;\n      }\n      else {\n        patterns[i] = patterns[i].replace(\/[-\\\/\\\\^$*+?.()|[\\]{}]\/g, '\\\\$&');\n      }\n    }\n\n    return new RegExp(prefix + '(' + patterns.join('|') + ')' + suffix, 'i');\n  }\n\n  var notCharacterOrDash = '(?=[^A-Za-z\\\\d\\\\-_]|$)';\n  var varNames = \/[\\w\\-:]\/\n  var keywords = buildRegexp([\n    \/begin|break|catch|continue|data|default|do|dynamicparam\/,\n    \/else|elseif|end|exit|filter|finally|for|foreach|from|function|if|in\/,\n    \/param|process|return|switch|throw|trap|try|until|where|while\/\n  ], { suffix: notCharacterOrDash });\n\n  var punctuation = \/[\\[\\]{},;`\\\\\\.]|@[({]\/;\n  var wordOperators = buildRegexp([\n    'f',\n    \/b?not\/,\n    \/[ic]?split\/, 'join',\n    \/is(not)?\/, 'as',\n    \/[ic]?(eq|ne|[gl][te])\/,\n    \/[ic]?(not)?(like|match|contains)\/,\n    \/[ic]?replace\/,\n    \/b?(and|or|xor)\/\n  ], { prefix: '-' });\n  var symbolOperators = \/[+\\-*\\\/%]=|\\+\\+|--|\\.\\.|[+\\-*&^%:=!|\\\/]|<(?!#)|(?!#)>\/;\n  var operators = buildRegexp([wordOperators, symbolOperators], { suffix: '' });\n\n  var numbers = \/^((0x[\\da-f]+)|((\\d+\\.\\d+|\\d\\.|\\.\\d+|\\d+)(e[\\+\\-]?\\d+)?))[ld]?([kmgtp]b)?\/i;\n\n  var identifiers = \/^[A-Za-z\\_][A-Za-z\\-\\_\\d]*\\b\/;\n\n  var symbolBuiltins = \/[A-Z]:|%|\\?\/i;\n  var namedBuiltins = buildRegexp([\n    \/Add-(Computer|Content|History|Member|PSSnapin|Type)\/,\n    \/Checkpoint-Computer\/,\n    \/Clear-(Content|EventLog|History|Host|Item(Property)?|Variable)\/,\n    \/Compare-Object\/,\n    \/Complete-Transaction\/,\n    \/Connect-PSSession\/,\n    \/ConvertFrom-(Csv|Json|SecureString|StringData)\/,\n    \/Convert-Path\/,\n    \/ConvertTo-(Csv|Html|Json|SecureString|Xml)\/,\n    \/Copy-Item(Property)?\/,\n    \/Debug-Process\/,\n    \/Disable-(ComputerRestore|PSBreakpoint|PSRemoting|PSSessionConfiguration)\/,\n    \/Disconnect-PSSession\/,\n    \/Enable-(ComputerRestore|PSBreakpoint|PSRemoting|PSSessionConfiguration)\/,\n    \/(Enter|Exit)-PSSession\/,\n    \/Export-(Alias|Clixml|Console|Counter|Csv|FormatData|ModuleMember|PSSession)\/,\n    \/ForEach-Object\/,\n    \/Format-(Custom|List|Table|Wide)\/,\n    new RegExp('Get-(Acl|Alias|AuthenticodeSignature|ChildItem|Command|ComputerRestorePoint|Content|ControlPanelItem|Counter|Credential'\n      + '|Culture|Date|Event|EventLog|EventSubscriber|ExecutionPolicy|FormatData|Help|History|Host|HotFix|Item|ItemProperty|Job'\n      + '|Location|Member|Module|PfxCertificate|Process|PSBreakpoint|PSCallStack|PSDrive|PSProvider|PSSession|PSSessionConfiguration'\n      + '|PSSnapin|Random|Service|TraceSource|Transaction|TypeData|UICulture|Unique|Variable|Verb|WinEvent|WmiObject)'),\n    \/Group-Object\/,\n    \/Import-(Alias|Clixml|Counter|Csv|LocalizedData|Module|PSSession)\/,\n    \/ImportSystemModules\/,\n    \/Invoke-(Command|Expression|History|Item|RestMethod|WebRequest|WmiMethod)\/,\n    \/Join-Path\/,\n    \/Limit-EventLog\/,\n    \/Measure-(Command|Object)\/,\n    \/Move-Item(Property)?\/,\n    new RegExp('New-(Alias|Event|EventLog|Item(Property)?|Module|ModuleManifest|Object|PSDrive|PSSession|PSSessionConfigurationFile'\n      + '|PSSessionOption|PSTransportOption|Service|TimeSpan|Variable|WebServiceProxy|WinEvent)'),\n    \/Out-(Default|File|GridView|Host|Null|Printer|String)\/,\n    \/Pause\/,\n    \/(Pop|Push)-Location\/,\n    \/Read-Host\/,\n    \/Receive-(Job|PSSession)\/,\n    \/Register-(EngineEvent|ObjectEvent|PSSessionConfiguration|WmiEvent)\/,\n    \/Remove-(Computer|Event|EventLog|Item(Property)?|Job|Module|PSBreakpoint|PSDrive|PSSession|PSSnapin|TypeData|Variable|WmiObject)\/,\n    \/Rename-(Computer|Item(Property)?)\/,\n    \/Reset-ComputerMachinePassword\/,\n    \/Resolve-Path\/,\n    \/Restart-(Computer|Service)\/,\n    \/Restore-Computer\/,\n    \/Resume-(Job|Service)\/,\n    \/Save-Help\/,\n    \/Select-(Object|String|Xml)\/,\n    \/Send-MailMessage\/,\n    new RegExp('Set-(Acl|Alias|AuthenticodeSignature|Content|Date|ExecutionPolicy|Item(Property)?|Location|PSBreakpoint|PSDebug' +\n               '|PSSessionConfiguration|Service|StrictMode|TraceSource|Variable|WmiInstance)'),\n    \/Show-(Command|ControlPanelItem|EventLog)\/,\n    \/Sort-Object\/,\n    \/Split-Path\/,\n    \/Start-(Job|Process|Service|Sleep|Transaction|Transcript)\/,\n    \/Stop-(Computer|Job|Process|Service|Transcript)\/,\n    \/Suspend-(Job|Service)\/,\n    \/TabExpansion2\/,\n    \/Tee-Object\/,\n    \/Test-(ComputerSecureChannel|Connection|ModuleManifest|Path|PSSessionConfigurationFile)\/,\n    \/Trace-Command\/,\n    \/Unblock-File\/,\n    \/Undo-Transaction\/,\n    \/Unregister-(Event|PSSessionConfiguration)\/,\n    \/Update-(FormatData|Help|List|TypeData)\/,\n    \/Use-Transaction\/,\n    \/Wait-(Event|Job|Process)\/,\n    \/Where-Object\/,\n    \/Write-(Debug|Error|EventLog|Host|Output|Progress|Verbose|Warning)\/,\n    \/cd|help|mkdir|more|oss|prompt\/,\n    \/ac|asnp|cat|cd|chdir|clc|clear|clhy|cli|clp|cls|clv|cnsn|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|dnsn|ebp\/,\n    \/echo|epal|epcsv|epsn|erase|etsn|exsn|fc|fl|foreach|ft|fw|gal|gbp|gc|gci|gcm|gcs|gdr|ghy|gi|gjb|gl|gm|gmo|gp|gps\/,\n    \/group|gsn|gsnp|gsv|gu|gv|gwmi|h|history|icm|iex|ihy|ii|ipal|ipcsv|ipmo|ipsn|irm|ise|iwmi|iwr|kill|lp|ls|man|md\/,\n    \/measure|mi|mount|move|mp|mv|nal|ndr|ni|nmo|npssc|nsn|nv|ogv|oh|popd|ps|pushd|pwd|r|rbp|rcjb|rcsn|rd|rdr|ren|ri\/,\n    \/rjb|rm|rmdir|rmo|rni|rnp|rp|rsn|rsnp|rujb|rv|rvpa|rwmi|sajb|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls\/,\n    \/sort|sp|spjb|spps|spsv|start|sujb|sv|swmi|tee|trcm|type|where|wjb|write\/\n  ], { prefix: '', suffix: '' });\n  var variableBuiltins = buildRegexp([\n    \/[$?^_]|Args|ConfirmPreference|ConsoleFileName|DebugPreference|Error|ErrorActionPreference|ErrorView|ExecutionContext\/,\n    \/FormatEnumerationLimit|Home|Host|Input|MaximumAliasCount|MaximumDriveCount|MaximumErrorCount|MaximumFunctionCount\/,\n    \/MaximumHistoryCount|MaximumVariableCount|MyInvocation|NestedPromptLevel|OutputEncoding|Pid|Profile|ProgressPreference\/,\n    \/PSBoundParameters|PSCommandPath|PSCulture|PSDefaultParameterValues|PSEmailServer|PSHome|PSScriptRoot|PSSessionApplicationName\/,\n    \/PSSessionConfigurationName|PSSessionOption|PSUICulture|PSVersionTable|Pwd|ShellId|StackTrace|VerbosePreference\/,\n    \/WarningPreference|WhatIfPreference\/,\n\n    \/Event|EventArgs|EventSubscriber|Sender\/,\n    \/Matches|Ofs|ForEach|LastExitCode|PSCmdlet|PSItem|PSSenderInfo|This\/,\n    \/true|false|null\/\n  ], { prefix: '\\\\$', suffix: '' });\n\n  var builtins = buildRegexp([symbolBuiltins, namedBuiltins, variableBuiltins], { suffix: notCharacterOrDash });\n\n  var grammar = {\n    keyword: keywords,\n    number: numbers,\n    operator: operators,\n    builtin: builtins,\n    punctuation: punctuation,\n    identifier: identifiers\n  };\n\n  \/\/ tokenizers\n  function tokenBase(stream, state) {\n    \/\/ Handle Comments\n    \/\/var ch = stream.peek();\n\n    var parent = state.returnStack[state.returnStack.length - 1];\n    if (parent && parent.shouldReturnFrom(state)) {\n      state.tokenize = parent.tokenize;\n      state.returnStack.pop();\n      return state.tokenize(stream, state);\n    }\n\n    if (stream.eatSpace()) {\n      return null;\n    }\n\n    if (stream.eat('(')) {\n      state.bracketNesting += 1;\n      return 'punctuation';\n    }\n\n    if (stream.eat(')')) {\n      state.bracketNesting -= 1;\n      return 'punctuation';\n    }\n\n    for (var key in grammar) {\n      if (stream.match(grammar[key])) {\n        return key;\n      }\n    }\n\n    var ch = stream.next();\n\n    \/\/ single-quote string\n    if (ch === \"'\") {\n      return tokenSingleQuoteString(stream, state);\n    }\n\n    if (ch === '$') {\n      return tokenVariable(stream, state);\n    }\n\n    \/\/ double-quote string\n    if (ch === '\"') {\n      return tokenDoubleQuoteString(stream, state);\n    }\n\n    if (ch === '<' && stream.eat('#')) {\n      state.tokenize = tokenComment;\n      return tokenComment(stream, state);\n    }\n\n    if (ch === '#') {\n      stream.skipToEnd();\n      return 'comment';\n    }\n\n    if (ch === '@') {\n      var quoteMatch = stream.eat(\/[\"']\/);\n      if (quoteMatch && stream.eol()) {\n        state.tokenize = tokenMultiString;\n        state.startQuote = quoteMatch[0];\n        return tokenMultiString(stream, state);\n      } else if (stream.eol()) {\n        return 'error';\n      } else if (stream.peek().match(\/[({]\/)) {\n        return 'punctuation';\n      } else if (stream.peek().match(varNames)) {\n        \/\/ splatted variable\n        return tokenVariable(stream, state);\n      }\n    }\n    return 'error';\n  }\n\n  function tokenSingleQuoteString(stream, state) {\n    var ch;\n    while ((ch = stream.peek()) != null) {\n      stream.next();\n\n      if (ch === \"'\" && !stream.eat(\"'\")) {\n        state.tokenize = tokenBase;\n        return 'string';\n      }\n    }\n\n    return 'error';\n  }\n\n  function tokenDoubleQuoteString(stream, state) {\n    var ch;\n    while ((ch = stream.peek()) != null) {\n      if (ch === '$') {\n        state.tokenize = tokenStringInterpolation;\n        return 'string';\n      }\n\n      stream.next();\n      if (ch === '`') {\n        stream.next();\n        continue;\n      }\n\n      if (ch === '\"' && !stream.eat('\"')) {\n        state.tokenize = tokenBase;\n        return 'string';\n      }\n    }\n\n    return 'error';\n  }\n\n  function tokenStringInterpolation(stream, state) {\n    return tokenInterpolation(stream, state, tokenDoubleQuoteString);\n  }\n\n  function tokenMultiStringReturn(stream, state) {\n    state.tokenize = tokenMultiString;\n    state.startQuote = '\"'\n    return tokenMultiString(stream, state);\n  }\n\n  function tokenHereStringInterpolation(stream, state) {\n    return tokenInterpolation(stream, state, tokenMultiStringReturn);\n  }\n\n  function tokenInterpolation(stream, state, parentTokenize) {\n    if (stream.match('$(')) {\n      var savedBracketNesting = state.bracketNesting;\n      state.returnStack.push({\n        \/*jshint loopfunc:true *\/\n        shouldReturnFrom: function(state) {\n          return state.bracketNesting === savedBracketNesting;\n        },\n        tokenize: parentTokenize\n      });\n      state.tokenize = tokenBase;\n      state.bracketNesting += 1;\n      return 'punctuation';\n    } else {\n      stream.next();\n      state.returnStack.push({\n        shouldReturnFrom: function() { return true; },\n        tokenize: parentTokenize\n      });\n      state.tokenize = tokenVariable;\n      return state.tokenize(stream, state);\n    }\n  }\n\n  function tokenComment(stream, state) {\n    var maybeEnd = false, ch;\n    while ((ch = stream.next()) != null) {\n      if (maybeEnd && ch == '>') {\n          state.tokenize = tokenBase;\n          break;\n      }\n      maybeEnd = (ch === '#');\n    }\n    return 'comment';\n  }\n\n  function tokenVariable(stream, state) {\n    var ch = stream.peek();\n    if (stream.eat('{')) {\n      state.tokenize = tokenVariableWithBraces;\n      return tokenVariableWithBraces(stream, state);\n    } else if (ch != undefined && ch.match(varNames)) {\n      stream.eatWhile(varNames);\n      state.tokenize = tokenBase;\n      return 'variable-2';\n    } else {\n      state.tokenize = tokenBase;\n      return 'error';\n    }\n  }\n\n  function tokenVariableWithBraces(stream, state) {\n    var ch;\n    while ((ch = stream.next()) != null) {\n      if (ch === '}') {\n        state.tokenize = tokenBase;\n        break;\n      }\n    }\n    return 'variable-2';\n  }\n\n  function tokenMultiString(stream, state) {\n    var quote = state.startQuote;\n    if (stream.sol() && stream.match(new RegExp(quote + '@'))) {\n      state.tokenize = tokenBase;\n    }\n    else if (quote === '\"') {\n      while (!stream.eol()) {\n        var ch = stream.peek();\n        if (ch === '$') {\n          state.tokenize = tokenHereStringInterpolation;\n          return 'string';\n        }\n\n        stream.next();\n        if (ch === '`') {\n          stream.next();\n        }\n      }\n    }\n    else {\n      stream.skipToEnd();\n    }\n\n    return 'string';\n  }\n\n  var external = {\n    startState: function() {\n      return {\n        returnStack: [],\n        bracketNesting: 0,\n        tokenize: tokenBase\n      };\n    },\n\n    token: function(stream, state) {\n      return state.tokenize(stream, state);\n    },\n\n    blockCommentStart: '<#',\n    blockCommentEnd: '#>',\n    lineComment: '#',\n    fold: 'brace'\n  };\n  return external;\n});\n\nCodeMirror.defineMIME('application\/x-powershell', 'powershell');\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","window","CodeMirror","defineMode","buildRegexp","patterns","options","prefix","undefined","suffix","i","length","RegExp","source","replace","join","tokenBase","stream","state","parent","returnStack","shouldReturnFrom","tokenize","pop","eatSpace","eat","bracketNesting","key","grammar","match","ch","next","peek","tokenVariable","tokenDoubleQuoteString","tokenComment","skipToEnd","quoteMatch","eol","tokenMultiString","startQuote","varNames","tokenStringInterpolation","tokenInterpolation","tokenMultiStringReturn","tokenHereStringInterpolation","parentTokenize","savedBracketNesting","push","maybeEnd","tokenVariableWithBraces","eatWhile","quote","sol","keywords","notCharacterOrDash","wordOperators","operators","symbolOperators","namedBuiltins","variableBuiltins","builtins","symbolBuiltins","keyword","number","numbers","operator","builtin","punctuation","identifier","identifiers","external","startState","token","blockCommentStart","blockCommentEnd","lineComment","fold","defineMIME"]}},{"offset":{"line":380,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$mode$javascript$javascript.js","lineCount":38,"mappings":"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\/B,CAAA,CAAImC,EAAG\/B,CAAAA,IAAP,CAAa+B,EAAGjC,CAAAA,KAAhB,CAAuB6B,EAAvB,CAET,IAAY,OAAZ,EAAIA,EAAJ,EAAuBxB,EAAOM,CAAAA,KAAP,CAAa,0CAAb,CAAyD,CAAA,CAAzD,CAAvB,CACE,MAAOb,EAAA,CAAI,OAAJ,CAAa,SAAb,CAAwB+B,EAAxB,CANgB,CAQ3B,MAAO\/B,EAAA,CAAI,UAAJ;AAAgB,UAAhB,CAA4B+B,EAA5B,CAXmB,CAxDI,CAuElCnB,QAASA,EAAW,CAACwB,EAAD,CAAQ,CAC1B,MAAO,SAAQ,CAAC7B,EAAD,CAASC,EAAT,CAAgB,CAAA,IACzBY,GAAU,CAAA,CADe,CACRV,EACrB,IAAI2B,EAAJ,EAAmC,GAAnC,EAAkB9B,EAAOgB,CAAAA,IAAP,EAAlB,EAA0ChB,EAAOM,CAAAA,KAAP,CAAayB,EAAb,CAA1C,CAEE,MADA9B,GAAMG,CAAAA,QACC,CADUL,CACV,CAAAN,CAAA,CAAI,gBAAJ,CAAsB,MAAtB,CAET,KAAA,CAAiC,IAAjC,GAAQU,EAAR,CAAeH,EAAOG,CAAAA,IAAP,EAAf,IACMA,EADN,EACc0B,EADd,EACwBhB,EADxB,EAAA,CAEEA,EAAA,CAAU,CAACA,EAAX,EAA8B,IAA9B,EAAsBV,EAEnBU,GAAL,GAAcZ,EAAMG,CAAAA,QAApB,CAA+BL,CAA\/B,CACA,OAAON,EAAA,CAAI,QAAJ,CAAc,QAAd,CAXsB,CADL,CAgB5BgB,QAASA,EAAY,CAACT,EAAD,CAASC,EAAT,CAAgB,CAEnC,IAFmC,IAC\/B+B,GAAW,CAAA,CADoB,CACb9B,EACtB,CAAOA,EAAP,CAAYF,EAAOG,CAAAA,IAAP,EAAZ,CAAA,CAA2B,CACzB,GAAU,GAAV,EAAID,EAAJ,EAAiB8B,EAAjB,CAA2B,CACzB\/B,EAAMG,CAAAA,QAAN,CAAiBL,CACjB,MAFyB,CAI3BiC,EAAA,CAAkB,GAAlB,EAAY9B,EALa,CAO3B,MAAOT,EAAA,CAAI,SAAJ,CAAe,SAAf,CAT4B,CAYrCsB,QAASA,EAAU,CAACf,EAAD,CAASC,EAAT,CAAgB,CAEjC,IAFiC,IAC7BY,GAAU,CAAA,CADmB,CACZV,EACrB,CAAiC,IAAjC,GAAQA,EAAR,CAAeH,EAAOG,CAAAA,IAAP,EAAf,EAAA,CAAuC,CACrC,GAAI,CAACU,EAAL,GAAyB,GAAzB,EAAiBV,EAAjB,EAAwC,GAAxC,EAAgCA,EAAhC,EAA+CH,EAAOQ,CAAAA,GAAP,CAAW,GAAX,CAA\/C,EAAiE,CAC\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\/C,EAAMsB,CAAAA,OAAQyB,CAAAA,QACjC,EAAA\/C,EAAMsB,CAAAA,OAAN,CAAgBtB,EAAMsB,CAAAA,OAAQ4B,CAAAA,IAHhC,CAFgB,CAUlBsC,QAASA,GAAM,CAACC,EAAD,CAAS,CACtBC,QAASA,GAAG,CAAC9F,EAAD,CAAO,CACjB,MAAIA,GAAJ,EAAY6F,EAAZ,CAA2B9F,CAAA,EAA3B,CACmB,GAAd,EAAI8F,EAAJ,EAA6B,GAA7B,EAAqB7F,EAArB,EAA4C,GAA5C,EAAoCA,EAApC,EAA2D,GAA3D,EAAmDA,EAAnD,CAAuEwD,CAAA,EAAvE,CACOzD,CAAA,CAAK+F,EAAL,CAHK,CAKnB,MAAOA,GANe,CASxBC,QAASA,GAAS,CAAC\/F,EAAD,CAAOgG,EAAP,CAAc,CAC9B,MAAY,KAAZ,EAAIhG,EAAJ,CAA0BD,CAAA,CAAKuF,EAAA,CAAQ,QAAR,CAAkBU,EAAlB,CAAL;AAA+BC,EAA\/B,CAAuCL,EAAA,CAAO,GAAP,CAAvC,CAAoDD,EAApD,CAA1B,CACY,WAAZ,EAAI3F,EAAJ,CAAgCD,CAAA,CAAKuF,EAAA,CAAQ,MAAR,CAAL,CAAsBY,EAAtB,CAAiCH,EAAjC,CAA4CJ,EAA5C,CAAhC,CACY,WAAZ,EAAI3F,EAAJ,CAAgCD,CAAA,CAAKuF,EAAA,CAAQ,MAAR,CAAL,CAAsBS,EAAtB,CAAiCJ,EAAjC,CAAhC,CACY,WAAZ,EAAI3F,EAAJ,CAAgC4D,EAAGzD,CAAAA,MAAOM,CAAAA,KAAV,CAAgB,OAAhB,CAAyB,CAAA,CAAzB,CAAA,CAAkCV,CAAA,EAAlC,CAA2CA,CAAA,CAAKuF,EAAA,CAAQ,MAAR,CAAL,CAAsBa,EAAtB,CAAuCP,EAAA,CAAO,GAAP,CAAvC,CAAoDD,EAApD,CAA3E,CACY,UAAZ,EAAI3F,EAAJ,CAA+BD,CAAA,CAAK6F,EAAA,CAAO,GAAP,CAAL,CAA\/B,CACY,GAAZ,EAAI5F,EAAJ,CAAwBD,CAAA,CAAKuF,EAAA,CAAQ,GAAR,CAAL,CAAmBF,CAAnB,CAAqCZ,EAArC,CAA4CmB,EAA5C,CAAoDN,CAApD,CAAxB,CACY,GAAZ,EAAIrF,EAAJ,CAAwBD,CAAA,EAAxB,CACY,IAAZ,EAAIC,EAAJ,EAC+B,MAEtB,EAFH4D,EAAGxD,CAAAA,KAAMsB,CAAAA,OAAQ6B,CAAAA,IAEd,EAFgCK,EAAGxD,CAAAA,KAAMyD,CAAAA,EAAT,CAAYD,EAAGxD,CAAAA,KAAMyD,CAAAA,EAAGF,CAAAA,MAAxB,CAAiC,CAAjC,CAEhC,EAFuEgC,EAEvE,EADL\/B,EAAGxD,CAAAA,KAAMyD,CAAAA,EAAGuC,CAAAA,GAAZ,EAAA,EACK,CAAArG,CAAA,CAAKuF,EAAA,CAAQ,MAAR,CAAL,CAAsBY,EAAtB,CAAiCH,EAAjC,CAA4CJ,EAA5C,CAAoDU,EAApD,CAHT,EAKY,UAAZ,EAAIrG,EAAJ,CAA+BD,CAAA,CAAKuG,EAAL,CAA\/B,CACY,KAAZ,EAAItG,EAAJ,CAA0BD,CAAA,CAAKuF,EAAA,CAAQ,MAAR,CAAL,CAAsBiB,EAAtB,CAA+BR,EAA\/B,CAA0CJ,EAA1C,CAA1B,CACY,OAAZ,EAAI3F,EAAJ,EAAwBwC,EAAxB,EAAyC,WAAzC,EAAgCwD,EAAhC,EACEpC,EAAGU,CAAAA,MACI,CADK,SACL,CAAAvE,CAAA,CAAKuF,EAAA,CAAQ,MAAR,CAAwB,OAAR,EAAAtF,EAAA,CAAkBA,EAAlB,CAAyBgG,EAAzC,CAAL,CAAsDQ,EAAtD;AAAiEb,EAAjE,CAFT,EAIY,UAAZ,EAAI3F,EAAJ,CACMwC,EAAJ,EAAqB,SAArB,EAAYwD,EAAZ,EACEpC,EAAGU,CAAAA,MACI,CADK,SACL,CAAAvE,CAAA,CAAKgG,EAAL,CAFT,EAGWvD,EAAJ,GAAsB,QAAtB,EAAawD,EAAb,EAA2C,MAA3C,EAAkCA,EAAlC,EAA8D,MAA9D,EAAqDA,EAArD,GAAyEpC,EAAGzD,CAAAA,MAAOM,CAAAA,KAAV,CAAgB,QAAhB,CAA0B,CAAA,CAA1B,CAAzE,EACLmD,EAAGU,CAAAA,MACH,CADY,SACZ,CAAa,MAAb,EAAI0B,EAAJ,CAA4BjG,CAAA,CAAK0G,EAAL,CAA5B,CACkB,MAAb,EAAIT,EAAJ,CAA4BjG,CAAA,CAAK2G,EAAL,CAAed,EAAA,CAAO,UAAP,CAAf,CAAmCe,EAAnC,CAA6Cf,EAAA,CAAO,GAAP,CAA7C,CAA5B,CACO7F,CAAA,CAAKuF,EAAA,CAAQ,MAAR,CAAL,CAAsBsB,EAAtB,CAA+BhB,EAAA,CAAO,GAAP,CAA\/B,CAA4CN,EAAA,CAAQ,GAAR,CAA5C,CAA0Dd,EAA1D,CAAiEmB,EAAjE,CAAyEA,EAAzE,CAJP,EAKInD,EAAJ,EAAqB,WAArB,EAAYwD,EAAZ,EACLpC,EAAGU,CAAAA,MACI,CADK,SACL,CAAAvE,CAAA,CAAKuF,EAAA,CAAQ,MAAR,CAAL,CAAsBuB,EAAtB,CAAkCd,EAAlC,CAA6CJ,EAA7C,CAFF,EAGInD,EAAJ,EAAqB,UAArB,EAAYwD,EAAZ,EACLpC,EAAGU,CAAAA,MACI,CADK,SACL,CAAAvE,CAAA,CAAKgG,EAAL,CAFF,EAIEhG,CAAA,CAAKuF,EAAA,CAAQ,MAAR,CAAL,CAAsBwB,EAAtB,CAhBX,CAmBY,QAAZ,EAAI9G,EAAJ,CAA6BD,CAAA,CAAKuF,EAAA,CAAQ,MAAR,CAAL,CAAsBY,EAAtB,CAAiCN,EAAA,CAAO,GAAP,CAAjC,CAA8CN,EAAA,CAAQ,GAAR,CAAa,QAAb,CAA9C,CAAsEF,CAAtE,CACKZ,EADL,CACYmB,EADZ,CACoBA,EADpB,CAC4BN,CAD5B,CAA7B,CAEY,MAAZ,EAAIrF,EAAJ,CAA2BD,CAAA,CAAK8G,EAAL,CAAiBjB,EAAA,CAAO,GAAP,CAAjB,CAA3B,CACY,SAAZ,EAAI5F,EAAJ,CAA8BD,CAAA,CAAK6F,EAAA,CAAO,GAAP,CAAL,CAA9B;AACY,OAAZ,EAAI5F,EAAJ,CAA4BD,CAAA,CAAKuF,EAAA,CAAQ,MAAR,CAAL,CAAsBJ,CAAtB,CAAmC6B,EAAnC,CAAsDhB,EAAtD,CAAiEJ,EAAjE,CAAyEN,CAAzE,CAA5B,CACY,QAAZ,EAAIrF,EAAJ,CAA6BD,CAAA,CAAKuF,EAAA,CAAQ,MAAR,CAAL,CAAsB0B,EAAtB,CAAmCrB,EAAnC,CAA7B,CACY,QAAZ,EAAI3F,EAAJ,CAA6BD,CAAA,CAAKuF,EAAA,CAAQ,MAAR,CAAL,CAAsB2B,EAAtB,CAAmCtB,EAAnC,CAA7B,CACY,OAAZ,EAAI3F,EAAJ,CAA4BD,CAAA,CAAKgG,EAAL,CAA5B,CACa,GAAb,EAAIC,EAAJ,CAAyBjG,CAAA,CAAK8G,EAAL,CAAiBd,EAAjB,CAAzB,CACOvC,CAAA,CAAK8B,EAAA,CAAQ,MAAR,CAAL,CAAsBuB,EAAtB,CAAkCjB,EAAA,CAAO,GAAP,CAAlC,CAA+CD,EAA\/C,CA\/CuB,CAiDhCoB,QAASA,GAAiB,CAAC\/G,EAAD,CAAO,CAC\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\/B,IAASH,EAAT,CAuB8B\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","sources":["node_modules\/codemirror\/mode\/javascript\/javascript.js"],"sourcesContent":["shadow$provide[260] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"javascript\", function(config, parserConfig) {\n  var indentUnit = config.indentUnit;\n  var statementIndent = parserConfig.statementIndent;\n  var jsonldMode = parserConfig.jsonld;\n  var jsonMode = parserConfig.json || jsonldMode;\n  var isTS = parserConfig.typescript;\n  var wordRE = parserConfig.wordCharacters || \/[\\w$\\xa1-\\uffff]\/;\n\n  \/\/ Tokenizer\n\n  var keywords = function(){\n    function kw(type) {return {type: type, style: \"keyword\"};}\n    var A = kw(\"keyword a\"), B = kw(\"keyword b\"), C = kw(\"keyword c\"), D = kw(\"keyword d\");\n    var operator = kw(\"operator\"), atom = {type: \"atom\", style: \"atom\"};\n\n    return {\n      \"if\": kw(\"if\"), \"while\": A, \"with\": A, \"else\": B, \"do\": B, \"try\": B, \"finally\": B,\n      \"return\": D, \"break\": D, \"continue\": D, \"new\": kw(\"new\"), \"delete\": C, \"void\": C, \"throw\": C,\n      \"debugger\": kw(\"debugger\"), \"var\": kw(\"var\"), \"const\": kw(\"var\"), \"let\": kw(\"var\"),\n      \"function\": kw(\"function\"), \"catch\": kw(\"catch\"),\n      \"for\": kw(\"for\"), \"switch\": kw(\"switch\"), \"case\": kw(\"case\"), \"default\": kw(\"default\"),\n      \"in\": operator, \"typeof\": operator, \"instanceof\": operator,\n      \"true\": atom, \"false\": atom, \"null\": atom, \"undefined\": atom, \"NaN\": atom, \"Infinity\": atom,\n      \"this\": kw(\"this\"), \"class\": kw(\"class\"), \"super\": kw(\"atom\"),\n      \"yield\": C, \"export\": kw(\"export\"), \"import\": kw(\"import\"), \"extends\": C,\n      \"await\": C\n    };\n  }();\n\n  var isOperatorChar = \/[+\\-*&%=<>!?|~^@]\/;\n  var isJsonldKeyword = \/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)\"\/;\n\n  function readRegexp(stream) {\n    var escaped = false, next, inSet = false;\n    while ((next = stream.next()) != null) {\n      if (!escaped) {\n        if (next == \"\/\" && !inSet) return;\n        if (next == \"[\") inSet = true;\n        else if (inSet && next == \"]\") inSet = false;\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n  }\n\n  \/\/ Used as scratch variables to communicate multiple values without\n  \/\/ consing up tons of objects.\n  var type, content;\n  function ret(tp, style, cont) {\n    type = tp; content = cont;\n    return style;\n  }\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (ch == '\"' || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    } else if (ch == \".\" && stream.match(\/^\\d[\\d_]*(?:[eE][+\\-]?[\\d_]+)?\/)) {\n      return ret(\"number\", \"number\");\n    } else if (ch == \".\" && stream.match(\"..\")) {\n      return ret(\"spread\", \"meta\");\n    } else if (\/[\\[\\]{}\\(\\),;\\:\\.]\/.test(ch)) {\n      return ret(ch);\n    } else if (ch == \"=\" && stream.eat(\">\")) {\n      return ret(\"=>\", \"operator\");\n    } else if (ch == \"0\" && stream.match(\/^(?:x[\\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?\/)) {\n      return ret(\"number\", \"number\");\n    } else if (\/\\d\/.test(ch)) {\n      stream.match(\/^[\\d_]*(?:n|(?:\\.[\\d_]*)?(?:[eE][+\\-]?[\\d_]+)?)?\/);\n      return ret(\"number\", \"number\");\n    } else if (ch == \"\/\") {\n      if (stream.eat(\"*\")) {\n        state.tokenize = tokenComment;\n        return tokenComment(stream, state);\n      } else if (stream.eat(\"\/\")) {\n        stream.skipToEnd();\n        return ret(\"comment\", \"comment\");\n      } else if (expressionAllowed(stream, state, 1)) {\n        readRegexp(stream);\n        stream.match(\/^\\b(([gimyus])(?![gimyus]*\\2))+\\b\/);\n        return ret(\"regexp\", \"string-2\");\n      } else {\n        stream.eat(\"=\");\n        return ret(\"operator\", \"operator\", stream.current());\n      }\n    } else if (ch == \"`\") {\n      state.tokenize = tokenQuasi;\n      return tokenQuasi(stream, state);\n    } else if (ch == \"#\" && stream.peek() == \"!\") {\n      stream.skipToEnd();\n      return ret(\"meta\", \"meta\");\n    } else if (ch == \"#\" && stream.eatWhile(wordRE)) {\n      return ret(\"variable\", \"property\")\n    } else if (ch == \"<\" && stream.match(\"!--\") ||\n               (ch == \"-\" && stream.match(\"->\") && !\/\\S\/.test(stream.string.slice(0, stream.start)))) {\n      stream.skipToEnd()\n      return ret(\"comment\", \"comment\")\n    } else if (isOperatorChar.test(ch)) {\n      if (ch != \">\" || !state.lexical || state.lexical.type != \">\") {\n        if (stream.eat(\"=\")) {\n          if (ch == \"!\" || ch == \"=\") stream.eat(\"=\")\n        } else if (\/[<>*+\\-|&?]\/.test(ch)) {\n          stream.eat(ch)\n          if (ch == \">\") stream.eat(ch)\n        }\n      }\n      if (ch == \"?\" && stream.eat(\".\")) return ret(\".\")\n      return ret(\"operator\", \"operator\", stream.current());\n    } else if (wordRE.test(ch)) {\n      stream.eatWhile(wordRE);\n      var word = stream.current()\n      if (state.lastType != \".\") {\n        if (keywords.propertyIsEnumerable(word)) {\n          var kw = keywords[word]\n          return ret(kw.type, kw.style, word)\n        }\n        if (word == \"async\" && stream.match(\/^(\\s|\\\/\\*([^*]|\\*(?!\\\/))*?\\*\\\/)*[\\[\\(\\w]\/, false))\n          return ret(\"async\", \"keyword\", word)\n      }\n      return ret(\"variable\", \"variable\", word)\n    }\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, next;\n      if (jsonldMode && stream.peek() == \"@\" && stream.match(isJsonldKeyword)){\n        state.tokenize = tokenBase;\n        return ret(\"jsonld-keyword\", \"meta\");\n      }\n      while ((next = stream.next()) != null) {\n        if (next == quote && !escaped) break;\n        escaped = !escaped && next == \"\\\\\";\n      }\n      if (!escaped) state.tokenize = tokenBase;\n      return ret(\"string\", \"string\");\n    };\n  }\n\n  function tokenComment(stream, state) {\n    var maybeEnd = false, ch;\n    while (ch = stream.next()) {\n      if (ch == \"\/\" && maybeEnd) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return ret(\"comment\", \"comment\");\n  }\n\n  function tokenQuasi(stream, state) {\n    var escaped = false, next;\n    while ((next = stream.next()) != null) {\n      if (!escaped && (next == \"`\" || next == \"$\" && stream.eat(\"{\"))) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n    return ret(\"quasi\", \"string-2\", stream.current());\n  }\n\n  var brackets = \"([{}])\";\n  \/\/ This is a crude lookahead trick to try and notice that we're\n  \/\/ parsing the argument patterns for a fat-arrow function before we\n  \/\/ actually hit the arrow token. It only works if the arrow is on\n  \/\/ the same line as the arguments and there's no strange noise\n  \/\/ (comments) in between. Fallback is to only notice when we hit the\n  \/\/ arrow, and not declare the arguments as locals for the arrow\n  \/\/ body.\n  function findFatArrow(stream, state) {\n    if (state.fatArrowAt) state.fatArrowAt = null;\n    var arrow = stream.string.indexOf(\"=>\", stream.start);\n    if (arrow < 0) return;\n\n    if (isTS) { \/\/ Try to skip TypeScript return type declarations after the arguments\n      var m = \/:\\s*(?:\\w+(?:<[^>]*>|\\[\\])?|\\{[^}]*\\})\\s*$\/.exec(stream.string.slice(stream.start, arrow))\n      if (m) arrow = m.index\n    }\n\n    var depth = 0, sawSomething = false;\n    for (var pos = arrow - 1; pos >= 0; --pos) {\n      var ch = stream.string.charAt(pos);\n      var bracket = brackets.indexOf(ch);\n      if (bracket >= 0 && bracket < 3) {\n        if (!depth) { ++pos; break; }\n        if (--depth == 0) { if (ch == \"(\") sawSomething = true; break; }\n      } else if (bracket >= 3 && bracket < 6) {\n        ++depth;\n      } else if (wordRE.test(ch)) {\n        sawSomething = true;\n      } else if (\/[\"'\\\/`]\/.test(ch)) {\n        for (;; --pos) {\n          if (pos == 0) return\n          var next = stream.string.charAt(pos - 1)\n          if (next == ch && stream.string.charAt(pos - 2) != \"\\\\\") { pos--; break }\n        }\n      } else if (sawSomething && !depth) {\n        ++pos;\n        break;\n      }\n    }\n    if (sawSomething && !depth) state.fatArrowAt = pos;\n  }\n\n  \/\/ Parser\n\n  var atomicTypes = {\"atom\": true, \"number\": true, \"variable\": true, \"string\": true, \"regexp\": true, \"this\": true, \"jsonld-keyword\": true};\n\n  function JSLexical(indented, column, type, align, prev, info) {\n    this.indented = indented;\n    this.column = column;\n    this.type = type;\n    this.prev = prev;\n    this.info = info;\n    if (align != null) this.align = align;\n  }\n\n  function inScope(state, varname) {\n    for (var v = state.localVars; v; v = v.next)\n      if (v.name == varname) return true;\n    for (var cx = state.context; cx; cx = cx.prev) {\n      for (var v = cx.vars; v; v = v.next)\n        if (v.name == varname) return true;\n    }\n  }\n\n  function parseJS(state, style, type, content, stream) {\n    var cc = state.cc;\n    \/\/ Communicate our context to the combinators.\n    \/\/ (Less wasteful than consing up a hundred closures on every call.)\n    cx.state = state; cx.stream = stream; cx.marked = null, cx.cc = cc; cx.style = style;\n\n    if (!state.lexical.hasOwnProperty(\"align\"))\n      state.lexical.align = true;\n\n    while(true) {\n      var combinator = cc.length ? cc.pop() : jsonMode ? expression : statement;\n      if (combinator(type, content)) {\n        while(cc.length && cc[cc.length - 1].lex)\n          cc.pop()();\n        if (cx.marked) return cx.marked;\n        if (type == \"variable\" && inScope(state, content)) return \"variable-2\";\n        return style;\n      }\n    }\n  }\n\n  \/\/ Combinator utils\n\n  var cx = {state: null, column: null, marked: null, cc: null};\n  function pass() {\n    for (var i = arguments.length - 1; i >= 0; i--) cx.cc.push(arguments[i]);\n  }\n  function cont() {\n    pass.apply(null, arguments);\n    return true;\n  }\n  function inList(name, list) {\n    for (var v = list; v; v = v.next) if (v.name == name) return true\n    return false;\n  }\n  function register(varname) {\n    var state = cx.state;\n    cx.marked = \"def\";\n    if (state.context) {\n      if (state.lexical.info == \"var\" && state.context && state.context.block) {\n        \/\/ FIXME function decls are also not block scoped\n        var newContext = registerVarScoped(varname, state.context)\n        if (newContext != null) {\n          state.context = newContext\n          return\n        }\n      } else if (!inList(varname, state.localVars)) {\n        state.localVars = new Var(varname, state.localVars)\n        return\n      }\n    }\n    \/\/ Fall through means this is global\n    if (parserConfig.globalVars && !inList(varname, state.globalVars))\n      state.globalVars = new Var(varname, state.globalVars)\n  }\n  function registerVarScoped(varname, context) {\n    if (!context) {\n      return null\n    } else if (context.block) {\n      var inner = registerVarScoped(varname, context.prev)\n      if (!inner) return null\n      if (inner == context.prev) return context\n      return new Context(inner, context.vars, true)\n    } else if (inList(varname, context.vars)) {\n      return context\n    } else {\n      return new Context(context.prev, new Var(varname, context.vars), false)\n    }\n  }\n\n  function isModifier(name) {\n    return name == \"public\" || name == \"private\" || name == \"protected\" || name == \"abstract\" || name == \"readonly\"\n  }\n\n  \/\/ Combinators\n\n  function Context(prev, vars, block) { this.prev = prev; this.vars = vars; this.block = block }\n  function Var(name, next) { this.name = name; this.next = next }\n\n  var defaultVars = new Var(\"this\", new Var(\"arguments\", null))\n  function pushcontext() {\n    cx.state.context = new Context(cx.state.context, cx.state.localVars, false)\n    cx.state.localVars = defaultVars\n  }\n  function pushblockcontext() {\n    cx.state.context = new Context(cx.state.context, cx.state.localVars, true)\n    cx.state.localVars = null\n  }\n  function popcontext() {\n    cx.state.localVars = cx.state.context.vars\n    cx.state.context = cx.state.context.prev\n  }\n  popcontext.lex = true\n  function pushlex(type, info) {\n    var result = function() {\n      var state = cx.state, indent = state.indented;\n      if (state.lexical.type == \"stat\") indent = state.lexical.indented;\n      else for (var outer = state.lexical; outer && outer.type == \")\" && outer.align; outer = outer.prev)\n        indent = outer.indented;\n      state.lexical = new JSLexical(indent, cx.stream.column(), type, null, state.lexical, info);\n    };\n    result.lex = true;\n    return result;\n  }\n  function poplex() {\n    var state = cx.state;\n    if (state.lexical.prev) {\n      if (state.lexical.type == \")\")\n        state.indented = state.lexical.indented;\n      state.lexical = state.lexical.prev;\n    }\n  }\n  poplex.lex = true;\n\n  function expect(wanted) {\n    function exp(type) {\n      if (type == wanted) return cont();\n      else if (wanted == \";\" || type == \"}\" || type == \")\" || type == \"]\") return pass();\n      else return cont(exp);\n    };\n    return exp;\n  }\n\n  function statement(type, value) {\n    if (type == \"var\") return cont(pushlex(\"vardef\", value), vardef, expect(\";\"), poplex);\n    if (type == \"keyword a\") return cont(pushlex(\"form\"), parenExpr, statement, poplex);\n    if (type == \"keyword b\") return cont(pushlex(\"form\"), statement, poplex);\n    if (type == \"keyword d\") return cx.stream.match(\/^\\s*$\/, false) ? cont() : cont(pushlex(\"stat\"), maybeexpression, expect(\";\"), poplex);\n    if (type == \"debugger\") return cont(expect(\";\"));\n    if (type == \"{\") return cont(pushlex(\"}\"), pushblockcontext, block, poplex, popcontext);\n    if (type == \";\") return cont();\n    if (type == \"if\") {\n      if (cx.state.lexical.info == \"else\" && cx.state.cc[cx.state.cc.length - 1] == poplex)\n        cx.state.cc.pop()();\n      return cont(pushlex(\"form\"), parenExpr, statement, poplex, maybeelse);\n    }\n    if (type == \"function\") return cont(functiondef);\n    if (type == \"for\") return cont(pushlex(\"form\"), forspec, statement, poplex);\n    if (type == \"class\" || (isTS && value == \"interface\")) {\n      cx.marked = \"keyword\"\n      return cont(pushlex(\"form\", type == \"class\" ? type : value), className, poplex)\n    }\n    if (type == \"variable\") {\n      if (isTS && value == \"declare\") {\n        cx.marked = \"keyword\"\n        return cont(statement)\n      } else if (isTS && (value == \"module\" || value == \"enum\" || value == \"type\") && cx.stream.match(\/^\\s*\\w\/, false)) {\n        cx.marked = \"keyword\"\n        if (value == \"enum\") return cont(enumdef);\n        else if (value == \"type\") return cont(typename, expect(\"operator\"), typeexpr, expect(\";\"));\n        else return cont(pushlex(\"form\"), pattern, expect(\"{\"), pushlex(\"}\"), block, poplex, poplex)\n      } else if (isTS && value == \"namespace\") {\n        cx.marked = \"keyword\"\n        return cont(pushlex(\"form\"), expression, statement, poplex)\n      } else if (isTS && value == \"abstract\") {\n        cx.marked = \"keyword\"\n        return cont(statement)\n      } else {\n        return cont(pushlex(\"stat\"), maybelabel);\n      }\n    }\n    if (type == \"switch\") return cont(pushlex(\"form\"), parenExpr, expect(\"{\"), pushlex(\"}\", \"switch\"), pushblockcontext,\n                                      block, poplex, poplex, popcontext);\n    if (type == \"case\") return cont(expression, expect(\":\"));\n    if (type == \"default\") return cont(expect(\":\"));\n    if (type == \"catch\") return cont(pushlex(\"form\"), pushcontext, maybeCatchBinding, statement, poplex, popcontext);\n    if (type == \"export\") return cont(pushlex(\"stat\"), afterExport, poplex);\n    if (type == \"import\") return cont(pushlex(\"stat\"), afterImport, poplex);\n    if (type == \"async\") return cont(statement)\n    if (value == \"@\") return cont(expression, statement)\n    return pass(pushlex(\"stat\"), expression, expect(\";\"), poplex);\n  }\n  function maybeCatchBinding(type) {\n    if (type == \"(\") return cont(funarg, expect(\")\"))\n  }\n  function expression(type, value) {\n    return expressionInner(type, value, false);\n  }\n  function expressionNoComma(type, value) {\n    return expressionInner(type, value, true);\n  }\n  function parenExpr(type) {\n    if (type != \"(\") return pass()\n    return cont(pushlex(\")\"), maybeexpression, expect(\")\"), poplex)\n  }\n  function expressionInner(type, value, noComma) {\n    if (cx.state.fatArrowAt == cx.stream.start) {\n      var body = noComma ? arrowBodyNoComma : arrowBody;\n      if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, expect(\"=>\"), body, popcontext);\n      else if (type == \"variable\") return pass(pushcontext, pattern, expect(\"=>\"), body, popcontext);\n    }\n\n    var maybeop = noComma ? maybeoperatorNoComma : maybeoperatorComma;\n    if (atomicTypes.hasOwnProperty(type)) return cont(maybeop);\n    if (type == \"function\") return cont(functiondef, maybeop);\n    if (type == \"class\" || (isTS && value == \"interface\")) { cx.marked = \"keyword\"; return cont(pushlex(\"form\"), classExpression, poplex); }\n    if (type == \"keyword c\" || type == \"async\") return cont(noComma ? expressionNoComma : expression);\n    if (type == \"(\") return cont(pushlex(\")\"), maybeexpression, expect(\")\"), poplex, maybeop);\n    if (type == \"operator\" || type == \"spread\") return cont(noComma ? expressionNoComma : expression);\n    if (type == \"[\") return cont(pushlex(\"]\"), arrayLiteral, poplex, maybeop);\n    if (type == \"{\") return contCommasep(objprop, \"}\", null, maybeop);\n    if (type == \"quasi\") return pass(quasi, maybeop);\n    if (type == \"new\") return cont(maybeTarget(noComma));\n    if (type == \"import\") return cont(expression);\n    return cont();\n  }\n  function maybeexpression(type) {\n    if (type.match(\/[;\\}\\)\\],]\/)) return pass();\n    return pass(expression);\n  }\n\n  function maybeoperatorComma(type, value) {\n    if (type == \",\") return cont(maybeexpression);\n    return maybeoperatorNoComma(type, value, false);\n  }\n  function maybeoperatorNoComma(type, value, noComma) {\n    var me = noComma == false ? maybeoperatorComma : maybeoperatorNoComma;\n    var expr = noComma == false ? expression : expressionNoComma;\n    if (type == \"=>\") return cont(pushcontext, noComma ? arrowBodyNoComma : arrowBody, popcontext);\n    if (type == \"operator\") {\n      if (\/\\+\\+|--\/.test(value) || isTS && value == \"!\") return cont(me);\n      if (isTS && value == \"<\" && cx.stream.match(\/^([^<>]|<[^<>]*>)*>\\s*\\(\/, false))\n        return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, me);\n      if (value == \"?\") return cont(expression, expect(\":\"), expr);\n      return cont(expr);\n    }\n    if (type == \"quasi\") { return pass(quasi, me); }\n    if (type == \";\") return;\n    if (type == \"(\") return contCommasep(expressionNoComma, \")\", \"call\", me);\n    if (type == \".\") return cont(property, me);\n    if (type == \"[\") return cont(pushlex(\"]\"), maybeexpression, expect(\"]\"), poplex, me);\n    if (isTS && value == \"as\") { cx.marked = \"keyword\"; return cont(typeexpr, me) }\n    if (type == \"regexp\") {\n      cx.state.lastType = cx.marked = \"operator\"\n      cx.stream.backUp(cx.stream.pos - cx.stream.start - 1)\n      return cont(expr)\n    }\n  }\n  function quasi(type, value) {\n    if (type != \"quasi\") return pass();\n    if (value.slice(value.length - 2) != \"${\") return cont(quasi);\n    return cont(expression, continueQuasi);\n  }\n  function continueQuasi(type) {\n    if (type == \"}\") {\n      cx.marked = \"string-2\";\n      cx.state.tokenize = tokenQuasi;\n      return cont(quasi);\n    }\n  }\n  function arrowBody(type) {\n    findFatArrow(cx.stream, cx.state);\n    return pass(type == \"{\" ? statement : expression);\n  }\n  function arrowBodyNoComma(type) {\n    findFatArrow(cx.stream, cx.state);\n    return pass(type == \"{\" ? statement : expressionNoComma);\n  }\n  function maybeTarget(noComma) {\n    return function(type) {\n      if (type == \".\") return cont(noComma ? targetNoComma : target);\n      else if (type == \"variable\" && isTS) return cont(maybeTypeArgs, noComma ? maybeoperatorNoComma : maybeoperatorComma)\n      else return pass(noComma ? expressionNoComma : expression);\n    };\n  }\n  function target(_, value) {\n    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorComma); }\n  }\n  function targetNoComma(_, value) {\n    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorNoComma); }\n  }\n  function maybelabel(type) {\n    if (type == \":\") return cont(poplex, statement);\n    return pass(maybeoperatorComma, expect(\";\"), poplex);\n  }\n  function property(type) {\n    if (type == \"variable\") {cx.marked = \"property\"; return cont();}\n  }\n  function objprop(type, value) {\n    if (type == \"async\") {\n      cx.marked = \"property\";\n      return cont(objprop);\n    } else if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\";\n      if (value == \"get\" || value == \"set\") return cont(getterSetter);\n      var m \/\/ Work around fat-arrow-detection complication for detecting typescript typed arrow params\n      if (isTS && cx.state.fatArrowAt == cx.stream.start && (m = cx.stream.match(\/^\\s*:\\s*\/, false)))\n        cx.state.fatArrowAt = cx.stream.pos + m[0].length\n      return cont(afterprop);\n    } else if (type == \"number\" || type == \"string\") {\n      cx.marked = jsonldMode ? \"property\" : (cx.style + \" property\");\n      return cont(afterprop);\n    } else if (type == \"jsonld-keyword\") {\n      return cont(afterprop);\n    } else if (isTS && isModifier(value)) {\n      cx.marked = \"keyword\"\n      return cont(objprop)\n    } else if (type == \"[\") {\n      return cont(expression, maybetype, expect(\"]\"), afterprop);\n    } else if (type == \"spread\") {\n      return cont(expressionNoComma, afterprop);\n    } else if (value == \"*\") {\n      cx.marked = \"keyword\";\n      return cont(objprop);\n    } else if (type == \":\") {\n      return pass(afterprop)\n    }\n  }\n  function getterSetter(type) {\n    if (type != \"variable\") return pass(afterprop);\n    cx.marked = \"property\";\n    return cont(functiondef);\n  }\n  function afterprop(type) {\n    if (type == \":\") return cont(expressionNoComma);\n    if (type == \"(\") return pass(functiondef);\n  }\n  function commasep(what, end, sep) {\n    function proceed(type, value) {\n      if (sep ? sep.indexOf(type) > -1 : type == \",\") {\n        var lex = cx.state.lexical;\n        if (lex.info == \"call\") lex.pos = (lex.pos || 0) + 1;\n        return cont(function(type, value) {\n          if (type == end || value == end) return pass()\n          return pass(what)\n        }, proceed);\n      }\n      if (type == end || value == end) return cont();\n      if (sep && sep.indexOf(\";\") > -1) return pass(what)\n      return cont(expect(end));\n    }\n    return function(type, value) {\n      if (type == end || value == end) return cont();\n      return pass(what, proceed);\n    };\n  }\n  function contCommasep(what, end, info) {\n    for (var i = 3; i < arguments.length; i++)\n      cx.cc.push(arguments[i]);\n    return cont(pushlex(end, info), commasep(what, end), poplex);\n  }\n  function block(type) {\n    if (type == \"}\") return cont();\n    return pass(statement, block);\n  }\n  function maybetype(type, value) {\n    if (isTS) {\n      if (type == \":\") return cont(typeexpr);\n      if (value == \"?\") return cont(maybetype);\n    }\n  }\n  function maybetypeOrIn(type, value) {\n    if (isTS && (type == \":\" || value == \"in\")) return cont(typeexpr)\n  }\n  function mayberettype(type) {\n    if (isTS && type == \":\") {\n      if (cx.stream.match(\/^\\s*\\w+\\s+is\\b\/, false)) return cont(expression, isKW, typeexpr)\n      else return cont(typeexpr)\n    }\n  }\n  function isKW(_, value) {\n    if (value == \"is\") {\n      cx.marked = \"keyword\"\n      return cont()\n    }\n  }\n  function typeexpr(type, value) {\n    if (value == \"keyof\" || value == \"typeof\" || value == \"infer\") {\n      cx.marked = \"keyword\"\n      return cont(value == \"typeof\" ? expressionNoComma : typeexpr)\n    }\n    if (type == \"variable\" || value == \"void\") {\n      cx.marked = \"type\"\n      return cont(afterType)\n    }\n    if (value == \"|\" || value == \"&\") return cont(typeexpr)\n    if (type == \"string\" || type == \"number\" || type == \"atom\") return cont(afterType);\n    if (type == \"[\") return cont(pushlex(\"]\"), commasep(typeexpr, \"]\", \",\"), poplex, afterType)\n    if (type == \"{\") return cont(pushlex(\"}\"), typeprops, poplex, afterType)\n    if (type == \"(\") return cont(commasep(typearg, \")\"), maybeReturnType, afterType)\n    if (type == \"<\") return cont(commasep(typeexpr, \">\"), typeexpr)\n  }\n  function maybeReturnType(type) {\n    if (type == \"=>\") return cont(typeexpr)\n  }\n  function typeprops(type) {\n    if (type.match(\/[\\}\\)\\]]\/)) return cont()\n    if (type == \",\" || type == \";\") return cont(typeprops)\n    return pass(typeprop, typeprops)\n  }\n  function typeprop(type, value) {\n    if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\"\n      return cont(typeprop)\n    } else if (value == \"?\" || type == \"number\" || type == \"string\") {\n      return cont(typeprop)\n    } else if (type == \":\") {\n      return cont(typeexpr)\n    } else if (type == \"[\") {\n      return cont(expect(\"variable\"), maybetypeOrIn, expect(\"]\"), typeprop)\n    } else if (type == \"(\") {\n      return pass(functiondecl, typeprop)\n    } else if (!type.match(\/[;\\}\\)\\],]\/)) {\n      return cont()\n    }\n  }\n  function typearg(type, value) {\n    if (type == \"variable\" && cx.stream.match(\/^\\s*[?:]\/, false) || value == \"?\") return cont(typearg)\n    if (type == \":\") return cont(typeexpr)\n    if (type == \"spread\") return cont(typearg)\n    return pass(typeexpr)\n  }\n  function afterType(type, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, afterType)\n    if (value == \"|\" || type == \".\" || value == \"&\") return cont(typeexpr)\n    if (type == \"[\") return cont(typeexpr, expect(\"]\"), afterType)\n    if (value == \"extends\" || value == \"implements\") { cx.marked = \"keyword\"; return cont(typeexpr) }\n    if (value == \"?\") return cont(typeexpr, expect(\":\"), typeexpr)\n  }\n  function maybeTypeArgs(_, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, afterType)\n  }\n  function typeparam() {\n    return pass(typeexpr, maybeTypeDefault)\n  }\n  function maybeTypeDefault(_, value) {\n    if (value == \"=\") return cont(typeexpr)\n  }\n  function vardef(_, value) {\n    if (value == \"enum\") {cx.marked = \"keyword\"; return cont(enumdef)}\n    return pass(pattern, maybetype, maybeAssign, vardefCont);\n  }\n  function pattern(type, value) {\n    if (isTS && isModifier(value)) { cx.marked = \"keyword\"; return cont(pattern) }\n    if (type == \"variable\") { register(value); return cont(); }\n    if (type == \"spread\") return cont(pattern);\n    if (type == \"[\") return contCommasep(eltpattern, \"]\");\n    if (type == \"{\") return contCommasep(proppattern, \"}\");\n  }\n  function proppattern(type, value) {\n    if (type == \"variable\" && !cx.stream.match(\/^\\s*:\/, false)) {\n      register(value);\n      return cont(maybeAssign);\n    }\n    if (type == \"variable\") cx.marked = \"property\";\n    if (type == \"spread\") return cont(pattern);\n    if (type == \"}\") return pass();\n    if (type == \"[\") return cont(expression, expect(']'), expect(':'), proppattern);\n    return cont(expect(\":\"), pattern, maybeAssign);\n  }\n  function eltpattern() {\n    return pass(pattern, maybeAssign)\n  }\n  function maybeAssign(_type, value) {\n    if (value == \"=\") return cont(expressionNoComma);\n  }\n  function vardefCont(type) {\n    if (type == \",\") return cont(vardef);\n  }\n  function maybeelse(type, value) {\n    if (type == \"keyword b\" && value == \"else\") return cont(pushlex(\"form\", \"else\"), statement, poplex);\n  }\n  function forspec(type, value) {\n    if (value == \"await\") return cont(forspec);\n    if (type == \"(\") return cont(pushlex(\")\"), forspec1, poplex);\n  }\n  function forspec1(type) {\n    if (type == \"var\") return cont(vardef, forspec2);\n    if (type == \"variable\") return cont(forspec2);\n    return pass(forspec2)\n  }\n  function forspec2(type, value) {\n    if (type == \")\") return cont()\n    if (type == \";\") return cont(forspec2)\n    if (value == \"in\" || value == \"of\") { cx.marked = \"keyword\"; return cont(expression, forspec2) }\n    return pass(expression, forspec2)\n  }\n  function functiondef(type, value) {\n    if (value == \"*\") {cx.marked = \"keyword\"; return cont(functiondef);}\n    if (type == \"variable\") {register(value); return cont(functiondef);}\n    if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, mayberettype, statement, popcontext);\n    if (isTS && value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, functiondef)\n  }\n  function functiondecl(type, value) {\n    if (value == \"*\") {cx.marked = \"keyword\"; return cont(functiondecl);}\n    if (type == \"variable\") {register(value); return cont(functiondecl);}\n    if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, mayberettype, popcontext);\n    if (isTS && value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, functiondecl)\n  }\n  function typename(type, value) {\n    if (type == \"keyword\" || type == \"variable\") {\n      cx.marked = \"type\"\n      return cont(typename)\n    } else if (value == \"<\") {\n      return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex)\n    }\n  }\n  function funarg(type, value) {\n    if (value == \"@\") cont(expression, funarg)\n    if (type == \"spread\") return cont(funarg);\n    if (isTS && isModifier(value)) { cx.marked = \"keyword\"; return cont(funarg); }\n    if (isTS && type == \"this\") return cont(maybetype, maybeAssign)\n    return pass(pattern, maybetype, maybeAssign);\n  }\n  function classExpression(type, value) {\n    \/\/ Class expressions may have an optional name.\n    if (type == \"variable\") return className(type, value);\n    return classNameAfter(type, value);\n  }\n  function className(type, value) {\n    if (type == \"variable\") {register(value); return cont(classNameAfter);}\n  }\n  function classNameAfter(type, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, classNameAfter)\n    if (value == \"extends\" || value == \"implements\" || (isTS && type == \",\")) {\n      if (value == \"implements\") cx.marked = \"keyword\";\n      return cont(isTS ? typeexpr : expression, classNameAfter);\n    }\n    if (type == \"{\") return cont(pushlex(\"}\"), classBody, poplex);\n  }\n  function classBody(type, value) {\n    if (type == \"async\" ||\n        (type == \"variable\" &&\n         (value == \"static\" || value == \"get\" || value == \"set\" || (isTS && isModifier(value))) &&\n         cx.stream.match(\/^\\s+[\\w$\\xa1-\\uffff]\/, false))) {\n      cx.marked = \"keyword\";\n      return cont(classBody);\n    }\n    if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\";\n      return cont(classfield, classBody);\n    }\n    if (type == \"number\" || type == \"string\") return cont(classfield, classBody);\n    if (type == \"[\")\n      return cont(expression, maybetype, expect(\"]\"), classfield, classBody)\n    if (value == \"*\") {\n      cx.marked = \"keyword\";\n      return cont(classBody);\n    }\n    if (isTS && type == \"(\") return pass(functiondecl, classBody)\n    if (type == \";\" || type == \",\") return cont(classBody);\n    if (type == \"}\") return cont();\n    if (value == \"@\") return cont(expression, classBody)\n  }\n  function classfield(type, value) {\n    if (value == \"?\") return cont(classfield)\n    if (type == \":\") return cont(typeexpr, maybeAssign)\n    if (value == \"=\") return cont(expressionNoComma)\n    var context = cx.state.lexical.prev, isInterface = context && context.info == \"interface\"\n    return pass(isInterface ? functiondecl : functiondef)\n  }\n  function afterExport(type, value) {\n    if (value == \"*\") { cx.marked = \"keyword\"; return cont(maybeFrom, expect(\";\")); }\n    if (value == \"default\") { cx.marked = \"keyword\"; return cont(expression, expect(\";\")); }\n    if (type == \"{\") return cont(commasep(exportField, \"}\"), maybeFrom, expect(\";\"));\n    return pass(statement);\n  }\n  function exportField(type, value) {\n    if (value == \"as\") { cx.marked = \"keyword\"; return cont(expect(\"variable\")); }\n    if (type == \"variable\") return pass(expressionNoComma, exportField);\n  }\n  function afterImport(type) {\n    if (type == \"string\") return cont();\n    if (type == \"(\") return pass(expression);\n    return pass(importSpec, maybeMoreImports, maybeFrom);\n  }\n  function importSpec(type, value) {\n    if (type == \"{\") return contCommasep(importSpec, \"}\");\n    if (type == \"variable\") register(value);\n    if (value == \"*\") cx.marked = \"keyword\";\n    return cont(maybeAs);\n  }\n  function maybeMoreImports(type) {\n    if (type == \",\") return cont(importSpec, maybeMoreImports)\n  }\n  function maybeAs(_type, value) {\n    if (value == \"as\") { cx.marked = \"keyword\"; return cont(importSpec); }\n  }\n  function maybeFrom(_type, value) {\n    if (value == \"from\") { cx.marked = \"keyword\"; return cont(expression); }\n  }\n  function arrayLiteral(type) {\n    if (type == \"]\") return cont();\n    return pass(commasep(expressionNoComma, \"]\"));\n  }\n  function enumdef() {\n    return pass(pushlex(\"form\"), pattern, expect(\"{\"), pushlex(\"}\"), commasep(enummember, \"}\"), poplex, poplex)\n  }\n  function enummember() {\n    return pass(pattern, maybeAssign);\n  }\n\n  function isContinuedStatement(state, textAfter) {\n    return state.lastType == \"operator\" || state.lastType == \",\" ||\n      isOperatorChar.test(textAfter.charAt(0)) ||\n      \/[,.]\/.test(textAfter.charAt(0));\n  }\n\n  function expressionAllowed(stream, state, backUp) {\n    return state.tokenize == tokenBase &&\n      \/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\\[{}\\(,;:]|=>)$\/.test(state.lastType) ||\n      (state.lastType == \"quasi\" && \/\\{\\s*$\/.test(stream.string.slice(0, stream.pos - (backUp || 0))))\n  }\n\n  \/\/ Interface\n\n  return {\n    startState: function(basecolumn) {\n      var state = {\n        tokenize: tokenBase,\n        lastType: \"sof\",\n        cc: [],\n        lexical: new JSLexical((basecolumn || 0) - indentUnit, 0, \"block\", false),\n        localVars: parserConfig.localVars,\n        context: parserConfig.localVars && new Context(null, null, false),\n        indented: basecolumn || 0\n      };\n      if (parserConfig.globalVars && typeof parserConfig.globalVars == \"object\")\n        state.globalVars = parserConfig.globalVars;\n      return state;\n    },\n\n    token: function(stream, state) {\n      if (stream.sol()) {\n        if (!state.lexical.hasOwnProperty(\"align\"))\n          state.lexical.align = false;\n        state.indented = stream.indentation();\n        findFatArrow(stream, state);\n      }\n      if (state.tokenize != tokenComment && stream.eatSpace()) return null;\n      var style = state.tokenize(stream, state);\n      if (type == \"comment\") return style;\n      state.lastType = type == \"operator\" && (content == \"++\" || content == \"--\") ? \"incdec\" : type;\n      return parseJS(state, style, type, content, stream);\n    },\n\n    indent: function(state, textAfter) {\n      if (state.tokenize == tokenComment || state.tokenize == tokenQuasi) return CodeMirror.Pass;\n      if (state.tokenize != tokenBase) return 0;\n      var firstChar = textAfter && textAfter.charAt(0), lexical = state.lexical, top\n      \/\/ Kludge to prevent 'maybelse' from blocking lexical scope pops\n      if (!\/^\\s*else\\b\/.test(textAfter)) for (var i = state.cc.length - 1; i >= 0; --i) {\n        var c = state.cc[i];\n        if (c == poplex) lexical = lexical.prev;\n        else if (c != maybeelse) break;\n      }\n      while ((lexical.type == \"stat\" || lexical.type == \"form\") &&\n             (firstChar == \"}\" || ((top = state.cc[state.cc.length - 1]) &&\n                                   (top == maybeoperatorComma || top == maybeoperatorNoComma) &&\n                                   !\/^[,\\.=+\\-*:?[\\(]\/.test(textAfter))))\n        lexical = lexical.prev;\n      if (statementIndent && lexical.type == \")\" && lexical.prev.type == \"stat\")\n        lexical = lexical.prev;\n      var type = lexical.type, closing = firstChar == type;\n\n      if (type == \"vardef\") return lexical.indented + (state.lastType == \"operator\" || state.lastType == \",\" ? lexical.info.length + 1 : 0);\n      else if (type == \"form\" && firstChar == \"{\") return lexical.indented;\n      else if (type == \"form\") return lexical.indented + indentUnit;\n      else if (type == \"stat\")\n        return lexical.indented + (isContinuedStatement(state, textAfter) ? statementIndent || indentUnit : 0);\n      else if (lexical.info == \"switch\" && !closing && parserConfig.doubleIndentSwitch != false)\n        return lexical.indented + (\/^(?:case|default)\\b\/.test(textAfter) ? indentUnit : 2 * indentUnit);\n      else if (lexical.align) return lexical.column + (closing ? 0 : 1);\n      else return lexical.indented + (closing ? 0 : indentUnit);\n    },\n\n    electricInput: \/^\\s*(?:case .*?:|default:|\\{|\\})$\/,\n    blockCommentStart: jsonMode ? null : \"\/*\",\n    blockCommentEnd: jsonMode ? null : \"*\/\",\n    blockCommentContinue: jsonMode ? null : \" * \",\n    lineComment: jsonMode ? null : \"\/\/\",\n    fold: \"brace\",\n    closeBrackets: \"()[]{}''\\\"\\\"``\",\n\n    helperType: jsonMode ? \"json\" : \"javascript\",\n    jsonldMode: jsonldMode,\n    jsonMode: jsonMode,\n\n    expressionAllowed: expressionAllowed,\n\n    skipExpression: function(state) {\n      var top = state.cc[state.cc.length - 1]\n      if (top == expression || top == expressionNoComma) state.cc.pop()\n    }\n  };\n});\n\nCodeMirror.registerHelper(\"wordChars\", \"javascript\", \/[\\w$]\/);\n\nCodeMirror.defineMIME(\"text\/javascript\", \"javascript\");\nCodeMirror.defineMIME(\"text\/ecmascript\", \"javascript\");\nCodeMirror.defineMIME(\"application\/javascript\", \"javascript\");\nCodeMirror.defineMIME(\"application\/x-javascript\", \"javascript\");\nCodeMirror.defineMIME(\"application\/ecmascript\", \"javascript\");\nCodeMirror.defineMIME(\"application\/json\", { name: \"javascript\", json: true });\nCodeMirror.defineMIME(\"application\/x-json\", { name: \"javascript\", json: true });\nCodeMirror.defineMIME(\"application\/manifest+json\", { name: \"javascript\", json: true })\nCodeMirror.defineMIME(\"application\/ld+json\", { name: \"javascript\", jsonld: true });\nCodeMirror.defineMIME(\"text\/typescript\", { name: \"javascript\", typescript: true });\nCodeMirror.defineMIME(\"application\/typescript\", { name: \"javascript\", typescript: true });\n\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","defineMode","config","parserConfig","ret","tp","style","cont","type","content","tokenBase","stream","state","ch","next","tokenize","tokenString","match","test","eat","tokenComment","skipToEnd","expressionAllowed","inSet","escaped","current","tokenQuasi","peek","eatWhile","wordRE","string","slice","start","isOperatorChar","lexical","word","lastType","keywords","propertyIsEnumerable","kw","quote","jsonldMode","isJsonldKeyword","maybeEnd","findFatArrow","fatArrowAt","arrow","indexOf","isTS","m","exec","index","depth","sawSomething","pos","charAt","bracket","brackets","JSLexical","indented","column","align","prev","info","pass","i","arguments","length","cx","cc","push","apply","inList","name","list","v","register","varname","marked","context","block","newContext","registerVarScoped","localVars","Var","globalVars","inner","Context","vars","isModifier","pushcontext","defaultVars","pushblockcontext","popcontext","pushlex","result","indent","outer","lex","poplex","expect","wanted","exp","statement","value","vardef","parenExpr","maybeexpression","pop","maybeelse","functiondef","forspec","className","enumdef","typename","typeexpr","pattern","expression","maybelabel","maybeCatchBinding","afterExport","afterImport","funarg","expressionInner","expressionNoComma","noComma","body","arrowBodyNoComma","arrowBody","commasep","maybeop","maybeoperatorNoComma","maybeoperatorComma","atomicTypes","hasOwnProperty","classExpression","arrayLiteral","contCommasep","objprop","quasi","maybeTarget","me","expr","property","backUp","continueQuasi","targetNoComma","target","maybeTypeArgs","_","getterSetter","afterprop","maybetype","what","end","sep","proceed","maybetypeOrIn","mayberettype","isKW","afterType","typeprops","typearg","maybeReturnType","typeprop","functiondecl","typeparam","maybeTypeDefault","maybeAssign","vardefCont","eltpattern","proppattern","_type","forspec1","forspec2","classNameAfter","classBody","classfield","maybeFrom","exportField","importSpec","maybeMoreImports","maybeAs","enummember","indentUnit","statementIndent","jsonld","jsonMode","json","typescript","wordCharacters","A","B","C","D","operator","atom","startState","basecolumn","token","sol","indentation","eatSpace","combinator","textAfter","Pass","firstChar","top","c","closing","doubleIndentSwitch","electricInput","blockCommentStart","blockCommentEnd","blockCommentContinue","lineComment","fold","closeBrackets","helperType","skipExpression","registerHelper","defineMIME"]}},{"offset":{"line":418,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$mode$xml$xml.js","lineCount":13,"mappings":"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\/B,EAAM+B,CAAAA,OAAzB,CAAmC\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\/CkC,EAgDV\/C,EAAO2D,CAAAA,QAAP,CAAkB,CAAA,CAkMlB,OAAO,CACLC,WAAYA,QAAQ,CAACC,EAAD,CAAa,CAC\/B,IAAI3D,GAAQ,CAACG,SAAUL,CAAX,CACCE,MAAOc,CADR,CAECmB,SAAU0B,EAAV1B,EAAwB,CAFzB,CAGClB,QAAS,IAHV,CAGgBC,SAAU,IAH1B,CAICe,QAAS,IAJV,CAKM,KAAlB,EAAI4B,EAAJ,GAAwB3D,EAAM2D,CAAAA,UAA9B,CAA2CA,EAA3C,CACA,OAAO3D,GAPwB,CAD5B,CAWL4D,MAAOA,QAAQ,CAAC7D,EAAD,CAASC,EAAT,CAAgB,CACzB,CAACA,EAAMe,CAAAA,OAAX,EAAsBhB,EAAO8D,CAAAA,GAAP,EAAtB,GACE7D,EAAMiC,CAAAA,QADR,CACmBlC,EAAO+D,CAAAA,WAAP,EADnB,CAGA,IAAI\/D,EAAOgE,CAAAA,QAAP,EAAJ,CAAuB,MAAO,KAC9BpD,GAAA,CAAO,IACP,KAAIc,GAAQzB,EAAMG,CAAAA,QAAN,CAAeJ,EAAf,CAAuBC,EAAvB,CACZ,EAAKyB,EAAL,EAAcd,EAAd,GAAgC,SAAhC,EAAuBc,EAAvB,GACEoB,EAEA,CAFW,IAEX,CADA7C,EAAMA,CAAAA,KACN,CADcA,EAAMA,CAAAA,KAAN,CAAYW,EAAZ,EAAoBc,EAApB,CAA2B1B,EAA3B,CAAmCC,EAAnC,CACd,CAAI6C,EAAJ,GACEpB,EADF,CACsB,OAAZ,EAAAoB,EAAA,CAAsBpB,EAAtB,CAA8B,QAA9B,CAAyCoB,EADnD,CAHF,CAMA,OAAOpB,GAbsB,CAX1B,CA2BLO,OAAQA,QAAQ,CAAChC,EAAD,CAAQgE,EAAR,CAAmBC,EAAnB,CAA6B,CAC3C,IAAIlC,GAAU\/B,EAAM+B,CAAAA,OAEpB,IAAI\/B,EAAMG,CAAAA,QAASqB,CAAAA,aAAnB,CACE,MAAIxB,GAAMgB,CAAAA,QAAV;AAAsBhB,EAAMiC,CAAAA,QAA5B,CACSjC,EAAMmB,CAAAA,cADf,CACgC,CADhC,CAGSnB,EAAMiC,CAAAA,QAHf,CAG0BoB,EAE5B,IAAItB,EAAJ,EAAeA,EAAQK,CAAAA,QAAvB,CAAiC,MAAOpD,EAAWkF,CAAAA,IACnD,IAAIlE,EAAMG,CAAAA,QAAV,EAAsBS,CAAtB,EAA+BZ,EAAMG,CAAAA,QAArC,EAAiDL,CAAjD,CACE,MAAOmE,GAAA,CAAWA,EAAS1D,CAAAA,KAAT,CAAe,QAAf,CAAA,CAAyB,CAAzB,CAA4B4D,CAAAA,MAAvC,CAAgD,CAEzD,IAAInE,EAAMe,CAAAA,OAAV,CACE,MAAyC,CAAA,CAAzC,GAAImB,EAAOkC,CAAAA,yBAAX,CACSpE,EAAMgB,CAAAA,QADf,CAC0BhB,EAAMe,CAAAA,OAAQoD,CAAAA,MADxC,CACiD,CADjD,CAGSnE,EAAMgB,CAAAA,QAHf,CAG0BqC,EAH1B,EAGwCnB,EAAOmC,CAAAA,wBAH\/C,EAG2E,CAH3E,CAKF,IAAInC,EAAOoC,CAAAA,UAAX,EAAyB,aAAcrD,CAAAA,IAAd,CAAmB+C,EAAnB,CAAzB,CAAwD,MAAO,EAE\/D,KADIO,EACJ,CADeP,EACf,EAD4B,qBAAsBQ,CAAAA,IAAtB,CAA2BR,EAA3B,CAC5B,GAAgBO,EAAA,CAAS,CAAT,CAAhB,CACE,IAAA,CAAOxC,EAAP,CAAA,CACE,GAAIA,EAAQhB,CAAAA,OAAZ,EAAuBwD,EAAA,CAAS,CAAT,CAAvB,CAAoC,CAClCxC,EAAA,CAAUA,EAAQD,CAAAA,IAClB,MAFkC,CAApC,IAGO,IAAII,EAAO\/C,CAAAA,gBAAiBgD,CAAAA,cAAxB,CAAuCJ,EAAQhB,CAAAA,OAA\/C,CAAJ,CACLgB,EAAA,CAAUA,EAAQD,CAAAA,IADb;IAGL,MARN,KAWO,IAAIyC,EAAJ,CACL,IAAA,CAAOxC,EAAP,CAAA,CAEE,IADI0C,EACJ,CADevC,EAAO9C,CAAAA,eAAP,CAAuB2C,EAAQhB,CAAAA,OAA\/B,CACf,GAAgB0D,EAAStC,CAAAA,cAAT,CAAwBoC,EAAA,CAAS,CAAT,CAAxB,CAAhB,CACExC,EAAA,CAAUA,EAAQD,CAAAA,IADpB,KAGE,MAGN,KAAA,CAAOC,EAAP,EAAkBA,EAAQD,CAAAA,IAA1B,EAAkC,CAACC,EAAQF,CAAAA,WAA3C,CAAA,CACEE,EAAA,CAAUA,EAAQD,CAAAA,IACpB,OAAIC,GAAJ,CAAoBA,EAAQC,CAAAA,MAA5B,CAAqCqB,EAArC,CACYrD,EAAM2D,CAAAA,UADlB,EACgC,CA5CW,CA3BxC,CA0ELe,cAAe,eA1EV,CA2ELC,kBAAmB,SA3Ed,CA4ELC,gBAAiB,QA5EZ,CA8ELC,cAAe3C,EAAOqB,CAAAA,QAAP,CAAkB,MAAlB,CAA2B,KA9ErC,CA+ELuB,WAAY5C,EAAOqB,CAAAA,QAAP,CAAkB,MAAlB,CAA2B,KA\/ElC,CAiFLwB,cAAeA,QAAQ,CAAC\/E,EAAD,CAAQ,CACzBA,EAAMA,CAAAA,KAAV,EAAmBmD,CAAnB,GACEnD,EAAMA,CAAAA,KADR,CACgB2C,CADhB,CAD6B,CAjF1B,CAsFLqC,cAAeA,QAAQ,CAAChF,EAAD,CAAQ,CAC7B,MAAOA,GAAMe,CAAAA,OAAN,CAAgB,CAACkE,KAAMjF,EAAMe,CAAAA,OAAb,CAAsBmE,MAAqB,UAArBA,EAAOlF,EAAMW,CAAAA,IAAnC,CAAhB;AAAyE,IADnD,CAtF1B,CA0FLwE,kBAAmBA,QAAQ,CAACnF,EAAD,CAAQ,CACjC,IAAI+B,GAAU,EACd,KAASqD,EAAT,CAAcpF,EAAM+B,CAAAA,OAApB,CAA6BqD,EAA7B,CAAiCA,EAAjC,CAAsCA,EAAGtD,CAAAA,IAAzC,CACEC,EAAQsD,CAAAA,IAAR,CAAaD,EAAGrE,CAAAA,OAAhB,CACF,OAAOgB,GAAQuD,CAAAA,OAAR,EAJ0B,CA1F9B,CA1PkD,CAA3D,CA6VAtG,EAAWuG,CAAAA,UAAX,CAAsB,UAAtB,CAAkC,KAAlC,CACAvG,EAAWuG,CAAAA,UAAX,CAAsB,iBAAtB,CAAyC,KAAzC,CACKvG,EAAWwG,CAAAA,SAAUrD,CAAAA,cAArB,CAAoC,WAApC,CAAL,EACEnD,CAAWuG,CAAAA,UAAX,CAAsB,WAAtB,CAAmC,CAACN,KAAM,KAAP,CAAc1B,SAAU,CAAA,CAAxB,CAAnC,CAhZsB,CAPxB,CAJ8D;","sources":["node_modules\/codemirror\/mode\/xml\/xml.js"],"sourcesContent":["shadow$provide[261] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nvar htmlConfig = {\n  autoSelfClosers: {'area': true, 'base': true, 'br': true, 'col': true, 'command': true,\n                    'embed': true, 'frame': true, 'hr': true, 'img': true, 'input': true,\n                    'keygen': true, 'link': true, 'meta': true, 'param': true, 'source': true,\n                    'track': true, 'wbr': true, 'menuitem': true},\n  implicitlyClosed: {'dd': true, 'li': true, 'optgroup': true, 'option': true, 'p': true,\n                     'rp': true, 'rt': true, 'tbody': true, 'td': true, 'tfoot': true,\n                     'th': true, 'tr': true},\n  contextGrabbers: {\n    'dd': {'dd': true, 'dt': true},\n    'dt': {'dd': true, 'dt': true},\n    'li': {'li': true},\n    'option': {'option': true, 'optgroup': true},\n    'optgroup': {'optgroup': true},\n    'p': {'address': true, 'article': true, 'aside': true, 'blockquote': true, 'dir': true,\n          'div': true, 'dl': true, 'fieldset': true, 'footer': true, 'form': true,\n          'h1': true, 'h2': true, 'h3': true, 'h4': true, 'h5': true, 'h6': true,\n          'header': true, 'hgroup': true, 'hr': true, 'menu': true, 'nav': true, 'ol': true,\n          'p': true, 'pre': true, 'section': true, 'table': true, 'ul': true},\n    'rp': {'rp': true, 'rt': true},\n    'rt': {'rp': true, 'rt': true},\n    'tbody': {'tbody': true, 'tfoot': true},\n    'td': {'td': true, 'th': true},\n    'tfoot': {'tbody': true},\n    'th': {'td': true, 'th': true},\n    'thead': {'tbody': true, 'tfoot': true},\n    'tr': {'tr': true}\n  },\n  doNotIndent: {\"pre\": true},\n  allowUnquoted: true,\n  allowMissing: true,\n  caseFold: true\n}\n\nvar xmlConfig = {\n  autoSelfClosers: {},\n  implicitlyClosed: {},\n  contextGrabbers: {},\n  doNotIndent: {},\n  allowUnquoted: false,\n  allowMissing: false,\n  allowMissingTagName: false,\n  caseFold: false\n}\n\nCodeMirror.defineMode(\"xml\", function(editorConf, config_) {\n  var indentUnit = editorConf.indentUnit\n  var config = {}\n  var defaults = config_.htmlMode ? htmlConfig : xmlConfig\n  for (var prop in defaults) config[prop] = defaults[prop]\n  for (var prop in config_) config[prop] = config_[prop]\n\n  \/\/ Return variables for tokenizers\n  var type, setStyle;\n\n  function inText(stream, state) {\n    function chain(parser) {\n      state.tokenize = parser;\n      return parser(stream, state);\n    }\n\n    var ch = stream.next();\n    if (ch == \"<\") {\n      if (stream.eat(\"!\")) {\n        if (stream.eat(\"[\")) {\n          if (stream.match(\"CDATA[\")) return chain(inBlock(\"atom\", \"]]>\"));\n          else return null;\n        } else if (stream.match(\"--\")) {\n          return chain(inBlock(\"comment\", \"-->\"));\n        } else if (stream.match(\"DOCTYPE\", true, true)) {\n          stream.eatWhile(\/[\\w\\._\\-]\/);\n          return chain(doctype(1));\n        } else {\n          return null;\n        }\n      } else if (stream.eat(\"?\")) {\n        stream.eatWhile(\/[\\w\\._\\-]\/);\n        state.tokenize = inBlock(\"meta\", \"?>\");\n        return \"meta\";\n      } else {\n        type = stream.eat(\"\/\") ? \"closeTag\" : \"openTag\";\n        state.tokenize = inTag;\n        return \"tag bracket\";\n      }\n    } else if (ch == \"&\") {\n      var ok;\n      if (stream.eat(\"#\")) {\n        if (stream.eat(\"x\")) {\n          ok = stream.eatWhile(\/[a-fA-F\\d]\/) && stream.eat(\";\");\n        } else {\n          ok = stream.eatWhile(\/[\\d]\/) && stream.eat(\";\");\n        }\n      } else {\n        ok = stream.eatWhile(\/[\\w\\.\\-:]\/) && stream.eat(\";\");\n      }\n      return ok ? \"atom\" : \"error\";\n    } else {\n      stream.eatWhile(\/[^&<]\/);\n      return null;\n    }\n  }\n  inText.isInText = true;\n\n  function inTag(stream, state) {\n    var ch = stream.next();\n    if (ch == \">\" || (ch == \"\/\" && stream.eat(\">\"))) {\n      state.tokenize = inText;\n      type = ch == \">\" ? \"endTag\" : \"selfcloseTag\";\n      return \"tag bracket\";\n    } else if (ch == \"=\") {\n      type = \"equals\";\n      return null;\n    } else if (ch == \"<\") {\n      state.tokenize = inText;\n      state.state = baseState;\n      state.tagName = state.tagStart = null;\n      var next = state.tokenize(stream, state);\n      return next ? next + \" tag error\" : \"tag error\";\n    } else if (\/[\\'\\\"]\/.test(ch)) {\n      state.tokenize = inAttribute(ch);\n      state.stringStartCol = stream.column();\n      return state.tokenize(stream, state);\n    } else {\n      stream.match(\/^[^\\s\\u00a0=<>\\\"\\']*[^\\s\\u00a0=<>\\\"\\'\\\/]\/);\n      return \"word\";\n    }\n  }\n\n  function inAttribute(quote) {\n    var closure = function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.next() == quote) {\n          state.tokenize = inTag;\n          break;\n        }\n      }\n      return \"string\";\n    };\n    closure.isInAttribute = true;\n    return closure;\n  }\n\n  function inBlock(style, terminator) {\n    return function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.match(terminator)) {\n          state.tokenize = inText;\n          break;\n        }\n        stream.next();\n      }\n      return style;\n    }\n  }\n\n  function doctype(depth) {\n    return function(stream, state) {\n      var ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == \"<\") {\n          state.tokenize = doctype(depth + 1);\n          return state.tokenize(stream, state);\n        } else if (ch == \">\") {\n          if (depth == 1) {\n            state.tokenize = inText;\n            break;\n          } else {\n            state.tokenize = doctype(depth - 1);\n            return state.tokenize(stream, state);\n          }\n        }\n      }\n      return \"meta\";\n    };\n  }\n\n  function Context(state, tagName, startOfLine) {\n    this.prev = state.context;\n    this.tagName = tagName || \"\";\n    this.indent = state.indented;\n    this.startOfLine = startOfLine;\n    if (config.doNotIndent.hasOwnProperty(tagName) || (state.context && state.context.noIndent))\n      this.noIndent = true;\n  }\n  function popContext(state) {\n    if (state.context) state.context = state.context.prev;\n  }\n  function maybePopContext(state, nextTagName) {\n    var parentTagName;\n    while (true) {\n      if (!state.context) {\n        return;\n      }\n      parentTagName = state.context.tagName;\n      if (!config.contextGrabbers.hasOwnProperty(parentTagName) ||\n          !config.contextGrabbers[parentTagName].hasOwnProperty(nextTagName)) {\n        return;\n      }\n      popContext(state);\n    }\n  }\n\n  function baseState(type, stream, state) {\n    if (type == \"openTag\") {\n      state.tagStart = stream.column();\n      return tagNameState;\n    } else if (type == \"closeTag\") {\n      return closeTagNameState;\n    } else {\n      return baseState;\n    }\n  }\n  function tagNameState(type, stream, state) {\n    if (type == \"word\") {\n      state.tagName = stream.current();\n      setStyle = \"tag\";\n      return attrState;\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return attrState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return tagNameState;\n    }\n  }\n  function closeTagNameState(type, stream, state) {\n    if (type == \"word\") {\n      var tagName = stream.current();\n      if (state.context && state.context.tagName != tagName &&\n          config.implicitlyClosed.hasOwnProperty(state.context.tagName))\n        popContext(state);\n      if ((state.context && state.context.tagName == tagName) || config.matchClosing === false) {\n        setStyle = \"tag\";\n        return closeState;\n      } else {\n        setStyle = \"tag error\";\n        return closeStateErr;\n      }\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return closeState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return closeStateErr;\n    }\n  }\n\n  function closeState(type, _stream, state) {\n    if (type != \"endTag\") {\n      setStyle = \"error\";\n      return closeState;\n    }\n    popContext(state);\n    return baseState;\n  }\n  function closeStateErr(type, stream, state) {\n    setStyle = \"error\";\n    return closeState(type, stream, state);\n  }\n\n  function attrState(type, _stream, state) {\n    if (type == \"word\") {\n      setStyle = \"attribute\";\n      return attrEqState;\n    } else if (type == \"endTag\" || type == \"selfcloseTag\") {\n      var tagName = state.tagName, tagStart = state.tagStart;\n      state.tagName = state.tagStart = null;\n      if (type == \"selfcloseTag\" ||\n          config.autoSelfClosers.hasOwnProperty(tagName)) {\n        maybePopContext(state, tagName);\n      } else {\n        maybePopContext(state, tagName);\n        state.context = new Context(state, tagName, tagStart == state.indented);\n      }\n      return baseState;\n    }\n    setStyle = \"error\";\n    return attrState;\n  }\n  function attrEqState(type, stream, state) {\n    if (type == \"equals\") return attrValueState;\n    if (!config.allowMissing) setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrValueState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    if (type == \"word\" && config.allowUnquoted) {setStyle = \"string\"; return attrState;}\n    setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrContinuedState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    return attrState(type, stream, state);\n  }\n\n  return {\n    startState: function(baseIndent) {\n      var state = {tokenize: inText,\n                   state: baseState,\n                   indented: baseIndent || 0,\n                   tagName: null, tagStart: null,\n                   context: null}\n      if (baseIndent != null) state.baseIndent = baseIndent\n      return state\n    },\n\n    token: function(stream, state) {\n      if (!state.tagName && stream.sol())\n        state.indented = stream.indentation();\n\n      if (stream.eatSpace()) return null;\n      type = null;\n      var style = state.tokenize(stream, state);\n      if ((style || type) && style != \"comment\") {\n        setStyle = null;\n        state.state = state.state(type || style, stream, state);\n        if (setStyle)\n          style = setStyle == \"error\" ? style + \" error\" : setStyle;\n      }\n      return style;\n    },\n\n    indent: function(state, textAfter, fullLine) {\n      var context = state.context;\n      \/\/ Indent multi-line strings (e.g. css).\n      if (state.tokenize.isInAttribute) {\n        if (state.tagStart == state.indented)\n          return state.stringStartCol + 1;\n        else\n          return state.indented + indentUnit;\n      }\n      if (context && context.noIndent) return CodeMirror.Pass;\n      if (state.tokenize != inTag && state.tokenize != inText)\n        return fullLine ? fullLine.match(\/^(\\s*)\/)[0].length : 0;\n      \/\/ Indent the starts of attribute names.\n      if (state.tagName) {\n        if (config.multilineTagIndentPastTag !== false)\n          return state.tagStart + state.tagName.length + 2;\n        else\n          return state.tagStart + indentUnit * (config.multilineTagIndentFactor || 1);\n      }\n      if (config.alignCDATA && \/<!\\[CDATA\\[\/.test(textAfter)) return 0;\n      var tagAfter = textAfter && \/^<(\\\/)?([\\w_:\\.-]*)\/.exec(textAfter);\n      if (tagAfter && tagAfter[1]) { \/\/ Closing tag spotted\n        while (context) {\n          if (context.tagName == tagAfter[2]) {\n            context = context.prev;\n            break;\n          } else if (config.implicitlyClosed.hasOwnProperty(context.tagName)) {\n            context = context.prev;\n          } else {\n            break;\n          }\n        }\n      } else if (tagAfter) { \/\/ Opening tag spotted\n        while (context) {\n          var grabbers = config.contextGrabbers[context.tagName];\n          if (grabbers && grabbers.hasOwnProperty(tagAfter[2]))\n            context = context.prev;\n          else\n            break;\n        }\n      }\n      while (context && context.prev && !context.startOfLine)\n        context = context.prev;\n      if (context) return context.indent + indentUnit;\n      else return state.baseIndent || 0;\n    },\n\n    electricInput: \/<\\\/[\\s\\w:]+>$\/,\n    blockCommentStart: \"<!--\",\n    blockCommentEnd: \"-->\",\n\n    configuration: config.htmlMode ? \"html\" : \"xml\",\n    helperType: config.htmlMode ? \"html\" : \"xml\",\n\n    skipAttribute: function(state) {\n      if (state.state == attrValueState)\n        state.state = attrState\n    },\n\n    xmlCurrentTag: function(state) {\n      return state.tagName ? {name: state.tagName, close: state.type == \"closeTag\"} : null\n    },\n\n    xmlCurrentContext: function(state) {\n      var context = []\n      for (var cx = state.context; cx; cx = cx.prev)\n        context.push(cx.tagName)\n      return context.reverse()\n    }\n  };\n});\n\nCodeMirror.defineMIME(\"text\/xml\", \"xml\");\nCodeMirror.defineMIME(\"application\/xml\", \"xml\");\nif (!CodeMirror.mimeModes.hasOwnProperty(\"text\/html\"))\n  CodeMirror.defineMIME(\"text\/html\", {name: \"xml\", htmlMode: true});\n\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","htmlConfig","autoSelfClosers","implicitlyClosed","contextGrabbers","doNotIndent","allowUnquoted","allowMissing","caseFold","xmlConfig","allowMissingTagName","defineMode","editorConf","config_","inText","stream","state","chain","parser","tokenize","ch","next","eat","match","inBlock","eatWhile","doctype","type","inTag","ok","baseState","tagName","tagStart","test","inAttribute","stringStartCol","column","quote","closure","eol","isInAttribute","style","terminator","depth","Context","startOfLine","prev","context","indent","indented","config","hasOwnProperty","noIndent","popContext","maybePopContext","nextTagName","parentTagName","tagNameState","closeTagNameState","attrState","current","setStyle","matchClosing","closeState","closeStateErr","_stream","attrEqState","attrValueState","attrContinuedState","indentUnit","defaults","htmlMode","prop","isInText","startState","baseIndent","token","sol","indentation","eatSpace","textAfter","fullLine","Pass","length","multilineTagIndentPastTag","multilineTagIndentFactor","alignCDATA","tagAfter","exec","grabbers","electricInput","blockCommentStart","blockCommentEnd","configuration","helperType","skipAttribute","xmlCurrentTag","name","close","xmlCurrentContext","cx","push","reverse","defineMIME","mimeModes"]}},{"offset":{"line":431,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$mode$jsx$jsx.js","lineCount":5,"mappings":"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","sources":["node_modules\/codemirror\/mode\/jsx\/jsx.js"],"sourcesContent":["shadow$provide[262] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"), require(\"..\/xml\/xml\"), require(\"..\/javascript\/javascript\"))\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\", \"..\/xml\/xml\", \"..\/javascript\/javascript\"], mod)\n  else \/\/ Plain browser env\n    mod(CodeMirror)\n})(function(CodeMirror) {\n  \"use strict\"\n\n  \/\/ Depth means the amount of open braces in JS context, in XML\n  \/\/ context 0 means not in tag, 1 means in tag, and 2 means in tag\n  \/\/ and js block comment.\n  function Context(state, mode, depth, prev) {\n    this.state = state; this.mode = mode; this.depth = depth; this.prev = prev\n  }\n\n  function copyContext(context) {\n    return new Context(CodeMirror.copyState(context.mode, context.state),\n                       context.mode,\n                       context.depth,\n                       context.prev && copyContext(context.prev))\n  }\n\n  CodeMirror.defineMode(\"jsx\", function(config, modeConfig) {\n    var xmlMode = CodeMirror.getMode(config, {name: \"xml\", allowMissing: true, multilineTagIndentPastTag: false, allowMissingTagName: true})\n    var jsMode = CodeMirror.getMode(config, modeConfig && modeConfig.base || \"javascript\")\n\n    function flatXMLIndent(state) {\n      var tagName = state.tagName\n      state.tagName = null\n      var result = xmlMode.indent(state, \"\", \"\")\n      state.tagName = tagName\n      return result\n    }\n\n    function token(stream, state) {\n      if (state.context.mode == xmlMode)\n        return xmlToken(stream, state, state.context)\n      else\n        return jsToken(stream, state, state.context)\n    }\n\n    function xmlToken(stream, state, cx) {\n      if (cx.depth == 2) { \/\/ Inside a JS \/* *\/ comment\n        if (stream.match(\/^.*?\\*\\\/\/)) cx.depth = 1\n        else stream.skipToEnd()\n        return \"comment\"\n      }\n\n      if (stream.peek() == \"{\") {\n        xmlMode.skipAttribute(cx.state)\n\n        var indent = flatXMLIndent(cx.state), xmlContext = cx.state.context\n        \/\/ If JS starts on same line as tag\n        if (xmlContext && stream.match(\/^[^>]*>\\s*$\/, false)) {\n          while (xmlContext.prev && !xmlContext.startOfLine)\n            xmlContext = xmlContext.prev\n          \/\/ If tag starts the line, use XML indentation level\n          if (xmlContext.startOfLine) indent -= config.indentUnit\n          \/\/ Else use JS indentation level\n          else if (cx.prev.state.lexical) indent = cx.prev.state.lexical.indented\n        \/\/ Else if inside of tag\n        } else if (cx.depth == 1) {\n          indent += config.indentUnit\n        }\n\n        state.context = new Context(CodeMirror.startState(jsMode, indent),\n                                    jsMode, 0, state.context)\n        return null\n      }\n\n      if (cx.depth == 1) { \/\/ Inside of tag\n        if (stream.peek() == \"<\") { \/\/ Tag inside of tag\n          xmlMode.skipAttribute(cx.state)\n          state.context = new Context(CodeMirror.startState(xmlMode, flatXMLIndent(cx.state)),\n                                      xmlMode, 0, state.context)\n          return null\n        } else if (stream.match(\"\/\/\")) {\n          stream.skipToEnd()\n          return \"comment\"\n        } else if (stream.match(\"\/*\")) {\n          cx.depth = 2\n          return token(stream, state)\n        }\n      }\n\n      var style = xmlMode.token(stream, cx.state), cur = stream.current(), stop\n      if (\/\\btag\\b\/.test(style)) {\n        if (\/>$\/.test(cur)) {\n          if (cx.state.context) cx.depth = 0\n          else state.context = state.context.prev\n        } else if (\/^<\/.test(cur)) {\n          cx.depth = 1\n        }\n      } else if (!style && (stop = cur.indexOf(\"{\")) > -1) {\n        stream.backUp(cur.length - stop)\n      }\n      return style\n    }\n\n    function jsToken(stream, state, cx) {\n      if (stream.peek() == \"<\" && jsMode.expressionAllowed(stream, cx.state)) {\n        jsMode.skipExpression(cx.state)\n        state.context = new Context(CodeMirror.startState(xmlMode, jsMode.indent(cx.state, \"\", \"\")),\n                                    xmlMode, 0, state.context)\n        return null\n      }\n\n      var style = jsMode.token(stream, cx.state)\n      if (!style && cx.depth != null) {\n        var cur = stream.current()\n        if (cur == \"{\") {\n          cx.depth++\n        } else if (cur == \"}\") {\n          if (--cx.depth == 0) state.context = state.context.prev\n        }\n      }\n      return style\n    }\n\n    return {\n      startState: function() {\n        return {context: new Context(CodeMirror.startState(jsMode), jsMode)}\n      },\n\n      copyState: function(state) {\n        return {context: copyContext(state.context)}\n      },\n\n      token: token,\n\n      indent: function(state, textAfter, fullLine) {\n        return state.context.mode.indent(state.context.state, textAfter, fullLine)\n      },\n\n      innerMode: function(state) {\n        return state.context\n      }\n    }\n  }, \"xml\", \"javascript\")\n\n  CodeMirror.defineMIME(\"text\/jsx\", \"jsx\")\n  CodeMirror.defineMIME(\"text\/typescript-jsx\", {name: \"jsx\", base: {name: \"javascript\", typescript: true}})\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","Context","state","mode","depth","prev","copyContext","context","copyState","defineMode","config","modeConfig","flatXMLIndent","tagName","result","xmlMode","indent","token","stream","xmlToken","peek","jsMode","expressionAllowed","cx","skipExpression","startState","style","cur","current","match","skipToEnd","skipAttribute","xmlContext","startOfLine","indentUnit","lexical","indented","stop","test","indexOf","backUp","length","getMode","name","allowMissing","multilineTagIndentPastTag","allowMissingTagName","base","textAfter","fullLine","innerMode","defineMIME","typescript"]}},{"offset":{"line":436,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$mode$clike$clike.js","lineCount":38,"mappings":"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\/B,iBAAkB,qBAToB,CAUtCO,qBAAsB\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\/E,CATgD,CAjB\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","sources":["node_modules\/codemirror\/mode\/clike\/clike.js"],"sourcesContent":["shadow$provide[263] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nfunction Context(indented, column, type, info, align, prev) {\n  this.indented = indented;\n  this.column = column;\n  this.type = type;\n  this.info = info;\n  this.align = align;\n  this.prev = prev;\n}\nfunction pushContext(state, col, type, info) {\n  var indent = state.indented;\n  if (state.context && state.context.type == \"statement\" && type != \"statement\")\n    indent = state.context.indented;\n  return state.context = new Context(indent, col, type, info, null, state.context);\n}\nfunction popContext(state) {\n  var t = state.context.type;\n  if (t == \")\" || t == \"]\" || t == \"}\")\n    state.indented = state.context.indented;\n  return state.context = state.context.prev;\n}\n\nfunction typeBefore(stream, state, pos) {\n  if (state.prevToken == \"variable\" || state.prevToken == \"type\") return true;\n  if (\/\\S(?:[^- ]>|[*\\]])\\s*$|\\*$\/.test(stream.string.slice(0, pos))) return true;\n  if (state.typeAtEndOfLine && stream.column() == stream.indentation()) return true;\n}\n\nfunction isTopScope(context) {\n  for (;;) {\n    if (!context || context.type == \"top\") return true;\n    if (context.type == \"}\" && context.prev.info != \"namespace\") return false;\n    context = context.prev;\n  }\n}\n\nCodeMirror.defineMode(\"clike\", function(config, parserConfig) {\n  var indentUnit = config.indentUnit,\n      statementIndentUnit = parserConfig.statementIndentUnit || indentUnit,\n      dontAlignCalls = parserConfig.dontAlignCalls,\n      keywords = parserConfig.keywords || {},\n      types = parserConfig.types || {},\n      builtin = parserConfig.builtin || {},\n      blockKeywords = parserConfig.blockKeywords || {},\n      defKeywords = parserConfig.defKeywords || {},\n      atoms = parserConfig.atoms || {},\n      hooks = parserConfig.hooks || {},\n      multiLineStrings = parserConfig.multiLineStrings,\n      indentStatements = parserConfig.indentStatements !== false,\n      indentSwitch = parserConfig.indentSwitch !== false,\n      namespaceSeparator = parserConfig.namespaceSeparator,\n      isPunctuationChar = parserConfig.isPunctuationChar || \/[\\[\\]{}\\(\\),;\\:\\.]\/,\n      numberStart = parserConfig.numberStart || \/[\\d\\.]\/,\n      number = parserConfig.number || \/^(?:0x[a-f\\d]+|0b[01]+|(?:\\d+\\.?\\d*|\\.\\d+)(?:e[-+]?\\d+)?)(u|ll?|l|f)?\/i,\n      isOperatorChar = parserConfig.isOperatorChar || \/[+\\-*&%=<>!?|\\\/]\/,\n      isIdentifierChar = parserConfig.isIdentifierChar || \/[\\w\\$_\\xa1-\\uffff]\/,\n      \/\/ An optional function that takes a {string} token and returns true if it\n      \/\/ should be treated as a builtin.\n      isReservedIdentifier = parserConfig.isReservedIdentifier || false;\n\n  var curPunc, isDefKeyword;\n\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (hooks[ch]) {\n      var result = hooks[ch](stream, state);\n      if (result !== false) return result;\n    }\n    if (ch == '\"' || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    }\n    if (numberStart.test(ch)) {\n      stream.backUp(1)\n      if (stream.match(number)) return \"number\"\n      stream.next()\n    }\n    if (isPunctuationChar.test(ch)) {\n      curPunc = ch;\n      return null;\n    }\n    if (ch == \"\/\") {\n      if (stream.eat(\"*\")) {\n        state.tokenize = tokenComment;\n        return tokenComment(stream, state);\n      }\n      if (stream.eat(\"\/\")) {\n        stream.skipToEnd();\n        return \"comment\";\n      }\n    }\n    if (isOperatorChar.test(ch)) {\n      while (!stream.match(\/^\\\/[\\\/*]\/, false) && stream.eat(isOperatorChar)) {}\n      return \"operator\";\n    }\n    stream.eatWhile(isIdentifierChar);\n    if (namespaceSeparator) while (stream.match(namespaceSeparator))\n      stream.eatWhile(isIdentifierChar);\n\n    var cur = stream.current();\n    if (contains(keywords, cur)) {\n      if (contains(blockKeywords, cur)) curPunc = \"newstatement\";\n      if (contains(defKeywords, cur)) isDefKeyword = true;\n      return \"keyword\";\n    }\n    if (contains(types, cur)) return \"type\";\n    if (contains(builtin, cur)\n        || (isReservedIdentifier && isReservedIdentifier(cur))) {\n      if (contains(blockKeywords, cur)) curPunc = \"newstatement\";\n      return \"builtin\";\n    }\n    if (contains(atoms, cur)) return \"atom\";\n    return \"variable\";\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, next, end = false;\n      while ((next = stream.next()) != null) {\n        if (next == quote && !escaped) {end = true; break;}\n        escaped = !escaped && next == \"\\\\\";\n      }\n      if (end || !(escaped || multiLineStrings))\n        state.tokenize = null;\n      return \"string\";\n    };\n  }\n\n  function tokenComment(stream, state) {\n    var maybeEnd = false, ch;\n    while (ch = stream.next()) {\n      if (ch == \"\/\" && maybeEnd) {\n        state.tokenize = null;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return \"comment\";\n  }\n\n  function maybeEOL(stream, state) {\n    if (parserConfig.typeFirstDefinitions && stream.eol() && isTopScope(state.context))\n      state.typeAtEndOfLine = typeBefore(stream, state, stream.pos)\n  }\n\n  \/\/ Interface\n\n  return {\n    startState: function(basecolumn) {\n      return {\n        tokenize: null,\n        context: new Context((basecolumn || 0) - indentUnit, 0, \"top\", null, false),\n        indented: 0,\n        startOfLine: true,\n        prevToken: null\n      };\n    },\n\n    token: function(stream, state) {\n      var ctx = state.context;\n      if (stream.sol()) {\n        if (ctx.align == null) ctx.align = false;\n        state.indented = stream.indentation();\n        state.startOfLine = true;\n      }\n      if (stream.eatSpace()) { maybeEOL(stream, state); return null; }\n      curPunc = isDefKeyword = null;\n      var style = (state.tokenize || tokenBase)(stream, state);\n      if (style == \"comment\" || style == \"meta\") return style;\n      if (ctx.align == null) ctx.align = true;\n\n      if (curPunc == \";\" || curPunc == \":\" || (curPunc == \",\" && stream.match(\/^\\s*(?:\\\/\\\/.*)?$\/, false)))\n        while (state.context.type == \"statement\") popContext(state);\n      else if (curPunc == \"{\") pushContext(state, stream.column(), \"}\");\n      else if (curPunc == \"[\") pushContext(state, stream.column(), \"]\");\n      else if (curPunc == \"(\") pushContext(state, stream.column(), \")\");\n      else if (curPunc == \"}\") {\n        while (ctx.type == \"statement\") ctx = popContext(state);\n        if (ctx.type == \"}\") ctx = popContext(state);\n        while (ctx.type == \"statement\") ctx = popContext(state);\n      }\n      else if (curPunc == ctx.type) popContext(state);\n      else if (indentStatements &&\n               (((ctx.type == \"}\" || ctx.type == \"top\") && curPunc != \";\") ||\n                (ctx.type == \"statement\" && curPunc == \"newstatement\"))) {\n        pushContext(state, stream.column(), \"statement\", stream.current());\n      }\n\n      if (style == \"variable\" &&\n          ((state.prevToken == \"def\" ||\n            (parserConfig.typeFirstDefinitions && typeBefore(stream, state, stream.start) &&\n             isTopScope(state.context) && stream.match(\/^\\s*\\(\/, false)))))\n        style = \"def\";\n\n      if (hooks.token) {\n        var result = hooks.token(stream, state, style);\n        if (result !== undefined) style = result;\n      }\n\n      if (style == \"def\" && parserConfig.styleDefs === false) style = \"variable\";\n\n      state.startOfLine = false;\n      state.prevToken = isDefKeyword ? \"def\" : style || curPunc;\n      maybeEOL(stream, state);\n      return style;\n    },\n\n    indent: function(state, textAfter) {\n      if (state.tokenize != tokenBase && state.tokenize != null || state.typeAtEndOfLine) return CodeMirror.Pass;\n      var ctx = state.context, firstChar = textAfter && textAfter.charAt(0);\n      var closing = firstChar == ctx.type;\n      if (ctx.type == \"statement\" && firstChar == \"}\") ctx = ctx.prev;\n      if (parserConfig.dontIndentStatements)\n        while (ctx.type == \"statement\" && parserConfig.dontIndentStatements.test(ctx.info))\n          ctx = ctx.prev\n      if (hooks.indent) {\n        var hook = hooks.indent(state, ctx, textAfter, indentUnit);\n        if (typeof hook == \"number\") return hook\n      }\n      var switchBlock = ctx.prev && ctx.prev.info == \"switch\";\n      if (parserConfig.allmanIndentation && \/[{(]\/.test(firstChar)) {\n        while (ctx.type != \"top\" && ctx.type != \"}\") ctx = ctx.prev\n        return ctx.indented\n      }\n      if (ctx.type == \"statement\")\n        return ctx.indented + (firstChar == \"{\" ? 0 : statementIndentUnit);\n      if (ctx.align && (!dontAlignCalls || ctx.type != \")\"))\n        return ctx.column + (closing ? 0 : 1);\n      if (ctx.type == \")\" && !closing)\n        return ctx.indented + statementIndentUnit;\n\n      return ctx.indented + (closing ? 0 : indentUnit) +\n        (!closing && switchBlock && !\/^(?:case|default)\\b\/.test(textAfter) ? indentUnit : 0);\n    },\n\n    electricInput: indentSwitch ? \/^\\s*(?:case .*?:|default:|\\{\\}?|\\})$\/ : \/^\\s*[{}]$\/,\n    blockCommentStart: \"\/*\",\n    blockCommentEnd: \"*\/\",\n    blockCommentContinue: \" * \",\n    lineComment: \"\/\/\",\n    fold: \"brace\"\n  };\n});\n\n  function words(str) {\n    var obj = {}, words = str.split(\" \");\n    for (var i = 0; i < words.length; ++i) obj[words[i]] = true;\n    return obj;\n  }\n  function contains(words, word) {\n    if (typeof words === \"function\") {\n      return words(word);\n    } else {\n      return words.propertyIsEnumerable(word);\n    }\n  }\n  var cKeywords = \"auto if break case register continue return default do sizeof \" +\n    \"static else struct switch extern typedef union for goto while enum const \" +\n    \"volatile inline restrict asm fortran\";\n\n  \/\/ Keywords from https:\/\/en.cppreference.com\/w\/cpp\/keyword includes C++20.\n  var cppKeywords = \"alignas alignof and and_eq audit axiom bitand bitor catch \" +\n  \"class compl concept constexpr const_cast decltype delete dynamic_cast \" +\n  \"explicit export final friend import module mutable namespace new noexcept \" +\n  \"not not_eq operator or or_eq override private protected public \" +\n  \"reinterpret_cast requires static_assert static_cast template this \" +\n  \"thread_local throw try typeid typename using virtual xor xor_eq\";\n\n  var objCKeywords = \"bycopy byref in inout oneway out self super atomic nonatomic retain copy \" +\n  \"readwrite readonly strong weak assign typeof nullable nonnull null_resettable _cmd \" +\n  \"@interface @implementation @end @protocol @encode @property @synthesize @dynamic @class \" +\n  \"@public @package @private @protected @required @optional @try @catch @finally @import \" +\n  \"@selector @encode @defs @synchronized @autoreleasepool @compatibility_alias @available\";\n\n  var objCBuiltins = \"FOUNDATION_EXPORT FOUNDATION_EXTERN NS_INLINE NS_FORMAT_FUNCTION \" +\n  \" NS_RETURNS_RETAINEDNS_ERROR_ENUM NS_RETURNS_NOT_RETAINED NS_RETURNS_INNER_POINTER \" +\n  \"NS_DESIGNATED_INITIALIZER NS_ENUM NS_OPTIONS NS_REQUIRES_NIL_TERMINATION \" +\n  \"NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_SWIFT_NAME NS_REFINED_FOR_SWIFT\"\n\n  \/\/ Do not use this. Use the cTypes function below. This is global just to avoid\n  \/\/ excessive calls when cTypes is being called multiple times during a parse.\n  var basicCTypes = words(\"int long char short double float unsigned signed \" +\n    \"void bool\");\n\n  \/\/ Do not use this. Use the objCTypes function below. This is global just to avoid\n  \/\/ excessive calls when objCTypes is being called multiple times during a parse.\n  var basicObjCTypes = words(\"SEL instancetype id Class Protocol BOOL\");\n\n  \/\/ Returns true if identifier is a \"C\" type.\n  \/\/ C type is defined as those that are reserved by the compiler (basicTypes),\n  \/\/ and those that end in _t (Reserved by POSIX for types)\n  \/\/ http:\/\/www.gnu.org\/software\/libc\/manual\/html_node\/Reserved-Names.html\n  function cTypes(identifier) {\n    return contains(basicCTypes, identifier) || \/.+_t$\/.test(identifier);\n  }\n\n  \/\/ Returns true if identifier is a \"Objective C\" type.\n  function objCTypes(identifier) {\n    return cTypes(identifier) || contains(basicObjCTypes, identifier);\n  }\n\n  var cBlockKeywords = \"case do else for if switch while struct enum union\";\n  var cDefKeywords = \"struct enum union\";\n\n  function cppHook(stream, state) {\n    if (!state.startOfLine) return false\n    for (var ch, next = null; ch = stream.peek();) {\n      if (ch == \"\\\\\" && stream.match(\/^.$\/)) {\n        next = cppHook\n        break\n      } else if (ch == \"\/\" && stream.match(\/^\\\/[\\\/\\*]\/, false)) {\n        break\n      }\n      stream.next()\n    }\n    state.tokenize = next\n    return \"meta\"\n  }\n\n  function pointerHook(_stream, state) {\n    if (state.prevToken == \"type\") return \"type\";\n    return false;\n  }\n\n  \/\/ For C and C++ (and ObjC): identifiers starting with __\n  \/\/ or _ followed by a capital letter are reserved for the compiler.\n  function cIsReservedIdentifier(token) {\n    if (!token || token.length < 2) return false;\n    if (token[0] != '_') return false;\n    return (token[1] == '_') || (token[1] !== token[1].toLowerCase());\n  }\n\n  function cpp14Literal(stream) {\n    stream.eatWhile(\/[\\w\\.']\/);\n    return \"number\";\n  }\n\n  function cpp11StringHook(stream, state) {\n    stream.backUp(1);\n    \/\/ Raw strings.\n    if (stream.match(\/^(?:R|u8R|uR|UR|LR)\/)) {\n      var match = stream.match(\/^\"([^\\s\\\\()]{0,16})\\(\/);\n      if (!match) {\n        return false;\n      }\n      state.cpp11RawStringDelim = match[1];\n      state.tokenize = tokenRawString;\n      return tokenRawString(stream, state);\n    }\n    \/\/ Unicode strings\/chars.\n    if (stream.match(\/^(?:u8|u|U|L)\/)) {\n      if (stream.match(\/^[\"']\/, \/* eat *\/ false)) {\n        return \"string\";\n      }\n      return false;\n    }\n    \/\/ Ignore this hook.\n    stream.next();\n    return false;\n  }\n\n  function cppLooksLikeConstructor(word) {\n    var lastTwo = \/(\\w+)::~?(\\w+)$\/.exec(word);\n    return lastTwo && lastTwo[1] == lastTwo[2];\n  }\n\n  \/\/ C#-style strings where \"\" escapes a quote.\n  function tokenAtString(stream, state) {\n    var next;\n    while ((next = stream.next()) != null) {\n      if (next == '\"' && !stream.eat('\"')) {\n        state.tokenize = null;\n        break;\n      }\n    }\n    return \"string\";\n  }\n\n  \/\/ C++11 raw string literal is <prefix>\"<delim>( anything )<delim>\", where\n  \/\/ <delim> can be a string up to 16 characters long.\n  function tokenRawString(stream, state) {\n    \/\/ Escape characters that have special regex meanings.\n    var delim = state.cpp11RawStringDelim.replace(\/[^\\w\\s]\/g, '\\\\$&');\n    var match = stream.match(new RegExp(\".*?\\\\)\" + delim + '\"'));\n    if (match)\n      state.tokenize = null;\n    else\n      stream.skipToEnd();\n    return \"string\";\n  }\n\n  function def(mimes, mode) {\n    if (typeof mimes == \"string\") mimes = [mimes];\n    var words = [];\n    function add(obj) {\n      if (obj) for (var prop in obj) if (obj.hasOwnProperty(prop))\n        words.push(prop);\n    }\n    add(mode.keywords);\n    add(mode.types);\n    add(mode.builtin);\n    add(mode.atoms);\n    if (words.length) {\n      mode.helperType = mimes[0];\n      CodeMirror.registerHelper(\"hintWords\", mimes[0], words);\n    }\n\n    for (var i = 0; i < mimes.length; ++i)\n      CodeMirror.defineMIME(mimes[i], mode);\n  }\n\n  def([\"text\/x-csrc\", \"text\/x-c\", \"text\/x-chdr\"], {\n    name: \"clike\",\n    keywords: words(cKeywords),\n    types: cTypes,\n    blockKeywords: words(cBlockKeywords),\n    defKeywords: words(cDefKeywords),\n    typeFirstDefinitions: true,\n    atoms: words(\"NULL true false\"),\n    isReservedIdentifier: cIsReservedIdentifier,\n    hooks: {\n      \"#\": cppHook,\n      \"*\": pointerHook,\n    },\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def([\"text\/x-c++src\", \"text\/x-c++hdr\"], {\n    name: \"clike\",\n    keywords: words(cKeywords + \" \" + cppKeywords),\n    types: cTypes,\n    blockKeywords: words(cBlockKeywords + \" class try catch\"),\n    defKeywords: words(cDefKeywords + \" class namespace\"),\n    typeFirstDefinitions: true,\n    atoms: words(\"true false NULL nullptr\"),\n    dontIndentStatements: \/^template$\/,\n    isIdentifierChar: \/[\\w\\$_~\\xa1-\\uffff]\/,\n    isReservedIdentifier: cIsReservedIdentifier,\n    hooks: {\n      \"#\": cppHook,\n      \"*\": pointerHook,\n      \"u\": cpp11StringHook,\n      \"U\": cpp11StringHook,\n      \"L\": cpp11StringHook,\n      \"R\": cpp11StringHook,\n      \"0\": cpp14Literal,\n      \"1\": cpp14Literal,\n      \"2\": cpp14Literal,\n      \"3\": cpp14Literal,\n      \"4\": cpp14Literal,\n      \"5\": cpp14Literal,\n      \"6\": cpp14Literal,\n      \"7\": cpp14Literal,\n      \"8\": cpp14Literal,\n      \"9\": cpp14Literal,\n      token: function(stream, state, style) {\n        if (style == \"variable\" && stream.peek() == \"(\" &&\n            (state.prevToken == \";\" || state.prevToken == null ||\n             state.prevToken == \"}\") &&\n            cppLooksLikeConstructor(stream.current()))\n          return \"def\";\n      }\n    },\n    namespaceSeparator: \"::\",\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text\/x-java\", {\n    name: \"clike\",\n    keywords: words(\"abstract assert break case catch class const continue default \" +\n                    \"do else enum extends final finally for goto if implements import \" +\n                    \"instanceof interface native new package private protected public \" +\n                    \"return static strictfp super switch synchronized this throw throws transient \" +\n                    \"try volatile while @interface\"),\n    types: words(\"byte short int long float double boolean char void Boolean Byte Character Double Float \" +\n                 \"Integer Long Number Object Short String StringBuffer StringBuilder Void\"),\n    blockKeywords: words(\"catch class do else finally for if switch try while\"),\n    defKeywords: words(\"class interface enum @interface\"),\n    typeFirstDefinitions: true,\n    atoms: words(\"true false null\"),\n    number: \/^(?:0x[a-f\\d_]+|0b[01_]+|(?:[\\d_]+\\.?\\d*|\\.\\d+)(?:e[-+]?[\\d_]+)?)(u|ll?|l|f)?\/i,\n    hooks: {\n      \"@\": function(stream) {\n        \/\/ Don't match the @interface keyword.\n        if (stream.match('interface', false)) return false;\n\n        stream.eatWhile(\/[\\w\\$_]\/);\n        return \"meta\";\n      }\n    },\n    modeProps: {fold: [\"brace\", \"import\"]}\n  });\n\n  def(\"text\/x-csharp\", {\n    name: \"clike\",\n    keywords: words(\"abstract as async await base break case catch checked class const continue\" +\n                    \" default delegate do else enum event explicit extern finally fixed for\" +\n                    \" foreach goto if implicit in interface internal is lock namespace new\" +\n                    \" operator out override params private protected public readonly ref return sealed\" +\n                    \" sizeof stackalloc static struct switch this throw try typeof unchecked\" +\n                    \" unsafe using virtual void volatile while add alias ascending descending dynamic from get\" +\n                    \" global group into join let orderby partial remove select set value var yield\"),\n    types: words(\"Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func\" +\n                 \" Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32\" +\n                 \" UInt64 bool byte char decimal double short int long object\"  +\n                 \" sbyte float string ushort uint ulong\"),\n    blockKeywords: words(\"catch class do else finally for foreach if struct switch try while\"),\n    defKeywords: words(\"class interface namespace struct var\"),\n    typeFirstDefinitions: true,\n    atoms: words(\"true false null\"),\n    hooks: {\n      \"@\": function(stream, state) {\n        if (stream.eat('\"')) {\n          state.tokenize = tokenAtString;\n          return tokenAtString(stream, state);\n        }\n        stream.eatWhile(\/[\\w\\$_]\/);\n        return \"meta\";\n      }\n    }\n  });\n\n  function tokenTripleString(stream, state) {\n    var escaped = false;\n    while (!stream.eol()) {\n      if (!escaped && stream.match('\"\"\"')) {\n        state.tokenize = null;\n        break;\n      }\n      escaped = stream.next() == \"\\\\\" && !escaped;\n    }\n    return \"string\";\n  }\n\n  function tokenNestedComment(depth) {\n    return function (stream, state) {\n      var ch\n      while (ch = stream.next()) {\n        if (ch == \"*\" && stream.eat(\"\/\")) {\n          if (depth == 1) {\n            state.tokenize = null\n            break\n          } else {\n            state.tokenize = tokenNestedComment(depth - 1)\n            return state.tokenize(stream, state)\n          }\n        } else if (ch == \"\/\" && stream.eat(\"*\")) {\n          state.tokenize = tokenNestedComment(depth + 1)\n          return state.tokenize(stream, state)\n        }\n      }\n      return \"comment\"\n    }\n  }\n\n  def(\"text\/x-scala\", {\n    name: \"clike\",\n    keywords: words(\n      \/* scala *\/\n      \"abstract case catch class def do else extends final finally for forSome if \" +\n      \"implicit import lazy match new null object override package private protected return \" +\n      \"sealed super this throw trait try type val var while with yield _ \" +\n\n      \/* package scala *\/\n      \"assert assume require print println printf readLine readBoolean readByte readShort \" +\n      \"readChar readInt readLong readFloat readDouble\"\n    ),\n    types: words(\n      \"AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either \" +\n      \"Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable \" +\n      \"Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering \" +\n      \"Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder \" +\n      \"StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector \" +\n\n      \/* package java.lang *\/\n      \"Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable \" +\n      \"Compiler Double Exception Float Integer Long Math Number Object Package Pair Process \" +\n      \"Runtime Runnable SecurityManager Short StackTraceElement StrictMath String \" +\n      \"StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void\"\n    ),\n    multiLineStrings: true,\n    blockKeywords: words(\"catch class enum do else finally for forSome if match switch try while\"),\n    defKeywords: words(\"class enum def object package trait type val var\"),\n    atoms: words(\"true false null\"),\n    indentStatements: false,\n    indentSwitch: false,\n    isOperatorChar: \/[+\\-*&%=<>!?|\\\/#:@]\/,\n    hooks: {\n      \"@\": function(stream) {\n        stream.eatWhile(\/[\\w\\$_]\/);\n        return \"meta\";\n      },\n      '\"': function(stream, state) {\n        if (!stream.match('\"\"')) return false;\n        state.tokenize = tokenTripleString;\n        return state.tokenize(stream, state);\n      },\n      \"'\": function(stream) {\n        stream.eatWhile(\/[\\w\\$_\\xa1-\\uffff]\/);\n        return \"atom\";\n      },\n      \"=\": function(stream, state) {\n        var cx = state.context\n        if (cx.type == \"}\" && cx.align && stream.eat(\">\")) {\n          state.context = new Context(cx.indented, cx.column, cx.type, cx.info, null, cx.prev)\n          return \"operator\"\n        } else {\n          return false\n        }\n      },\n\n      \"\/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false\n        state.tokenize = tokenNestedComment(1)\n        return state.tokenize(stream, state)\n      }\n    },\n    modeProps: {closeBrackets: {pairs: '()[]{}\"\"', triples: '\"'}}\n  });\n\n  function tokenKotlinString(tripleString){\n    return function (stream, state) {\n      var escaped = false, next, end = false;\n      while (!stream.eol()) {\n        if (!tripleString && !escaped && stream.match('\"') ) {end = true; break;}\n        if (tripleString && stream.match('\"\"\"')) {end = true; break;}\n        next = stream.next();\n        if(!escaped && next == \"$\" && stream.match('{'))\n          stream.skipTo(\"}\");\n        escaped = !escaped && next == \"\\\\\" && !tripleString;\n      }\n      if (end || !tripleString)\n        state.tokenize = null;\n      return \"string\";\n    }\n  }\n\n  def(\"text\/x-kotlin\", {\n    name: \"clike\",\n    keywords: words(\n      \/*keywords*\/\n      \"package as typealias class interface this super val operator \" +\n      \"var fun for is in This throw return annotation \" +\n      \"break continue object if else while do try when !in !is as? \" +\n\n      \/*soft keywords*\/\n      \"file import where by get set abstract enum open inner override private public internal \" +\n      \"protected catch finally out final vararg reified dynamic companion constructor init \" +\n      \"sealed field property receiver param sparam lateinit data inline noinline tailrec \" +\n      \"external annotation crossinline const operator infix suspend actual expect setparam\"\n    ),\n    types: words(\n      \/* package java.lang *\/\n      \"Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable \" +\n      \"Compiler Double Exception Float Integer Long Math Number Object Package Pair Process \" +\n      \"Runtime Runnable SecurityManager Short StackTraceElement StrictMath String \" +\n      \"StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void Annotation Any BooleanArray \" +\n      \"ByteArray Char CharArray DeprecationLevel DoubleArray Enum FloatArray Function Int IntArray Lazy \" +\n      \"LazyThreadSafetyMode LongArray Nothing ShortArray Unit\"\n    ),\n    intendSwitch: false,\n    indentStatements: false,\n    multiLineStrings: true,\n    number: \/^(?:0x[a-f\\d_]+|0b[01_]+|(?:[\\d_]+(\\.\\d+)?|\\.\\d+)(?:e[-+]?[\\d_]+)?)(u|ll?|l|f)?\/i,\n    blockKeywords: words(\"catch class do else finally for if where try while enum\"),\n    defKeywords: words(\"class val var object interface fun\"),\n    atoms: words(\"true false null this\"),\n    hooks: {\n      \"@\": function(stream) {\n        stream.eatWhile(\/[\\w\\$_]\/);\n        return \"meta\";\n      },\n      '*': function(_stream, state) {\n        return state.prevToken == '.' ? 'variable' : 'operator';\n      },\n      '\"': function(stream, state) {\n        state.tokenize = tokenKotlinString(stream.match('\"\"'));\n        return state.tokenize(stream, state);\n      },\n      \"\/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false;\n        state.tokenize = tokenNestedComment(1);\n        return state.tokenize(stream, state)\n      },\n      indent: function(state, ctx, textAfter, indentUnit) {\n        var firstChar = textAfter && textAfter.charAt(0);\n        if ((state.prevToken == \"}\" || state.prevToken == \")\") && textAfter == \"\")\n          return state.indented;\n        if ((state.prevToken == \"operator\" && textAfter != \"}\" && state.context.type != \"}\") ||\n          state.prevToken == \"variable\" && firstChar == \".\" ||\n          (state.prevToken == \"}\" || state.prevToken == \")\") && firstChar == \".\")\n          return indentUnit * 2 + ctx.indented;\n        if (ctx.align && ctx.type == \"}\")\n          return ctx.indented + (state.context.type == (textAfter || \"\").charAt(0) ? 0 : indentUnit);\n      }\n    },\n    modeProps: {closeBrackets: {triples: '\"'}}\n  });\n\n  def([\"x-shader\/x-vertex\", \"x-shader\/x-fragment\"], {\n    name: \"clike\",\n    keywords: words(\"sampler1D sampler2D sampler3D samplerCube \" +\n                    \"sampler1DShadow sampler2DShadow \" +\n                    \"const attribute uniform varying \" +\n                    \"break continue discard return \" +\n                    \"for while do if else struct \" +\n                    \"in out inout\"),\n    types: words(\"float int bool void \" +\n                 \"vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 \" +\n                 \"mat2 mat3 mat4\"),\n    blockKeywords: words(\"for while do if else struct\"),\n    builtin: words(\"radians degrees sin cos tan asin acos atan \" +\n                    \"pow exp log exp2 sqrt inversesqrt \" +\n                    \"abs sign floor ceil fract mod min max clamp mix step smoothstep \" +\n                    \"length distance dot cross normalize ftransform faceforward \" +\n                    \"reflect refract matrixCompMult \" +\n                    \"lessThan lessThanEqual greaterThan greaterThanEqual \" +\n                    \"equal notEqual any all not \" +\n                    \"texture1D texture1DProj texture1DLod texture1DProjLod \" +\n                    \"texture2D texture2DProj texture2DLod texture2DProjLod \" +\n                    \"texture3D texture3DProj texture3DLod texture3DProjLod \" +\n                    \"textureCube textureCubeLod \" +\n                    \"shadow1D shadow2D shadow1DProj shadow2DProj \" +\n                    \"shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod \" +\n                    \"dFdx dFdy fwidth \" +\n                    \"noise1 noise2 noise3 noise4\"),\n    atoms: words(\"true false \" +\n                \"gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex \" +\n                \"gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 \" +\n                \"gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 \" +\n                \"gl_FogCoord gl_PointCoord \" +\n                \"gl_Position gl_PointSize gl_ClipVertex \" +\n                \"gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor \" +\n                \"gl_TexCoord gl_FogFragCoord \" +\n                \"gl_FragCoord gl_FrontFacing \" +\n                \"gl_FragData gl_FragDepth \" +\n                \"gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix \" +\n                \"gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse \" +\n                \"gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse \" +\n                \"gl_TextureMatrixTranspose gl_ModelViewMatrixInverseTranspose \" +\n                \"gl_ProjectionMatrixInverseTranspose \" +\n                \"gl_ModelViewProjectionMatrixInverseTranspose \" +\n                \"gl_TextureMatrixInverseTranspose \" +\n                \"gl_NormalScale gl_DepthRange gl_ClipPlane \" +\n                \"gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel \" +\n                \"gl_FrontLightModelProduct gl_BackLightModelProduct \" +\n                \"gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ \" +\n                \"gl_FogParameters \" +\n                \"gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords \" +\n                \"gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats \" +\n                \"gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits \" +\n                \"gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits \" +\n                \"gl_MaxDrawBuffers\"),\n    indentSwitch: false,\n    hooks: {\"#\": cppHook},\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text\/x-nesc\", {\n    name: \"clike\",\n    keywords: words(cKeywords + \" as atomic async call command component components configuration event generic \" +\n                    \"implementation includes interface module new norace nx_struct nx_union post provides \" +\n                    \"signal task uses abstract extends\"),\n    types: cTypes,\n    blockKeywords: words(cBlockKeywords),\n    atoms: words(\"null true false\"),\n    hooks: {\"#\": cppHook},\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text\/x-objectivec\", {\n    name: \"clike\",\n    keywords: words(cKeywords + \" \" + objCKeywords),\n    types: objCTypes,\n    builtin: words(objCBuiltins),\n    blockKeywords: words(cBlockKeywords + \" @synthesize @try @catch @finally @autoreleasepool @synchronized\"),\n    defKeywords: words(cDefKeywords + \" @interface @implementation @protocol @class\"),\n    dontIndentStatements: \/^@.*$\/,\n    typeFirstDefinitions: true,\n    atoms: words(\"YES NO NULL Nil nil true false nullptr\"),\n    isReservedIdentifier: cIsReservedIdentifier,\n    hooks: {\n      \"#\": cppHook,\n      \"*\": pointerHook,\n    },\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text\/x-objectivec++\", {\n    name: \"clike\",\n    keywords: words(cKeywords + \" \" + objCKeywords + \" \" + cppKeywords),\n    types: objCTypes,\n    builtin: words(objCBuiltins),\n    blockKeywords: words(cBlockKeywords + \" @synthesize @try @catch @finally @autoreleasepool @synchronized class try catch\"),\n    defKeywords: words(cDefKeywords + \" @interface @implementation @protocol @class class namespace\"),\n    dontIndentStatements: \/^@.*$|^template$\/,\n    typeFirstDefinitions: true,\n    atoms: words(\"YES NO NULL Nil nil true false nullptr\"),\n    isReservedIdentifier: cIsReservedIdentifier,\n    hooks: {\n      \"#\": cppHook,\n      \"*\": pointerHook,\n      \"u\": cpp11StringHook,\n      \"U\": cpp11StringHook,\n      \"L\": cpp11StringHook,\n      \"R\": cpp11StringHook,\n      \"0\": cpp14Literal,\n      \"1\": cpp14Literal,\n      \"2\": cpp14Literal,\n      \"3\": cpp14Literal,\n      \"4\": cpp14Literal,\n      \"5\": cpp14Literal,\n      \"6\": cpp14Literal,\n      \"7\": cpp14Literal,\n      \"8\": cpp14Literal,\n      \"9\": cpp14Literal,\n      token: function(stream, state, style) {\n        if (style == \"variable\" && stream.peek() == \"(\" &&\n            (state.prevToken == \";\" || state.prevToken == null ||\n             state.prevToken == \"}\") &&\n            cppLooksLikeConstructor(stream.current()))\n          return \"def\";\n      }\n    },\n    namespaceSeparator: \"::\",\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text\/x-squirrel\", {\n    name: \"clike\",\n    keywords: words(\"base break clone continue const default delete enum extends function in class\" +\n                    \" foreach local resume return this throw typeof yield constructor instanceof static\"),\n    types: cTypes,\n    blockKeywords: words(\"case catch class else for foreach if switch try while\"),\n    defKeywords: words(\"function local class\"),\n    typeFirstDefinitions: true,\n    atoms: words(\"true false null\"),\n    hooks: {\"#\": cppHook},\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  \/\/ Ceylon Strings need to deal with interpolation\n  var stringTokenizer = null;\n  function tokenCeylonString(type) {\n    return function(stream, state) {\n      var escaped = false, next, end = false;\n      while (!stream.eol()) {\n        if (!escaped && stream.match('\"') &&\n              (type == \"single\" || stream.match('\"\"'))) {\n          end = true;\n          break;\n        }\n        if (!escaped && stream.match('``')) {\n          stringTokenizer = tokenCeylonString(type);\n          end = true;\n          break;\n        }\n        next = stream.next();\n        escaped = type == \"single\" && !escaped && next == \"\\\\\";\n      }\n      if (end)\n          state.tokenize = null;\n      return \"string\";\n    }\n  }\n\n  def(\"text\/x-ceylon\", {\n    name: \"clike\",\n    keywords: words(\"abstracts alias assembly assert assign break case catch class continue dynamic else\" +\n                    \" exists extends finally for function given if import in interface is let module new\" +\n                    \" nonempty object of out outer package return satisfies super switch then this throw\" +\n                    \" try value void while\"),\n    types: function(word) {\n        \/\/ In Ceylon all identifiers that start with an uppercase are types\n        var first = word.charAt(0);\n        return (first === first.toUpperCase() && first !== first.toLowerCase());\n    },\n    blockKeywords: words(\"case catch class dynamic else finally for function if interface module new object switch try while\"),\n    defKeywords: words(\"class dynamic function interface module object package value\"),\n    builtin: words(\"abstract actual aliased annotation by default deprecated doc final formal late license\" +\n                   \" native optional sealed see serializable shared suppressWarnings tagged throws variable\"),\n    isPunctuationChar: \/[\\[\\]{}\\(\\),;\\:\\.`]\/,\n    isOperatorChar: \/[+\\-*&%=<>!?|^~:\\\/]\/,\n    numberStart: \/[\\d#$]\/,\n    number: \/^(?:#[\\da-fA-F_]+|\\$[01_]+|[\\d_]+[kMGTPmunpf]?|[\\d_]+\\.[\\d_]+(?:[eE][-+]?\\d+|[kMGTPmunpf]|)|)\/i,\n    multiLineStrings: true,\n    typeFirstDefinitions: true,\n    atoms: words(\"true false null larger smaller equal empty finished\"),\n    indentSwitch: false,\n    styleDefs: false,\n    hooks: {\n      \"@\": function(stream) {\n        stream.eatWhile(\/[\\w\\$_]\/);\n        return \"meta\";\n      },\n      '\"': function(stream, state) {\n          state.tokenize = tokenCeylonString(stream.match('\"\"') ? \"triple\" : \"single\");\n          return state.tokenize(stream, state);\n        },\n      '`': function(stream, state) {\n          if (!stringTokenizer || !stream.match('`')) return false;\n          state.tokenize = stringTokenizer;\n          stringTokenizer = null;\n          return state.tokenize(stream, state);\n        },\n      \"'\": function(stream) {\n        stream.eatWhile(\/[\\w\\$_\\xa1-\\uffff]\/);\n        return \"atom\";\n      },\n      token: function(_stream, state, style) {\n          if ((style == \"variable\" || style == \"type\") &&\n              state.prevToken == \".\") {\n            return \"variable-2\";\n          }\n        }\n    },\n    modeProps: {\n        fold: [\"brace\", \"import\"],\n        closeBrackets: {triples: '\"'}\n    }\n  });\n\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","Context","indented","column","type","info","align","prev","pushContext","state","col","indent","context","popContext","t","typeBefore","stream","pos","prevToken","test","string","slice","typeAtEndOfLine","indentation","isTopScope","words","str","obj","split","i","length","contains","word","propertyIsEnumerable","cTypes","identifier","basicCTypes","objCTypes","basicObjCTypes","cppHook","startOfLine","ch","next","peek","match","tokenize","pointerHook","_stream","cIsReservedIdentifier","token","toLowerCase","cpp14Literal","eatWhile","cpp11StringHook","backUp","cpp11RawStringDelim","tokenRawString","cppLooksLikeConstructor","lastTwo","exec","tokenAtString","eat","delim","replace","RegExp","skipToEnd","def","mimes","mode","add","prop","hasOwnProperty","push","keywords","types","builtin","atoms","helperType","registerHelper","defineMIME","tokenTripleString","escaped","eol","tokenNestedComment","depth","tokenKotlinString","tripleString","end","skipTo","tokenCeylonString","stringTokenizer","defineMode","config","parserConfig","tokenBase","hooks","result","tokenString","numberStart","number","isPunctuationChar","curPunc","tokenComment","isOperatorChar","isIdentifierChar","namespaceSeparator","cur","current","blockKeywords","defKeywords","isDefKeyword","isReservedIdentifier","quote","multiLineStrings","maybeEnd","maybeEOL","typeFirstDefinitions","indentUnit","statementIndentUnit","dontAlignCalls","indentStatements","startState","basecolumn","ctx","sol","eatSpace","style","start","undefined","styleDefs","textAfter","Pass","firstChar","charAt","closing","dontIndentStatements","hook","switchBlock","allmanIndentation","electricInput","indentSwitch","blockCommentStart","blockCommentEnd","blockCommentContinue","lineComment","fold","name","cKeywords","cBlockKeywords","cDefKeywords","modeProps","@","\"","'","=","cx","\/","closeBrackets","pairs","triples","intendSwitch","*","objCBuiltins","first","toUpperCase","`"]}},{"offset":{"line":474,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$addon$mode$overlay.js","lineCount":3,"mappings":"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","sources":["node_modules\/codemirror\/addon\/mode\/overlay.js"],"sourcesContent":["shadow$provide[264] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n\/\/ Utility function that allows modes to be combined. The mode given\n\/\/ as the base argument takes care of most of the normal mode\n\/\/ functionality, but a second (typically simple) mode is used, which\n\/\/ can override the style of text. Both modes get to parse all of the\n\/\/ text, but when both assign a non-null style to a piece of code, the\n\/\/ overlay wins, unless the combine argument was true and not overridden,\n\/\/ or state.overlay.combineTokens was true, in which case the styles are\n\/\/ combined.\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.overlayMode = function(base, overlay, combine) {\n  return {\n    startState: function() {\n      return {\n        base: CodeMirror.startState(base),\n        overlay: CodeMirror.startState(overlay),\n        basePos: 0, baseCur: null,\n        overlayPos: 0, overlayCur: null,\n        streamSeen: null\n      };\n    },\n    copyState: function(state) {\n      return {\n        base: CodeMirror.copyState(base, state.base),\n        overlay: CodeMirror.copyState(overlay, state.overlay),\n        basePos: state.basePos, baseCur: null,\n        overlayPos: state.overlayPos, overlayCur: null\n      };\n    },\n\n    token: function(stream, state) {\n      if (stream != state.streamSeen ||\n          Math.min(state.basePos, state.overlayPos) < stream.start) {\n        state.streamSeen = stream;\n        state.basePos = state.overlayPos = stream.start;\n      }\n\n      if (stream.start == state.basePos) {\n        state.baseCur = base.token(stream, state.base);\n        state.basePos = stream.pos;\n      }\n      if (stream.start == state.overlayPos) {\n        stream.pos = stream.start;\n        state.overlayCur = overlay.token(stream, state.overlay);\n        state.overlayPos = stream.pos;\n      }\n      stream.pos = Math.min(state.basePos, state.overlayPos);\n\n      \/\/ state.overlay.combineTokens always takes precedence over combine,\n      \/\/ unless set to null\n      if (state.overlayCur == null) return state.baseCur;\n      else if (state.baseCur != null &&\n               state.overlay.combineTokens ||\n               combine && state.overlay.combineTokens == null)\n        return state.baseCur + \" \" + state.overlayCur;\n      else return state.overlayCur;\n    },\n\n    indent: base.indent && function(state, textAfter, line) {\n      return base.indent(state.base, textAfter, line);\n    },\n    electricChars: base.electricChars,\n\n    innerMode: function(state) { return {state: state.base, mode: base}; },\n\n    blankLine: function(state) {\n      var baseToken, overlayToken;\n      if (base.blankLine) baseToken = base.blankLine(state.base);\n      if (overlay.blankLine) overlayToken = overlay.blankLine(state.overlay);\n\n      return overlayToken == null ?\n        baseToken :\n        (combine && baseToken != null ? baseToken + \" \" + overlayToken : overlayToken);\n    }\n  };\n};\n\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","overlayMode","CodeMirror.overlayMode","base","overlay","combine","startState","basePos","baseCur","overlayPos","overlayCur","streamSeen","copyState","state","token","stream","Math","min","start","pos","combineTokens","indent","textAfter","line","electricChars","innerMode","mode","blankLine","baseToken","overlayToken"]}},{"offset":{"line":477,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$mode$coffeescript$coffeescript.js","lineCount":9,"mappings":"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","sources":["node_modules\/codemirror\/mode\/coffeescript\/coffeescript.js"],"sourcesContent":["shadow$provide[265] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n\/**\n * Link to the project's GitHub page:\n * https:\/\/github.com\/pickhardt\/coffeescript-codemirror-mode\n *\/\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"coffeescript\", function(conf, parserConf) {\n  var ERRORCLASS = \"error\";\n\n  function wordRegexp(words) {\n    return new RegExp(\"^((\" + words.join(\")|(\") + \"))\\\\b\");\n  }\n\n  var operators = \/^(?:->|=>|\\+[+=]?|-[\\-=]?|\\*[\\*=]?|\\\/[\\\/=]?|[=!]=|<[><]?=?|>>?=?|%=?|&=?|\\|=?|\\^=?|\\~|!|\\?|(or|and|\\|\\||&&|\\?)=)\/;\n  var delimiters = \/^(?:[()\\[\\]{},:`=;]|\\.\\.?\\.?)\/;\n  var identifiers = \/^[_A-Za-z$][_A-Za-z$0-9]*\/;\n  var atProp = \/^@[_A-Za-z$][_A-Za-z$0-9]*\/;\n\n  var wordOperators = wordRegexp([\"and\", \"or\", \"not\",\n                                  \"is\", \"isnt\", \"in\",\n                                  \"instanceof\", \"typeof\"]);\n  var indentKeywords = [\"for\", \"while\", \"loop\", \"if\", \"unless\", \"else\",\n                        \"switch\", \"try\", \"catch\", \"finally\", \"class\"];\n  var commonKeywords = [\"break\", \"by\", \"continue\", \"debugger\", \"delete\",\n                        \"do\", \"in\", \"of\", \"new\", \"return\", \"then\",\n                        \"this\", \"@\", \"throw\", \"when\", \"until\", \"extends\"];\n\n  var keywords = wordRegexp(indentKeywords.concat(commonKeywords));\n\n  indentKeywords = wordRegexp(indentKeywords);\n\n\n  var stringPrefixes = \/^('{3}|\\\"{3}|['\\\"])\/;\n  var regexPrefixes = \/^(\\\/{3}|\\\/)\/;\n  var commonConstants = [\"Infinity\", \"NaN\", \"undefined\", \"null\", \"true\", \"false\", \"on\", \"off\", \"yes\", \"no\"];\n  var constants = wordRegexp(commonConstants);\n\n  \/\/ Tokenizers\n  function tokenBase(stream, state) {\n    \/\/ Handle scope changes\n    if (stream.sol()) {\n      if (state.scope.align === null) state.scope.align = false;\n      var scopeOffset = state.scope.offset;\n      if (stream.eatSpace()) {\n        var lineOffset = stream.indentation();\n        if (lineOffset > scopeOffset && state.scope.type == \"coffee\") {\n          return \"indent\";\n        } else if (lineOffset < scopeOffset) {\n          return \"dedent\";\n        }\n        return null;\n      } else {\n        if (scopeOffset > 0) {\n          dedent(stream, state);\n        }\n      }\n    }\n    if (stream.eatSpace()) {\n      return null;\n    }\n\n    var ch = stream.peek();\n\n    \/\/ Handle docco title comment (single line)\n    if (stream.match(\"####\")) {\n      stream.skipToEnd();\n      return \"comment\";\n    }\n\n    \/\/ Handle multi line comments\n    if (stream.match(\"###\")) {\n      state.tokenize = longComment;\n      return state.tokenize(stream, state);\n    }\n\n    \/\/ Single line comment\n    if (ch === \"#\") {\n      stream.skipToEnd();\n      return \"comment\";\n    }\n\n    \/\/ Handle number literals\n    if (stream.match(\/^-?[0-9\\.]\/, false)) {\n      var floatLiteral = false;\n      \/\/ Floats\n      if (stream.match(\/^-?\\d*\\.\\d+(e[\\+\\-]?\\d+)?\/i)) {\n        floatLiteral = true;\n      }\n      if (stream.match(\/^-?\\d+\\.\\d*\/)) {\n        floatLiteral = true;\n      }\n      if (stream.match(\/^-?\\.\\d+\/)) {\n        floatLiteral = true;\n      }\n\n      if (floatLiteral) {\n        \/\/ prevent from getting extra . on 1..\n        if (stream.peek() == \".\"){\n          stream.backUp(1);\n        }\n        return \"number\";\n      }\n      \/\/ Integers\n      var intLiteral = false;\n      \/\/ Hex\n      if (stream.match(\/^-?0x[0-9a-f]+\/i)) {\n        intLiteral = true;\n      }\n      \/\/ Decimal\n      if (stream.match(\/^-?[1-9]\\d*(e[\\+\\-]?\\d+)?\/)) {\n        intLiteral = true;\n      }\n      \/\/ Zero by itself with no other piece of number.\n      if (stream.match(\/^-?0(?![\\dx])\/i)) {\n        intLiteral = true;\n      }\n      if (intLiteral) {\n        return \"number\";\n      }\n    }\n\n    \/\/ Handle strings\n    if (stream.match(stringPrefixes)) {\n      state.tokenize = tokenFactory(stream.current(), false, \"string\");\n      return state.tokenize(stream, state);\n    }\n    \/\/ Handle regex literals\n    if (stream.match(regexPrefixes)) {\n      if (stream.current() != \"\/\" || stream.match(\/^.*\\\/\/, false)) { \/\/ prevent highlight of division\n        state.tokenize = tokenFactory(stream.current(), true, \"string-2\");\n        return state.tokenize(stream, state);\n      } else {\n        stream.backUp(1);\n      }\n    }\n\n\n\n    \/\/ Handle operators and delimiters\n    if (stream.match(operators) || stream.match(wordOperators)) {\n      return \"operator\";\n    }\n    if (stream.match(delimiters)) {\n      return \"punctuation\";\n    }\n\n    if (stream.match(constants)) {\n      return \"atom\";\n    }\n\n    if (stream.match(atProp) || state.prop && stream.match(identifiers)) {\n      return \"property\";\n    }\n\n    if (stream.match(keywords)) {\n      return \"keyword\";\n    }\n\n    if (stream.match(identifiers)) {\n      return \"variable\";\n    }\n\n    \/\/ Handle non-detected items\n    stream.next();\n    return ERRORCLASS;\n  }\n\n  function tokenFactory(delimiter, singleline, outclass) {\n    return function(stream, state) {\n      while (!stream.eol()) {\n        stream.eatWhile(\/[^'\"\\\/\\\\]\/);\n        if (stream.eat(\"\\\\\")) {\n          stream.next();\n          if (singleline && stream.eol()) {\n            return outclass;\n          }\n        } else if (stream.match(delimiter)) {\n          state.tokenize = tokenBase;\n          return outclass;\n        } else {\n          stream.eat(\/['\"\\\/]\/);\n        }\n      }\n      if (singleline) {\n        if (parserConf.singleLineStringErrors) {\n          outclass = ERRORCLASS;\n        } else {\n          state.tokenize = tokenBase;\n        }\n      }\n      return outclass;\n    };\n  }\n\n  function longComment(stream, state) {\n    while (!stream.eol()) {\n      stream.eatWhile(\/[^#]\/);\n      if (stream.match(\"###\")) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      stream.eatWhile(\"#\");\n    }\n    return \"comment\";\n  }\n\n  function indent(stream, state, type) {\n    type = type || \"coffee\";\n    var offset = 0, align = false, alignOffset = null;\n    for (var scope = state.scope; scope; scope = scope.prev) {\n      if (scope.type === \"coffee\" || scope.type == \"}\") {\n        offset = scope.offset + conf.indentUnit;\n        break;\n      }\n    }\n    if (type !== \"coffee\") {\n      align = null;\n      alignOffset = stream.column() + stream.current().length;\n    } else if (state.scope.align) {\n      state.scope.align = false;\n    }\n    state.scope = {\n      offset: offset,\n      type: type,\n      prev: state.scope,\n      align: align,\n      alignOffset: alignOffset\n    };\n  }\n\n  function dedent(stream, state) {\n    if (!state.scope.prev) return;\n    if (state.scope.type === \"coffee\") {\n      var _indent = stream.indentation();\n      var matched = false;\n      for (var scope = state.scope; scope; scope = scope.prev) {\n        if (_indent === scope.offset) {\n          matched = true;\n          break;\n        }\n      }\n      if (!matched) {\n        return true;\n      }\n      while (state.scope.prev && state.scope.offset !== _indent) {\n        state.scope = state.scope.prev;\n      }\n      return false;\n    } else {\n      state.scope = state.scope.prev;\n      return false;\n    }\n  }\n\n  function tokenLexer(stream, state) {\n    var style = state.tokenize(stream, state);\n    var current = stream.current();\n\n    \/\/ Handle scope changes.\n    if (current === \"return\") {\n      state.dedent = true;\n    }\n    if (((current === \"->\" || current === \"=>\") && stream.eol())\n        || style === \"indent\") {\n      indent(stream, state);\n    }\n    var delimiter_index = \"[({\".indexOf(current);\n    if (delimiter_index !== -1) {\n      indent(stream, state, \"])}\".slice(delimiter_index, delimiter_index+1));\n    }\n    if (indentKeywords.exec(current)){\n      indent(stream, state);\n    }\n    if (current == \"then\"){\n      dedent(stream, state);\n    }\n\n\n    if (style === \"dedent\") {\n      if (dedent(stream, state)) {\n        return ERRORCLASS;\n      }\n    }\n    delimiter_index = \"])}\".indexOf(current);\n    if (delimiter_index !== -1) {\n      while (state.scope.type == \"coffee\" && state.scope.prev)\n        state.scope = state.scope.prev;\n      if (state.scope.type == current)\n        state.scope = state.scope.prev;\n    }\n    if (state.dedent && stream.eol()) {\n      if (state.scope.type == \"coffee\" && state.scope.prev)\n        state.scope = state.scope.prev;\n      state.dedent = false;\n    }\n\n    return style;\n  }\n\n  var external = {\n    startState: function(basecolumn) {\n      return {\n        tokenize: tokenBase,\n        scope: {offset:basecolumn || 0, type:\"coffee\", prev: null, align: false},\n        prop: false,\n        dedent: 0\n      };\n    },\n\n    token: function(stream, state) {\n      var fillAlign = state.scope.align === null && state.scope;\n      if (fillAlign && stream.sol()) fillAlign.align = false;\n\n      var style = tokenLexer(stream, state);\n      if (style && style != \"comment\") {\n        if (fillAlign) fillAlign.align = true;\n        state.prop = style == \"punctuation\" && stream.current() == \".\"\n      }\n\n      return style;\n    },\n\n    indent: function(state, text) {\n      if (state.tokenize != tokenBase) return 0;\n      var scope = state.scope;\n      var closer = text && \"])}\".indexOf(text.charAt(0)) > -1;\n      if (closer) while (scope.type == \"coffee\" && scope.prev) scope = scope.prev;\n      var closes = closer && scope.type === text.charAt(0);\n      if (scope.align)\n        return scope.alignOffset - (closes ? 1 : 0);\n      else\n        return (closes ? scope.prev : scope).offset;\n    },\n\n    lineComment: \"#\",\n    fold: \"indent\"\n  };\n  return external;\n});\n\n\/\/ IANA registered media type\n\/\/ https:\/\/www.iana.org\/assignments\/media-types\/\nCodeMirror.defineMIME(\"application\/vnd.coffeescript\", \"coffeescript\");\n\nCodeMirror.defineMIME(\"text\/x-coffeescript\", \"coffeescript\");\nCodeMirror.defineMIME(\"text\/coffeescript\", \"coffeescript\");\n\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","defineMode","conf","parserConf","wordRegexp","words","RegExp","join","tokenBase","stream","state","sol","scope","align","scopeOffset","offset","eatSpace","lineOffset","indentation","type","dedent","ch","peek","match","skipToEnd","tokenize","longComment","floatLiteral","backUp","intLiteral","stringPrefixes","tokenFactory","current","regexPrefixes","operators","wordOperators","delimiters","constants","atProp","prop","identifiers","keywords","next","ERRORCLASS","delimiter","singleline","outclass","eol","eatWhile","eat","singleLineStringErrors","indent","alignOffset","prev","indentUnit","column","length","_indent","matched","indentKeywords","concat","commonKeywords","commonConstants","external","startState","basecolumn","token","fillAlign","style","delimiter_index","indexOf","slice","exec","text","closer","charAt","closes","lineComment","fold","defineMIME"]}},{"offset":{"line":486,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$mode$css$css.js","lineCount":25,"mappings":"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\/LL,CA+LWZ,EA\/LX,CA+LmBC,EA\/LnB,CAwLwD,CApKpD,CA8Kb,mBAA4ByE,QAAQ,CAAC9D,EAAD,CAAOZ,EAAP,CAAeC,EAAf,CAAsB,CACxD,MAAY,GAAZ,EAAIW,EAAJ,EACEX,EAAMyD,CAAAA,QACC,CADU,IACV,CAAAxB,EAAA,CAAWjC,EAAX,CAFT,EAIY,MAAZ,EAAIW,EAAJ,EAGI4B,EAGK,CALgB,YAAvB,EAAKvC,EAAMyD,CAAAA,QAAX,EAAuC,CAACN,EAAeV,CAAAA,cAAf,CAA8B1C,EAAOiB,CAAAA,OAAP,EAAiBnB,CAAAA,WAAjB,EAA9B,CAAxC,EACuB,gBADvB,EACKG,EAAMyD,CAAAA,QADX,EAC2C,CAACL,EAAmBX,CAAAA,cAAnB,CAAkC1C,EAAOiB,CAAAA,OAAP,EAAiBnB,CAAAA,WAAjB,EAAlC,CAD5C,CAEa,OAFb,CAIa,UACN,CAAA,WANT,EAQO,oBAbiD,CA9K7C,CA8Lb,UAAmB6E,QAAQ,CAAC\/D,EAAD,CAAOZ,EAAP,CAAeC,EAAf,CAAsB,CAC\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\/zBsB,CAPxB,CAJ8D;","sources":["node_modules\/codemirror\/mode\/css\/css.js"],"sourcesContent":["shadow$provide[266] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"css\", function(config, parserConfig) {\n  var inline = parserConfig.inline\n  if (!parserConfig.propertyKeywords) parserConfig = CodeMirror.resolveMode(\"text\/css\");\n\n  var indentUnit = config.indentUnit,\n      tokenHooks = parserConfig.tokenHooks,\n      documentTypes = parserConfig.documentTypes || {},\n      mediaTypes = parserConfig.mediaTypes || {},\n      mediaFeatures = parserConfig.mediaFeatures || {},\n      mediaValueKeywords = parserConfig.mediaValueKeywords || {},\n      propertyKeywords = parserConfig.propertyKeywords || {},\n      nonStandardPropertyKeywords = parserConfig.nonStandardPropertyKeywords || {},\n      fontProperties = parserConfig.fontProperties || {},\n      counterDescriptors = parserConfig.counterDescriptors || {},\n      colorKeywords = parserConfig.colorKeywords || {},\n      valueKeywords = parserConfig.valueKeywords || {},\n      allowNested = parserConfig.allowNested,\n      lineComment = parserConfig.lineComment,\n      supportsAtComponent = parserConfig.supportsAtComponent === true,\n      highlightNonStandardPropertyKeywords = config.highlightNonStandardPropertyKeywords !== false;\n\n  var type, override;\n  function ret(style, tp) { type = tp; return style; }\n\n  \/\/ Tokenizers\n\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (tokenHooks[ch]) {\n      var result = tokenHooks[ch](stream, state);\n      if (result !== false) return result;\n    }\n    if (ch == \"@\") {\n      stream.eatWhile(\/[\\w\\\\\\-]\/);\n      return ret(\"def\", stream.current());\n    } else if (ch == \"=\" || (ch == \"~\" || ch == \"|\") && stream.eat(\"=\")) {\n      return ret(null, \"compare\");\n    } else if (ch == \"\\\"\" || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    } else if (ch == \"#\") {\n      stream.eatWhile(\/[\\w\\\\\\-]\/);\n      return ret(\"atom\", \"hash\");\n    } else if (ch == \"!\") {\n      stream.match(\/^\\s*\\w*\/);\n      return ret(\"keyword\", \"important\");\n    } else if (\/\\d\/.test(ch) || ch == \".\" && stream.eat(\/\\d\/)) {\n      stream.eatWhile(\/[\\w.%]\/);\n      return ret(\"number\", \"unit\");\n    } else if (ch === \"-\") {\n      if (\/[\\d.]\/.test(stream.peek())) {\n        stream.eatWhile(\/[\\w.%]\/);\n        return ret(\"number\", \"unit\");\n      } else if (stream.match(\/^-[\\w\\\\\\-]*\/)) {\n        stream.eatWhile(\/[\\w\\\\\\-]\/);\n        if (stream.match(\/^\\s*:\/, false))\n          return ret(\"variable-2\", \"variable-definition\");\n        return ret(\"variable-2\", \"variable\");\n      } else if (stream.match(\/^\\w+-\/)) {\n        return ret(\"meta\", \"meta\");\n      }\n    } else if (\/[,+>*\\\/]\/.test(ch)) {\n      return ret(null, \"select-op\");\n    } else if (ch == \".\" && stream.match(\/^-?[_a-z][_a-z0-9-]*\/i)) {\n      return ret(\"qualifier\", \"qualifier\");\n    } else if (\/[:;{}\\[\\]\\(\\)]\/.test(ch)) {\n      return ret(null, ch);\n    } else if (stream.match(\/^[\\w-.]+(?=\\()\/)) {\n      if (\/^(url(-prefix)?|domain|regexp)$\/i.test(stream.current())) {\n        state.tokenize = tokenParenthesized;\n      }\n      return ret(\"variable callee\", \"variable\");\n    } else if (\/[\\w\\\\\\-]\/.test(ch)) {\n      stream.eatWhile(\/[\\w\\\\\\-]\/);\n      return ret(\"property\", \"word\");\n    } else {\n      return ret(null, null);\n    }\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == quote && !escaped) {\n          if (quote == \")\") stream.backUp(1);\n          break;\n        }\n        escaped = !escaped && ch == \"\\\\\";\n      }\n      if (ch == quote || !escaped && quote != \")\") state.tokenize = null;\n      return ret(\"string\", \"string\");\n    };\n  }\n\n  function tokenParenthesized(stream, state) {\n    stream.next(); \/\/ Must be '('\n    if (!stream.match(\/^\\s*[\\\"\\')]\/, false))\n      state.tokenize = tokenString(\")\");\n    else\n      state.tokenize = null;\n    return ret(null, \"(\");\n  }\n\n  \/\/ Context management\n\n  function Context(type, indent, prev) {\n    this.type = type;\n    this.indent = indent;\n    this.prev = prev;\n  }\n\n  function pushContext(state, stream, type, indent) {\n    state.context = new Context(type, stream.indentation() + (indent === false ? 0 : indentUnit), state.context);\n    return type;\n  }\n\n  function popContext(state) {\n    if (state.context.prev)\n      state.context = state.context.prev;\n    return state.context.type;\n  }\n\n  function pass(type, stream, state) {\n    return states[state.context.type](type, stream, state);\n  }\n  function popAndPass(type, stream, state, n) {\n    for (var i = n || 1; i > 0; i--)\n      state.context = state.context.prev;\n    return pass(type, stream, state);\n  }\n\n  \/\/ Parser\n\n  function wordAsValue(stream) {\n    var word = stream.current().toLowerCase();\n    if (valueKeywords.hasOwnProperty(word))\n      override = \"atom\";\n    else if (colorKeywords.hasOwnProperty(word))\n      override = \"keyword\";\n    else\n      override = \"variable\";\n  }\n\n  var states = {};\n\n  states.top = function(type, stream, state) {\n    if (type == \"{\") {\n      return pushContext(state, stream, \"block\");\n    } else if (type == \"}\" && state.context.prev) {\n      return popContext(state);\n    } else if (supportsAtComponent && \/@component\/i.test(type)) {\n      return pushContext(state, stream, \"atComponentBlock\");\n    } else if (\/^@(-moz-)?document$\/i.test(type)) {\n      return pushContext(state, stream, \"documentTypes\");\n    } else if (\/^@(media|supports|(-moz-)?document|import)$\/i.test(type)) {\n      return pushContext(state, stream, \"atBlock\");\n    } else if (\/^@(font-face|counter-style)\/i.test(type)) {\n      state.stateArg = type;\n      return \"restricted_atBlock_before\";\n    } else if (\/^@(-(moz|ms|o|webkit)-)?keyframes$\/i.test(type)) {\n      return \"keyframes\";\n    } else if (type && type.charAt(0) == \"@\") {\n      return pushContext(state, stream, \"at\");\n    } else if (type == \"hash\") {\n      override = \"builtin\";\n    } else if (type == \"word\") {\n      override = \"tag\";\n    } else if (type == \"variable-definition\") {\n      return \"maybeprop\";\n    } else if (type == \"interpolation\") {\n      return pushContext(state, stream, \"interpolation\");\n    } else if (type == \":\") {\n      return \"pseudo\";\n    } else if (allowNested && type == \"(\") {\n      return pushContext(state, stream, \"parens\");\n    }\n    return state.context.type;\n  };\n\n  states.block = function(type, stream, state) {\n    if (type == \"word\") {\n      var word = stream.current().toLowerCase();\n      if (propertyKeywords.hasOwnProperty(word)) {\n        override = \"property\";\n        return \"maybeprop\";\n      } else if (nonStandardPropertyKeywords.hasOwnProperty(word)) {\n        override = highlightNonStandardPropertyKeywords ? \"string-2\" : \"property\";\n        return \"maybeprop\";\n      } else if (allowNested) {\n        override = stream.match(\/^\\s*:(?:\\s|$)\/, false) ? \"property\" : \"tag\";\n        return \"block\";\n      } else {\n        override += \" error\";\n        return \"maybeprop\";\n      }\n    } else if (type == \"meta\") {\n      return \"block\";\n    } else if (!allowNested && (type == \"hash\" || type == \"qualifier\")) {\n      override = \"error\";\n      return \"block\";\n    } else {\n      return states.top(type, stream, state);\n    }\n  };\n\n  states.maybeprop = function(type, stream, state) {\n    if (type == \":\") return pushContext(state, stream, \"prop\");\n    return pass(type, stream, state);\n  };\n\n  states.prop = function(type, stream, state) {\n    if (type == \";\") return popContext(state);\n    if (type == \"{\" && allowNested) return pushContext(state, stream, \"propBlock\");\n    if (type == \"}\" || type == \"{\") return popAndPass(type, stream, state);\n    if (type == \"(\") return pushContext(state, stream, \"parens\");\n\n    if (type == \"hash\" && !\/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$\/.test(stream.current())) {\n      override += \" error\";\n    } else if (type == \"word\") {\n      wordAsValue(stream);\n    } else if (type == \"interpolation\") {\n      return pushContext(state, stream, \"interpolation\");\n    }\n    return \"prop\";\n  };\n\n  states.propBlock = function(type, _stream, state) {\n    if (type == \"}\") return popContext(state);\n    if (type == \"word\") { override = \"property\"; return \"maybeprop\"; }\n    return state.context.type;\n  };\n\n  states.parens = function(type, stream, state) {\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state);\n    if (type == \")\") return popContext(state);\n    if (type == \"(\") return pushContext(state, stream, \"parens\");\n    if (type == \"interpolation\") return pushContext(state, stream, \"interpolation\");\n    if (type == \"word\") wordAsValue(stream);\n    return \"parens\";\n  };\n\n  states.pseudo = function(type, stream, state) {\n    if (type == \"meta\") return \"pseudo\";\n\n    if (type == \"word\") {\n      override = \"variable-3\";\n      return state.context.type;\n    }\n    return pass(type, stream, state);\n  };\n\n  states.documentTypes = function(type, stream, state) {\n    if (type == \"word\" && documentTypes.hasOwnProperty(stream.current())) {\n      override = \"tag\";\n      return state.context.type;\n    } else {\n      return states.atBlock(type, stream, state);\n    }\n  };\n\n  states.atBlock = function(type, stream, state) {\n    if (type == \"(\") return pushContext(state, stream, \"atBlock_parens\");\n    if (type == \"}\" || type == \";\") return popAndPass(type, stream, state);\n    if (type == \"{\") return popContext(state) && pushContext(state, stream, allowNested ? \"block\" : \"top\");\n\n    if (type == \"interpolation\") return pushContext(state, stream, \"interpolation\");\n\n    if (type == \"word\") {\n      var word = stream.current().toLowerCase();\n      if (word == \"only\" || word == \"not\" || word == \"and\" || word == \"or\")\n        override = \"keyword\";\n      else if (mediaTypes.hasOwnProperty(word))\n        override = \"attribute\";\n      else if (mediaFeatures.hasOwnProperty(word))\n        override = \"property\";\n      else if (mediaValueKeywords.hasOwnProperty(word))\n        override = \"keyword\";\n      else if (propertyKeywords.hasOwnProperty(word))\n        override = \"property\";\n      else if (nonStandardPropertyKeywords.hasOwnProperty(word))\n        override = highlightNonStandardPropertyKeywords ? \"string-2\" : \"property\";\n      else if (valueKeywords.hasOwnProperty(word))\n        override = \"atom\";\n      else if (colorKeywords.hasOwnProperty(word))\n        override = \"keyword\";\n      else\n        override = \"error\";\n    }\n    return state.context.type;\n  };\n\n  states.atComponentBlock = function(type, stream, state) {\n    if (type == \"}\")\n      return popAndPass(type, stream, state);\n    if (type == \"{\")\n      return popContext(state) && pushContext(state, stream, allowNested ? \"block\" : \"top\", false);\n    if (type == \"word\")\n      override = \"error\";\n    return state.context.type;\n  };\n\n  states.atBlock_parens = function(type, stream, state) {\n    if (type == \")\") return popContext(state);\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state, 2);\n    return states.atBlock(type, stream, state);\n  };\n\n  states.restricted_atBlock_before = function(type, stream, state) {\n    if (type == \"{\")\n      return pushContext(state, stream, \"restricted_atBlock\");\n    if (type == \"word\" && state.stateArg == \"@counter-style\") {\n      override = \"variable\";\n      return \"restricted_atBlock_before\";\n    }\n    return pass(type, stream, state);\n  };\n\n  states.restricted_atBlock = function(type, stream, state) {\n    if (type == \"}\") {\n      state.stateArg = null;\n      return popContext(state);\n    }\n    if (type == \"word\") {\n      if ((state.stateArg == \"@font-face\" && !fontProperties.hasOwnProperty(stream.current().toLowerCase())) ||\n          (state.stateArg == \"@counter-style\" && !counterDescriptors.hasOwnProperty(stream.current().toLowerCase())))\n        override = \"error\";\n      else\n        override = \"property\";\n      return \"maybeprop\";\n    }\n    return \"restricted_atBlock\";\n  };\n\n  states.keyframes = function(type, stream, state) {\n    if (type == \"word\") { override = \"variable\"; return \"keyframes\"; }\n    if (type == \"{\") return pushContext(state, stream, \"top\");\n    return pass(type, stream, state);\n  };\n\n  states.at = function(type, stream, state) {\n    if (type == \";\") return popContext(state);\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state);\n    if (type == \"word\") override = \"tag\";\n    else if (type == \"hash\") override = \"builtin\";\n    return \"at\";\n  };\n\n  states.interpolation = function(type, stream, state) {\n    if (type == \"}\") return popContext(state);\n    if (type == \"{\" || type == \";\") return popAndPass(type, stream, state);\n    if (type == \"word\") override = \"variable\";\n    else if (type != \"variable\" && type != \"(\" && type != \")\") override = \"error\";\n    return \"interpolation\";\n  };\n\n  return {\n    startState: function(base) {\n      return {tokenize: null,\n              state: inline ? \"block\" : \"top\",\n              stateArg: null,\n              context: new Context(inline ? \"block\" : \"top\", base || 0, null)};\n    },\n\n    token: function(stream, state) {\n      if (!state.tokenize && stream.eatSpace()) return null;\n      var style = (state.tokenize || tokenBase)(stream, state);\n      if (style && typeof style == \"object\") {\n        type = style[1];\n        style = style[0];\n      }\n      override = style;\n      if (type != \"comment\")\n        state.state = states[state.state](type, stream, state);\n      return override;\n    },\n\n    indent: function(state, textAfter) {\n      var cx = state.context, ch = textAfter && textAfter.charAt(0);\n      var indent = cx.indent;\n      if (cx.type == \"prop\" && (ch == \"}\" || ch == \")\")) cx = cx.prev;\n      if (cx.prev) {\n        if (ch == \"}\" && (cx.type == \"block\" || cx.type == \"top\" ||\n                          cx.type == \"interpolation\" || cx.type == \"restricted_atBlock\")) {\n          \/\/ Resume indentation from parent context.\n          cx = cx.prev;\n          indent = cx.indent;\n        } else if (ch == \")\" && (cx.type == \"parens\" || cx.type == \"atBlock_parens\") ||\n            ch == \"{\" && (cx.type == \"at\" || cx.type == \"atBlock\")) {\n          \/\/ Dedent relative to current context.\n          indent = Math.max(0, cx.indent - indentUnit);\n        }\n      }\n      return indent;\n    },\n\n    electricChars: \"}\",\n    blockCommentStart: \"\/*\",\n    blockCommentEnd: \"*\/\",\n    blockCommentContinue: \" * \",\n    lineComment: lineComment,\n    fold: \"brace\"\n  };\n});\n\n  function keySet(array) {\n    var keys = {};\n    for (var i = 0; i < array.length; ++i) {\n      keys[array[i].toLowerCase()] = true;\n    }\n    return keys;\n  }\n\n  var documentTypes_ = [\n    \"domain\", \"regexp\", \"url\", \"url-prefix\"\n  ], documentTypes = keySet(documentTypes_);\n\n  var mediaTypes_ = [\n    \"all\", \"aural\", \"braille\", \"handheld\", \"print\", \"projection\", \"screen\",\n    \"tty\", \"tv\", \"embossed\"\n  ], mediaTypes = keySet(mediaTypes_);\n\n  var mediaFeatures_ = [\n    \"width\", \"min-width\", \"max-width\", \"height\", \"min-height\", \"max-height\",\n    \"device-width\", \"min-device-width\", \"max-device-width\", \"device-height\",\n    \"min-device-height\", \"max-device-height\", \"aspect-ratio\",\n    \"min-aspect-ratio\", \"max-aspect-ratio\", \"device-aspect-ratio\",\n    \"min-device-aspect-ratio\", \"max-device-aspect-ratio\", \"color\", \"min-color\",\n    \"max-color\", \"color-index\", \"min-color-index\", \"max-color-index\",\n    \"monochrome\", \"min-monochrome\", \"max-monochrome\", \"resolution\",\n    \"min-resolution\", \"max-resolution\", \"scan\", \"grid\", \"orientation\",\n    \"device-pixel-ratio\", \"min-device-pixel-ratio\", \"max-device-pixel-ratio\",\n    \"pointer\", \"any-pointer\", \"hover\", \"any-hover\", \"prefers-color-scheme\"\n  ], mediaFeatures = keySet(mediaFeatures_);\n\n  var mediaValueKeywords_ = [\n    \"landscape\", \"portrait\", \"none\", \"coarse\", \"fine\", \"on-demand\", \"hover\",\n    \"interlace\", \"progressive\",\n    \"dark\", \"light\"\n  ], mediaValueKeywords = keySet(mediaValueKeywords_);\n\n  var propertyKeywords_ = [\n    \"align-content\", \"align-items\", \"align-self\", \"alignment-adjust\",\n    \"alignment-baseline\", \"all\", \"anchor-point\", \"animation\", \"animation-delay\",\n    \"animation-direction\", \"animation-duration\", \"animation-fill-mode\",\n    \"animation-iteration-count\", \"animation-name\", \"animation-play-state\",\n    \"animation-timing-function\", \"appearance\", \"azimuth\", \"backdrop-filter\",\n    \"backface-visibility\", \"background\", \"background-attachment\",\n    \"background-blend-mode\", \"background-clip\", \"background-color\",\n    \"background-image\", \"background-origin\", \"background-position\",\n    \"background-position-x\", \"background-position-y\", \"background-repeat\",\n    \"background-size\", \"baseline-shift\", \"binding\", \"bleed\", \"block-size\",\n    \"bookmark-label\", \"bookmark-level\", \"bookmark-state\", \"bookmark-target\",\n    \"border\", \"border-bottom\", \"border-bottom-color\", \"border-bottom-left-radius\",\n    \"border-bottom-right-radius\", \"border-bottom-style\", \"border-bottom-width\",\n    \"border-collapse\", \"border-color\", \"border-image\", \"border-image-outset\",\n    \"border-image-repeat\", \"border-image-slice\", \"border-image-source\",\n    \"border-image-width\", \"border-left\", \"border-left-color\", \"border-left-style\",\n    \"border-left-width\", \"border-radius\", \"border-right\", \"border-right-color\",\n    \"border-right-style\", \"border-right-width\", \"border-spacing\", \"border-style\",\n    \"border-top\", \"border-top-color\", \"border-top-left-radius\",\n    \"border-top-right-radius\", \"border-top-style\", \"border-top-width\",\n    \"border-width\", \"bottom\", \"box-decoration-break\", \"box-shadow\", \"box-sizing\",\n    \"break-after\", \"break-before\", \"break-inside\", \"caption-side\", \"caret-color\",\n    \"clear\", \"clip\", \"color\", \"color-profile\", \"column-count\", \"column-fill\",\n    \"column-gap\", \"column-rule\", \"column-rule-color\", \"column-rule-style\",\n    \"column-rule-width\", \"column-span\", \"column-width\", \"columns\", \"contain\",\n    \"content\", \"counter-increment\", \"counter-reset\", \"crop\", \"cue\", \"cue-after\",\n    \"cue-before\", \"cursor\", \"direction\", \"display\", \"dominant-baseline\",\n    \"drop-initial-after-adjust\", \"drop-initial-after-align\",\n    \"drop-initial-before-adjust\", \"drop-initial-before-align\", \"drop-initial-size\",\n    \"drop-initial-value\", \"elevation\", \"empty-cells\", \"fit\", \"fit-position\",\n    \"flex\", \"flex-basis\", \"flex-direction\", \"flex-flow\", \"flex-grow\",\n    \"flex-shrink\", \"flex-wrap\", \"float\", \"float-offset\", \"flow-from\", \"flow-into\",\n    \"font\", \"font-family\", \"font-feature-settings\", \"font-kerning\",\n    \"font-language-override\", \"font-optical-sizing\", \"font-size\",\n    \"font-size-adjust\", \"font-stretch\", \"font-style\", \"font-synthesis\",\n    \"font-variant\", \"font-variant-alternates\", \"font-variant-caps\",\n    \"font-variant-east-asian\", \"font-variant-ligatures\", \"font-variant-numeric\",\n    \"font-variant-position\", \"font-variation-settings\", \"font-weight\", \"gap\",\n    \"grid\", \"grid-area\", \"grid-auto-columns\", \"grid-auto-flow\", \"grid-auto-rows\",\n    \"grid-column\", \"grid-column-end\", \"grid-column-gap\", \"grid-column-start\",\n    \"grid-gap\", \"grid-row\", \"grid-row-end\", \"grid-row-gap\", \"grid-row-start\",\n    \"grid-template\", \"grid-template-areas\", \"grid-template-columns\",\n    \"grid-template-rows\", \"hanging-punctuation\", \"height\", \"hyphens\", \"icon\",\n    \"image-orientation\", \"image-rendering\", \"image-resolution\", \"inline-box-align\",\n    \"inset\", \"inset-block\", \"inset-block-end\", \"inset-block-start\", \"inset-inline\",\n    \"inset-inline-end\", \"inset-inline-start\", \"isolation\", \"justify-content\",\n    \"justify-items\", \"justify-self\", \"left\", \"letter-spacing\", \"line-break\",\n    \"line-height\", \"line-height-step\", \"line-stacking\", \"line-stacking-ruby\",\n    \"line-stacking-shift\", \"line-stacking-strategy\", \"list-style\",\n    \"list-style-image\", \"list-style-position\", \"list-style-type\", \"margin\",\n    \"margin-bottom\", \"margin-left\", \"margin-right\", \"margin-top\", \"marks\",\n    \"marquee-direction\", \"marquee-loop\", \"marquee-play-count\", \"marquee-speed\",\n    \"marquee-style\", \"mask-clip\", \"mask-composite\", \"mask-image\", \"mask-mode\",\n    \"mask-origin\", \"mask-position\", \"mask-repeat\", \"mask-size\",\"mask-type\",\n    \"max-block-size\", \"max-height\", \"max-inline-size\",\n    \"max-width\", \"min-block-size\", \"min-height\", \"min-inline-size\", \"min-width\",\n    \"mix-blend-mode\", \"move-to\", \"nav-down\", \"nav-index\", \"nav-left\", \"nav-right\",\n    \"nav-up\", \"object-fit\", \"object-position\", \"offset\", \"offset-anchor\",\n    \"offset-distance\", \"offset-path\", \"offset-position\", \"offset-rotate\",\n    \"opacity\", \"order\", \"orphans\", \"outline\", \"outline-color\", \"outline-offset\",\n    \"outline-style\", \"outline-width\", \"overflow\", \"overflow-style\",\n    \"overflow-wrap\", \"overflow-x\", \"overflow-y\", \"padding\", \"padding-bottom\",\n    \"padding-left\", \"padding-right\", \"padding-top\", \"page\", \"page-break-after\",\n    \"page-break-before\", \"page-break-inside\", \"page-policy\", \"pause\",\n    \"pause-after\", \"pause-before\", \"perspective\", \"perspective-origin\", \"pitch\",\n    \"pitch-range\", \"place-content\", \"place-items\", \"place-self\", \"play-during\",\n    \"position\", \"presentation-level\", \"punctuation-trim\", \"quotes\",\n    \"region-break-after\", \"region-break-before\", \"region-break-inside\",\n    \"region-fragment\", \"rendering-intent\", \"resize\", \"rest\", \"rest-after\",\n    \"rest-before\", \"richness\", \"right\", \"rotate\", \"rotation\", \"rotation-point\",\n    \"row-gap\", \"ruby-align\", \"ruby-overhang\", \"ruby-position\", \"ruby-span\",\n    \"scale\", \"scroll-behavior\", \"scroll-margin\", \"scroll-margin-block\",\n    \"scroll-margin-block-end\", \"scroll-margin-block-start\", \"scroll-margin-bottom\",\n    \"scroll-margin-inline\", \"scroll-margin-inline-end\",\n    \"scroll-margin-inline-start\", \"scroll-margin-left\", \"scroll-margin-right\",\n    \"scroll-margin-top\", \"scroll-padding\", \"scroll-padding-block\",\n    \"scroll-padding-block-end\", \"scroll-padding-block-start\",\n    \"scroll-padding-bottom\", \"scroll-padding-inline\", \"scroll-padding-inline-end\",\n    \"scroll-padding-inline-start\", \"scroll-padding-left\", \"scroll-padding-right\",\n    \"scroll-padding-top\", \"scroll-snap-align\", \"scroll-snap-type\",\n    \"shape-image-threshold\", \"shape-inside\", \"shape-margin\", \"shape-outside\",\n    \"size\", \"speak\", \"speak-as\", \"speak-header\", \"speak-numeral\",\n    \"speak-punctuation\", \"speech-rate\", \"stress\", \"string-set\", \"tab-size\",\n    \"table-layout\", \"target\", \"target-name\", \"target-new\", \"target-position\",\n    \"text-align\", \"text-align-last\", \"text-combine-upright\", \"text-decoration\",\n    \"text-decoration-color\", \"text-decoration-line\", \"text-decoration-skip\",\n    \"text-decoration-skip-ink\", \"text-decoration-style\", \"text-emphasis\",\n    \"text-emphasis-color\", \"text-emphasis-position\", \"text-emphasis-style\",\n    \"text-height\", \"text-indent\", \"text-justify\", \"text-orientation\",\n    \"text-outline\", \"text-overflow\", \"text-rendering\", \"text-shadow\",\n    \"text-size-adjust\", \"text-space-collapse\", \"text-transform\",\n    \"text-underline-position\", \"text-wrap\", \"top\", \"touch-action\", \"transform\", \"transform-origin\",\n    \"transform-style\", \"transition\", \"transition-delay\", \"transition-duration\",\n    \"transition-property\", \"transition-timing-function\", \"translate\",\n    \"unicode-bidi\", \"user-select\", \"vertical-align\", \"visibility\", \"voice-balance\",\n    \"voice-duration\", \"voice-family\", \"voice-pitch\", \"voice-range\", \"voice-rate\",\n    \"voice-stress\", \"voice-volume\", \"volume\", \"white-space\", \"widows\", \"width\",\n    \"will-change\", \"word-break\", \"word-spacing\", \"word-wrap\", \"writing-mode\", \"z-index\",\n    \/\/ SVG-specific\n    \"clip-path\", \"clip-rule\", \"mask\", \"enable-background\", \"filter\", \"flood-color\",\n    \"flood-opacity\", \"lighting-color\", \"stop-color\", \"stop-opacity\", \"pointer-events\",\n    \"color-interpolation\", \"color-interpolation-filters\",\n    \"color-rendering\", \"fill\", \"fill-opacity\", \"fill-rule\", \"image-rendering\",\n    \"marker\", \"marker-end\", \"marker-mid\", \"marker-start\", \"paint-order\", \"shape-rendering\", \"stroke\",\n    \"stroke-dasharray\", \"stroke-dashoffset\", \"stroke-linecap\", \"stroke-linejoin\",\n    \"stroke-miterlimit\", \"stroke-opacity\", \"stroke-width\", \"text-rendering\",\n    \"baseline-shift\", \"dominant-baseline\", \"glyph-orientation-horizontal\",\n    \"glyph-orientation-vertical\", \"text-anchor\", \"writing-mode\",\n  ], propertyKeywords = keySet(propertyKeywords_);\n\n  var nonStandardPropertyKeywords_ = [\n    \"border-block\", \"border-block-color\", \"border-block-end\",\n    \"border-block-end-color\", \"border-block-end-style\", \"border-block-end-width\",\n    \"border-block-start\", \"border-block-start-color\", \"border-block-start-style\",\n    \"border-block-start-width\", \"border-block-style\", \"border-block-width\",\n    \"border-inline\", \"border-inline-color\", \"border-inline-end\",\n    \"border-inline-end-color\", \"border-inline-end-style\",\n    \"border-inline-end-width\", \"border-inline-start\", \"border-inline-start-color\",\n    \"border-inline-start-style\", \"border-inline-start-width\",\n    \"border-inline-style\", \"border-inline-width\", \"margin-block\",\n    \"margin-block-end\", \"margin-block-start\", \"margin-inline\", \"margin-inline-end\",\n    \"margin-inline-start\", \"padding-block\", \"padding-block-end\",\n    \"padding-block-start\", \"padding-inline\", \"padding-inline-end\",\n    \"padding-inline-start\", \"scroll-snap-stop\", \"scrollbar-3d-light-color\",\n    \"scrollbar-arrow-color\", \"scrollbar-base-color\", \"scrollbar-dark-shadow-color\",\n    \"scrollbar-face-color\", \"scrollbar-highlight-color\", \"scrollbar-shadow-color\",\n    \"scrollbar-track-color\", \"searchfield-cancel-button\", \"searchfield-decoration\",\n    \"searchfield-results-button\", \"searchfield-results-decoration\", \"shape-inside\", \"zoom\"\n  ], nonStandardPropertyKeywords = keySet(nonStandardPropertyKeywords_);\n\n  var fontProperties_ = [\n    \"font-display\", \"font-family\", \"src\", \"unicode-range\", \"font-variant\",\n     \"font-feature-settings\", \"font-stretch\", \"font-weight\", \"font-style\"\n  ], fontProperties = keySet(fontProperties_);\n\n  var counterDescriptors_ = [\n    \"additive-symbols\", \"fallback\", \"negative\", \"pad\", \"prefix\", \"range\",\n    \"speak-as\", \"suffix\", \"symbols\", \"system\"\n  ], counterDescriptors = keySet(counterDescriptors_);\n\n  var colorKeywords_ = [\n    \"aliceblue\", \"antiquewhite\", \"aqua\", \"aquamarine\", \"azure\", \"beige\",\n    \"bisque\", \"black\", \"blanchedalmond\", \"blue\", \"blueviolet\", \"brown\",\n    \"burlywood\", \"cadetblue\", \"chartreuse\", \"chocolate\", \"coral\", \"cornflowerblue\",\n    \"cornsilk\", \"crimson\", \"cyan\", \"darkblue\", \"darkcyan\", \"darkgoldenrod\",\n    \"darkgray\", \"darkgreen\", \"darkkhaki\", \"darkmagenta\", \"darkolivegreen\",\n    \"darkorange\", \"darkorchid\", \"darkred\", \"darksalmon\", \"darkseagreen\",\n    \"darkslateblue\", \"darkslategray\", \"darkturquoise\", \"darkviolet\",\n    \"deeppink\", \"deepskyblue\", \"dimgray\", \"dodgerblue\", \"firebrick\",\n    \"floralwhite\", \"forestgreen\", \"fuchsia\", \"gainsboro\", \"ghostwhite\",\n    \"gold\", \"goldenrod\", \"gray\", \"grey\", \"green\", \"greenyellow\", \"honeydew\",\n    \"hotpink\", \"indianred\", \"indigo\", \"ivory\", \"khaki\", \"lavender\",\n    \"lavenderblush\", \"lawngreen\", \"lemonchiffon\", \"lightblue\", \"lightcoral\",\n    \"lightcyan\", \"lightgoldenrodyellow\", \"lightgray\", \"lightgreen\", \"lightpink\",\n    \"lightsalmon\", \"lightseagreen\", \"lightskyblue\", \"lightslategray\",\n    \"lightsteelblue\", \"lightyellow\", \"lime\", \"limegreen\", \"linen\", \"magenta\",\n    \"maroon\", \"mediumaquamarine\", \"mediumblue\", \"mediumorchid\", \"mediumpurple\",\n    \"mediumseagreen\", \"mediumslateblue\", \"mediumspringgreen\", \"mediumturquoise\",\n    \"mediumvioletred\", \"midnightblue\", \"mintcream\", \"mistyrose\", \"moccasin\",\n    \"navajowhite\", \"navy\", \"oldlace\", \"olive\", \"olivedrab\", \"orange\", \"orangered\",\n    \"orchid\", \"palegoldenrod\", \"palegreen\", \"paleturquoise\", \"palevioletred\",\n    \"papayawhip\", \"peachpuff\", \"peru\", \"pink\", \"plum\", \"powderblue\",\n    \"purple\", \"rebeccapurple\", \"red\", \"rosybrown\", \"royalblue\", \"saddlebrown\",\n    \"salmon\", \"sandybrown\", \"seagreen\", \"seashell\", \"sienna\", \"silver\", \"skyblue\",\n    \"slateblue\", \"slategray\", \"snow\", \"springgreen\", \"steelblue\", \"tan\",\n    \"teal\", \"thistle\", \"tomato\", \"turquoise\", \"violet\", \"wheat\", \"white\",\n    \"whitesmoke\", \"yellow\", \"yellowgreen\"\n  ], colorKeywords = keySet(colorKeywords_);\n\n  var valueKeywords_ = [\n    \"above\", \"absolute\", \"activeborder\", \"additive\", \"activecaption\", \"afar\",\n    \"after-white-space\", \"ahead\", \"alias\", \"all\", \"all-scroll\", \"alphabetic\", \"alternate\",\n    \"always\", \"amharic\", \"amharic-abegede\", \"antialiased\", \"appworkspace\",\n    \"arabic-indic\", \"armenian\", \"asterisks\", \"attr\", \"auto\", \"auto-flow\", \"avoid\", \"avoid-column\", \"avoid-page\",\n    \"avoid-region\", \"axis-pan\", \"background\", \"backwards\", \"baseline\", \"below\", \"bidi-override\", \"binary\",\n    \"bengali\", \"blink\", \"block\", \"block-axis\", \"bold\", \"bolder\", \"border\", \"border-box\",\n    \"both\", \"bottom\", \"break\", \"break-all\", \"break-word\", \"bullets\", \"button\", \"button-bevel\",\n    \"buttonface\", \"buttonhighlight\", \"buttonshadow\", \"buttontext\", \"calc\", \"cambodian\",\n    \"capitalize\", \"caps-lock-indicator\", \"caption\", \"captiontext\", \"caret\",\n    \"cell\", \"center\", \"checkbox\", \"circle\", \"cjk-decimal\", \"cjk-earthly-branch\",\n    \"cjk-heavenly-stem\", \"cjk-ideographic\", \"clear\", \"clip\", \"close-quote\",\n    \"col-resize\", \"collapse\", \"color\", \"color-burn\", \"color-dodge\", \"column\", \"column-reverse\",\n    \"compact\", \"condensed\", \"contain\", \"content\", \"contents\",\n    \"content-box\", \"context-menu\", \"continuous\", \"copy\", \"counter\", \"counters\", \"cover\", \"crop\",\n    \"cross\", \"crosshair\", \"currentcolor\", \"cursive\", \"cyclic\", \"darken\", \"dashed\", \"decimal\",\n    \"decimal-leading-zero\", \"default\", \"default-button\", \"dense\", \"destination-atop\",\n    \"destination-in\", \"destination-out\", \"destination-over\", \"devanagari\", \"difference\",\n    \"disc\", \"discard\", \"disclosure-closed\", \"disclosure-open\", \"document\",\n    \"dot-dash\", \"dot-dot-dash\",\n    \"dotted\", \"double\", \"down\", \"e-resize\", \"ease\", \"ease-in\", \"ease-in-out\", \"ease-out\",\n    \"element\", \"ellipse\", \"ellipsis\", \"embed\", \"end\", \"ethiopic\", \"ethiopic-abegede\",\n    \"ethiopic-abegede-am-et\", \"ethiopic-abegede-gez\", \"ethiopic-abegede-ti-er\",\n    \"ethiopic-abegede-ti-et\", \"ethiopic-halehame-aa-er\",\n    \"ethiopic-halehame-aa-et\", \"ethiopic-halehame-am-et\",\n    \"ethiopic-halehame-gez\", \"ethiopic-halehame-om-et\",\n    \"ethiopic-halehame-sid-et\", \"ethiopic-halehame-so-et\",\n    \"ethiopic-halehame-ti-er\", \"ethiopic-halehame-ti-et\", \"ethiopic-halehame-tig\",\n    \"ethiopic-numeric\", \"ew-resize\", \"exclusion\", \"expanded\", \"extends\", \"extra-condensed\",\n    \"extra-expanded\", \"fantasy\", \"fast\", \"fill\", \"fill-box\", \"fixed\", \"flat\", \"flex\", \"flex-end\", \"flex-start\", \"footnotes\",\n    \"forwards\", \"from\", \"geometricPrecision\", \"georgian\", \"graytext\", \"grid\", \"groove\",\n    \"gujarati\", \"gurmukhi\", \"hand\", \"hangul\", \"hangul-consonant\", \"hard-light\", \"hebrew\",\n    \"help\", \"hidden\", \"hide\", \"higher\", \"highlight\", \"highlighttext\",\n    \"hiragana\", \"hiragana-iroha\", \"horizontal\", \"hsl\", \"hsla\", \"hue\", \"icon\", \"ignore\",\n    \"inactiveborder\", \"inactivecaption\", \"inactivecaptiontext\", \"infinite\",\n    \"infobackground\", \"infotext\", \"inherit\", \"initial\", \"inline\", \"inline-axis\",\n    \"inline-block\", \"inline-flex\", \"inline-grid\", \"inline-table\", \"inset\", \"inside\", \"intrinsic\", \"invert\",\n    \"italic\", \"japanese-formal\", \"japanese-informal\", \"justify\", \"kannada\",\n    \"katakana\", \"katakana-iroha\", \"keep-all\", \"khmer\",\n    \"korean-hangul-formal\", \"korean-hanja-formal\", \"korean-hanja-informal\",\n    \"landscape\", \"lao\", \"large\", \"larger\", \"left\", \"level\", \"lighter\", \"lighten\",\n    \"line-through\", \"linear\", \"linear-gradient\", \"lines\", \"list-item\", \"listbox\", \"listitem\",\n    \"local\", \"logical\", \"loud\", \"lower\", \"lower-alpha\", \"lower-armenian\",\n    \"lower-greek\", \"lower-hexadecimal\", \"lower-latin\", \"lower-norwegian\",\n    \"lower-roman\", \"lowercase\", \"ltr\", \"luminosity\", \"malayalam\", \"manipulation\", \"match\", \"matrix\", \"matrix3d\",\n    \"media-controls-background\", \"media-current-time-display\",\n    \"media-fullscreen-button\", \"media-mute-button\", \"media-play-button\",\n    \"media-return-to-realtime-button\", \"media-rewind-button\",\n    \"media-seek-back-button\", \"media-seek-forward-button\", \"media-slider\",\n    \"media-sliderthumb\", \"media-time-remaining-display\", \"media-volume-slider\",\n    \"media-volume-slider-container\", \"media-volume-sliderthumb\", \"medium\",\n    \"menu\", \"menulist\", \"menulist-button\", \"menulist-text\",\n    \"menulist-textfield\", \"menutext\", \"message-box\", \"middle\", \"min-intrinsic\",\n    \"mix\", \"mongolian\", \"monospace\", \"move\", \"multiple\", \"multiple_mask_images\", \"multiply\", \"myanmar\", \"n-resize\",\n    \"narrower\", \"ne-resize\", \"nesw-resize\", \"no-close-quote\", \"no-drop\",\n    \"no-open-quote\", \"no-repeat\", \"none\", \"normal\", \"not-allowed\", \"nowrap\",\n    \"ns-resize\", \"numbers\", \"numeric\", \"nw-resize\", \"nwse-resize\", \"oblique\", \"octal\", \"opacity\", \"open-quote\",\n    \"optimizeLegibility\", \"optimizeSpeed\", \"oriya\", \"oromo\", \"outset\",\n    \"outside\", \"outside-shape\", \"overlay\", \"overline\", \"padding\", \"padding-box\",\n    \"painted\", \"page\", \"paused\", \"persian\", \"perspective\", \"pinch-zoom\", \"plus-darker\", \"plus-lighter\",\n    \"pointer\", \"polygon\", \"portrait\", \"pre\", \"pre-line\", \"pre-wrap\", \"preserve-3d\",\n    \"progress\", \"push-button\", \"radial-gradient\", \"radio\", \"read-only\",\n    \"read-write\", \"read-write-plaintext-only\", \"rectangle\", \"region\",\n    \"relative\", \"repeat\", \"repeating-linear-gradient\",\n    \"repeating-radial-gradient\", \"repeat-x\", \"repeat-y\", \"reset\", \"reverse\",\n    \"rgb\", \"rgba\", \"ridge\", \"right\", \"rotate\", \"rotate3d\", \"rotateX\", \"rotateY\",\n    \"rotateZ\", \"round\", \"row\", \"row-resize\", \"row-reverse\", \"rtl\", \"run-in\", \"running\",\n    \"s-resize\", \"sans-serif\", \"saturation\", \"scale\", \"scale3d\", \"scaleX\", \"scaleY\", \"scaleZ\", \"screen\",\n    \"scroll\", \"scrollbar\", \"scroll-position\", \"se-resize\", \"searchfield\",\n    \"searchfield-cancel-button\", \"searchfield-decoration\",\n    \"searchfield-results-button\", \"searchfield-results-decoration\", \"self-start\", \"self-end\",\n    \"semi-condensed\", \"semi-expanded\", \"separate\", \"serif\", \"show\", \"sidama\",\n    \"simp-chinese-formal\", \"simp-chinese-informal\", \"single\",\n    \"skew\", \"skewX\", \"skewY\", \"skip-white-space\", \"slide\", \"slider-horizontal\",\n    \"slider-vertical\", \"sliderthumb-horizontal\", \"sliderthumb-vertical\", \"slow\",\n    \"small\", \"small-caps\", \"small-caption\", \"smaller\", \"soft-light\", \"solid\", \"somali\",\n    \"source-atop\", \"source-in\", \"source-out\", \"source-over\", \"space\", \"space-around\", \"space-between\", \"space-evenly\", \"spell-out\", \"square\",\n    \"square-button\", \"start\", \"static\", \"status-bar\", \"stretch\", \"stroke\", \"stroke-box\", \"sub\",\n    \"subpixel-antialiased\", \"svg_masks\", \"super\", \"sw-resize\", \"symbolic\", \"symbols\", \"system-ui\", \"table\",\n    \"table-caption\", \"table-cell\", \"table-column\", \"table-column-group\",\n    \"table-footer-group\", \"table-header-group\", \"table-row\", \"table-row-group\",\n    \"tamil\",\n    \"telugu\", \"text\", \"text-bottom\", \"text-top\", \"textarea\", \"textfield\", \"thai\",\n    \"thick\", \"thin\", \"threeddarkshadow\", \"threedface\", \"threedhighlight\",\n    \"threedlightshadow\", \"threedshadow\", \"tibetan\", \"tigre\", \"tigrinya-er\",\n    \"tigrinya-er-abegede\", \"tigrinya-et\", \"tigrinya-et-abegede\", \"to\", \"top\",\n    \"trad-chinese-formal\", \"trad-chinese-informal\", \"transform\",\n    \"translate\", \"translate3d\", \"translateX\", \"translateY\", \"translateZ\",\n    \"transparent\", \"ultra-condensed\", \"ultra-expanded\", \"underline\", \"unidirectional-pan\", \"unset\", \"up\",\n    \"upper-alpha\", \"upper-armenian\", \"upper-greek\", \"upper-hexadecimal\",\n    \"upper-latin\", \"upper-norwegian\", \"upper-roman\", \"uppercase\", \"urdu\", \"url\",\n    \"var\", \"vertical\", \"vertical-text\", \"view-box\", \"visible\", \"visibleFill\", \"visiblePainted\",\n    \"visibleStroke\", \"visual\", \"w-resize\", \"wait\", \"wave\", \"wider\",\n    \"window\", \"windowframe\", \"windowtext\", \"words\", \"wrap\", \"wrap-reverse\", \"x-large\", \"x-small\", \"xor\",\n    \"xx-large\", \"xx-small\"\n  ], valueKeywords = keySet(valueKeywords_);\n\n  var allWords = documentTypes_.concat(mediaTypes_).concat(mediaFeatures_).concat(mediaValueKeywords_)\n    .concat(propertyKeywords_).concat(nonStandardPropertyKeywords_).concat(colorKeywords_)\n    .concat(valueKeywords_);\n  CodeMirror.registerHelper(\"hintWords\", \"css\", allWords);\n\n  function tokenCComment(stream, state) {\n    var maybeEnd = false, ch;\n    while ((ch = stream.next()) != null) {\n      if (maybeEnd && ch == \"\/\") {\n        state.tokenize = null;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return [\"comment\", \"comment\"];\n  }\n\n  CodeMirror.defineMIME(\"text\/css\", {\n    documentTypes: documentTypes,\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    fontProperties: fontProperties,\n    counterDescriptors: counterDescriptors,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    tokenHooks: {\n      \"\/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false;\n        state.tokenize = tokenCComment;\n        return tokenCComment(stream, state);\n      }\n    },\n    name: \"css\"\n  });\n\n  CodeMirror.defineMIME(\"text\/x-scss\", {\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    fontProperties: fontProperties,\n    allowNested: true,\n    lineComment: \"\/\/\",\n    tokenHooks: {\n      \"\/\": function(stream, state) {\n        if (stream.eat(\"\/\")) {\n          stream.skipToEnd();\n          return [\"comment\", \"comment\"];\n        } else if (stream.eat(\"*\")) {\n          state.tokenize = tokenCComment;\n          return tokenCComment(stream, state);\n        } else {\n          return [\"operator\", \"operator\"];\n        }\n      },\n      \":\": function(stream) {\n        if (stream.match(\/^\\s*\\{\/, false))\n          return [null, null]\n        return false;\n      },\n      \"$\": function(stream) {\n        stream.match(\/^[\\w-]+\/);\n        if (stream.match(\/^\\s*:\/, false))\n          return [\"variable-2\", \"variable-definition\"];\n        return [\"variable-2\", \"variable\"];\n      },\n      \"#\": function(stream) {\n        if (!stream.eat(\"{\")) return false;\n        return [null, \"interpolation\"];\n      }\n    },\n    name: \"css\",\n    helperType: \"scss\"\n  });\n\n  CodeMirror.defineMIME(\"text\/x-less\", {\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    fontProperties: fontProperties,\n    allowNested: true,\n    lineComment: \"\/\/\",\n    tokenHooks: {\n      \"\/\": function(stream, state) {\n        if (stream.eat(\"\/\")) {\n          stream.skipToEnd();\n          return [\"comment\", \"comment\"];\n        } else if (stream.eat(\"*\")) {\n          state.tokenize = tokenCComment;\n          return tokenCComment(stream, state);\n        } else {\n          return [\"operator\", \"operator\"];\n        }\n      },\n      \"@\": function(stream) {\n        if (stream.eat(\"{\")) return [null, \"interpolation\"];\n        if (stream.match(\/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\\b\/i, false)) return false;\n        stream.eatWhile(\/[\\w\\\\\\-]\/);\n        if (stream.match(\/^\\s*:\/, false))\n          return [\"variable-2\", \"variable-definition\"];\n        return [\"variable-2\", \"variable\"];\n      },\n      \"&\": function() {\n        return [\"atom\", \"atom\"];\n      }\n    },\n    name: \"css\",\n    helperType: \"less\"\n  });\n\n  CodeMirror.defineMIME(\"text\/x-gss\", {\n    documentTypes: documentTypes,\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    fontProperties: fontProperties,\n    counterDescriptors: counterDescriptors,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    supportsAtComponent: true,\n    tokenHooks: {\n      \"\/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false;\n        state.tokenize = tokenCComment;\n        return tokenCComment(stream, state);\n      }\n    },\n    name: \"css\",\n    helperType: \"gss\"\n  });\n\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","keySet","array","keys","i","length","toLowerCase","tokenCComment","stream","state","maybeEnd","ch","next","tokenize","defineMode","config","parserConfig","ret","style","tp","type","tokenBase","tokenHooks","result","eatWhile","current","eat","tokenString","match","test","peek","tokenParenthesized","quote","escaped","backUp","Context","indent","prev","pushContext","context","indentation","indentUnit","popContext","popAndPass","n","states","wordAsValue","word","override","valueKeywords","hasOwnProperty","colorKeywords","inline","propertyKeywords","resolveMode","documentTypes","mediaTypes","mediaFeatures","mediaValueKeywords","nonStandardPropertyKeywords","fontProperties","counterDescriptors","allowNested","supportsAtComponent","highlightNonStandardPropertyKeywords","states.top","stateArg","charAt","states.block","top","states.maybeprop","states.prop","states.propBlock","_stream","states.parens","states.pseudo","states.documentTypes","atBlock","states.atBlock","states.atComponentBlock","states.atBlock_parens","states.restricted_atBlock_before","states.restricted_atBlock","states.keyframes","states.at","states.interpolation","startState","base","token","eatSpace","textAfter","cx","Math","max","electricChars","blockCommentStart","blockCommentEnd","blockCommentContinue","lineComment","fold","documentTypes_","mediaTypes_","mediaFeatures_","mediaValueKeywords_","propertyKeywords_","nonStandardPropertyKeywords_","fontProperties_","counterDescriptors_","colorKeywords_","valueKeywords_","allWords","concat","registerHelper","defineMIME","\/","name","skipToEnd",":","$","#","helperType","@","&"]}},{"offset":{"line":511,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$mode$sass$sass.js","lineCount":9,"mappings":"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","sources":["node_modules\/codemirror\/mode\/sass\/sass.js"],"sourcesContent":["shadow$provide[267] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"), require(\"..\/css\/css\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\", \"..\/css\/css\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"sass\", function(config) {\n  var cssMode = CodeMirror.mimeModes[\"text\/css\"];\n  var propertyKeywords = cssMode.propertyKeywords || {},\n      colorKeywords = cssMode.colorKeywords || {},\n      valueKeywords = cssMode.valueKeywords || {},\n      fontProperties = cssMode.fontProperties || {};\n\n  function tokenRegexp(words) {\n    return new RegExp(\"^\" + words.join(\"|\"));\n  }\n\n  var keywords = [\"true\", \"false\", \"null\", \"auto\"];\n  var keywordsRegexp = new RegExp(\"^\" + keywords.join(\"|\"));\n\n  var operators = [\"\\\\(\", \"\\\\)\", \"=\", \">\", \"<\", \"==\", \">=\", \"<=\", \"\\\\+\", \"-\",\n                   \"\\\\!=\", \"\/\", \"\\\\*\", \"%\", \"and\", \"or\", \"not\", \";\",\"\\\\{\",\"\\\\}\",\":\"];\n  var opRegexp = tokenRegexp(operators);\n\n  var pseudoElementsRegexp = \/^::?[a-zA-Z_][\\w\\-]*\/;\n\n  var word;\n\n  function isEndLine(stream) {\n    return !stream.peek() || stream.match(\/\\s+$\/, false);\n  }\n\n  function urlTokens(stream, state) {\n    var ch = stream.peek();\n\n    if (ch === \")\") {\n      stream.next();\n      state.tokenizer = tokenBase;\n      return \"operator\";\n    } else if (ch === \"(\") {\n      stream.next();\n      stream.eatSpace();\n\n      return \"operator\";\n    } else if (ch === \"'\" || ch === '\"') {\n      state.tokenizer = buildStringTokenizer(stream.next());\n      return \"string\";\n    } else {\n      state.tokenizer = buildStringTokenizer(\")\", false);\n      return \"string\";\n    }\n  }\n  function comment(indentation, multiLine) {\n    return function(stream, state) {\n      if (stream.sol() && stream.indentation() <= indentation) {\n        state.tokenizer = tokenBase;\n        return tokenBase(stream, state);\n      }\n\n      if (multiLine && stream.skipTo(\"*\/\")) {\n        stream.next();\n        stream.next();\n        state.tokenizer = tokenBase;\n      } else {\n        stream.skipToEnd();\n      }\n\n      return \"comment\";\n    };\n  }\n\n  function buildStringTokenizer(quote, greedy) {\n    if (greedy == null) { greedy = true; }\n\n    function stringTokenizer(stream, state) {\n      var nextChar = stream.next();\n      var peekChar = stream.peek();\n      var previousChar = stream.string.charAt(stream.pos-2);\n\n      var endingString = ((nextChar !== \"\\\\\" && peekChar === quote) || (nextChar === quote && previousChar !== \"\\\\\"));\n\n      if (endingString) {\n        if (nextChar !== quote && greedy) { stream.next(); }\n        if (isEndLine(stream)) {\n          state.cursorHalf = 0;\n        }\n        state.tokenizer = tokenBase;\n        return \"string\";\n      } else if (nextChar === \"#\" && peekChar === \"{\") {\n        state.tokenizer = buildInterpolationTokenizer(stringTokenizer);\n        stream.next();\n        return \"operator\";\n      } else {\n        return \"string\";\n      }\n    }\n\n    return stringTokenizer;\n  }\n\n  function buildInterpolationTokenizer(currentTokenizer) {\n    return function(stream, state) {\n      if (stream.peek() === \"}\") {\n        stream.next();\n        state.tokenizer = currentTokenizer;\n        return \"operator\";\n      } else {\n        return tokenBase(stream, state);\n      }\n    };\n  }\n\n  function indent(state) {\n    if (state.indentCount == 0) {\n      state.indentCount++;\n      var lastScopeOffset = state.scopes[0].offset;\n      var currentOffset = lastScopeOffset + config.indentUnit;\n      state.scopes.unshift({ offset:currentOffset });\n    }\n  }\n\n  function dedent(state) {\n    if (state.scopes.length == 1) return;\n\n    state.scopes.shift();\n  }\n\n  function tokenBase(stream, state) {\n    var ch = stream.peek();\n\n    \/\/ Comment\n    if (stream.match(\"\/*\")) {\n      state.tokenizer = comment(stream.indentation(), true);\n      return state.tokenizer(stream, state);\n    }\n    if (stream.match(\"\/\/\")) {\n      state.tokenizer = comment(stream.indentation(), false);\n      return state.tokenizer(stream, state);\n    }\n\n    \/\/ Interpolation\n    if (stream.match(\"#{\")) {\n      state.tokenizer = buildInterpolationTokenizer(tokenBase);\n      return \"operator\";\n    }\n\n    \/\/ Strings\n    if (ch === '\"' || ch === \"'\") {\n      stream.next();\n      state.tokenizer = buildStringTokenizer(ch);\n      return \"string\";\n    }\n\n    if(!state.cursorHalf){\/\/ state.cursorHalf === 0\n    \/\/ first half i.e. before : for key-value pairs\n    \/\/ including selectors\n\n      if (ch === \"-\") {\n        if (stream.match(\/^-\\w+-\/)) {\n          return \"meta\";\n        }\n      }\n\n      if (ch === \".\") {\n        stream.next();\n        if (stream.match(\/^[\\w-]+\/)) {\n          indent(state);\n          return \"qualifier\";\n        } else if (stream.peek() === \"#\") {\n          indent(state);\n          return \"tag\";\n        }\n      }\n\n      if (ch === \"#\") {\n        stream.next();\n        \/\/ ID selectors\n        if (stream.match(\/^[\\w-]+\/)) {\n          indent(state);\n          return \"builtin\";\n        }\n        if (stream.peek() === \"#\") {\n          indent(state);\n          return \"tag\";\n        }\n      }\n\n      \/\/ Variables\n      if (ch === \"$\") {\n        stream.next();\n        stream.eatWhile(\/[\\w-]\/);\n        return \"variable-2\";\n      }\n\n      \/\/ Numbers\n      if (stream.match(\/^-?[0-9\\.]+\/))\n        return \"number\";\n\n      \/\/ Units\n      if (stream.match(\/^(px|em|in)\\b\/))\n        return \"unit\";\n\n      if (stream.match(keywordsRegexp))\n        return \"keyword\";\n\n      if (stream.match(\/^url\/) && stream.peek() === \"(\") {\n        state.tokenizer = urlTokens;\n        return \"atom\";\n      }\n\n      if (ch === \"=\") {\n        \/\/ Match shortcut mixin definition\n        if (stream.match(\/^=[\\w-]+\/)) {\n          indent(state);\n          return \"meta\";\n        }\n      }\n\n      if (ch === \"+\") {\n        \/\/ Match shortcut mixin definition\n        if (stream.match(\/^\\+[\\w-]+\/)){\n          return \"variable-3\";\n        }\n      }\n\n      if(ch === \"@\"){\n        if(stream.match('@extend')){\n          if(!stream.match(\/\\s*[\\w]\/))\n            dedent(state);\n        }\n      }\n\n\n      \/\/ Indent Directives\n      if (stream.match(\/^@(else if|if|media|else|for|each|while|mixin|function)\/)) {\n        indent(state);\n        return \"def\";\n      }\n\n      \/\/ Other Directives\n      if (ch === \"@\") {\n        stream.next();\n        stream.eatWhile(\/[\\w-]\/);\n        return \"def\";\n      }\n\n      if (stream.eatWhile(\/[\\w-]\/)){\n        if(stream.match(\/ *: *[\\w-\\+\\$#!\\(\"']\/,false)){\n          word = stream.current().toLowerCase();\n          var prop = state.prevProp + \"-\" + word;\n          if (propertyKeywords.hasOwnProperty(prop)) {\n            return \"property\";\n          } else if (propertyKeywords.hasOwnProperty(word)) {\n            state.prevProp = word;\n            return \"property\";\n          } else if (fontProperties.hasOwnProperty(word)) {\n            return \"property\";\n          }\n          return \"tag\";\n        }\n        else if(stream.match(\/ *:\/,false)){\n          indent(state);\n          state.cursorHalf = 1;\n          state.prevProp = stream.current().toLowerCase();\n          return \"property\";\n        }\n        else if(stream.match(\/ *,\/,false)){\n          return \"tag\";\n        }\n        else{\n          indent(state);\n          return \"tag\";\n        }\n      }\n\n      if(ch === \":\"){\n        if (stream.match(pseudoElementsRegexp)){ \/\/ could be a pseudo-element\n          return \"variable-3\";\n        }\n        stream.next();\n        state.cursorHalf=1;\n        return \"operator\";\n      }\n\n    } \/\/ cursorHalf===0 ends here\n    else{\n\n      if (ch === \"#\") {\n        stream.next();\n        \/\/ Hex numbers\n        if (stream.match(\/[0-9a-fA-F]{6}|[0-9a-fA-F]{3}\/)){\n          if (isEndLine(stream)) {\n            state.cursorHalf = 0;\n          }\n          return \"number\";\n        }\n      }\n\n      \/\/ Numbers\n      if (stream.match(\/^-?[0-9\\.]+\/)){\n        if (isEndLine(stream)) {\n          state.cursorHalf = 0;\n        }\n        return \"number\";\n      }\n\n      \/\/ Units\n      if (stream.match(\/^(px|em|in)\\b\/)){\n        if (isEndLine(stream)) {\n          state.cursorHalf = 0;\n        }\n        return \"unit\";\n      }\n\n      if (stream.match(keywordsRegexp)){\n        if (isEndLine(stream)) {\n          state.cursorHalf = 0;\n        }\n        return \"keyword\";\n      }\n\n      if (stream.match(\/^url\/) && stream.peek() === \"(\") {\n        state.tokenizer = urlTokens;\n        if (isEndLine(stream)) {\n          state.cursorHalf = 0;\n        }\n        return \"atom\";\n      }\n\n      \/\/ Variables\n      if (ch === \"$\") {\n        stream.next();\n        stream.eatWhile(\/[\\w-]\/);\n        if (isEndLine(stream)) {\n          state.cursorHalf = 0;\n        }\n        return \"variable-2\";\n      }\n\n      \/\/ bang character for !important, !default, etc.\n      if (ch === \"!\") {\n        stream.next();\n        state.cursorHalf = 0;\n        return stream.match(\/^[\\w]+\/) ? \"keyword\": \"operator\";\n      }\n\n      if (stream.match(opRegexp)){\n        if (isEndLine(stream)) {\n          state.cursorHalf = 0;\n        }\n        return \"operator\";\n      }\n\n      \/\/ attributes\n      if (stream.eatWhile(\/[\\w-]\/)) {\n        if (isEndLine(stream)) {\n          state.cursorHalf = 0;\n        }\n        word = stream.current().toLowerCase();\n        if (valueKeywords.hasOwnProperty(word)) {\n          return \"atom\";\n        } else if (colorKeywords.hasOwnProperty(word)) {\n          return \"keyword\";\n        } else if (propertyKeywords.hasOwnProperty(word)) {\n          state.prevProp = stream.current().toLowerCase();\n          return \"property\";\n        } else {\n          return \"tag\";\n        }\n      }\n\n      \/\/stream.eatSpace();\n      if (isEndLine(stream)) {\n        state.cursorHalf = 0;\n        return null;\n      }\n\n    } \/\/ else ends here\n\n    if (stream.match(opRegexp))\n      return \"operator\";\n\n    \/\/ If we haven't returned by now, we move 1 character\n    \/\/ and return an error\n    stream.next();\n    return null;\n  }\n\n  function tokenLexer(stream, state) {\n    if (stream.sol()) state.indentCount = 0;\n    var style = state.tokenizer(stream, state);\n    var current = stream.current();\n\n    if (current === \"@return\" || current === \"}\"){\n      dedent(state);\n    }\n\n    if (style !== null) {\n      var startOfToken = stream.pos - current.length;\n\n      var withCurrentIndent = startOfToken + (config.indentUnit * state.indentCount);\n\n      var newScopes = [];\n\n      for (var i = 0; i < state.scopes.length; i++) {\n        var scope = state.scopes[i];\n\n        if (scope.offset <= withCurrentIndent)\n          newScopes.push(scope);\n      }\n\n      state.scopes = newScopes;\n    }\n\n\n    return style;\n  }\n\n  return {\n    startState: function() {\n      return {\n        tokenizer: tokenBase,\n        scopes: [{offset: 0, type: \"sass\"}],\n        indentCount: 0,\n        cursorHalf: 0,  \/\/ cursor half tells us if cursor lies after (1)\n                        \/\/ or before (0) colon (well... more or less)\n        definedVars: [],\n        definedMixins: []\n      };\n    },\n    token: function(stream, state) {\n      var style = tokenLexer(stream, state);\n\n      state.lastToken = { style: style, content: stream.current() };\n\n      return style;\n    },\n\n    indent: function(state) {\n      return state.scopes[0].offset;\n    }\n  };\n}, \"css\");\n\nCodeMirror.defineMIME(\"text\/x-sass\", \"sass\");\n\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","defineMode","config","isEndLine","stream","peek","match","urlTokens","state","ch","next","tokenizer","tokenBase","eatSpace","buildStringTokenizer","comment","indentation","multiLine","sol","skipTo","skipToEnd","quote","greedy","stringTokenizer","nextChar","peekChar","previousChar","string","charAt","pos","cursorHalf","buildInterpolationTokenizer","currentTokenizer","indent","indentCount","scopes","unshift","offset","indentUnit","keywordsRegexp","eatWhile","opRegexp","word","current","toLowerCase","valueKeywords","hasOwnProperty","colorKeywords","propertyKeywords","prevProp","length","shift","fontProperties","pseudoElementsRegexp","cssMode","mimeModes","startState","type","definedVars","definedMixins","token","style","withCurrentIndent","newScopes","i","scope","push","lastToken","content","defineMIME"]}},{"offset":{"line":520,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$mode$stylus$stylus.js","lineCount":27,"mappings":"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\/Be,GA+Bf,EAAwBgC,EAAxB,EAA8BhC,EA\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\/B,EAAI\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","sources":["node_modules\/codemirror\/mode\/stylus\/stylus.js"],"sourcesContent":["shadow$provide[268] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n\/\/ Stylus mode created by Dmitry Kiselyov http:\/\/git.io\/AaRB\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineMode(\"stylus\", function(config) {\n    var indentUnit = config.indentUnit,\n        indentUnitString = '',\n        tagKeywords = keySet(tagKeywords_),\n        tagVariablesRegexp = \/^(a|b|i|s|col|em)$\/i,\n        propertyKeywords = keySet(propertyKeywords_),\n        nonStandardPropertyKeywords = keySet(nonStandardPropertyKeywords_),\n        valueKeywords = keySet(valueKeywords_),\n        colorKeywords = keySet(colorKeywords_),\n        documentTypes = keySet(documentTypes_),\n        documentTypesRegexp = wordRegexp(documentTypes_),\n        mediaFeatures = keySet(mediaFeatures_),\n        mediaTypes = keySet(mediaTypes_),\n        fontProperties = keySet(fontProperties_),\n        operatorsRegexp = \/^\\s*([.]{2,3}|&&|\\|\\||\\*\\*|[?!=:]?=|[-+*\\\/%<>]=?|\\?:|\\~)\/,\n        wordOperatorKeywordsRegexp = wordRegexp(wordOperatorKeywords_),\n        blockKeywords = keySet(blockKeywords_),\n        vendorPrefixesRegexp = new RegExp(\/^\\-(moz|ms|o|webkit)-\/i),\n        commonAtoms = keySet(commonAtoms_),\n        firstWordMatch = \"\",\n        states = {},\n        ch,\n        style,\n        type,\n        override;\n\n    while (indentUnitString.length < indentUnit) indentUnitString += ' ';\n\n    \/**\n     * Tokenizers\n     *\/\n    function tokenBase(stream, state) {\n      firstWordMatch = stream.string.match(\/(^[\\w-]+\\s*=\\s*$)|(^\\s*[\\w-]+\\s*=\\s*[\\w-])|(^\\s*(\\.|#|@|\\$|\\&|\\[|\\d|\\+|::?|\\{|\\>|~|\\\/)?\\s*[\\w-]*([a-z0-9-]|\\*|\\\/\\*)(\\(|,)?)\/);\n      state.context.line.firstWord = firstWordMatch ? firstWordMatch[0].replace(\/^\\s*\/, \"\") : \"\";\n      state.context.line.indent = stream.indentation();\n      ch = stream.peek();\n\n      \/\/ Line comment\n      if (stream.match(\"\/\/\")) {\n        stream.skipToEnd();\n        return [\"comment\", \"comment\"];\n      }\n      \/\/ Block comment\n      if (stream.match(\"\/*\")) {\n        state.tokenize = tokenCComment;\n        return tokenCComment(stream, state);\n      }\n      \/\/ String\n      if (ch == \"\\\"\" || ch == \"'\") {\n        stream.next();\n        state.tokenize = tokenString(ch);\n        return state.tokenize(stream, state);\n      }\n      \/\/ Def\n      if (ch == \"@\") {\n        stream.next();\n        stream.eatWhile(\/[\\w\\\\-]\/);\n        return [\"def\", stream.current()];\n      }\n      \/\/ ID selector or Hex color\n      if (ch == \"#\") {\n        stream.next();\n        \/\/ Hex color\n        if (stream.match(\/^[0-9a-f]{3}([0-9a-f]([0-9a-f]{2}){0,2})?\\b(?!-)\/i)) {\n          return [\"atom\", \"atom\"];\n        }\n        \/\/ ID selector\n        if (stream.match(\/^[a-z][\\w-]*\/i)) {\n          return [\"builtin\", \"hash\"];\n        }\n      }\n      \/\/ Vendor prefixes\n      if (stream.match(vendorPrefixesRegexp)) {\n        return [\"meta\", \"vendor-prefixes\"];\n      }\n      \/\/ Numbers\n      if (stream.match(\/^-?[0-9]?\\.?[0-9]\/)) {\n        stream.eatWhile(\/[a-z%]\/i);\n        return [\"number\", \"unit\"];\n      }\n      \/\/ !important|optional\n      if (ch == \"!\") {\n        stream.next();\n        return [stream.match(\/^(important|optional)\/i) ? \"keyword\": \"operator\", \"important\"];\n      }\n      \/\/ Class\n      if (ch == \".\" && stream.match(\/^\\.[a-z][\\w-]*\/i)) {\n        return [\"qualifier\", \"qualifier\"];\n      }\n      \/\/ url url-prefix domain regexp\n      if (stream.match(documentTypesRegexp)) {\n        if (stream.peek() == \"(\") state.tokenize = tokenParenthesized;\n        return [\"property\", \"word\"];\n      }\n      \/\/ Mixins \/ Functions\n      if (stream.match(\/^[a-z][\\w-]*\\(\/i)) {\n        stream.backUp(1);\n        return [\"keyword\", \"mixin\"];\n      }\n      \/\/ Block mixins\n      if (stream.match(\/^(\\+|-)[a-z][\\w-]*\\(\/i)) {\n        stream.backUp(1);\n        return [\"keyword\", \"block-mixin\"];\n      }\n      \/\/ Parent Reference BEM naming\n      if (stream.string.match(\/^\\s*&\/) && stream.match(\/^[-_]+[a-z][\\w-]*\/)) {\n        return [\"qualifier\", \"qualifier\"];\n      }\n      \/\/ \/ Root Reference & Parent Reference\n      if (stream.match(\/^(\\\/|&)(-|_|:|\\.|#|[a-z])\/)) {\n        stream.backUp(1);\n        return [\"variable-3\", \"reference\"];\n      }\n      if (stream.match(\/^&{1}\\s*$\/)) {\n        return [\"variable-3\", \"reference\"];\n      }\n      \/\/ Word operator\n      if (stream.match(wordOperatorKeywordsRegexp)) {\n        return [\"operator\", \"operator\"];\n      }\n      \/\/ Word\n      if (stream.match(\/^\\$?[-_]*[a-z0-9]+[\\w-]*\/i)) {\n        \/\/ Variable\n        if (stream.match(\/^(\\.|\\[)[\\w-\\'\\\"\\]]+\/i, false)) {\n          if (!wordIsTag(stream.current())) {\n            stream.match('.');\n            return [\"variable-2\", \"variable-name\"];\n          }\n        }\n        return [\"variable-2\", \"word\"];\n      }\n      \/\/ Operators\n      if (stream.match(operatorsRegexp)) {\n        return [\"operator\", stream.current()];\n      }\n      \/\/ Delimiters\n      if (\/[:;,{}\\[\\]\\(\\)]\/.test(ch)) {\n        stream.next();\n        return [null, ch];\n      }\n      \/\/ Non-detected items\n      stream.next();\n      return [null, null];\n    }\n\n    \/**\n     * Token comment\n     *\/\n    function tokenCComment(stream, state) {\n      var maybeEnd = false, ch;\n      while ((ch = stream.next()) != null) {\n        if (maybeEnd && ch == \"\/\") {\n          state.tokenize = null;\n          break;\n        }\n        maybeEnd = (ch == \"*\");\n      }\n      return [\"comment\", \"comment\"];\n    }\n\n    \/**\n     * Token string\n     *\/\n    function tokenString(quote) {\n      return function(stream, state) {\n        var escaped = false, ch;\n        while ((ch = stream.next()) != null) {\n          if (ch == quote && !escaped) {\n            if (quote == \")\") stream.backUp(1);\n            break;\n          }\n          escaped = !escaped && ch == \"\\\\\";\n        }\n        if (ch == quote || !escaped && quote != \")\") state.tokenize = null;\n        return [\"string\", \"string\"];\n      };\n    }\n\n    \/**\n     * Token parenthesized\n     *\/\n    function tokenParenthesized(stream, state) {\n      stream.next(); \/\/ Must be \"(\"\n      if (!stream.match(\/\\s*[\\\"\\')]\/, false))\n        state.tokenize = tokenString(\")\");\n      else\n        state.tokenize = null;\n      return [null, \"(\"];\n    }\n\n    \/**\n     * Context management\n     *\/\n    function Context(type, indent, prev, line) {\n      this.type = type;\n      this.indent = indent;\n      this.prev = prev;\n      this.line = line || {firstWord: \"\", indent: 0};\n    }\n\n    function pushContext(state, stream, type, indent) {\n      indent = indent >= 0 ? indent : indentUnit;\n      state.context = new Context(type, stream.indentation() + indent, state.context);\n      return type;\n    }\n\n    function popContext(state, currentIndent) {\n      var contextIndent = state.context.indent - indentUnit;\n      currentIndent = currentIndent || false;\n      state.context = state.context.prev;\n      if (currentIndent) state.context.indent = contextIndent;\n      return state.context.type;\n    }\n\n    function pass(type, stream, state) {\n      return states[state.context.type](type, stream, state);\n    }\n\n    function popAndPass(type, stream, state, n) {\n      for (var i = n || 1; i > 0; i--)\n        state.context = state.context.prev;\n      return pass(type, stream, state);\n    }\n\n\n    \/**\n     * Parser\n     *\/\n    function wordIsTag(word) {\n      return word.toLowerCase() in tagKeywords;\n    }\n\n    function wordIsProperty(word) {\n      word = word.toLowerCase();\n      return word in propertyKeywords || word in fontProperties;\n    }\n\n    function wordIsBlock(word) {\n      return word.toLowerCase() in blockKeywords;\n    }\n\n    function wordIsVendorPrefix(word) {\n      return word.toLowerCase().match(vendorPrefixesRegexp);\n    }\n\n    function wordAsValue(word) {\n      var wordLC = word.toLowerCase();\n      var override = \"variable-2\";\n      if (wordIsTag(word)) override = \"tag\";\n      else if (wordIsBlock(word)) override = \"block-keyword\";\n      else if (wordIsProperty(word)) override = \"property\";\n      else if (wordLC in valueKeywords || wordLC in commonAtoms) override = \"atom\";\n      else if (wordLC == \"return\" || wordLC in colorKeywords) override = \"keyword\";\n\n      \/\/ Font family\n      else if (word.match(\/^[A-Z]\/)) override = \"string\";\n      return override;\n    }\n\n    function typeIsBlock(type, stream) {\n      return ((endOfLine(stream) && (type == \"{\" || type == \"]\" || type == \"hash\" || type == \"qualifier\")) || type == \"block-mixin\");\n    }\n\n    function typeIsInterpolation(type, stream) {\n      return type == \"{\" && stream.match(\/^\\s*\\$?[\\w-]+\/i, false);\n    }\n\n    function typeIsPseudo(type, stream) {\n      return type == \":\" && stream.match(\/^[a-z-]+\/, false);\n    }\n\n    function startOfLine(stream) {\n      return stream.sol() || stream.string.match(new RegExp(\"^\\\\s*\" + escapeRegExp(stream.current())));\n    }\n\n    function endOfLine(stream) {\n      return stream.eol() || stream.match(\/^\\s*$\/, false);\n    }\n\n    function firstWordOfLine(line) {\n      var re = \/^\\s*[-_]*[a-z0-9]+[\\w-]*\/i;\n      var result = typeof line == \"string\" ? line.match(re) : line.string.match(re);\n      return result ? result[0].replace(\/^\\s*\/, \"\") : \"\";\n    }\n\n\n    \/**\n     * Block\n     *\/\n    states.block = function(type, stream, state) {\n      if ((type == \"comment\" && startOfLine(stream)) ||\n          (type == \",\" && endOfLine(stream)) ||\n          type == \"mixin\") {\n        return pushContext(state, stream, \"block\", 0);\n      }\n      if (typeIsInterpolation(type, stream)) {\n        return pushContext(state, stream, \"interpolation\");\n      }\n      if (endOfLine(stream) && type == \"]\") {\n        if (!\/^\\s*(\\.|#|:|\\[|\\*|&)\/.test(stream.string) && !wordIsTag(firstWordOfLine(stream))) {\n          return pushContext(state, stream, \"block\", 0);\n        }\n      }\n      if (typeIsBlock(type, stream)) {\n        return pushContext(state, stream, \"block\");\n      }\n      if (type == \"}\" && endOfLine(stream)) {\n        return pushContext(state, stream, \"block\", 0);\n      }\n      if (type == \"variable-name\") {\n        if (stream.string.match(\/^\\s?\\$[\\w-\\.\\[\\]\\'\\\"]+$\/) || wordIsBlock(firstWordOfLine(stream))) {\n          return pushContext(state, stream, \"variableName\");\n        }\n        else {\n          return pushContext(state, stream, \"variableName\", 0);\n        }\n      }\n      if (type == \"=\") {\n        if (!endOfLine(stream) && !wordIsBlock(firstWordOfLine(stream))) {\n          return pushContext(state, stream, \"block\", 0);\n        }\n        return pushContext(state, stream, \"block\");\n      }\n      if (type == \"*\") {\n        if (endOfLine(stream) || stream.match(\/\\s*(,|\\.|#|\\[|:|{)\/,false)) {\n          override = \"tag\";\n          return pushContext(state, stream, \"block\");\n        }\n      }\n      if (typeIsPseudo(type, stream)) {\n        return pushContext(state, stream, \"pseudo\");\n      }\n      if (\/@(font-face|media|supports|(-moz-)?document)\/.test(type)) {\n        return pushContext(state, stream, endOfLine(stream) ? \"block\" : \"atBlock\");\n      }\n      if (\/@(-(moz|ms|o|webkit)-)?keyframes$\/.test(type)) {\n        return pushContext(state, stream, \"keyframes\");\n      }\n      if (\/@extends?\/.test(type)) {\n        return pushContext(state, stream, \"extend\", 0);\n      }\n      if (type && type.charAt(0) == \"@\") {\n\n        \/\/ Property Lookup\n        if (stream.indentation() > 0 && wordIsProperty(stream.current().slice(1))) {\n          override = \"variable-2\";\n          return \"block\";\n        }\n        if (\/(@import|@require|@charset)\/.test(type)) {\n          return pushContext(state, stream, \"block\", 0);\n        }\n        return pushContext(state, stream, \"block\");\n      }\n      if (type == \"reference\" && endOfLine(stream)) {\n        return pushContext(state, stream, \"block\");\n      }\n      if (type == \"(\") {\n        return pushContext(state, stream, \"parens\");\n      }\n\n      if (type == \"vendor-prefixes\") {\n        return pushContext(state, stream, \"vendorPrefixes\");\n      }\n      if (type == \"word\") {\n        var word = stream.current();\n        override = wordAsValue(word);\n\n        if (override == \"property\") {\n          if (startOfLine(stream)) {\n            return pushContext(state, stream, \"block\", 0);\n          } else {\n            override = \"atom\";\n            return \"block\";\n          }\n        }\n\n        if (override == \"tag\") {\n\n          \/\/ tag is a css value\n          if (\/embed|menu|pre|progress|sub|table\/.test(word)) {\n            if (wordIsProperty(firstWordOfLine(stream))) {\n              override = \"atom\";\n              return \"block\";\n            }\n          }\n\n          \/\/ tag is an attribute\n          if (stream.string.match(new RegExp(\"\\\\[\\\\s*\" + word + \"|\" + word +\"\\\\s*\\\\]\"))) {\n            override = \"atom\";\n            return \"block\";\n          }\n\n          \/\/ tag is a variable\n          if (tagVariablesRegexp.test(word)) {\n            if ((startOfLine(stream) && stream.string.match(\/=\/)) ||\n                (!startOfLine(stream) &&\n                 !stream.string.match(\/^(\\s*\\.|#|\\&|\\[|\\\/|>|\\*)\/) &&\n                 !wordIsTag(firstWordOfLine(stream)))) {\n              override = \"variable-2\";\n              if (wordIsBlock(firstWordOfLine(stream)))  return \"block\";\n              return pushContext(state, stream, \"block\", 0);\n            }\n          }\n\n          if (endOfLine(stream)) return pushContext(state, stream, \"block\");\n        }\n        if (override == \"block-keyword\") {\n          override = \"keyword\";\n\n          \/\/ Postfix conditionals\n          if (stream.current(\/(if|unless)\/) && !startOfLine(stream)) {\n            return \"block\";\n          }\n          return pushContext(state, stream, \"block\");\n        }\n        if (word == \"return\") return pushContext(state, stream, \"block\", 0);\n\n        \/\/ Placeholder selector\n        if (override == \"variable-2\" && stream.string.match(\/^\\s?\\$[\\w-\\.\\[\\]\\'\\\"]+$\/)) {\n          return pushContext(state, stream, \"block\");\n        }\n      }\n      return state.context.type;\n    };\n\n\n    \/**\n     * Parens\n     *\/\n    states.parens = function(type, stream, state) {\n      if (type == \"(\") return pushContext(state, stream, \"parens\");\n      if (type == \")\") {\n        if (state.context.prev.type == \"parens\") {\n          return popContext(state);\n        }\n        if ((stream.string.match(\/^[a-z][\\w-]*\\(\/i) && endOfLine(stream)) ||\n            wordIsBlock(firstWordOfLine(stream)) ||\n            \/(\\.|#|:|\\[|\\*|&|>|~|\\+|\\\/)\/.test(firstWordOfLine(stream)) ||\n            (!stream.string.match(\/^-?[a-z][\\w-\\.\\[\\]\\'\\\"]*\\s*=\/) &&\n             wordIsTag(firstWordOfLine(stream)))) {\n          return pushContext(state, stream, \"block\");\n        }\n        if (stream.string.match(\/^[\\$-]?[a-z][\\w-\\.\\[\\]\\'\\\"]*\\s*=\/) ||\n            stream.string.match(\/^\\s*(\\(|\\)|[0-9])\/) ||\n            stream.string.match(\/^\\s+[a-z][\\w-]*\\(\/i) ||\n            stream.string.match(\/^\\s+[\\$-]?[a-z]\/i)) {\n          return pushContext(state, stream, \"block\", 0);\n        }\n        if (endOfLine(stream)) return pushContext(state, stream, \"block\");\n        else return pushContext(state, stream, \"block\", 0);\n      }\n      if (type && type.charAt(0) == \"@\" && wordIsProperty(stream.current().slice(1))) {\n        override = \"variable-2\";\n      }\n      if (type == \"word\") {\n        var word = stream.current();\n        override = wordAsValue(word);\n        if (override == \"tag\" && tagVariablesRegexp.test(word)) {\n          override = \"variable-2\";\n        }\n        if (override == \"property\" || word == \"to\") override = \"atom\";\n      }\n      if (type == \"variable-name\") {\n        return pushContext(state, stream, \"variableName\");\n      }\n      if (typeIsPseudo(type, stream)) {\n        return pushContext(state, stream, \"pseudo\");\n      }\n      return state.context.type;\n    };\n\n\n    \/**\n     * Vendor prefixes\n     *\/\n    states.vendorPrefixes = function(type, stream, state) {\n      if (type == \"word\") {\n        override = \"property\";\n        return pushContext(state, stream, \"block\", 0);\n      }\n      return popContext(state);\n    };\n\n\n    \/**\n     * Pseudo\n     *\/\n    states.pseudo = function(type, stream, state) {\n      if (!wordIsProperty(firstWordOfLine(stream.string))) {\n        stream.match(\/^[a-z-]+\/);\n        override = \"variable-3\";\n        if (endOfLine(stream)) return pushContext(state, stream, \"block\");\n        return popContext(state);\n      }\n      return popAndPass(type, stream, state);\n    };\n\n\n    \/**\n     * atBlock\n     *\/\n    states.atBlock = function(type, stream, state) {\n      if (type == \"(\") return pushContext(state, stream, \"atBlock_parens\");\n      if (typeIsBlock(type, stream)) {\n        return pushContext(state, stream, \"block\");\n      }\n      if (typeIsInterpolation(type, stream)) {\n        return pushContext(state, stream, \"interpolation\");\n      }\n      if (type == \"word\") {\n        var word = stream.current().toLowerCase();\n        if (\/^(only|not|and|or)$\/.test(word))\n          override = \"keyword\";\n        else if (documentTypes.hasOwnProperty(word))\n          override = \"tag\";\n        else if (mediaTypes.hasOwnProperty(word))\n          override = \"attribute\";\n        else if (mediaFeatures.hasOwnProperty(word))\n          override = \"property\";\n        else if (nonStandardPropertyKeywords.hasOwnProperty(word))\n          override = \"string-2\";\n        else override = wordAsValue(stream.current());\n        if (override == \"tag\" && endOfLine(stream)) {\n          return pushContext(state, stream, \"block\");\n        }\n      }\n      if (type == \"operator\" && \/^(not|and|or)$\/.test(stream.current())) {\n        override = \"keyword\";\n      }\n      return state.context.type;\n    };\n\n    states.atBlock_parens = function(type, stream, state) {\n      if (type == \"{\" || type == \"}\") return state.context.type;\n      if (type == \")\") {\n        if (endOfLine(stream)) return pushContext(state, stream, \"block\");\n        else return pushContext(state, stream, \"atBlock\");\n      }\n      if (type == \"word\") {\n        var word = stream.current().toLowerCase();\n        override = wordAsValue(word);\n        if (\/^(max|min)\/.test(word)) override = \"property\";\n        if (override == \"tag\") {\n          tagVariablesRegexp.test(word) ? override = \"variable-2\" : override = \"atom\";\n        }\n        return state.context.type;\n      }\n      return states.atBlock(type, stream, state);\n    };\n\n\n    \/**\n     * Keyframes\n     *\/\n    states.keyframes = function(type, stream, state) {\n      if (stream.indentation() == \"0\" && ((type == \"}\" && startOfLine(stream)) || type == \"]\" || type == \"hash\"\n                                          || type == \"qualifier\" || wordIsTag(stream.current()))) {\n        return popAndPass(type, stream, state);\n      }\n      if (type == \"{\") return pushContext(state, stream, \"keyframes\");\n      if (type == \"}\") {\n        if (startOfLine(stream)) return popContext(state, true);\n        else return pushContext(state, stream, \"keyframes\");\n      }\n      if (type == \"unit\" && \/^[0-9]+\\%$\/.test(stream.current())) {\n        return pushContext(state, stream, \"keyframes\");\n      }\n      if (type == \"word\") {\n        override = wordAsValue(stream.current());\n        if (override == \"block-keyword\") {\n          override = \"keyword\";\n          return pushContext(state, stream, \"keyframes\");\n        }\n      }\n      if (\/@(font-face|media|supports|(-moz-)?document)\/.test(type)) {\n        return pushContext(state, stream, endOfLine(stream) ? \"block\" : \"atBlock\");\n      }\n      if (type == \"mixin\") {\n        return pushContext(state, stream, \"block\", 0);\n      }\n      return state.context.type;\n    };\n\n\n    \/**\n     * Interpolation\n     *\/\n    states.interpolation = function(type, stream, state) {\n      if (type == \"{\") popContext(state) && pushContext(state, stream, \"block\");\n      if (type == \"}\") {\n        if (stream.string.match(\/^\\s*(\\.|#|:|\\[|\\*|&|>|~|\\+|\\\/)\/i) ||\n            (stream.string.match(\/^\\s*[a-z]\/i) && wordIsTag(firstWordOfLine(stream)))) {\n          return pushContext(state, stream, \"block\");\n        }\n        if (!stream.string.match(\/^(\\{|\\s*\\&)\/) ||\n            stream.match(\/\\s*[\\w-]\/,false)) {\n          return pushContext(state, stream, \"block\", 0);\n        }\n        return pushContext(state, stream, \"block\");\n      }\n      if (type == \"variable-name\") {\n        return pushContext(state, stream, \"variableName\", 0);\n      }\n      if (type == \"word\") {\n        override = wordAsValue(stream.current());\n        if (override == \"tag\") override = \"atom\";\n      }\n      return state.context.type;\n    };\n\n\n    \/**\n     * Extend\/s\n     *\/\n    states.extend = function(type, stream, state) {\n      if (type == \"[\" || type == \"=\") return \"extend\";\n      if (type == \"]\") return popContext(state);\n      if (type == \"word\") {\n        override = wordAsValue(stream.current());\n        return \"extend\";\n      }\n      return popContext(state);\n    };\n\n\n    \/**\n     * Variable name\n     *\/\n    states.variableName = function(type, stream, state) {\n      if (type == \"string\" || type == \"[\" || type == \"]\" || stream.current().match(\/^(\\.|\\$)\/)) {\n        if (stream.current().match(\/^\\.[\\w-]+\/i)) override = \"variable-2\";\n        return \"variableName\";\n      }\n      return popAndPass(type, stream, state);\n    };\n\n\n    return {\n      startState: function(base) {\n        return {\n          tokenize: null,\n          state: \"block\",\n          context: new Context(\"block\", base || 0, null)\n        };\n      },\n      token: function(stream, state) {\n        if (!state.tokenize && stream.eatSpace()) return null;\n        style = (state.tokenize || tokenBase)(stream, state);\n        if (style && typeof style == \"object\") {\n          type = style[1];\n          style = style[0];\n        }\n        override = style;\n        state.state = states[state.state](type, stream, state);\n        return override;\n      },\n      indent: function(state, textAfter, line) {\n\n        var cx = state.context,\n            ch = textAfter && textAfter.charAt(0),\n            indent = cx.indent,\n            lineFirstWord = firstWordOfLine(textAfter),\n            lineIndent = line.match(\/^\\s*\/)[0].replace(\/\\t\/g, indentUnitString).length,\n            prevLineFirstWord = state.context.prev ? state.context.prev.line.firstWord : \"\",\n            prevLineIndent = state.context.prev ? state.context.prev.line.indent : lineIndent;\n\n        if (cx.prev &&\n            (ch == \"}\" && (cx.type == \"block\" || cx.type == \"atBlock\" || cx.type == \"keyframes\") ||\n             ch == \")\" && (cx.type == \"parens\" || cx.type == \"atBlock_parens\") ||\n             ch == \"{\" && (cx.type == \"at\"))) {\n          indent = cx.indent - indentUnit;\n        } else if (!(\/(\\})\/.test(ch))) {\n          if (\/@|\\$|\\d\/.test(ch) ||\n              \/^\\{\/.test(textAfter) ||\n\/^\\s*\\\/(\\\/|\\*)\/.test(textAfter) ||\n              \/^\\s*\\\/\\*\/.test(prevLineFirstWord) ||\n              \/^\\s*[\\w-\\.\\[\\]\\'\\\"]+\\s*(\\?|:|\\+)?=\/i.test(textAfter) ||\n\/^(\\+|-)?[a-z][\\w-]*\\(\/i.test(textAfter) ||\n\/^return\/.test(textAfter) ||\n              wordIsBlock(lineFirstWord)) {\n            indent = lineIndent;\n          } else if (\/(\\.|#|:|\\[|\\*|&|>|~|\\+|\\\/)\/.test(ch) || wordIsTag(lineFirstWord)) {\n            if (\/\\,\\s*$\/.test(prevLineFirstWord)) {\n              indent = prevLineIndent;\n            } else if (\/^\\s+\/.test(line) && (\/(\\.|#|:|\\[|\\*|&|>|~|\\+|\\\/)\/.test(prevLineFirstWord) || wordIsTag(prevLineFirstWord))) {\n              indent = lineIndent <= prevLineIndent ? prevLineIndent : prevLineIndent + indentUnit;\n            } else {\n              indent = lineIndent;\n            }\n          } else if (!\/,\\s*$\/.test(line) && (wordIsVendorPrefix(lineFirstWord) || wordIsProperty(lineFirstWord))) {\n            if (wordIsBlock(prevLineFirstWord)) {\n              indent = lineIndent <= prevLineIndent ? prevLineIndent : prevLineIndent + indentUnit;\n            } else if (\/^\\{\/.test(prevLineFirstWord)) {\n              indent = lineIndent <= prevLineIndent ? lineIndent : prevLineIndent + indentUnit;\n            } else if (wordIsVendorPrefix(prevLineFirstWord) || wordIsProperty(prevLineFirstWord)) {\n              indent = lineIndent >= prevLineIndent ? prevLineIndent : lineIndent;\n            } else if (\/^(\\.|#|:|\\[|\\*|&|@|\\+|\\-|>|~|\\\/)\/.test(prevLineFirstWord) ||\n                      \/=\\s*$\/.test(prevLineFirstWord) ||\n                      wordIsTag(prevLineFirstWord) ||\n                      \/^\\$[\\w-\\.\\[\\]\\'\\\"]\/.test(prevLineFirstWord)) {\n              indent = prevLineIndent + indentUnit;\n            } else {\n              indent = lineIndent;\n            }\n          }\n        }\n        return indent;\n      },\n      electricChars: \"}\",\n      blockCommentStart: \"\/*\",\n      blockCommentEnd: \"*\/\",\n      blockCommentContinue: \" * \",\n      lineComment: \"\/\/\",\n      fold: \"indent\"\n    };\n  });\n\n  \/\/ developer.mozilla.org\/en-US\/docs\/Web\/HTML\/Element\n  var tagKeywords_ = [\"a\",\"abbr\",\"address\",\"area\",\"article\",\"aside\",\"audio\", \"b\", \"base\",\"bdi\", \"bdo\",\"bgsound\",\"blockquote\",\"body\",\"br\",\"button\",\"canvas\",\"caption\",\"cite\", \"code\",\"col\",\"colgroup\",\"data\",\"datalist\",\"dd\",\"del\",\"details\",\"dfn\",\"div\", \"dl\",\"dt\",\"em\",\"embed\",\"fieldset\",\"figcaption\",\"figure\",\"footer\",\"form\",\"h1\", \"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"head\",\"header\",\"hgroup\",\"hr\",\"html\",\"i\",\"iframe\", \"img\",\"input\",\"ins\",\"kbd\",\"keygen\",\"label\",\"legend\",\"li\",\"link\",\"main\",\"map\", \"mark\",\"marquee\",\"menu\",\"menuitem\",\"meta\",\"meter\",\"nav\",\"nobr\",\"noframes\", \"noscript\",\"object\",\"ol\",\"optgroup\",\"option\",\"output\",\"p\",\"param\",\"pre\", \"progress\",\"q\",\"rp\",\"rt\",\"ruby\",\"s\",\"samp\",\"script\",\"section\",\"select\", \"small\",\"source\",\"span\",\"strong\",\"style\",\"sub\",\"summary\",\"sup\",\"table\",\"tbody\",\"td\",\"textarea\",\"tfoot\",\"th\",\"thead\",\"time\",\"tr\",\"track\", \"u\",\"ul\",\"var\",\"video\"];\n\n  \/\/ github.com\/codemirror\/CodeMirror\/blob\/master\/mode\/css\/css.js\n  \/\/ Note, \"url-prefix\" should precede \"url\" in order to match correctly in documentTypesRegexp\n  var documentTypes_ = [\"domain\", \"regexp\", \"url-prefix\", \"url\"];\n  var mediaTypes_ = [\"all\",\"aural\",\"braille\",\"handheld\",\"print\",\"projection\",\"screen\",\"tty\",\"tv\",\"embossed\"];\n  var mediaFeatures_ = [\"width\",\"min-width\",\"max-width\",\"height\",\"min-height\",\"max-height\",\"device-width\",\"min-device-width\",\"max-device-width\",\"device-height\",\"min-device-height\",\"max-device-height\",\"aspect-ratio\",\"min-aspect-ratio\",\"max-aspect-ratio\",\"device-aspect-ratio\",\"min-device-aspect-ratio\",\"max-device-aspect-ratio\",\"color\",\"min-color\",\"max-color\",\"color-index\",\"min-color-index\",\"max-color-index\",\"monochrome\",\"min-monochrome\",\"max-monochrome\",\"resolution\",\"min-resolution\",\"max-resolution\",\"scan\",\"grid\"];\n  var propertyKeywords_ = [\"align-content\",\"align-items\",\"align-self\",\"alignment-adjust\",\"alignment-baseline\",\"anchor-point\",\"animation\",\"animation-delay\",\"animation-direction\",\"animation-duration\",\"animation-fill-mode\",\"animation-iteration-count\",\"animation-name\",\"animation-play-state\",\"animation-timing-function\",\"appearance\",\"azimuth\",\"backface-visibility\",\"background\",\"background-attachment\",\"background-clip\",\"background-color\",\"background-image\",\"background-origin\",\"background-position\",\"background-repeat\",\"background-size\",\"baseline-shift\",\"binding\",\"bleed\",\"bookmark-label\",\"bookmark-level\",\"bookmark-state\",\"bookmark-target\",\"border\",\"border-bottom\",\"border-bottom-color\",\"border-bottom-left-radius\",\"border-bottom-right-radius\",\"border-bottom-style\",\"border-bottom-width\",\"border-collapse\",\"border-color\",\"border-image\",\"border-image-outset\",\"border-image-repeat\",\"border-image-slice\",\"border-image-source\",\"border-image-width\",\"border-left\",\"border-left-color\",\"border-left-style\",\"border-left-width\",\"border-radius\",\"border-right\",\"border-right-color\",\"border-right-style\",\"border-right-width\",\"border-spacing\",\"border-style\",\"border-top\",\"border-top-color\",\"border-top-left-radius\",\"border-top-right-radius\",\"border-top-style\",\"border-top-width\",\"border-width\",\"bottom\",\"box-decoration-break\",\"box-shadow\",\"box-sizing\",\"break-after\",\"break-before\",\"break-inside\",\"caption-side\",\"clear\",\"clip\",\"color\",\"color-profile\",\"column-count\",\"column-fill\",\"column-gap\",\"column-rule\",\"column-rule-color\",\"column-rule-style\",\"column-rule-width\",\"column-span\",\"column-width\",\"columns\",\"content\",\"counter-increment\",\"counter-reset\",\"crop\",\"cue\",\"cue-after\",\"cue-before\",\"cursor\",\"direction\",\"display\",\"dominant-baseline\",\"drop-initial-after-adjust\",\"drop-initial-after-align\",\"drop-initial-before-adjust\",\"drop-initial-before-align\",\"drop-initial-size\",\"drop-initial-value\",\"elevation\",\"empty-cells\",\"fit\",\"fit-position\",\"flex\",\"flex-basis\",\"flex-direction\",\"flex-flow\",\"flex-grow\",\"flex-shrink\",\"flex-wrap\",\"float\",\"float-offset\",\"flow-from\",\"flow-into\",\"font\",\"font-feature-settings\",\"font-family\",\"font-kerning\",\"font-language-override\",\"font-size\",\"font-size-adjust\",\"font-stretch\",\"font-style\",\"font-synthesis\",\"font-variant\",\"font-variant-alternates\",\"font-variant-caps\",\"font-variant-east-asian\",\"font-variant-ligatures\",\"font-variant-numeric\",\"font-variant-position\",\"font-weight\",\"grid\",\"grid-area\",\"grid-auto-columns\",\"grid-auto-flow\",\"grid-auto-position\",\"grid-auto-rows\",\"grid-column\",\"grid-column-end\",\"grid-column-start\",\"grid-row\",\"grid-row-end\",\"grid-row-start\",\"grid-template\",\"grid-template-areas\",\"grid-template-columns\",\"grid-template-rows\",\"hanging-punctuation\",\"height\",\"hyphens\",\"icon\",\"image-orientation\",\"image-rendering\",\"image-resolution\",\"inline-box-align\",\"justify-content\",\"left\",\"letter-spacing\",\"line-break\",\"line-height\",\"line-stacking\",\"line-stacking-ruby\",\"line-stacking-shift\",\"line-stacking-strategy\",\"list-style\",\"list-style-image\",\"list-style-position\",\"list-style-type\",\"margin\",\"margin-bottom\",\"margin-left\",\"margin-right\",\"margin-top\",\"marker-offset\",\"marks\",\"marquee-direction\",\"marquee-loop\",\"marquee-play-count\",\"marquee-speed\",\"marquee-style\",\"max-height\",\"max-width\",\"min-height\",\"min-width\",\"move-to\",\"nav-down\",\"nav-index\",\"nav-left\",\"nav-right\",\"nav-up\",\"object-fit\",\"object-position\",\"opacity\",\"order\",\"orphans\",\"outline\",\"outline-color\",\"outline-offset\",\"outline-style\",\"outline-width\",\"overflow\",\"overflow-style\",\"overflow-wrap\",\"overflow-x\",\"overflow-y\",\"padding\",\"padding-bottom\",\"padding-left\",\"padding-right\",\"padding-top\",\"page\",\"page-break-after\",\"page-break-before\",\"page-break-inside\",\"page-policy\",\"pause\",\"pause-after\",\"pause-before\",\"perspective\",\"perspective-origin\",\"pitch\",\"pitch-range\",\"play-during\",\"position\",\"presentation-level\",\"punctuation-trim\",\"quotes\",\"region-break-after\",\"region-break-before\",\"region-break-inside\",\"region-fragment\",\"rendering-intent\",\"resize\",\"rest\",\"rest-after\",\"rest-before\",\"richness\",\"right\",\"rotation\",\"rotation-point\",\"ruby-align\",\"ruby-overhang\",\"ruby-position\",\"ruby-span\",\"shape-image-threshold\",\"shape-inside\",\"shape-margin\",\"shape-outside\",\"size\",\"speak\",\"speak-as\",\"speak-header\",\"speak-numeral\",\"speak-punctuation\",\"speech-rate\",\"stress\",\"string-set\",\"tab-size\",\"table-layout\",\"target\",\"target-name\",\"target-new\",\"target-position\",\"text-align\",\"text-align-last\",\"text-decoration\",\"text-decoration-color\",\"text-decoration-line\",\"text-decoration-skip\",\"text-decoration-style\",\"text-emphasis\",\"text-emphasis-color\",\"text-emphasis-position\",\"text-emphasis-style\",\"text-height\",\"text-indent\",\"text-justify\",\"text-outline\",\"text-overflow\",\"text-shadow\",\"text-size-adjust\",\"text-space-collapse\",\"text-transform\",\"text-underline-position\",\"text-wrap\",\"top\",\"transform\",\"transform-origin\",\"transform-style\",\"transition\",\"transition-delay\",\"transition-duration\",\"transition-property\",\"transition-timing-function\",\"unicode-bidi\",\"vertical-align\",\"visibility\",\"voice-balance\",\"voice-duration\",\"voice-family\",\"voice-pitch\",\"voice-range\",\"voice-rate\",\"voice-stress\",\"voice-volume\",\"volume\",\"white-space\",\"widows\",\"width\",\"will-change\",\"word-break\",\"word-spacing\",\"word-wrap\",\"z-index\",\"clip-path\",\"clip-rule\",\"mask\",\"enable-background\",\"filter\",\"flood-color\",\"flood-opacity\",\"lighting-color\",\"stop-color\",\"stop-opacity\",\"pointer-events\",\"color-interpolation\",\"color-interpolation-filters\",\"color-rendering\",\"fill\",\"fill-opacity\",\"fill-rule\",\"image-rendering\",\"marker\",\"marker-end\",\"marker-mid\",\"marker-start\",\"shape-rendering\",\"stroke\",\"stroke-dasharray\",\"stroke-dashoffset\",\"stroke-linecap\",\"stroke-linejoin\",\"stroke-miterlimit\",\"stroke-opacity\",\"stroke-width\",\"text-rendering\",\"baseline-shift\",\"dominant-baseline\",\"glyph-orientation-horizontal\",\"glyph-orientation-vertical\",\"text-anchor\",\"writing-mode\",\"font-smoothing\",\"osx-font-smoothing\"];\n  var nonStandardPropertyKeywords_ = [\"scrollbar-arrow-color\",\"scrollbar-base-color\",\"scrollbar-dark-shadow-color\",\"scrollbar-face-color\",\"scrollbar-highlight-color\",\"scrollbar-shadow-color\",\"scrollbar-3d-light-color\",\"scrollbar-track-color\",\"shape-inside\",\"searchfield-cancel-button\",\"searchfield-decoration\",\"searchfield-results-button\",\"searchfield-results-decoration\",\"zoom\"];\n  var fontProperties_ = [\"font-family\",\"src\",\"unicode-range\",\"font-variant\",\"font-feature-settings\",\"font-stretch\",\"font-weight\",\"font-style\"];\n  var colorKeywords_ = [\"aliceblue\",\"antiquewhite\",\"aqua\",\"aquamarine\",\"azure\",\"beige\",\"bisque\",\"black\",\"blanchedalmond\",\"blue\",\"blueviolet\",\"brown\",\"burlywood\",\"cadetblue\",\"chartreuse\",\"chocolate\",\"coral\",\"cornflowerblue\",\"cornsilk\",\"crimson\",\"cyan\",\"darkblue\",\"darkcyan\",\"darkgoldenrod\",\"darkgray\",\"darkgreen\",\"darkkhaki\",\"darkmagenta\",\"darkolivegreen\",\"darkorange\",\"darkorchid\",\"darkred\",\"darksalmon\",\"darkseagreen\",\"darkslateblue\",\"darkslategray\",\"darkturquoise\",\"darkviolet\",\"deeppink\",\"deepskyblue\",\"dimgray\",\"dodgerblue\",\"firebrick\",\"floralwhite\",\"forestgreen\",\"fuchsia\",\"gainsboro\",\"ghostwhite\",\"gold\",\"goldenrod\",\"gray\",\"grey\",\"green\",\"greenyellow\",\"honeydew\",\"hotpink\",\"indianred\",\"indigo\",\"ivory\",\"khaki\",\"lavender\",\"lavenderblush\",\"lawngreen\",\"lemonchiffon\",\"lightblue\",\"lightcoral\",\"lightcyan\",\"lightgoldenrodyellow\",\"lightgray\",\"lightgreen\",\"lightpink\",\"lightsalmon\",\"lightseagreen\",\"lightskyblue\",\"lightslategray\",\"lightsteelblue\",\"lightyellow\",\"lime\",\"limegreen\",\"linen\",\"magenta\",\"maroon\",\"mediumaquamarine\",\"mediumblue\",\"mediumorchid\",\"mediumpurple\",\"mediumseagreen\",\"mediumslateblue\",\"mediumspringgreen\",\"mediumturquoise\",\"mediumvioletred\",\"midnightblue\",\"mintcream\",\"mistyrose\",\"moccasin\",\"navajowhite\",\"navy\",\"oldlace\",\"olive\",\"olivedrab\",\"orange\",\"orangered\",\"orchid\",\"palegoldenrod\",\"palegreen\",\"paleturquoise\",\"palevioletred\",\"papayawhip\",\"peachpuff\",\"peru\",\"pink\",\"plum\",\"powderblue\",\"purple\",\"rebeccapurple\",\"red\",\"rosybrown\",\"royalblue\",\"saddlebrown\",\"salmon\",\"sandybrown\",\"seagreen\",\"seashell\",\"sienna\",\"silver\",\"skyblue\",\"slateblue\",\"slategray\",\"snow\",\"springgreen\",\"steelblue\",\"tan\",\"teal\",\"thistle\",\"tomato\",\"turquoise\",\"violet\",\"wheat\",\"white\",\"whitesmoke\",\"yellow\",\"yellowgreen\"];\n  var valueKeywords_ = [\"above\",\"absolute\",\"activeborder\",\"additive\",\"activecaption\",\"afar\",\"after-white-space\",\"ahead\",\"alias\",\"all\",\"all-scroll\",\"alphabetic\",\"alternate\",\"always\",\"amharic\",\"amharic-abegede\",\"antialiased\",\"appworkspace\",\"arabic-indic\",\"armenian\",\"asterisks\",\"attr\",\"auto\",\"avoid\",\"avoid-column\",\"avoid-page\",\"avoid-region\",\"background\",\"backwards\",\"baseline\",\"below\",\"bidi-override\",\"binary\",\"bengali\",\"blink\",\"block\",\"block-axis\",\"bold\",\"bolder\",\"border\",\"border-box\",\"both\",\"bottom\",\"break\",\"break-all\",\"break-word\",\"bullets\",\"button\",\"button-bevel\",\"buttonface\",\"buttonhighlight\",\"buttonshadow\",\"buttontext\",\"calc\",\"cambodian\",\"capitalize\",\"caps-lock-indicator\",\"caption\",\"captiontext\",\"caret\",\"cell\",\"center\",\"checkbox\",\"circle\",\"cjk-decimal\",\"cjk-earthly-branch\",\"cjk-heavenly-stem\",\"cjk-ideographic\",\"clear\",\"clip\",\"close-quote\",\"col-resize\",\"collapse\",\"column\",\"compact\",\"condensed\",\"contain\",\"content\",\"contents\",\"content-box\",\"context-menu\",\"continuous\",\"copy\",\"counter\",\"counters\",\"cover\",\"crop\",\"cross\",\"crosshair\",\"currentcolor\",\"cursive\",\"cyclic\",\"dashed\",\"decimal\",\"decimal-leading-zero\",\"default\",\"default-button\",\"destination-atop\",\"destination-in\",\"destination-out\",\"destination-over\",\"devanagari\",\"disc\",\"discard\",\"disclosure-closed\",\"disclosure-open\",\"document\",\"dot-dash\",\"dot-dot-dash\",\"dotted\",\"double\",\"down\",\"e-resize\",\"ease\",\"ease-in\",\"ease-in-out\",\"ease-out\",\"element\",\"ellipse\",\"ellipsis\",\"embed\",\"end\",\"ethiopic\",\"ethiopic-abegede\",\"ethiopic-abegede-am-et\",\"ethiopic-abegede-gez\",\"ethiopic-abegede-ti-er\",\"ethiopic-abegede-ti-et\",\"ethiopic-halehame-aa-er\",\"ethiopic-halehame-aa-et\",\"ethiopic-halehame-am-et\",\"ethiopic-halehame-gez\",\"ethiopic-halehame-om-et\",\"ethiopic-halehame-sid-et\",\"ethiopic-halehame-so-et\",\"ethiopic-halehame-ti-er\",\"ethiopic-halehame-ti-et\",\"ethiopic-halehame-tig\",\"ethiopic-numeric\",\"ew-resize\",\"expanded\",\"extends\",\"extra-condensed\",\"extra-expanded\",\"fantasy\",\"fast\",\"fill\",\"fixed\",\"flat\",\"flex\",\"footnotes\",\"forwards\",\"from\",\"geometricPrecision\",\"georgian\",\"graytext\",\"groove\",\"gujarati\",\"gurmukhi\",\"hand\",\"hangul\",\"hangul-consonant\",\"hebrew\",\"help\",\"hidden\",\"hide\",\"higher\",\"highlight\",\"highlighttext\",\"hiragana\",\"hiragana-iroha\",\"horizontal\",\"hsl\",\"hsla\",\"icon\",\"ignore\",\"inactiveborder\",\"inactivecaption\",\"inactivecaptiontext\",\"infinite\",\"infobackground\",\"infotext\",\"inherit\",\"initial\",\"inline\",\"inline-axis\",\"inline-block\",\"inline-flex\",\"inline-table\",\"inset\",\"inside\",\"intrinsic\",\"invert\",\"italic\",\"japanese-formal\",\"japanese-informal\",\"justify\",\"kannada\",\"katakana\",\"katakana-iroha\",\"keep-all\",\"khmer\",\"korean-hangul-formal\",\"korean-hanja-formal\",\"korean-hanja-informal\",\"landscape\",\"lao\",\"large\",\"larger\",\"left\",\"level\",\"lighter\",\"line-through\",\"linear\",\"linear-gradient\",\"lines\",\"list-item\",\"listbox\",\"listitem\",\"local\",\"logical\",\"loud\",\"lower\",\"lower-alpha\",\"lower-armenian\",\"lower-greek\",\"lower-hexadecimal\",\"lower-latin\",\"lower-norwegian\",\"lower-roman\",\"lowercase\",\"ltr\",\"malayalam\",\"match\",\"matrix\",\"matrix3d\",\"media-controls-background\",\"media-current-time-display\",\"media-fullscreen-button\",\"media-mute-button\",\"media-play-button\",\"media-return-to-realtime-button\",\"media-rewind-button\",\"media-seek-back-button\",\"media-seek-forward-button\",\"media-slider\",\"media-sliderthumb\",\"media-time-remaining-display\",\"media-volume-slider\",\"media-volume-slider-container\",\"media-volume-sliderthumb\",\"medium\",\"menu\",\"menulist\",\"menulist-button\",\"menulist-text\",\"menulist-textfield\",\"menutext\",\"message-box\",\"middle\",\"min-intrinsic\",\"mix\",\"mongolian\",\"monospace\",\"move\",\"multiple\",\"myanmar\",\"n-resize\",\"narrower\",\"ne-resize\",\"nesw-resize\",\"no-close-quote\",\"no-drop\",\"no-open-quote\",\"no-repeat\",\"none\",\"normal\",\"not-allowed\",\"nowrap\",\"ns-resize\",\"numbers\",\"numeric\",\"nw-resize\",\"nwse-resize\",\"oblique\",\"octal\",\"open-quote\",\"optimizeLegibility\",\"optimizeSpeed\",\"oriya\",\"oromo\",\"outset\",\"outside\",\"outside-shape\",\"overlay\",\"overline\",\"padding\",\"padding-box\",\"painted\",\"page\",\"paused\",\"persian\",\"perspective\",\"plus-darker\",\"plus-lighter\",\"pointer\",\"polygon\",\"portrait\",\"pre\",\"pre-line\",\"pre-wrap\",\"preserve-3d\",\"progress\",\"push-button\",\"radial-gradient\",\"radio\",\"read-only\",\"read-write\",\"read-write-plaintext-only\",\"rectangle\",\"region\",\"relative\",\"repeat\",\"repeating-linear-gradient\",\"repeating-radial-gradient\",\"repeat-x\",\"repeat-y\",\"reset\",\"reverse\",\"rgb\",\"rgba\",\"ridge\",\"right\",\"rotate\",\"rotate3d\",\"rotateX\",\"rotateY\",\"rotateZ\",\"round\",\"row-resize\",\"rtl\",\"run-in\",\"running\",\"s-resize\",\"sans-serif\",\"scale\",\"scale3d\",\"scaleX\",\"scaleY\",\"scaleZ\",\"scroll\",\"scrollbar\",\"scroll-position\",\"se-resize\",\"searchfield\",\"searchfield-cancel-button\",\"searchfield-decoration\",\"searchfield-results-button\",\"searchfield-results-decoration\",\"semi-condensed\",\"semi-expanded\",\"separate\",\"serif\",\"show\",\"sidama\",\"simp-chinese-formal\",\"simp-chinese-informal\",\"single\",\"skew\",\"skewX\",\"skewY\",\"skip-white-space\",\"slide\",\"slider-horizontal\",\"slider-vertical\",\"sliderthumb-horizontal\",\"sliderthumb-vertical\",\"slow\",\"small\",\"small-caps\",\"small-caption\",\"smaller\",\"solid\",\"somali\",\"source-atop\",\"source-in\",\"source-out\",\"source-over\",\"space\",\"spell-out\",\"square\",\"square-button\",\"start\",\"static\",\"status-bar\",\"stretch\",\"stroke\",\"sub\",\"subpixel-antialiased\",\"super\",\"sw-resize\",\"symbolic\",\"symbols\",\"table\",\"table-caption\",\"table-cell\",\"table-column\",\"table-column-group\",\"table-footer-group\",\"table-header-group\",\"table-row\",\"table-row-group\",\"tamil\",\"telugu\",\"text\",\"text-bottom\",\"text-top\",\"textarea\",\"textfield\",\"thai\",\"thick\",\"thin\",\"threeddarkshadow\",\"threedface\",\"threedhighlight\",\"threedlightshadow\",\"threedshadow\",\"tibetan\",\"tigre\",\"tigrinya-er\",\"tigrinya-er-abegede\",\"tigrinya-et\",\"tigrinya-et-abegede\",\"to\",\"top\",\"trad-chinese-formal\",\"trad-chinese-informal\",\"translate\",\"translate3d\",\"translateX\",\"translateY\",\"translateZ\",\"transparent\",\"ultra-condensed\",\"ultra-expanded\",\"underline\",\"up\",\"upper-alpha\",\"upper-armenian\",\"upper-greek\",\"upper-hexadecimal\",\"upper-latin\",\"upper-norwegian\",\"upper-roman\",\"uppercase\",\"urdu\",\"url\",\"var\",\"vertical\",\"vertical-text\",\"visible\",\"visibleFill\",\"visiblePainted\",\"visibleStroke\",\"visual\",\"w-resize\",\"wait\",\"wave\",\"wider\",\"window\",\"windowframe\",\"windowtext\",\"words\",\"x-large\",\"x-small\",\"xor\",\"xx-large\",\"xx-small\",\"bicubic\",\"optimizespeed\",\"grayscale\",\"row\",\"row-reverse\",\"wrap\",\"wrap-reverse\",\"column-reverse\",\"flex-start\",\"flex-end\",\"space-between\",\"space-around\", \"unset\"];\n\n  var wordOperatorKeywords_ = [\"in\",\"and\",\"or\",\"not\",\"is not\",\"is a\",\"is\",\"isnt\",\"defined\",\"if unless\"],\n      blockKeywords_ = [\"for\",\"if\",\"else\",\"unless\", \"from\", \"to\"],\n      commonAtoms_ = [\"null\",\"true\",\"false\",\"href\",\"title\",\"type\",\"not-allowed\",\"readonly\",\"disabled\"],\n      commonDef_ = [\"@font-face\", \"@keyframes\", \"@media\", \"@viewport\", \"@page\", \"@host\", \"@supports\", \"@block\", \"@css\"];\n\n  var hintWords = tagKeywords_.concat(documentTypes_,mediaTypes_,mediaFeatures_,\n                                      propertyKeywords_,nonStandardPropertyKeywords_,\n                                      colorKeywords_,valueKeywords_,fontProperties_,\n                                      wordOperatorKeywords_,blockKeywords_,\n                                      commonAtoms_,commonDef_);\n\n  function wordRegexp(words) {\n    words = words.sort(function(a,b){return b > a;});\n    return new RegExp(\"^((\" + words.join(\")|(\") + \"))\\\\b\");\n  }\n\n  function keySet(array) {\n    var keys = {};\n    for (var i = 0; i < array.length; ++i) keys[array[i]] = true;\n    return keys;\n  }\n\n  function escapeRegExp(text) {\n    return text.replace(\/[-[\\]{}()*+?.,\\\\^$|#\\s]\/g, \"\\\\$&\");\n  }\n\n  CodeMirror.registerHelper(\"hintWords\", \"stylus\", hintWords);\n  CodeMirror.defineMIME(\"text\/x-styl\", \"stylus\");\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","wordRegexp","words","sort","a","b","RegExp","join","keySet","array","keys","i","length","defineMode","config","tokenBase","stream","state","firstWordMatch","string","match","context","line","firstWord","replace","indent","indentation","ch","peek","skipToEnd","tokenize","tokenCComment","next","tokenString","eatWhile","current","vendorPrefixesRegexp","documentTypesRegexp","tokenParenthesized","backUp","wordOperatorKeywordsRegexp","wordIsTag","operatorsRegexp","test","maybeEnd","quote","escaped","Context","type","prev","pushContext","indentUnit","popContext","currentIndent","contextIndent","popAndPass","n","states","word","toLowerCase","tagKeywords","wordIsProperty","propertyKeywords","fontProperties","wordIsBlock","blockKeywords","wordAsValue","wordLC","override","valueKeywords","commonAtoms","colorKeywords","typeIsBlock","endOfLine","startOfLine","sol","text","eol","firstWordOfLine","re","result","indentUnitString","tagKeywords_","tagVariablesRegexp","propertyKeywords_","nonStandardPropertyKeywords","nonStandardPropertyKeywords_","valueKeywords_","colorKeywords_","documentTypes","documentTypes_","mediaFeatures","mediaFeatures_","mediaTypes","mediaTypes_","fontProperties_","wordOperatorKeywords_","blockKeywords_","commonAtoms_","style","block","states.block","charAt","slice","parens","states.parens","vendorPrefixes","states.vendorPrefixes","pseudo","states.pseudo","atBlock","states.atBlock","hasOwnProperty","atBlock_parens","states.atBlock_parens","keyframes","states.keyframes","interpolation","states.interpolation","extend","states.extend","variableName","states.variableName","startState","base","token","eatSpace","textAfter","cx","lineFirstWord","lineIndent","prevLineFirstWord","prevLineIndent","electricChars","blockCommentStart","blockCommentEnd","blockCommentContinue","lineComment","fold","hintWords","concat","commonDef_","registerHelper","defineMIME"]}},{"offset":{"line":547,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$mode$htmlmixed$htmlmixed.js","lineCount":6,"mappings":"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","sources":["node_modules\/codemirror\/mode\/htmlmixed\/htmlmixed.js"],"sourcesContent":["shadow$provide[269] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"), require(\"..\/xml\/xml\"), require(\"..\/javascript\/javascript\"), require(\"..\/css\/css\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\", \"..\/xml\/xml\", \"..\/javascript\/javascript\", \"..\/css\/css\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var defaultTags = {\n    script: [\n      [\"lang\", \/(javascript|babel)\/i, \"javascript\"],\n      [\"type\", \/^(?:text|application)\\\/(?:x-)?(?:java|ecma)script$|^module$|^$\/i, \"javascript\"],\n      [\"type\", \/.\/, \"text\/plain\"],\n      [null, null, \"javascript\"]\n    ],\n    style:  [\n      [\"lang\", \/^css$\/i, \"css\"],\n      [\"type\", \/^(text\\\/)?(x-)?(stylesheet|css)$\/i, \"css\"],\n      [\"type\", \/.\/, \"text\/plain\"],\n      [null, null, \"css\"]\n    ]\n  };\n\n  function maybeBackup(stream, pat, style) {\n    var cur = stream.current(), close = cur.search(pat);\n    if (close > -1) {\n      stream.backUp(cur.length - close);\n    } else if (cur.match(\/<\\\/?$\/)) {\n      stream.backUp(cur.length);\n      if (!stream.match(pat, false)) stream.match(cur);\n    }\n    return style;\n  }\n\n  var attrRegexpCache = {};\n  function getAttrRegexp(attr) {\n    var regexp = attrRegexpCache[attr];\n    if (regexp) return regexp;\n    return attrRegexpCache[attr] = new RegExp(\"\\\\s+\" + attr + \"\\\\s*=\\\\s*('|\\\")?([^'\\\"]+)('|\\\")?\\\\s*\");\n  }\n\n  function getAttrValue(text, attr) {\n    var match = text.match(getAttrRegexp(attr))\n    return match ? \/^\\s*(.*?)\\s*$\/.exec(match[2])[1] : \"\"\n  }\n\n  function getTagRegexp(tagName, anchored) {\n    return new RegExp((anchored ? \"^\" : \"\") + \"<\\\/\\s*\" + tagName + \"\\s*>\", \"i\");\n  }\n\n  function addTags(from, to) {\n    for (var tag in from) {\n      var dest = to[tag] || (to[tag] = []);\n      var source = from[tag];\n      for (var i = source.length - 1; i >= 0; i--)\n        dest.unshift(source[i])\n    }\n  }\n\n  function findMatchingMode(tagInfo, tagText) {\n    for (var i = 0; i < tagInfo.length; i++) {\n      var spec = tagInfo[i];\n      if (!spec[0] || spec[1].test(getAttrValue(tagText, spec[0]))) return spec[2];\n    }\n  }\n\n  CodeMirror.defineMode(\"htmlmixed\", function (config, parserConfig) {\n    var htmlMode = CodeMirror.getMode(config, {\n      name: \"xml\",\n      htmlMode: true,\n      multilineTagIndentFactor: parserConfig.multilineTagIndentFactor,\n      multilineTagIndentPastTag: parserConfig.multilineTagIndentPastTag,\n      allowMissingTagName: parserConfig.allowMissingTagName,\n    });\n\n    var tags = {};\n    var configTags = parserConfig && parserConfig.tags, configScript = parserConfig && parserConfig.scriptTypes;\n    addTags(defaultTags, tags);\n    if (configTags) addTags(configTags, tags);\n    if (configScript) for (var i = configScript.length - 1; i >= 0; i--)\n      tags.script.unshift([\"type\", configScript[i].matches, configScript[i].mode])\n\n    function html(stream, state) {\n      var style = htmlMode.token(stream, state.htmlState), tag = \/\\btag\\b\/.test(style), tagName\n      if (tag && !\/[<>\\s\\\/]\/.test(stream.current()) &&\n          (tagName = state.htmlState.tagName && state.htmlState.tagName.toLowerCase()) &&\n          tags.hasOwnProperty(tagName)) {\n        state.inTag = tagName + \" \"\n      } else if (state.inTag && tag && \/>$\/.test(stream.current())) {\n        var inTag = \/^([\\S]+) (.*)\/.exec(state.inTag)\n        state.inTag = null\n        var modeSpec = stream.current() == \">\" && findMatchingMode(tags[inTag[1]], inTag[2])\n        var mode = CodeMirror.getMode(config, modeSpec)\n        var endTagA = getTagRegexp(inTag[1], true), endTag = getTagRegexp(inTag[1], false);\n        state.token = function (stream, state) {\n          if (stream.match(endTagA, false)) {\n            state.token = html;\n            state.localState = state.localMode = null;\n            return null;\n          }\n          return maybeBackup(stream, endTag, state.localMode.token(stream, state.localState));\n        };\n        state.localMode = mode;\n        state.localState = CodeMirror.startState(mode, htmlMode.indent(state.htmlState, \"\", \"\"));\n      } else if (state.inTag) {\n        state.inTag += stream.current()\n        if (stream.eol()) state.inTag += \" \"\n      }\n      return style;\n    };\n\n    return {\n      startState: function () {\n        var state = CodeMirror.startState(htmlMode);\n        return {token: html, inTag: null, localMode: null, localState: null, htmlState: state};\n      },\n\n      copyState: function (state) {\n        var local;\n        if (state.localState) {\n          local = CodeMirror.copyState(state.localMode, state.localState);\n        }\n        return {token: state.token, inTag: state.inTag,\n                localMode: state.localMode, localState: local,\n                htmlState: CodeMirror.copyState(htmlMode, state.htmlState)};\n      },\n\n      token: function (stream, state) {\n        return state.token(stream, state);\n      },\n\n      indent: function (state, textAfter, line) {\n        if (!state.localMode || \/^\\s*<\\\/\/.test(textAfter))\n          return htmlMode.indent(state.htmlState, textAfter, line);\n        else if (state.localMode.indent)\n          return state.localMode.indent(state.localState, textAfter, line);\n        else\n          return CodeMirror.Pass;\n      },\n\n      innerMode: function (state) {\n        return {state: state.localState || state.htmlState, mode: state.localMode || htmlMode};\n      }\n    };\n  }, \"xml\", \"javascript\", \"css\");\n\n  CodeMirror.defineMIME(\"text\/html\", \"htmlmixed\");\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","addTags","from","to","tag","dest","source","i","length","unshift","findMatchingMode","tagInfo","tagText","spec","text","match","attr","regexp","attrRegexpCache","RegExp","exec","defaultTags","script","style","defineMode","config","parserConfig","html","stream","state","htmlMode","token","htmlState","test","tagName","current","toLowerCase","tags","hasOwnProperty","inTag","modeSpec","mode","getMode","endTagA","endTag","state.token","localState","localMode","cur","close","search","backUp","startState","indent","eol","name","multilineTagIndentFactor","multilineTagIndentPastTag","allowMissingTagName","configTags","configScript","scriptTypes","matches","copyState","local","textAfter","line","Pass","innerMode","defineMIME"]}},{"offset":{"line":553,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$mode$pug$pug.js","lineCount":15,"mappings":"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\/B,CAAuC,MAAvC,CAA+C,EAA\/C,CADd,CAE6B,OAF7B,GAkHGrB,CAhHcd,CAAAA,OAFjB,GAGEU,CAHF,CAGc,KAHd,CAMA,CADAW,CAAA,CA6GGR,CA7GH,CA6GGC,CA7GH,CAA4BJ,CAA5B,CACA,CAAA,CAAA,CAAO,KART,EAD0B,CAC1B,CAD0B,IAAA,EA+EhB,CAAA,EAAA,CAAA,CAAA,CAAA,IAuCLG,CAxGEwC,CAAAA,IAAP,EACA,CAAA,CAAA,CAAO,IAgEG,CAANtB,EAAAA,CAAM,CAyCV,OAAe,CAAA,CAAR,GAAAA,CAAA,CAAe,IAAf,CAAsBA,CA1CG,CA4C3B,CAvjBsC,CAA\/C,CA4jBG,YA5jBH,CA4jBiB,KA5jBjB,CA4jBwB,WA5jBxB,CA8jBAhD,EAAWgF,CAAAA,UAAX,CAAsB,YAAtB,CAAoC,KAApC,CACAhF,EAAWgF,CAAAA,UAAX,CAAsB,aAAtB,CAAqC,KAArC,CAlkBwB,CAPxB,CAJ8D;","sources":["node_modules\/codemirror\/mode\/pug\/pug.js"],"sourcesContent":["shadow$provide[270] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"), require(\"..\/javascript\/javascript\"), require(\"..\/css\/css\"), require(\"..\/htmlmixed\/htmlmixed\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\", \"..\/javascript\/javascript\", \"..\/css\/css\", \"..\/htmlmixed\/htmlmixed\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"pug\", function (config) {\n  \/\/ token types\n  var KEYWORD = 'keyword';\n  var DOCTYPE = 'meta';\n  var ID = 'builtin';\n  var CLASS = 'qualifier';\n\n  var ATTRS_NEST = {\n    '{': '}',\n    '(': ')',\n    '[': ']'\n  };\n\n  var jsMode = CodeMirror.getMode(config, 'javascript');\n\n  function State() {\n    this.javaScriptLine = false;\n    this.javaScriptLineExcludesColon = false;\n\n    this.javaScriptArguments = false;\n    this.javaScriptArgumentsDepth = 0;\n\n    this.isInterpolating = false;\n    this.interpolationNesting = 0;\n\n    this.jsState = CodeMirror.startState(jsMode);\n\n    this.restOfLine = '';\n\n    this.isIncludeFiltered = false;\n    this.isEach = false;\n\n    this.lastTag = '';\n    this.scriptType = '';\n\n    \/\/ Attributes Mode\n    this.isAttrs = false;\n    this.attrsNest = [];\n    this.inAttributeName = true;\n    this.attributeIsType = false;\n    this.attrValue = '';\n\n    \/\/ Indented Mode\n    this.indentOf = Infinity;\n    this.indentToken = '';\n\n    this.innerMode = null;\n    this.innerState = null;\n\n    this.innerModeForLine = false;\n  }\n  \/**\n   * Safely copy a state\n   *\n   * @return {State}\n   *\/\n  State.prototype.copy = function () {\n    var res = new State();\n    res.javaScriptLine = this.javaScriptLine;\n    res.javaScriptLineExcludesColon = this.javaScriptLineExcludesColon;\n    res.javaScriptArguments = this.javaScriptArguments;\n    res.javaScriptArgumentsDepth = this.javaScriptArgumentsDepth;\n    res.isInterpolating = this.isInterpolating;\n    res.interpolationNesting = this.interpolationNesting;\n\n    res.jsState = CodeMirror.copyState(jsMode, this.jsState);\n\n    res.innerMode = this.innerMode;\n    if (this.innerMode && this.innerState) {\n      res.innerState = CodeMirror.copyState(this.innerMode, this.innerState);\n    }\n\n    res.restOfLine = this.restOfLine;\n\n    res.isIncludeFiltered = this.isIncludeFiltered;\n    res.isEach = this.isEach;\n    res.lastTag = this.lastTag;\n    res.scriptType = this.scriptType;\n    res.isAttrs = this.isAttrs;\n    res.attrsNest = this.attrsNest.slice();\n    res.inAttributeName = this.inAttributeName;\n    res.attributeIsType = this.attributeIsType;\n    res.attrValue = this.attrValue;\n    res.indentOf = this.indentOf;\n    res.indentToken = this.indentToken;\n\n    res.innerModeForLine = this.innerModeForLine;\n\n    return res;\n  };\n\n  function javaScript(stream, state) {\n    if (stream.sol()) {\n      \/\/ if javaScriptLine was set at end of line, ignore it\n      state.javaScriptLine = false;\n      state.javaScriptLineExcludesColon = false;\n    }\n    if (state.javaScriptLine) {\n      if (state.javaScriptLineExcludesColon && stream.peek() === ':') {\n        state.javaScriptLine = false;\n        state.javaScriptLineExcludesColon = false;\n        return;\n      }\n      var tok = jsMode.token(stream, state.jsState);\n      if (stream.eol()) state.javaScriptLine = false;\n      return tok || true;\n    }\n  }\n  function javaScriptArguments(stream, state) {\n    if (state.javaScriptArguments) {\n      if (state.javaScriptArgumentsDepth === 0 && stream.peek() !== '(') {\n        state.javaScriptArguments = false;\n        return;\n      }\n      if (stream.peek() === '(') {\n        state.javaScriptArgumentsDepth++;\n      } else if (stream.peek() === ')') {\n        state.javaScriptArgumentsDepth--;\n      }\n      if (state.javaScriptArgumentsDepth === 0) {\n        state.javaScriptArguments = false;\n        return;\n      }\n\n      var tok = jsMode.token(stream, state.jsState);\n      return tok || true;\n    }\n  }\n\n  function yieldStatement(stream) {\n    if (stream.match(\/^yield\\b\/)) {\n        return 'keyword';\n    }\n  }\n\n  function doctype(stream) {\n    if (stream.match(\/^(?:doctype) *([^\\n]+)?\/)) {\n        return DOCTYPE;\n    }\n  }\n\n  function interpolation(stream, state) {\n    if (stream.match('#{')) {\n      state.isInterpolating = true;\n      state.interpolationNesting = 0;\n      return 'punctuation';\n    }\n  }\n\n  function interpolationContinued(stream, state) {\n    if (state.isInterpolating) {\n      if (stream.peek() === '}') {\n        state.interpolationNesting--;\n        if (state.interpolationNesting < 0) {\n          stream.next();\n          state.isInterpolating = false;\n          return 'punctuation';\n        }\n      } else if (stream.peek() === '{') {\n        state.interpolationNesting++;\n      }\n      return jsMode.token(stream, state.jsState) || true;\n    }\n  }\n\n  function caseStatement(stream, state) {\n    if (stream.match(\/^case\\b\/)) {\n      state.javaScriptLine = true;\n      return KEYWORD;\n    }\n  }\n\n  function when(stream, state) {\n    if (stream.match(\/^when\\b\/)) {\n      state.javaScriptLine = true;\n      state.javaScriptLineExcludesColon = true;\n      return KEYWORD;\n    }\n  }\n\n  function defaultStatement(stream) {\n    if (stream.match(\/^default\\b\/)) {\n      return KEYWORD;\n    }\n  }\n\n  function extendsStatement(stream, state) {\n    if (stream.match(\/^extends?\\b\/)) {\n      state.restOfLine = 'string';\n      return KEYWORD;\n    }\n  }\n\n  function append(stream, state) {\n    if (stream.match(\/^append\\b\/)) {\n      state.restOfLine = 'variable';\n      return KEYWORD;\n    }\n  }\n  function prepend(stream, state) {\n    if (stream.match(\/^prepend\\b\/)) {\n      state.restOfLine = 'variable';\n      return KEYWORD;\n    }\n  }\n  function block(stream, state) {\n    if (stream.match(\/^block\\b *(?:(prepend|append)\\b)?\/)) {\n      state.restOfLine = 'variable';\n      return KEYWORD;\n    }\n  }\n\n  function include(stream, state) {\n    if (stream.match(\/^include\\b\/)) {\n      state.restOfLine = 'string';\n      return KEYWORD;\n    }\n  }\n\n  function includeFiltered(stream, state) {\n    if (stream.match(\/^include:([a-zA-Z0-9\\-]+)\/, false) && stream.match('include')) {\n      state.isIncludeFiltered = true;\n      return KEYWORD;\n    }\n  }\n\n  function includeFilteredContinued(stream, state) {\n    if (state.isIncludeFiltered) {\n      var tok = filter(stream, state);\n      state.isIncludeFiltered = false;\n      state.restOfLine = 'string';\n      return tok;\n    }\n  }\n\n  function mixin(stream, state) {\n    if (stream.match(\/^mixin\\b\/)) {\n      state.javaScriptLine = true;\n      return KEYWORD;\n    }\n  }\n\n  function call(stream, state) {\n    if (stream.match(\/^\\+([-\\w]+)\/)) {\n      if (!stream.match(\/^\\( *[-\\w]+ *=\/, false)) {\n        state.javaScriptArguments = true;\n        state.javaScriptArgumentsDepth = 0;\n      }\n      return 'variable';\n    }\n    if (stream.match('+#{', false)) {\n      stream.next();\n      state.mixinCallAfter = true;\n      return interpolation(stream, state);\n    }\n  }\n  function callArguments(stream, state) {\n    if (state.mixinCallAfter) {\n      state.mixinCallAfter = false;\n      if (!stream.match(\/^\\( *[-\\w]+ *=\/, false)) {\n        state.javaScriptArguments = true;\n        state.javaScriptArgumentsDepth = 0;\n      }\n      return true;\n    }\n  }\n\n  function conditional(stream, state) {\n    if (stream.match(\/^(if|unless|else if|else)\\b\/)) {\n      state.javaScriptLine = true;\n      return KEYWORD;\n    }\n  }\n\n  function each(stream, state) {\n    if (stream.match(\/^(- *)?(each|for)\\b\/)) {\n      state.isEach = true;\n      return KEYWORD;\n    }\n  }\n  function eachContinued(stream, state) {\n    if (state.isEach) {\n      if (stream.match(\/^ in\\b\/)) {\n        state.javaScriptLine = true;\n        state.isEach = false;\n        return KEYWORD;\n      } else if (stream.sol() || stream.eol()) {\n        state.isEach = false;\n      } else if (stream.next()) {\n        while (!stream.match(\/^ in\\b\/, false) && stream.next());\n        return 'variable';\n      }\n    }\n  }\n\n  function whileStatement(stream, state) {\n    if (stream.match(\/^while\\b\/)) {\n      state.javaScriptLine = true;\n      return KEYWORD;\n    }\n  }\n\n  function tag(stream, state) {\n    var captures;\n    if (captures = stream.match(\/^(\\w(?:[-:\\w]*\\w)?)\\\/?\/)) {\n      state.lastTag = captures[1].toLowerCase();\n      if (state.lastTag === 'script') {\n        state.scriptType = 'application\/javascript';\n      }\n      return 'tag';\n    }\n  }\n\n  function filter(stream, state) {\n    if (stream.match(\/^:([\\w\\-]+)\/)) {\n      var innerMode;\n      if (config && config.innerModes) {\n        innerMode = config.innerModes(stream.current().substring(1));\n      }\n      if (!innerMode) {\n        innerMode = stream.current().substring(1);\n      }\n      if (typeof innerMode === 'string') {\n        innerMode = CodeMirror.getMode(config, innerMode);\n      }\n      setInnerMode(stream, state, innerMode);\n      return 'atom';\n    }\n  }\n\n  function code(stream, state) {\n    if (stream.match(\/^(!?=|-)\/)) {\n      state.javaScriptLine = true;\n      return 'punctuation';\n    }\n  }\n\n  function id(stream) {\n    if (stream.match(\/^#([\\w-]+)\/)) {\n      return ID;\n    }\n  }\n\n  function className(stream) {\n    if (stream.match(\/^\\.([\\w-]+)\/)) {\n      return CLASS;\n    }\n  }\n\n  function attrs(stream, state) {\n    if (stream.peek() == '(') {\n      stream.next();\n      state.isAttrs = true;\n      state.attrsNest = [];\n      state.inAttributeName = true;\n      state.attrValue = '';\n      state.attributeIsType = false;\n      return 'punctuation';\n    }\n  }\n\n  function attrsContinued(stream, state) {\n    if (state.isAttrs) {\n      if (ATTRS_NEST[stream.peek()]) {\n        state.attrsNest.push(ATTRS_NEST[stream.peek()]);\n      }\n      if (state.attrsNest[state.attrsNest.length - 1] === stream.peek()) {\n        state.attrsNest.pop();\n      } else  if (stream.eat(')')) {\n        state.isAttrs = false;\n        return 'punctuation';\n      }\n      if (state.inAttributeName && stream.match(\/^[^=,\\)!]+\/)) {\n        if (stream.peek() === '=' || stream.peek() === '!') {\n          state.inAttributeName = false;\n          state.jsState = CodeMirror.startState(jsMode);\n          if (state.lastTag === 'script' && stream.current().trim().toLowerCase() === 'type') {\n            state.attributeIsType = true;\n          } else {\n            state.attributeIsType = false;\n          }\n        }\n        return 'attribute';\n      }\n\n      var tok = jsMode.token(stream, state.jsState);\n      if (state.attributeIsType && tok === 'string') {\n        state.scriptType = stream.current().toString();\n      }\n      if (state.attrsNest.length === 0 && (tok === 'string' || tok === 'variable' || tok === 'keyword')) {\n        try {\n          Function('', 'var x ' + state.attrValue.replace(\/,\\s*$\/, '').replace(\/^!\/, ''));\n          state.inAttributeName = true;\n          state.attrValue = '';\n          stream.backUp(stream.current().length);\n          return attrsContinued(stream, state);\n        } catch (ex) {\n          \/\/not the end of an attribute\n        }\n      }\n      state.attrValue += stream.current();\n      return tok || true;\n    }\n  }\n\n  function attributesBlock(stream, state) {\n    if (stream.match(\/^&attributes\\b\/)) {\n      state.javaScriptArguments = true;\n      state.javaScriptArgumentsDepth = 0;\n      return 'keyword';\n    }\n  }\n\n  function indent(stream) {\n    if (stream.sol() && stream.eatSpace()) {\n      return 'indent';\n    }\n  }\n\n  function comment(stream, state) {\n    if (stream.match(\/^ *\\\/\\\/(-)?([^\\n]*)\/)) {\n      state.indentOf = stream.indentation();\n      state.indentToken = 'comment';\n      return 'comment';\n    }\n  }\n\n  function colon(stream) {\n    if (stream.match(\/^: *\/)) {\n      return 'colon';\n    }\n  }\n\n  function text(stream, state) {\n    if (stream.match(\/^(?:\\| ?| )([^\\n]+)\/)) {\n      return 'string';\n    }\n    if (stream.match(\/^(<[^\\n]*)\/, false)) {\n      \/\/ html string\n      setInnerMode(stream, state, 'htmlmixed');\n      state.innerModeForLine = true;\n      return innerMode(stream, state, true);\n    }\n  }\n\n  function dot(stream, state) {\n    if (stream.eat('.')) {\n      var innerMode = null;\n      if (state.lastTag === 'script' && state.scriptType.toLowerCase().indexOf('javascript') != -1) {\n        innerMode = state.scriptType.toLowerCase().replace(\/\"|'\/g, '');\n      } else if (state.lastTag === 'style') {\n        innerMode = 'css';\n      }\n      setInnerMode(stream, state, innerMode);\n      return 'dot';\n    }\n  }\n\n  function fail(stream) {\n    stream.next();\n    return null;\n  }\n\n\n  function setInnerMode(stream, state, mode) {\n    mode = CodeMirror.mimeModes[mode] || mode;\n    mode = config.innerModes ? config.innerModes(mode) || mode : mode;\n    mode = CodeMirror.mimeModes[mode] || mode;\n    mode = CodeMirror.getMode(config, mode);\n    state.indentOf = stream.indentation();\n\n    if (mode && mode.name !== 'null') {\n      state.innerMode = mode;\n    } else {\n      state.indentToken = 'string';\n    }\n  }\n  function innerMode(stream, state, force) {\n    if (stream.indentation() > state.indentOf || (state.innerModeForLine && !stream.sol()) || force) {\n      if (state.innerMode) {\n        if (!state.innerState) {\n          state.innerState = state.innerMode.startState ? CodeMirror.startState(state.innerMode, stream.indentation()) : {};\n        }\n        return stream.hideFirstChars(state.indentOf + 2, function () {\n          return state.innerMode.token(stream, state.innerState) || true;\n        });\n      } else {\n        stream.skipToEnd();\n        return state.indentToken;\n      }\n    } else if (stream.sol()) {\n      state.indentOf = Infinity;\n      state.indentToken = null;\n      state.innerMode = null;\n      state.innerState = null;\n    }\n  }\n  function restOfLine(stream, state) {\n    if (stream.sol()) {\n      \/\/ if restOfLine was set at end of line, ignore it\n      state.restOfLine = '';\n    }\n    if (state.restOfLine) {\n      stream.skipToEnd();\n      var tok = state.restOfLine;\n      state.restOfLine = '';\n      return tok;\n    }\n  }\n\n\n  function startState() {\n    return new State();\n  }\n  function copyState(state) {\n    return state.copy();\n  }\n  \/**\n   * Get the next token in the stream\n   *\n   * @param {Stream} stream\n   * @param {State} state\n   *\/\n  function nextToken(stream, state) {\n    var tok = innerMode(stream, state)\n      || restOfLine(stream, state)\n      || interpolationContinued(stream, state)\n      || includeFilteredContinued(stream, state)\n      || eachContinued(stream, state)\n      || attrsContinued(stream, state)\n      || javaScript(stream, state)\n      || javaScriptArguments(stream, state)\n      || callArguments(stream, state)\n\n      || yieldStatement(stream)\n      || doctype(stream)\n      || interpolation(stream, state)\n      || caseStatement(stream, state)\n      || when(stream, state)\n      || defaultStatement(stream)\n      || extendsStatement(stream, state)\n      || append(stream, state)\n      || prepend(stream, state)\n      || block(stream, state)\n      || include(stream, state)\n      || includeFiltered(stream, state)\n      || mixin(stream, state)\n      || call(stream, state)\n      || conditional(stream, state)\n      || each(stream, state)\n      || whileStatement(stream, state)\n      || tag(stream, state)\n      || filter(stream, state)\n      || code(stream, state)\n      || id(stream)\n      || className(stream)\n      || attrs(stream, state)\n      || attributesBlock(stream, state)\n      || indent(stream)\n      || text(stream, state)\n      || comment(stream, state)\n      || colon(stream)\n      || dot(stream, state)\n      || fail(stream);\n\n    return tok === true ? null : tok;\n  }\n  return {\n    startState: startState,\n    copyState: copyState,\n    token: nextToken\n  };\n}, 'javascript', 'css', 'htmlmixed');\n\nCodeMirror.defineMIME('text\/x-pug', 'pug');\nCodeMirror.defineMIME('text\/x-jade', 'pug');\n\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","defineMode","config","State","javaScriptArguments","javaScriptLineExcludesColon","javaScriptLine","javaScriptArgumentsDepth","isInterpolating","interpolationNesting","jsState","startState","jsMode","restOfLine","isEach","isIncludeFiltered","scriptType","lastTag","isAttrs","attrsNest","inAttributeName","attributeIsType","attrValue","indentOf","Infinity","indentToken","innerState","innerMode","innerModeForLine","interpolation","stream","state","match","filter","innerModes","current","substring","getMode","setInnerMode","attrsContinued","ATTRS_NEST","peek","push","length","pop","eat","trim","toLowerCase","tok","token","toString","Function","replace","backUp","ex","mode","mimeModes","indentation","name","force","sol","hideFirstChars","skipToEnd","prototype","copy","State.prototype.copy","res","copyState","slice","nextToken","next","KEYWORD","eol","mixinCallAfter","DOCTYPE","captures","ID","CLASS","eatSpace","indexOf","defineMIME"]}},{"offset":{"line":568,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$addon$mode$simple.js","lineCount":8,"mappings":"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\/B,CAAAA,MAAZ,EAA0B8B,CAAKxB,CAAAA,KAA\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","sources":["node_modules\/codemirror\/addon\/mode\/simple.js"],"sourcesContent":["shadow$provide[271] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineSimpleMode = function(name, states) {\n    CodeMirror.defineMode(name, function(config) {\n      return CodeMirror.simpleMode(config, states);\n    });\n  };\n\n  CodeMirror.simpleMode = function(config, states) {\n    ensureState(states, \"start\");\n    var states_ = {}, meta = states.meta || {}, hasIndentation = false;\n    for (var state in states) if (state != meta && states.hasOwnProperty(state)) {\n      var list = states_[state] = [], orig = states[state];\n      for (var i = 0; i < orig.length; i++) {\n        var data = orig[i];\n        list.push(new Rule(data, states));\n        if (data.indent || data.dedent) hasIndentation = true;\n      }\n    }\n    var mode = {\n      startState: function() {\n        return {state: \"start\", pending: null,\n                local: null, localState: null,\n                indent: hasIndentation ? [] : null};\n      },\n      copyState: function(state) {\n        var s = {state: state.state, pending: state.pending,\n                 local: state.local, localState: null,\n                 indent: state.indent && state.indent.slice(0)};\n        if (state.localState)\n          s.localState = CodeMirror.copyState(state.local.mode, state.localState);\n        if (state.stack)\n          s.stack = state.stack.slice(0);\n        for (var pers = state.persistentStates; pers; pers = pers.next)\n          s.persistentStates = {mode: pers.mode,\n                                spec: pers.spec,\n                                state: pers.state == state.localState ? s.localState : CodeMirror.copyState(pers.mode, pers.state),\n                                next: s.persistentStates};\n        return s;\n      },\n      token: tokenFunction(states_, config),\n      innerMode: function(state) { return state.local && {mode: state.local.mode, state: state.localState}; },\n      indent: indentFunction(states_, meta)\n    };\n    if (meta) for (var prop in meta) if (meta.hasOwnProperty(prop))\n      mode[prop] = meta[prop];\n    return mode;\n  };\n\n  function ensureState(states, name) {\n    if (!states.hasOwnProperty(name))\n      throw new Error(\"Undefined state \" + name + \" in simple mode\");\n  }\n\n  function toRegex(val, caret) {\n    if (!val) return \/(?:)\/;\n    var flags = \"\";\n    if (val instanceof RegExp) {\n      if (val.ignoreCase) flags = \"i\";\n      val = val.source;\n    } else {\n      val = String(val);\n    }\n    return new RegExp((caret === false ? \"\" : \"^\") + \"(?:\" + val + \")\", flags);\n  }\n\n  function asToken(val) {\n    if (!val) return null;\n    if (val.apply) return val\n    if (typeof val == \"string\") return val.replace(\/\\.\/g, \" \");\n    var result = [];\n    for (var i = 0; i < val.length; i++)\n      result.push(val[i] && val[i].replace(\/\\.\/g, \" \"));\n    return result;\n  }\n\n  function Rule(data, states) {\n    if (data.next || data.push) ensureState(states, data.next || data.push);\n    this.regex = toRegex(data.regex);\n    this.token = asToken(data.token);\n    this.data = data;\n  }\n\n  function tokenFunction(states, config) {\n    return function(stream, state) {\n      if (state.pending) {\n        var pend = state.pending.shift();\n        if (state.pending.length == 0) state.pending = null;\n        stream.pos += pend.text.length;\n        return pend.token;\n      }\n\n      if (state.local) {\n        if (state.local.end && stream.match(state.local.end)) {\n          var tok = state.local.endToken || null;\n          state.local = state.localState = null;\n          return tok;\n        } else {\n          var tok = state.local.mode.token(stream, state.localState), m;\n          if (state.local.endScan && (m = state.local.endScan.exec(stream.current())))\n            stream.pos = stream.start + m.index;\n          return tok;\n        }\n      }\n\n      var curState = states[state.state];\n      for (var i = 0; i < curState.length; i++) {\n        var rule = curState[i];\n        var matches = (!rule.data.sol || stream.sol()) && stream.match(rule.regex);\n        if (matches) {\n          if (rule.data.next) {\n            state.state = rule.data.next;\n          } else if (rule.data.push) {\n            (state.stack || (state.stack = [])).push(state.state);\n            state.state = rule.data.push;\n          } else if (rule.data.pop && state.stack && state.stack.length) {\n            state.state = state.stack.pop();\n          }\n\n          if (rule.data.mode)\n            enterLocalMode(config, state, rule.data.mode, rule.token);\n          if (rule.data.indent)\n            state.indent.push(stream.indentation() + config.indentUnit);\n          if (rule.data.dedent)\n            state.indent.pop();\n          var token = rule.token\n          if (token && token.apply) token = token(matches)\n          if (matches.length > 2 && rule.token && typeof rule.token != \"string\") {\n            state.pending = [];\n            for (var j = 2; j < matches.length; j++)\n              if (matches[j])\n                state.pending.push({text: matches[j], token: rule.token[j - 1]});\n            stream.backUp(matches[0].length - (matches[1] ? matches[1].length : 0));\n            return token[0];\n          } else if (token && token.join) {\n            return token[0];\n          } else {\n            return token;\n          }\n        }\n      }\n      stream.next();\n      return null;\n    };\n  }\n\n  function cmp(a, b) {\n    if (a === b) return true;\n    if (!a || typeof a != \"object\" || !b || typeof b != \"object\") return false;\n    var props = 0;\n    for (var prop in a) if (a.hasOwnProperty(prop)) {\n      if (!b.hasOwnProperty(prop) || !cmp(a[prop], b[prop])) return false;\n      props++;\n    }\n    for (var prop in b) if (b.hasOwnProperty(prop)) props--;\n    return props == 0;\n  }\n\n  function enterLocalMode(config, state, spec, token) {\n    var pers;\n    if (spec.persistent) for (var p = state.persistentStates; p && !pers; p = p.next)\n      if (spec.spec ? cmp(spec.spec, p.spec) : spec.mode == p.mode) pers = p;\n    var mode = pers ? pers.mode : spec.mode || CodeMirror.getMode(config, spec.spec);\n    var lState = pers ? pers.state : CodeMirror.startState(mode);\n    if (spec.persistent && !pers)\n      state.persistentStates = {mode: mode, spec: spec.spec, state: lState, next: state.persistentStates};\n\n    state.localState = lState;\n    state.local = {mode: mode,\n                   end: spec.end && toRegex(spec.end),\n                   endScan: spec.end && spec.forceEnd !== false && toRegex(spec.end, false),\n                   endToken: token && token.join ? token[token.length - 1] : token};\n  }\n\n  function indexOf(val, arr) {\n    for (var i = 0; i < arr.length; i++) if (arr[i] === val) return true;\n  }\n\n  function indentFunction(states, meta) {\n    return function(state, textAfter, line) {\n      if (state.local && state.local.mode.indent)\n        return state.local.mode.indent(state.localState, textAfter, line);\n      if (state.indent == null || state.local || meta.dontIndentStates && indexOf(state.state, meta.dontIndentStates) > -1)\n        return CodeMirror.Pass;\n\n      var pos = state.indent.length - 1, rules = states[state.state];\n      scan: for (;;) {\n        for (var i = 0; i < rules.length; i++) {\n          var rule = rules[i];\n          if (rule.data.dedent && rule.data.dedentIfLineStart !== false) {\n            var m = rule.regex.exec(textAfter);\n            if (m && m[0]) {\n              pos--;\n              if (rule.next || rule.push) rules = states[rule.next || rule.push];\n              textAfter = textAfter.slice(m[0].length);\n              continue scan;\n            }\n          }\n        }\n        break;\n      }\n      return pos < 0 ? 0 : state.indent[pos];\n    };\n  }\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","ensureState","states","name","hasOwnProperty","Error","toRegex","val","caret","flags","RegExp","ignoreCase","source","String","asToken","apply","replace","result","i","length","push","Rule","data","next","regex","token","tokenFunction","config","stream","state","pending","pend","shift","pos","text","local","end","match","tok","endToken","localState","mode","m","endScan","exec","current","start","index","curState","rule","matches","sol","stack","pop","pers","spec","persistent","p","persistentStates","cmp","getMode","lState","startState","forceEnd","join","indent","indentation","indentUnit","dedent","j","backUp","a","b","props","prop","indentFunction","meta","textAfter","line","arr","Pass","rules","dedentIfLineStart","slice","defineSimpleMode","CodeMirror.defineSimpleMode","defineMode","simpleMode","CodeMirror.simpleMode","states_","hasIndentation","list","orig","copyState","s","innerMode"]}},{"offset":{"line":576,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$addon$mode$multiplex.js","lineCount":5,"mappings":"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","sources":["node_modules\/codemirror\/addon\/mode\/multiplex.js"],"sourcesContent":["shadow$provide[272] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.multiplexingMode = function(outer \/*, others *\/) {\n  \/\/ Others should be {open, close, mode [, delimStyle] [, innerStyle]} objects\n  var others = Array.prototype.slice.call(arguments, 1);\n\n  function indexOf(string, pattern, from, returnEnd) {\n    if (typeof pattern == \"string\") {\n      var found = string.indexOf(pattern, from);\n      return returnEnd && found > -1 ? found + pattern.length : found;\n    }\n    var m = pattern.exec(from ? string.slice(from) : string);\n    return m ? m.index + from + (returnEnd ? m[0].length : 0) : -1;\n  }\n\n  return {\n    startState: function() {\n      return {\n        outer: CodeMirror.startState(outer),\n        innerActive: null,\n        inner: null\n      };\n    },\n\n    copyState: function(state) {\n      return {\n        outer: CodeMirror.copyState(outer, state.outer),\n        innerActive: state.innerActive,\n        inner: state.innerActive && CodeMirror.copyState(state.innerActive.mode, state.inner)\n      };\n    },\n\n    token: function(stream, state) {\n      if (!state.innerActive) {\n        var cutOff = Infinity, oldContent = stream.string;\n        for (var i = 0; i < others.length; ++i) {\n          var other = others[i];\n          var found = indexOf(oldContent, other.open, stream.pos);\n          if (found == stream.pos) {\n            if (!other.parseDelimiters) stream.match(other.open);\n            state.innerActive = other;\n\n            \/\/ Get the outer indent, making sure to handle CodeMirror.Pass\n            var outerIndent = 0;\n            if (outer.indent) {\n              var possibleOuterIndent = outer.indent(state.outer, \"\", \"\");\n              if (possibleOuterIndent !== CodeMirror.Pass) outerIndent = possibleOuterIndent;\n            }\n\n            state.inner = CodeMirror.startState(other.mode, outerIndent);\n            return other.delimStyle && (other.delimStyle + \" \" + other.delimStyle + \"-open\");\n          } else if (found != -1 && found < cutOff) {\n            cutOff = found;\n          }\n        }\n        if (cutOff != Infinity) stream.string = oldContent.slice(0, cutOff);\n        var outerToken = outer.token(stream, state.outer);\n        if (cutOff != Infinity) stream.string = oldContent;\n        return outerToken;\n      } else {\n        var curInner = state.innerActive, oldContent = stream.string;\n        if (!curInner.close && stream.sol()) {\n          state.innerActive = state.inner = null;\n          return this.token(stream, state);\n        }\n        var found = curInner.close ? indexOf(oldContent, curInner.close, stream.pos, curInner.parseDelimiters) : -1;\n        if (found == stream.pos && !curInner.parseDelimiters) {\n          stream.match(curInner.close);\n          state.innerActive = state.inner = null;\n          return curInner.delimStyle && (curInner.delimStyle + \" \" + curInner.delimStyle + \"-close\");\n        }\n        if (found > -1) stream.string = oldContent.slice(0, found);\n        var innerToken = curInner.mode.token(stream, state.inner);\n        if (found > -1) stream.string = oldContent;\n\n        if (found == stream.pos && curInner.parseDelimiters)\n          state.innerActive = state.inner = null;\n\n        if (curInner.innerStyle) {\n          if (innerToken) innerToken = innerToken + \" \" + curInner.innerStyle;\n          else innerToken = curInner.innerStyle;\n        }\n\n        return innerToken;\n      }\n    },\n\n    indent: function(state, textAfter, line) {\n      var mode = state.innerActive ? state.innerActive.mode : outer;\n      if (!mode.indent) return CodeMirror.Pass;\n      return mode.indent(state.innerActive ? state.inner : state.outer, textAfter, line);\n    },\n\n    blankLine: function(state) {\n      var mode = state.innerActive ? state.innerActive.mode : outer;\n      if (mode.blankLine) {\n        mode.blankLine(state.innerActive ? state.inner : state.outer);\n      }\n      if (!state.innerActive) {\n        for (var i = 0; i < others.length; ++i) {\n          var other = others[i];\n          if (other.open === \"\\n\") {\n            state.innerActive = other;\n            state.inner = CodeMirror.startState(other.mode, mode.indent ? mode.indent(state.outer, \"\", \"\") : 0);\n          }\n        }\n      } else if (state.innerActive.close === \"\\n\") {\n        state.innerActive = state.inner = null;\n      }\n    },\n\n    electricChars: outer.electricChars,\n\n    innerMode: function(state) {\n      return state.inner ? {state: state.inner, mode: state.innerActive.mode} : {state: state.outer, mode: outer};\n    }\n  };\n};\n\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","multiplexingMode","CodeMirror.multiplexingMode","outer","indexOf","string","pattern","from","returnEnd","found","length","m","exec","slice","index","others","Array","prototype","call","arguments","startState","innerActive","inner","copyState","state","mode","token","stream","curInner","oldContent","close","sol","pos","parseDelimiters","match","delimStyle","innerToken","innerStyle","cutOff","Infinity","i","other","open","outerIndent","indent","possibleOuterIndent","Pass","outerToken","textAfter","line","blankLine","electricChars","innerMode"]}},{"offset":{"line":581,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$mode$handlebars$handlebars.js","lineCount":3,"mappings":"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","sources":["node_modules\/codemirror\/mode\/handlebars\/handlebars.js"],"sourcesContent":["shadow$provide[273] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"), require(\"..\/..\/addon\/mode\/simple\"), require(\"..\/..\/addon\/mode\/multiplex\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\", \"..\/..\/addon\/mode\/simple\", \"..\/..\/addon\/mode\/multiplex\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineSimpleMode(\"handlebars-tags\", {\n    start: [\n      { regex: \/\\{\\{\\{\/, push: \"handlebars_raw\", token: \"tag\" },\n      { regex: \/\\{\\{!--\/, push: \"dash_comment\", token: \"comment\" },\n      { regex: \/\\{\\{!\/,   push: \"comment\", token: \"comment\" },\n      { regex: \/\\{\\{\/,    push: \"handlebars\", token: \"tag\" }\n    ],\n    handlebars_raw: [\n      { regex: \/\\}\\}\\}\/, pop: true, token: \"tag\" },\n    ],\n    handlebars: [\n      { regex: \/\\}\\}\/, pop: true, token: \"tag\" },\n\n      \/\/ Double and single quotes\n      { regex: \/\"(?:[^\\\\\"]|\\\\.)*\"?\/, token: \"string\" },\n      { regex: \/'(?:[^\\\\']|\\\\.)*'?\/, token: \"string\" },\n\n      \/\/ Handlebars keywords\n      { regex: \/>|[#\\\/]([A-Za-z_]\\w*)\/, token: \"keyword\" },\n      { regex: \/(?:else|this)\\b\/, token: \"keyword\" },\n\n      \/\/ Numeral\n      { regex: \/\\d+\/i, token: \"number\" },\n\n      \/\/ Atoms like = and .\n      { regex: \/=|~|@|true|false\/, token: \"atom\" },\n\n      \/\/ Paths\n      { regex: \/(?:\\.\\.\\\/)*(?:[A-Za-z_][\\w\\.]*)+\/, token: \"variable-2\" }\n    ],\n    dash_comment: [\n      { regex: \/--\\}\\}\/, pop: true, token: \"comment\" },\n\n      \/\/ Commented code\n      { regex: \/.\/, token: \"comment\"}\n    ],\n    comment: [\n      { regex: \/\\}\\}\/, pop: true, token: \"comment\" },\n      { regex: \/.\/, token: \"comment\" }\n    ],\n    meta: {\n      blockCommentStart: \"{{--\",\n      blockCommentEnd: \"--}}\"\n    }\n  });\n\n  CodeMirror.defineMode(\"handlebars\", function(config, parserConfig) {\n    var handlebars = CodeMirror.getMode(config, \"handlebars-tags\");\n    if (!parserConfig || !parserConfig.base) return handlebars;\n    return CodeMirror.multiplexingMode(\n      CodeMirror.getMode(config, parserConfig.base),\n      {open: \"{{\", close: \/\\}\\}\\}?\/, mode: handlebars, parseDelimiters: true}\n    );\n  });\n\n  CodeMirror.defineMIME(\"text\/x-handlebars-template\", \"handlebars\");\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","defineSimpleMode","start","regex","push","token","handlebars_raw","pop","handlebars","dash_comment","comment","meta","blockCommentStart","blockCommentEnd","defineMode","config","parserConfig","getMode","base","multiplexingMode","open","close","mode","parseDelimiters","defineMIME"]}},{"offset":{"line":584,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$mode$vue$vue.js","lineCount":4,"mappings":"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","sources":["node_modules\/codemirror\/mode\/vue\/vue.js"],"sourcesContent":["shadow$provide[274] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function (mod) {\n  \"use strict\";\n  if (typeof exports === \"object\" && typeof module === \"object\") {\/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"),\n        require(\"..\/..\/addon\/mode\/overlay\"),\n        require(\"..\/xml\/xml\"),\n        require(\"..\/javascript\/javascript\"),\n        require(\"..\/coffeescript\/coffeescript\"),\n        require(\"..\/css\/css\"),\n        require(\"..\/sass\/sass\"),\n        require(\"..\/stylus\/stylus\"),\n        require(\"..\/pug\/pug\"),\n        require(\"..\/handlebars\/handlebars\"));\n  } else if (typeof define === \"function\" && define.amd) { \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\",\n            \"..\/..\/addon\/mode\/overlay\",\n            \"..\/xml\/xml\",\n            \"..\/javascript\/javascript\",\n            \"..\/coffeescript\/coffeescript\",\n            \"..\/css\/css\",\n            \"..\/sass\/sass\",\n            \"..\/stylus\/stylus\",\n            \"..\/pug\/pug\",\n            \"..\/handlebars\/handlebars\"], mod);\n  } else { \/\/ Plain browser env\n    mod(CodeMirror);\n  }\n})(function (CodeMirror) {\n  var tagLanguages = {\n    script: [\n      [\"lang\", \/coffee(script)?\/, \"coffeescript\"],\n      [\"type\", \/^(?:text|application)\\\/(?:x-)?coffee(?:script)?$\/, \"coffeescript\"],\n      [\"lang\", \/^babel$\/, \"javascript\"],\n      [\"type\", \/^text\\\/babel$\/, \"javascript\"],\n      [\"type\", \/^text\\\/ecmascript-\\d+$\/, \"javascript\"]\n    ],\n    style: [\n      [\"lang\", \/^stylus$\/i, \"stylus\"],\n      [\"lang\", \/^sass$\/i, \"sass\"],\n      [\"lang\", \/^less$\/i, \"text\/x-less\"],\n      [\"lang\", \/^scss$\/i, \"text\/x-scss\"],\n      [\"type\", \/^(text\\\/)?(x-)?styl(us)?$\/i, \"stylus\"],\n      [\"type\", \/^text\\\/sass\/i, \"sass\"],\n      [\"type\", \/^(text\\\/)?(x-)?scss$\/i, \"text\/x-scss\"],\n      [\"type\", \/^(text\\\/)?(x-)?less$\/i, \"text\/x-less\"]\n    ],\n    template: [\n      [\"lang\", \/^vue-template$\/i, \"vue\"],\n      [\"lang\", \/^pug$\/i, \"pug\"],\n      [\"lang\", \/^handlebars$\/i, \"handlebars\"],\n      [\"type\", \/^(text\\\/)?(x-)?pug$\/i, \"pug\"],\n      [\"type\", \/^text\\\/x-handlebars-template$\/i, \"handlebars\"],\n      [null, null, \"vue-template\"]\n    ]\n  };\n\n  CodeMirror.defineMode(\"vue-template\", function (config, parserConfig) {\n    var mustacheOverlay = {\n      token: function (stream) {\n        if (stream.match(\/^\\{\\{.*?\\}\\}\/)) return \"meta mustache\";\n        while (stream.next() && !stream.match(\"{{\", false)) {}\n        return null;\n      }\n    };\n    return CodeMirror.overlayMode(CodeMirror.getMode(config, parserConfig.backdrop || \"text\/html\"), mustacheOverlay);\n  });\n\n  CodeMirror.defineMode(\"vue\", function (config) {\n    return CodeMirror.getMode(config, {name: \"htmlmixed\", tags: tagLanguages});\n  }, \"htmlmixed\", \"xml\", \"javascript\", \"coffeescript\", \"css\", \"sass\", \"stylus\", \"pug\", \"handlebars\");\n\n  CodeMirror.defineMIME(\"script\/x-vue\", \"vue\");\n  CodeMirror.defineMIME(\"text\/x-vue\", \"vue\");\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","tagLanguages","script","style","template","defineMode","config","parserConfig","overlayMode","getMode","backdrop","mustacheOverlay","token","stream","match","next","name","tags","defineMIME"]}},{"offset":{"line":588,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$mode$commonlisp$commonlisp.js","lineCount":5,"mappings":"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\/GwB,CAPxB,CAJ8D;","sources":["node_modules\/codemirror\/mode\/commonlisp\/commonlisp.js"],"sourcesContent":["shadow$provide[275] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"commonlisp\", function (config) {\n  var specialForm = \/^(block|let*|return-from|catch|load-time-value|setq|eval-when|locally|symbol-macrolet|flet|macrolet|tagbody|function|multiple-value-call|the|go|multiple-value-prog1|throw|if|progn|unwind-protect|labels|progv|let|quote)$\/;\n  var assumeBody = \/^with|^def|^do|^prog|case$|^cond$|bind$|when$|unless$\/;\n  var numLiteral = \/^(?:[+\\-]?(?:\\d+|\\d*\\.\\d+)(?:[efd][+\\-]?\\d+)?|[+\\-]?\\d+(?:\\\/[+\\-]?\\d+)?|#b[+\\-]?[01]+|#o[+\\-]?[0-7]+|#x[+\\-]?[\\da-f]+)\/;\n  var symbol = \/[^\\s'`,@()\\[\\]\";]\/;\n  var type;\n\n  function readSym(stream) {\n    var ch;\n    while (ch = stream.next()) {\n      if (ch == \"\\\\\") stream.next();\n      else if (!symbol.test(ch)) { stream.backUp(1); break; }\n    }\n    return stream.current();\n  }\n\n  function base(stream, state) {\n    if (stream.eatSpace()) {type = \"ws\"; return null;}\n    if (stream.match(numLiteral)) return \"number\";\n    var ch = stream.next();\n    if (ch == \"\\\\\") ch = stream.next();\n\n    if (ch == '\"') return (state.tokenize = inString)(stream, state);\n    else if (ch == \"(\") { type = \"open\"; return \"bracket\"; }\n    else if (ch == \")\" || ch == \"]\") { type = \"close\"; return \"bracket\"; }\n    else if (ch == \";\") { stream.skipToEnd(); type = \"ws\"; return \"comment\"; }\n    else if (\/['`,@]\/.test(ch)) return null;\n    else if (ch == \"|\") {\n      if (stream.skipTo(\"|\")) { stream.next(); return \"symbol\"; }\n      else { stream.skipToEnd(); return \"error\"; }\n    } else if (ch == \"#\") {\n      var ch = stream.next();\n      if (ch == \"(\") { type = \"open\"; return \"bracket\"; }\n      else if (\/[+\\-=\\.']\/.test(ch)) return null;\n      else if (\/\\d\/.test(ch) && stream.match(\/^\\d*#\/)) return null;\n      else if (ch == \"|\") return (state.tokenize = inComment)(stream, state);\n      else if (ch == \":\") { readSym(stream); return \"meta\"; }\n      else if (ch == \"\\\\\") { stream.next(); readSym(stream); return \"string-2\" }\n      else return \"error\";\n    } else {\n      var name = readSym(stream);\n      if (name == \".\") return null;\n      type = \"symbol\";\n      if (name == \"nil\" || name == \"t\" || name.charAt(0) == \":\") return \"atom\";\n      if (state.lastType == \"open\" && (specialForm.test(name) || assumeBody.test(name))) return \"keyword\";\n      if (name.charAt(0) == \"&\") return \"variable-2\";\n      return \"variable\";\n    }\n  }\n\n  function inString(stream, state) {\n    var escaped = false, next;\n    while (next = stream.next()) {\n      if (next == '\"' && !escaped) { state.tokenize = base; break; }\n      escaped = !escaped && next == \"\\\\\";\n    }\n    return \"string\";\n  }\n\n  function inComment(stream, state) {\n    var next, last;\n    while (next = stream.next()) {\n      if (next == \"#\" && last == \"|\") { state.tokenize = base; break; }\n      last = next;\n    }\n    type = \"ws\";\n    return \"comment\";\n  }\n\n  return {\n    startState: function () {\n      return {ctx: {prev: null, start: 0, indentTo: 0}, lastType: null, tokenize: base};\n    },\n\n    token: function (stream, state) {\n      if (stream.sol() && typeof state.ctx.indentTo != \"number\")\n        state.ctx.indentTo = state.ctx.start + 1;\n\n      type = null;\n      var style = state.tokenize(stream, state);\n      if (type != \"ws\") {\n        if (state.ctx.indentTo == null) {\n          if (type == \"symbol\" && assumeBody.test(stream.current()))\n            state.ctx.indentTo = state.ctx.start + config.indentUnit;\n          else\n            state.ctx.indentTo = \"next\";\n        } else if (state.ctx.indentTo == \"next\") {\n          state.ctx.indentTo = stream.column();\n        }\n        state.lastType = type;\n      }\n      if (type == \"open\") state.ctx = {prev: state.ctx, start: stream.column(), indentTo: null};\n      else if (type == \"close\") state.ctx = state.ctx.prev || state.ctx;\n      return style;\n    },\n\n    indent: function (state, _textAfter) {\n      var i = state.ctx.indentTo;\n      return typeof i == \"number\" ? i : state.ctx.start + 1;\n    },\n\n    closeBrackets: {pairs: \"()[]{}\\\"\\\"\"},\n    lineComment: \";;\",\n    blockCommentStart: \"#|\",\n    blockCommentEnd: \"|#\"\n  };\n});\n\nCodeMirror.defineMIME(\"text\/x-common-lisp\", \"commonlisp\");\n\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","defineMode","config","readSym","stream","ch","next","symbol","test","backUp","current","base","state","eatSpace","type","match","numLiteral","tokenize","inString","skipToEnd","skipTo","inComment","name","charAt","lastType","specialForm","assumeBody","escaped","last","startState","ctx","prev","start","indentTo","token","sol","style","indentUnit","column","indent","_textAfter","i","closeBrackets","pairs","lineComment","blockCommentStart","blockCommentEnd","defineMIME"]}},{"offset":{"line":593,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$mode$dart$dart.js","lineCount":5,"mappings":"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","sources":["node_modules\/codemirror\/mode\/dart\/dart.js"],"sourcesContent":["shadow$provide[276] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"), require(\"..\/clike\/clike\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\", \"..\/clike\/clike\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var keywords = (\"this super static final const abstract class extends external factory \" +\n    \"implements mixin get native set typedef with enum throw rethrow \" +\n    \"assert break case continue default in return new deferred async await covariant \" +\n    \"try catch finally do else for if switch while import library export \" +\n    \"part of show hide is as extension on yield late required\").split(\" \");\n  var blockKeywords = \"try catch finally do else for if switch while\".split(\" \");\n  var atoms = \"true false null\".split(\" \");\n  var builtins = \"void bool num int double dynamic var String Null Never\".split(\" \");\n\n  function set(words) {\n    var obj = {};\n    for (var i = 0; i < words.length; ++i) obj[words[i]] = true;\n    return obj;\n  }\n\n  function pushInterpolationStack(state) {\n    (state.interpolationStack || (state.interpolationStack = [])).push(state.tokenize);\n  }\n\n  function popInterpolationStack(state) {\n    return (state.interpolationStack || (state.interpolationStack = [])).pop();\n  }\n\n  function sizeInterpolationStack(state) {\n    return state.interpolationStack ? state.interpolationStack.length : 0;\n  }\n\n  CodeMirror.defineMIME(\"application\/dart\", {\n    name: \"clike\",\n    keywords: set(keywords),\n    blockKeywords: set(blockKeywords),\n    builtin: set(builtins),\n    atoms: set(atoms),\n    hooks: {\n      \"@\": function(stream) {\n        stream.eatWhile(\/[\\w\\$_\\.]\/);\n        return \"meta\";\n      },\n\n      \/\/ custom string handling to deal with triple-quoted strings and string interpolation\n      \"'\": function(stream, state) {\n        return tokenString(\"'\", stream, state, false);\n      },\n      \"\\\"\": function(stream, state) {\n        return tokenString(\"\\\"\", stream, state, false);\n      },\n      \"r\": function(stream, state) {\n        var peek = stream.peek();\n        if (peek == \"'\" || peek == \"\\\"\") {\n          return tokenString(stream.next(), stream, state, true);\n        }\n        return false;\n      },\n\n      \"}\": function(_stream, state) {\n        \/\/ \"}\" is end of interpolation, if interpolation stack is non-empty\n        if (sizeInterpolationStack(state) > 0) {\n          state.tokenize = popInterpolationStack(state);\n          return null;\n        }\n        return false;\n      },\n\n      \"\/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false\n        state.tokenize = tokenNestedComment(1)\n        return state.tokenize(stream, state)\n      },\n      token: function(stream, _, style) {\n        if (style == \"variable\") {\n          \/\/ Assume uppercase symbols are classes using variable-2\n          var isUpper = RegExp('^[_$]*[A-Z][a-zA-Z0-9_$]*$','g');\n          if (isUpper.test(stream.current())) {\n            return 'variable-2';\n          }\n        }\n      }\n    }\n  });\n\n  function tokenString(quote, stream, state, raw) {\n    var tripleQuoted = false;\n    if (stream.eat(quote)) {\n      if (stream.eat(quote)) tripleQuoted = true;\n      else return \"string\"; \/\/empty string\n    }\n    function tokenStringHelper(stream, state) {\n      var escaped = false;\n      while (!stream.eol()) {\n        if (!raw && !escaped && stream.peek() == \"$\") {\n          pushInterpolationStack(state);\n          state.tokenize = tokenInterpolation;\n          return \"string\";\n        }\n        var next = stream.next();\n        if (next == quote && !escaped && (!tripleQuoted || stream.match(quote + quote))) {\n          state.tokenize = null;\n          break;\n        }\n        escaped = !raw && !escaped && next == \"\\\\\";\n      }\n      return \"string\";\n    }\n    state.tokenize = tokenStringHelper;\n    return tokenStringHelper(stream, state);\n  }\n\n  function tokenInterpolation(stream, state) {\n    stream.eat(\"$\");\n    if (stream.eat(\"{\")) {\n      \/\/ let clike handle the content of ${...},\n      \/\/ we take over again when \"}\" appears (see hooks).\n      state.tokenize = null;\n    } else {\n      state.tokenize = tokenInterpolationIdentifier;\n    }\n    return null;\n  }\n\n  function tokenInterpolationIdentifier(stream, state) {\n    stream.eatWhile(\/[\\w_]\/);\n    state.tokenize = popInterpolationStack(state);\n    return \"variable\";\n  }\n\n  function tokenNestedComment(depth) {\n    return function (stream, state) {\n      var ch\n      while (ch = stream.next()) {\n        if (ch == \"*\" && stream.eat(\"\/\")) {\n          if (depth == 1) {\n            state.tokenize = null\n            break\n          } else {\n            state.tokenize = tokenNestedComment(depth - 1)\n            return state.tokenize(stream, state)\n          }\n        } else if (ch == \"\/\" && stream.eat(\"*\")) {\n          state.tokenize = tokenNestedComment(depth + 1)\n          return state.tokenize(stream, state)\n        }\n      }\n      return \"comment\"\n    }\n  }\n\n  CodeMirror.registerHelper(\"hintWords\", \"application\/dart\", keywords.concat(atoms).concat(builtins));\n\n  \/\/ This is needed to make loading through meta.js work.\n  CodeMirror.defineMode(\"dart\", function(conf) {\n    return CodeMirror.getMode(conf, \"application\/dart\");\n  }, \"clike\");\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","set","words","obj","i","length","tokenString","quote","stream","state","raw","tokenStringHelper","escaped","eol","peek","push","interpolationStack","tokenize","tokenInterpolation","next","tripleQuoted","match","eat","tokenInterpolationIdentifier","eatWhile","pop","tokenNestedComment","depth","ch","keywords","atoms","builtins","defineMIME","name","blockKeywords","builtin","hooks","@","'","\"","r","}","_stream","\/","token","_","style","isUpper","test","current","registerHelper","concat","defineMode","conf","getMode"]}},{"offset":{"line":598,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$mode$dockerfile$dockerfile.js","lineCount":5,"mappings":"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","sources":["node_modules\/codemirror\/mode\/dockerfile\/dockerfile.js"],"sourcesContent":["shadow$provide[277] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"), require(\"..\/..\/addon\/mode\/simple\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\", \"..\/..\/addon\/mode\/simple\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var from = \"from\";\n  var fromRegex = new RegExp(\"^(\\\\s*)\\\\b(\" + from + \")\\\\b\", \"i\");\n\n  var shells = [\"run\", \"cmd\", \"entrypoint\", \"shell\"];\n  var shellsAsArrayRegex = new RegExp(\"^(\\\\s*)(\" + shells.join('|') + \")(\\\\s+\\\\[)\", \"i\");\n\n  var expose = \"expose\";\n  var exposeRegex = new RegExp(\"^(\\\\s*)(\" + expose + \")(\\\\s+)\", \"i\");\n\n  var others = [\n    \"arg\", \"from\", \"maintainer\", \"label\", \"env\",\n    \"add\", \"copy\", \"volume\", \"user\",\n    \"workdir\", \"onbuild\", \"stopsignal\", \"healthcheck\", \"shell\"\n  ];\n\n  \/\/ Collect all Dockerfile directives\n  var instructions = [from, expose].concat(shells).concat(others),\n      instructionRegex = \"(\" + instructions.join('|') + \")\",\n      instructionOnlyLine = new RegExp(\"^(\\\\s*)\" + instructionRegex + \"(\\\\s*)(#.*)?$\", \"i\"),\n      instructionWithArguments = new RegExp(\"^(\\\\s*)\" + instructionRegex + \"(\\\\s+)\", \"i\");\n\n  CodeMirror.defineSimpleMode(\"dockerfile\", {\n    start: [\n      \/\/ Block comment: This is a line starting with a comment\n      {\n        regex: \/^\\s*#.*$\/,\n        sol: true,\n        token: \"comment\"\n      },\n      {\n        regex: fromRegex,\n        token: [null, \"keyword\"],\n        sol: true,\n        next: \"from\"\n      },\n      \/\/ Highlight an instruction without any arguments (for convenience)\n      {\n        regex: instructionOnlyLine,\n        token: [null, \"keyword\", null, \"error\"],\n        sol: true\n      },\n      {\n        regex: shellsAsArrayRegex,\n        token: [null, \"keyword\", null],\n        sol: true,\n        next: \"array\"\n      },\n      {\n        regex: exposeRegex,\n        token: [null, \"keyword\", null],\n        sol: true,\n        next: \"expose\"\n      },\n      \/\/ Highlight an instruction followed by arguments\n      {\n        regex: instructionWithArguments,\n        token: [null, \"keyword\", null],\n        sol: true,\n        next: \"arguments\"\n      },\n      {\n        regex: \/.\/,\n        token: null\n      }\n    ],\n    from: [\n      {\n        regex: \/\\s*$\/,\n        token: null,\n        next: \"start\"\n      },\n      {\n        \/\/ Line comment without instruction arguments is an error\n        regex: \/(\\s*)(#.*)$\/,\n        token: [null, \"error\"],\n        next: \"start\"\n      },\n      {\n        regex: \/(\\s*\\S+\\s+)(as)\/i,\n        token: [null, \"keyword\"],\n        next: \"start\"\n      },\n      \/\/ Fail safe return to start\n      {\n        token: null,\n        next: \"start\"\n      }\n    ],\n    single: [\n      {\n        regex: \/(?:[^\\\\']|\\\\.)\/,\n        token: \"string\"\n      },\n      {\n        regex: \/'\/,\n        token: \"string\",\n        pop: true\n      }\n    ],\n    double: [\n      {\n        regex: \/(?:[^\\\\\"]|\\\\.)\/,\n        token: \"string\"\n      },\n      {\n        regex: \/\"\/,\n        token: \"string\",\n        pop: true\n      }\n    ],\n    array: [\n      {\n        regex: \/\\]\/,\n        token: null,\n        next: \"start\"\n      },\n      {\n        regex: \/\"(?:[^\\\\\"]|\\\\.)*\"?\/,\n        token: \"string\"\n      }\n    ],\n    expose: [\n      {\n        regex: \/\\d+$\/,\n        token: \"number\",\n        next: \"start\"\n      },\n      {\n        regex: \/[^\\d]+$\/,\n        token: null,\n        next: \"start\"\n      },\n      {\n        regex: \/\\d+\/,\n        token: \"number\"\n      },\n      {\n        regex: \/[^\\d]+\/,\n        token: null\n      },\n      \/\/ Fail safe return to start\n      {\n        token: null,\n        next: \"start\"\n      }\n    ],\n    arguments: [\n      {\n        regex: \/^\\s*#.*$\/,\n        sol: true,\n        token: \"comment\"\n      },\n      {\n        regex: \/\"(?:[^\\\\\"]|\\\\.)*\"?$\/,\n        token: \"string\",\n        next: \"start\"\n      },\n      {\n        regex: \/\"\/,\n        token: \"string\",\n        push: \"double\"\n      },\n      {\n        regex: \/'(?:[^\\\\']|\\\\.)*'?$\/,\n        token: \"string\",\n        next: \"start\"\n      },\n      {\n        regex: \/'\/,\n        token: \"string\",\n        push: \"single\"\n      },\n      {\n        regex: \/[^#\"']+[\\\\`]$\/,\n        token: null\n      },\n      {\n        regex: \/[^#\"']+$\/,\n        token: null,\n        next: \"start\"\n      },\n      {\n        regex: \/[^#\"']+\/,\n        token: null\n      },\n      \/\/ Fail safe return to start\n      {\n        token: null,\n        next: \"start\"\n      }\n    ],\n    meta: {\n      lineComment: \"#\"\n    }\n  });\n\n  CodeMirror.defineMIME(\"text\/x-dockerfile\", \"dockerfile\");\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","shells","shellsAsArrayRegex","RegExp","join","instructionRegex","from","expose","concat","instructions","others","defineSimpleMode","start","regex","sol","token","fromRegex","next","instructionOnlyLine","exposeRegex","instructionWithArguments","single","pop","double","array","arguments","push","meta","lineComment","defineMIME"]}},{"offset":{"line":603,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$mode$elm$elm.js","lineCount":5,"mappings":"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","sources":["node_modules\/codemirror\/mode\/elm\/elm.js"],"sourcesContent":["shadow$provide[278] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: http:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineMode(\"elm\", function() {\n\n    function switchState(source, setState, f)\n    {\n      setState(f);\n      return f(source, setState);\n    }\n\n    var lowerRE = \/[a-z]\/;\n    var upperRE = \/[A-Z]\/;\n    var innerRE = \/[a-zA-Z0-9_]\/;\n\n    var digitRE = \/[0-9]\/;\n    var hexRE = \/[0-9A-Fa-f]\/;\n    var symbolRE = \/[-&*+.\\\\\/<>=?^|:]\/;\n    var specialRE = \/[(),[\\]{}]\/;\n    var spacesRE = \/[ \\v\\f]\/; \/\/ newlines are handled in tokenizer\n\n    function normal()\n    {\n      return function(source, setState)\n      {\n        if (source.eatWhile(spacesRE))\n        {\n          return null;\n        }\n\n        var char = source.next();\n\n        if (specialRE.test(char))\n        {\n          return (char === '{' && source.eat('-'))\n            ? switchState(source, setState, chompMultiComment(1))\n            : (char === '[' && source.match('glsl|'))\n                ? switchState(source, setState, chompGlsl)\n                : 'builtin';\n        }\n\n        if (char === '\\'')\n        {\n          return switchState(source, setState, chompChar);\n        }\n\n        if (char === '\"')\n        {\n          return source.eat('\"')\n            ? source.eat('\"')\n                ? switchState(source, setState, chompMultiString)\n                : 'string'\n            : switchState(source, setState, chompSingleString);\n        }\n\n        if (upperRE.test(char))\n        {\n          source.eatWhile(innerRE);\n          return 'variable-2';\n        }\n\n        if (lowerRE.test(char))\n        {\n          var isDef = source.pos === 1;\n          source.eatWhile(innerRE);\n          return isDef ? \"def\" : \"variable\";\n        }\n\n        if (digitRE.test(char))\n        {\n          if (char === '0')\n          {\n            if (source.eat(\/[xX]\/))\n            {\n              source.eatWhile(hexRE); \/\/ should require at least 1\n              return \"number\";\n            }\n          }\n          else\n          {\n            source.eatWhile(digitRE);\n          }\n          if (source.eat('.'))\n          {\n            source.eatWhile(digitRE); \/\/ should require at least 1\n          }\n          if (source.eat(\/[eE]\/))\n          {\n            source.eat(\/[-+]\/);\n            source.eatWhile(digitRE); \/\/ should require at least 1\n          }\n          return \"number\";\n        }\n\n        if (symbolRE.test(char))\n        {\n          if (char === '-' && source.eat('-'))\n          {\n            source.skipToEnd();\n            return \"comment\";\n          }\n          source.eatWhile(symbolRE);\n          return \"keyword\";\n        }\n\n        if (char === '_')\n        {\n          return \"keyword\";\n        }\n\n        return \"error\";\n      }\n    }\n\n    function chompMultiComment(nest)\n    {\n      if (nest == 0)\n      {\n        return normal();\n      }\n      return function(source, setState)\n      {\n        while (!source.eol())\n        {\n          var char = source.next();\n          if (char == '{' && source.eat('-'))\n          {\n            ++nest;\n          }\n          else if (char == '-' && source.eat('}'))\n          {\n            --nest;\n            if (nest === 0)\n            {\n              setState(normal());\n              return 'comment';\n            }\n          }\n        }\n        setState(chompMultiComment(nest));\n        return 'comment';\n      }\n    }\n\n    function chompMultiString(source, setState)\n    {\n      while (!source.eol())\n      {\n        var char = source.next();\n        if (char === '\"' && source.eat('\"') && source.eat('\"'))\n        {\n          setState(normal());\n          return 'string';\n        }\n      }\n      return 'string';\n    }\n\n    function chompSingleString(source, setState)\n    {\n      while (source.skipTo('\\\\\"')) { source.next(); source.next(); }\n      if (source.skipTo('\"'))\n      {\n        source.next();\n        setState(normal());\n        return 'string';\n      }\n      source.skipToEnd();\n      setState(normal());\n      return 'error';\n    }\n\n    function chompChar(source, setState)\n    {\n      while (source.skipTo(\"\\\\'\")) { source.next(); source.next(); }\n      if (source.skipTo(\"'\"))\n      {\n        source.next();\n        setState(normal());\n        return 'string';\n      }\n      source.skipToEnd();\n      setState(normal());\n      return 'error';\n    }\n\n    function chompGlsl(source, setState)\n    {\n      while (!source.eol())\n      {\n        var char = source.next();\n        if (char === '|' && source.eat(']'))\n        {\n          setState(normal());\n          return 'string';\n        }\n      }\n      return 'string';\n    }\n\n    var wellKnownWords = {\n      case: 1,\n      of: 1,\n      as: 1,\n      if: 1,\n      then: 1,\n      else: 1,\n      let: 1,\n      in: 1,\n      type: 1,\n      alias: 1,\n      module: 1,\n      where: 1,\n      import: 1,\n      exposing: 1,\n      port: 1\n    };\n\n    return {\n      startState: function ()  { return { f: normal() }; },\n      copyState:  function (s) { return { f: s.f }; },\n\n      token: function(stream, state) {\n        var type = state.f(stream, function(s) { state.f = s; });\n        var word = stream.current();\n        return (wellKnownWords.hasOwnProperty(word)) ? 'keyword' : type;\n      }\n    };\n\n  });\n\n  CodeMirror.defineMIME(\"text\/x-elm\", \"elm\");\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","defineMode","switchState","source","setState","f","normal","eatWhile","spacesRE","char","next","specialRE","test","eat","chompMultiComment","match","chompGlsl","chompChar","chompMultiString","chompSingleString","upperRE","innerRE","lowerRE","isDef","pos","digitRE","hexRE","symbolRE","skipToEnd","nest","eol","skipTo","wellKnownWords","case","of","as","if","then","else","let","in","type","alias","where","import","exposing","port","startState","copyState","s","token","stream","state","word","current","hasOwnProperty","defineMIME"]}},{"offset":{"line":608,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$mode$erlang$erlang.js","lineCount":15,"mappings":"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\/B,CAAsC,CAAtC,CAR6D,CAU\/D,MAAO,CAAA,CAX2B,CAcpCP,QAASA,EAAM,CAACpC,EAAD,CAAQyC,CAAR,CAAWC,EAAX,CAAkB,CAC\/B,GAA+B,CAA\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","sources":["node_modules\/codemirror\/mode\/erlang\/erlang.js"],"sourcesContent":["shadow$provide[279] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n\/*jshint unused:true, eqnull:true, curly:true, bitwise:true *\/\n\/*jshint undef:true, latedef:true, trailing:true *\/\n\/*global CodeMirror:true *\/\n\n\/\/ erlang mode.\n\/\/ tokenizer -> token types -> CodeMirror styles\n\/\/ tokenizer maintains a parse stack\n\/\/ indenter uses the parse stack\n\n\/\/ TODO indenter:\n\/\/   bit syntax\n\/\/   old guard\/bif\/conversion clashes (e.g. \"float\/1\")\n\/\/   type\/spec\/opaque\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMIME(\"text\/x-erlang\", \"erlang\");\n\nCodeMirror.defineMode(\"erlang\", function(cmCfg) {\n  \"use strict\";\n\n\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\n\/\/ constants\n\n  var typeWords = [\n    \"-type\", \"-spec\", \"-export_type\", \"-opaque\"];\n\n  var keywordWords = [\n    \"after\",\"begin\",\"catch\",\"case\",\"cond\",\"end\",\"fun\",\"if\",\n    \"let\",\"of\",\"query\",\"receive\",\"try\",\"when\"];\n\n  var separatorRE    = \/[\\->,;]\/;\n  var separatorWords = [\n    \"->\",\";\",\",\"];\n\n  var operatorAtomWords = [\n    \"and\",\"andalso\",\"band\",\"bnot\",\"bor\",\"bsl\",\"bsr\",\"bxor\",\n    \"div\",\"not\",\"or\",\"orelse\",\"rem\",\"xor\"];\n\n  var operatorSymbolRE    = \/[\\+\\-\\*\\\/<>=\\|:!]\/;\n  var operatorSymbolWords = [\n    \"=\",\"+\",\"-\",\"*\",\"\/\",\">\",\">=\",\"<\",\"=<\",\"=:=\",\"==\",\"=\/=\",\"\/=\",\"||\",\"<-\",\"!\"];\n\n  var openParenRE    = \/[<\\(\\[\\{]\/;\n  var openParenWords = [\n    \"<<\",\"(\",\"[\",\"{\"];\n\n  var closeParenRE    = \/[>\\)\\]\\}]\/;\n  var closeParenWords = [\n    \"}\",\"]\",\")\",\">>\"];\n\n  var guardWords = [\n    \"is_atom\",\"is_binary\",\"is_bitstring\",\"is_boolean\",\"is_float\",\n    \"is_function\",\"is_integer\",\"is_list\",\"is_number\",\"is_pid\",\n    \"is_port\",\"is_record\",\"is_reference\",\"is_tuple\",\n    \"atom\",\"binary\",\"bitstring\",\"boolean\",\"function\",\"integer\",\"list\",\n    \"number\",\"pid\",\"port\",\"record\",\"reference\",\"tuple\"];\n\n  var bifWords = [\n    \"abs\",\"adler32\",\"adler32_combine\",\"alive\",\"apply\",\"atom_to_binary\",\n    \"atom_to_list\",\"binary_to_atom\",\"binary_to_existing_atom\",\n    \"binary_to_list\",\"binary_to_term\",\"bit_size\",\"bitstring_to_list\",\n    \"byte_size\",\"check_process_code\",\"contact_binary\",\"crc32\",\n    \"crc32_combine\",\"date\",\"decode_packet\",\"delete_module\",\n    \"disconnect_node\",\"element\",\"erase\",\"exit\",\"float\",\"float_to_list\",\n    \"garbage_collect\",\"get\",\"get_keys\",\"group_leader\",\"halt\",\"hd\",\n    \"integer_to_list\",\"internal_bif\",\"iolist_size\",\"iolist_to_binary\",\n    \"is_alive\",\"is_atom\",\"is_binary\",\"is_bitstring\",\"is_boolean\",\n    \"is_float\",\"is_function\",\"is_integer\",\"is_list\",\"is_number\",\"is_pid\",\n    \"is_port\",\"is_process_alive\",\"is_record\",\"is_reference\",\"is_tuple\",\n    \"length\",\"link\",\"list_to_atom\",\"list_to_binary\",\"list_to_bitstring\",\n    \"list_to_existing_atom\",\"list_to_float\",\"list_to_integer\",\n    \"list_to_pid\",\"list_to_tuple\",\"load_module\",\"make_ref\",\"module_loaded\",\n    \"monitor_node\",\"node\",\"node_link\",\"node_unlink\",\"nodes\",\"notalive\",\n    \"now\",\"open_port\",\"pid_to_list\",\"port_close\",\"port_command\",\n    \"port_connect\",\"port_control\",\"pre_loaded\",\"process_flag\",\n    \"process_info\",\"processes\",\"purge_module\",\"put\",\"register\",\n    \"registered\",\"round\",\"self\",\"setelement\",\"size\",\"spawn\",\"spawn_link\",\n    \"spawn_monitor\",\"spawn_opt\",\"split_binary\",\"statistics\",\n    \"term_to_binary\",\"time\",\"throw\",\"tl\",\"trunc\",\"tuple_size\",\n    \"tuple_to_list\",\"unlink\",\"unregister\",\"whereis\"];\n\n\/\/ upper case: [A-Z] [\u00d8-\u00de] [\u00c0-\u00d6]\n\/\/ lower case: [a-z] [\u00df-\u00f6] [\u00f8-\u00ff]\n  var anumRE       = \/[\\w@\u00d8-\u00de\u00c0-\u00d6\u00df-\u00f6\u00f8-\u00ff]\/;\n  var escapesRE    =\n    \/[0-7]{1,3}|[bdefnrstv\\\\\"']|\\^[a-zA-Z]|x[0-9a-zA-Z]{2}|x{[0-9a-zA-Z]+}\/;\n\n\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\n\/\/ tokenizer\n\n  function tokenizer(stream,state) {\n    \/\/ in multi-line string\n    if (state.in_string) {\n      state.in_string = (!doubleQuote(stream));\n      return rval(state,stream,\"string\");\n    }\n\n    \/\/ in multi-line atom\n    if (state.in_atom) {\n      state.in_atom = (!singleQuote(stream));\n      return rval(state,stream,\"atom\");\n    }\n\n    \/\/ whitespace\n    if (stream.eatSpace()) {\n      return rval(state,stream,\"whitespace\");\n    }\n\n    \/\/ attributes and type specs\n    if (!peekToken(state) &&\n        stream.match(\/-\\s*[a-z\u00df-\u00f6\u00f8-\u00ff][\\w\u00d8-\u00de\u00c0-\u00d6\u00df-\u00f6\u00f8-\u00ff]*\/)) {\n      if (is_member(stream.current(),typeWords)) {\n        return rval(state,stream,\"type\");\n      }else{\n        return rval(state,stream,\"attribute\");\n      }\n    }\n\n    var ch = stream.next();\n\n    \/\/ comment\n    if (ch == '%') {\n      stream.skipToEnd();\n      return rval(state,stream,\"comment\");\n    }\n\n    \/\/ colon\n    if (ch == \":\") {\n      return rval(state,stream,\"colon\");\n    }\n\n    \/\/ macro\n    if (ch == '?') {\n      stream.eatSpace();\n      stream.eatWhile(anumRE);\n      return rval(state,stream,\"macro\");\n    }\n\n    \/\/ record\n    if (ch == \"#\") {\n      stream.eatSpace();\n      stream.eatWhile(anumRE);\n      return rval(state,stream,\"record\");\n    }\n\n    \/\/ dollar escape\n    if (ch == \"$\") {\n      if (stream.next() == \"\\\\\" && !stream.match(escapesRE)) {\n        return rval(state,stream,\"error\");\n      }\n      return rval(state,stream,\"number\");\n    }\n\n    \/\/ dot\n    if (ch == \".\") {\n      return rval(state,stream,\"dot\");\n    }\n\n    \/\/ quoted atom\n    if (ch == '\\'') {\n      if (!(state.in_atom = (!singleQuote(stream)))) {\n        if (stream.match(\/\\s*\\\/\\s*[0-9]\/,false)) {\n          stream.match(\/\\s*\\\/\\s*[0-9]\/,true);\n          return rval(state,stream,\"fun\");      \/\/ 'f'\/0 style fun\n        }\n        if (stream.match(\/\\s*\\(\/,false) || stream.match(\/\\s*:\/,false)) {\n          return rval(state,stream,\"function\");\n        }\n      }\n      return rval(state,stream,\"atom\");\n    }\n\n    \/\/ string\n    if (ch == '\"') {\n      state.in_string = (!doubleQuote(stream));\n      return rval(state,stream,\"string\");\n    }\n\n    \/\/ variable\n    if (\/[A-Z_\u00d8-\u00de\u00c0-\u00d6]\/.test(ch)) {\n      stream.eatWhile(anumRE);\n      return rval(state,stream,\"variable\");\n    }\n\n    \/\/ atom\/keyword\/BIF\/function\n    if (\/[a-z_\u00df-\u00f6\u00f8-\u00ff]\/.test(ch)) {\n      stream.eatWhile(anumRE);\n\n      if (stream.match(\/\\s*\\\/\\s*[0-9]\/,false)) {\n        stream.match(\/\\s*\\\/\\s*[0-9]\/,true);\n        return rval(state,stream,\"fun\");      \/\/ f\/0 style fun\n      }\n\n      var w = stream.current();\n\n      if (is_member(w,keywordWords)) {\n        return rval(state,stream,\"keyword\");\n      }else if (is_member(w,operatorAtomWords)) {\n        return rval(state,stream,\"operator\");\n      }else if (stream.match(\/\\s*\\(\/,false)) {\n        \/\/ 'put' and 'erlang:put' are bifs, 'foo:put' is not\n        if (is_member(w,bifWords) &&\n            ((peekToken(state).token != \":\") ||\n             (peekToken(state,2).token == \"erlang\"))) {\n          return rval(state,stream,\"builtin\");\n        }else if (is_member(w,guardWords)) {\n          return rval(state,stream,\"guard\");\n        }else{\n          return rval(state,stream,\"function\");\n        }\n      }else if (lookahead(stream) == \":\") {\n        if (w == \"erlang\") {\n          return rval(state,stream,\"builtin\");\n        } else {\n          return rval(state,stream,\"function\");\n        }\n      }else if (is_member(w,[\"true\",\"false\"])) {\n        return rval(state,stream,\"boolean\");\n      }else{\n        return rval(state,stream,\"atom\");\n      }\n    }\n\n    \/\/ number\n    var digitRE      = \/[0-9]\/;\n    var radixRE      = \/[0-9a-zA-Z]\/;         \/\/ 36#zZ style int\n    if (digitRE.test(ch)) {\n      stream.eatWhile(digitRE);\n      if (stream.eat('#')) {                \/\/ 36#aZ  style integer\n        if (!stream.eatWhile(radixRE)) {\n          stream.backUp(1);                 \/\/\"36#\" - syntax error\n        }\n      } else if (stream.eat('.')) {       \/\/ float\n        if (!stream.eatWhile(digitRE)) {\n          stream.backUp(1);        \/\/ \"3.\" - probably end of function\n        } else {\n          if (stream.eat(\/[eE]\/)) {        \/\/ float with exponent\n            if (stream.eat(\/[-+]\/)) {\n              if (!stream.eatWhile(digitRE)) {\n                stream.backUp(2);            \/\/ \"2e-\" - syntax error\n              }\n            } else {\n              if (!stream.eatWhile(digitRE)) {\n                stream.backUp(1);            \/\/ \"2e\" - syntax error\n              }\n            }\n          }\n        }\n      }\n      return rval(state,stream,\"number\");   \/\/ normal integer\n    }\n\n    \/\/ open parens\n    if (nongreedy(stream,openParenRE,openParenWords)) {\n      return rval(state,stream,\"open_paren\");\n    }\n\n    \/\/ close parens\n    if (nongreedy(stream,closeParenRE,closeParenWords)) {\n      return rval(state,stream,\"close_paren\");\n    }\n\n    \/\/ separators\n    if (greedy(stream,separatorRE,separatorWords)) {\n      return rval(state,stream,\"separator\");\n    }\n\n    \/\/ operators\n    if (greedy(stream,operatorSymbolRE,operatorSymbolWords)) {\n      return rval(state,stream,\"operator\");\n    }\n\n    return rval(state,stream,null);\n  }\n\n\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\n\/\/ utilities\n  function nongreedy(stream,re,words) {\n    if (stream.current().length == 1 && re.test(stream.current())) {\n      stream.backUp(1);\n      while (re.test(stream.peek())) {\n        stream.next();\n        if (is_member(stream.current(),words)) {\n          return true;\n        }\n      }\n      stream.backUp(stream.current().length-1);\n    }\n    return false;\n  }\n\n  function greedy(stream,re,words) {\n    if (stream.current().length == 1 && re.test(stream.current())) {\n      while (re.test(stream.peek())) {\n        stream.next();\n      }\n      while (0 < stream.current().length) {\n        if (is_member(stream.current(),words)) {\n          return true;\n        }else{\n          stream.backUp(1);\n        }\n      }\n      stream.next();\n    }\n    return false;\n  }\n\n  function doubleQuote(stream) {\n    return quote(stream, '\"', '\\\\');\n  }\n\n  function singleQuote(stream) {\n    return quote(stream,'\\'','\\\\');\n  }\n\n  function quote(stream,quoteChar,escapeChar) {\n    while (!stream.eol()) {\n      var ch = stream.next();\n      if (ch == quoteChar) {\n        return true;\n      }else if (ch == escapeChar) {\n        stream.next();\n      }\n    }\n    return false;\n  }\n\n  function lookahead(stream) {\n    var m = stream.match(\/([\\n\\s]+|%[^\\n]*\\n)*(.)\/,false);\n    return m ? m.pop() : \"\";\n  }\n\n  function is_member(element,list) {\n    return (-1 < list.indexOf(element));\n  }\n\n  function rval(state,stream,type) {\n\n    \/\/ parse stack\n    pushToken(state,realToken(type,stream));\n\n    \/\/ map erlang token type to CodeMirror style class\n    \/\/     erlang             -> CodeMirror tag\n    switch (type) {\n      case \"atom\":        return \"atom\";\n      case \"attribute\":   return \"attribute\";\n      case \"boolean\":     return \"atom\";\n      case \"builtin\":     return \"builtin\";\n      case \"close_paren\": return null;\n      case \"colon\":       return null;\n      case \"comment\":     return \"comment\";\n      case \"dot\":         return null;\n      case \"error\":       return \"error\";\n      case \"fun\":         return \"meta\";\n      case \"function\":    return \"tag\";\n      case \"guard\":       return \"property\";\n      case \"keyword\":     return \"keyword\";\n      case \"macro\":       return \"variable-2\";\n      case \"number\":      return \"number\";\n      case \"open_paren\":  return null;\n      case \"operator\":    return \"operator\";\n      case \"record\":      return \"bracket\";\n      case \"separator\":   return null;\n      case \"string\":      return \"string\";\n      case \"type\":        return \"def\";\n      case \"variable\":    return \"variable\";\n      default:            return null;\n    }\n  }\n\n  function aToken(tok,col,ind,typ) {\n    return {token:  tok,\n            column: col,\n            indent: ind,\n            type:   typ};\n  }\n\n  function realToken(type,stream) {\n    return aToken(stream.current(),\n                 stream.column(),\n                 stream.indentation(),\n                 type);\n  }\n\n  function fakeToken(type) {\n    return aToken(type,0,0,type);\n  }\n\n  function peekToken(state,depth) {\n    var len = state.tokenStack.length;\n    var dep = (depth ? depth : 1);\n\n    if (len < dep) {\n      return false;\n    }else{\n      return state.tokenStack[len-dep];\n    }\n  }\n\n  function pushToken(state,token) {\n\n    if (!(token.type == \"comment\" || token.type == \"whitespace\")) {\n      state.tokenStack = maybe_drop_pre(state.tokenStack,token);\n      state.tokenStack = maybe_drop_post(state.tokenStack);\n    }\n  }\n\n  function maybe_drop_pre(s,token) {\n    var last = s.length-1;\n\n    if (0 < last && s[last].type === \"record\" && token.type === \"dot\") {\n      s.pop();\n    }else if (0 < last && s[last].type === \"group\") {\n      s.pop();\n      s.push(token);\n    }else{\n      s.push(token);\n    }\n    return s;\n  }\n\n  function maybe_drop_post(s) {\n    if (!s.length) return s\n    var last = s.length-1;\n\n    if (s[last].type === \"dot\") {\n      return [];\n    }\n    if (last > 1 && s[last].type === \"fun\" && s[last-1].token === \"fun\") {\n      return s.slice(0,last-1);\n    }\n    switch (s[last].token) {\n      case \"}\":    return d(s,{g:[\"{\"]});\n      case \"]\":    return d(s,{i:[\"[\"]});\n      case \")\":    return d(s,{i:[\"(\"]});\n      case \">>\":   return d(s,{i:[\"<<\"]});\n      case \"end\":  return d(s,{i:[\"begin\",\"case\",\"fun\",\"if\",\"receive\",\"try\"]});\n      case \",\":    return d(s,{e:[\"begin\",\"try\",\"when\",\"->\",\n                                  \",\",\"(\",\"[\",\"{\",\"<<\"]});\n      case \"->\":   return d(s,{r:[\"when\"],\n                               m:[\"try\",\"if\",\"case\",\"receive\"]});\n      case \";\":    return d(s,{E:[\"case\",\"fun\",\"if\",\"receive\",\"try\",\"when\"]});\n      case \"catch\":return d(s,{e:[\"try\"]});\n      case \"of\":   return d(s,{e:[\"case\"]});\n      case \"after\":return d(s,{e:[\"receive\",\"try\"]});\n      default:     return s;\n    }\n  }\n\n  function d(stack,tt) {\n    \/\/ stack is a stack of Token objects.\n    \/\/ tt is an object; {type:tokens}\n    \/\/ type is a char, tokens is a list of token strings.\n    \/\/ The function returns (possibly truncated) stack.\n    \/\/ It will descend the stack, looking for a Token such that Token.token\n    \/\/  is a member of tokens. If it does not find that, it will normally (but\n    \/\/  see \"E\" below) return stack. If it does find a match, it will remove\n    \/\/  all the Tokens between the top and the matched Token.\n    \/\/ If type is \"m\", that is all it does.\n    \/\/ If type is \"i\", it will also remove the matched Token and the top Token.\n    \/\/ If type is \"g\", like \"i\", but add a fake \"group\" token at the top.\n    \/\/ If type is \"r\", it will remove the matched Token, but not the top Token.\n    \/\/ If type is \"e\", it will keep the matched Token but not the top Token.\n    \/\/ If type is \"E\", it behaves as for type \"e\", except if there is no match,\n    \/\/  in which case it will return an empty stack.\n\n    for (var type in tt) {\n      var len = stack.length-1;\n      var tokens = tt[type];\n      for (var i = len-1; -1 < i ; i--) {\n        if (is_member(stack[i].token,tokens)) {\n          var ss = stack.slice(0,i);\n          switch (type) {\n              case \"m\": return ss.concat(stack[i]).concat(stack[len]);\n              case \"r\": return ss.concat(stack[len]);\n              case \"i\": return ss;\n              case \"g\": return ss.concat(fakeToken(\"group\"));\n              case \"E\": return ss.concat(stack[i]);\n              case \"e\": return ss.concat(stack[i]);\n          }\n        }\n      }\n    }\n    return (type == \"E\" ? [] : stack);\n  }\n\n\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\n\/\/ indenter\n\n  function indenter(state,textAfter) {\n    var t;\n    var unit = cmCfg.indentUnit;\n    var wordAfter = wordafter(textAfter);\n    var currT = peekToken(state,1);\n    var prevT = peekToken(state,2);\n\n    if (state.in_string || state.in_atom) {\n      return CodeMirror.Pass;\n    }else if (!prevT) {\n      return 0;\n    }else if (currT.token == \"when\") {\n      return currT.column+unit;\n    }else if (wordAfter === \"when\" && prevT.type === \"function\") {\n      return prevT.indent+unit;\n    }else if (wordAfter === \"(\" && currT.token === \"fun\") {\n      return  currT.column+3;\n    }else if (wordAfter === \"catch\" && (t = getToken(state,[\"try\"]))) {\n      return t.column;\n    }else if (is_member(wordAfter,[\"end\",\"after\",\"of\"])) {\n      t = getToken(state,[\"begin\",\"case\",\"fun\",\"if\",\"receive\",\"try\"]);\n      return t ? t.column : CodeMirror.Pass;\n    }else if (is_member(wordAfter,closeParenWords)) {\n      t = getToken(state,openParenWords);\n      return t ? t.column : CodeMirror.Pass;\n    }else if (is_member(currT.token,[\",\",\"|\",\"||\"]) ||\n              is_member(wordAfter,[\",\",\"|\",\"||\"])) {\n      t = postcommaToken(state);\n      return t ? t.column+t.token.length : unit;\n    }else if (currT.token == \"->\") {\n      if (is_member(prevT.token, [\"receive\",\"case\",\"if\",\"try\"])) {\n        return prevT.column+unit+unit;\n      }else{\n        return prevT.column+unit;\n      }\n    }else if (is_member(currT.token,openParenWords)) {\n      return currT.column+currT.token.length;\n    }else{\n      t = defaultToken(state);\n      return truthy(t) ? t.column+unit : 0;\n    }\n  }\n\n  function wordafter(str) {\n    var m = str.match(\/,|[a-z]+|\\}|\\]|\\)|>>|\\|+|\\(\/);\n\n    return truthy(m) && (m.index === 0) ? m[0] : \"\";\n  }\n\n  function postcommaToken(state) {\n    var objs = state.tokenStack.slice(0,-1);\n    var i = getTokenIndex(objs,\"type\",[\"open_paren\"]);\n\n    return truthy(objs[i]) ? objs[i] : false;\n  }\n\n  function defaultToken(state) {\n    var objs = state.tokenStack;\n    var stop = getTokenIndex(objs,\"type\",[\"open_paren\",\"separator\",\"keyword\"]);\n    var oper = getTokenIndex(objs,\"type\",[\"operator\"]);\n\n    if (truthy(stop) && truthy(oper) && stop < oper) {\n      return objs[stop+1];\n    } else if (truthy(stop)) {\n      return objs[stop];\n    } else {\n      return false;\n    }\n  }\n\n  function getToken(state,tokens) {\n    var objs = state.tokenStack;\n    var i = getTokenIndex(objs,\"token\",tokens);\n\n    return truthy(objs[i]) ? objs[i] : false;\n  }\n\n  function getTokenIndex(objs,propname,propvals) {\n\n    for (var i = objs.length-1; -1 < i ; i--) {\n      if (is_member(objs[i][propname],propvals)) {\n        return i;\n      }\n    }\n    return false;\n  }\n\n  function truthy(x) {\n    return (x !== false) && (x != null);\n  }\n\n\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\n\/\/ this object defines the mode\n\n  return {\n    startState:\n      function() {\n        return {tokenStack: [],\n                in_string:  false,\n                in_atom:    false};\n      },\n\n    token:\n      function(stream, state) {\n        return tokenizer(stream, state);\n      },\n\n    indent:\n      function(state, textAfter) {\n        return indenter(state,textAfter);\n      },\n\n    lineComment: \"%\"\n  };\n});\n\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","defineMIME","defineMode","cmCfg","tokenizer","stream","state","in_string","quote","rval","in_atom","eatSpace","peekToken","match","is_member","current","typeWords","ch","next","skipToEnd","eatWhile","anumRE","escapesRE","test","w","keywordWords","operatorAtomWords","bifWords","token","guardWords","m","pop","digitRE","radixRE","eat","backUp","nongreedy","openParenRE","openParenWords","closeParenRE","closeParenWords","greedy","separatorRE","separatorWords","operatorSymbolRE","operatorSymbolWords","re","words","length","peek","quoteChar","escapeChar","eol","element","list","indexOf","type","column","indentation","tok","col","indent","ind","tokenStack","last","s","push","maybe_drop_post","depth","len","dep","slice","d","g","i","e","r","E","stack","tt","tokens","ss","concat","indenter","textAfter","t","unit","indentUnit","truthy","index","currT","prevT","Pass","wordAfter","getToken","objs","getTokenIndex","stop","oper","propname","propvals","x","startState","lineComment"]}},{"offset":{"line":623,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$mode$go$go.js","lineCount":7,"mappings":"AAAAA,cAAA,CAAe,GAAf,CAAA,CAAsB,QAAQ,CAACC,EAAD,CAAQC,CAAR,CAAgBC,EAAhB,CAAuBC,CAAvB,CAAgC,CAI7D,SAAQ,CAACC,CAAD,CAAM,CACS,QAAtB,EAAI,MAAOD,EAAX,EAAmD,QAAnD,EAAkC,MAAOD,GAAzC,CACEE,CAAA,CAAIH,CAAA,CAAQ,GAAR,CAAJ,CADF,CAE0B,UAArB,EAAI,MAAOI,OAAX,EAAmCA,MAAOC,CAAAA,GAA1C,CACHD,MAAA,CAAO,CAAC,sBAAD,CAAP,CAAiCD,CAAjC,CADG,CAGHA,CAAA,CAAIG,UAAJ,CANW,CAAd,CAAD,CAOG,QAAQ,CAACA,CAAD,CAAa,CAGxBA,CAAWC,CAAAA,UAAX,CAAsB,IAAtB,CAA4B,QAAQ,CAACC,CAAD,CAAS,CA2B3CC,QAASA,EAAS,CAACC,CAAD,CAASC,CAAT,CAAgB,CAChC,IAAIC,EAAKF,CAAOG,CAAAA,IAAP,EACT,IAAU,GAAV,EAAID,CAAJ,EAAuB,GAAvB,EAAiBA,CAAjB,EAAoC,GAApC,EAA8BA,CAA9B,CAEE,MADAD,EAAMG,CAAAA,QACC,CADUC,CAAA,CAAYH,CAAZ,CACV,CAAAD,CAAMG,CAAAA,QAAN,CAAeJ,CAAf,CAAuBC,CAAvB,CAET,IAAI,QAASK,CAAAA,IAAT,CAAcJ,CAAd,CAAJ,CAQE,MAPU,GAAV,EAAIA,CAAJ,CACEF,CAAOO,CAAAA,KAAP,CAAa,4BAAb,CADF,CAEiB,GAAV,EAAIL,CAAJ,CACLF,CAAOO,CAAAA,KAAP,CAAa,mBAAb,CADK,EACgCP,CAAOO,CAAAA,KAAP,CAAa,UAAb,CADhC,CAGLP,CAAOO,CAAAA,KAAP,CAAa,qCAAb,CAEK;AAAA,QAET,IAAI,mBAAqBD,CAAAA,IAArB,CAA0BJ,CAA1B,CAAJ,CAEE,MADAM,EACO,CADGN,CACH,CAAA,IAET,IAAU,GAAV,EAAIA,CAAJ,CAAe,CACb,GAAIF,CAAOS,CAAAA,GAAP,CAAW,GAAX,CAAJ,CAEE,MADAR,EAAMG,CAAAA,QACC,CADUM,CACV,CAAAA,CAAA,CAAaV,CAAb,CAAqBC,CAArB,CAET,IAAID,CAAOS,CAAAA,GAAP,CAAW,GAAX,CAAJ,CAEE,MADAT,EAAOW,CAAAA,SAAP,EACO,CAAA,SAPI,CAUf,GAAIC,CAAeN,CAAAA,IAAf,CAAoBJ,CAApB,CAAJ,CAEE,MADAF,EAAOa,CAAAA,QAAP,CAAgBD,CAAhB,CACO,CAAA,UAETZ,EAAOa,CAAAA,QAAP,CAAgB,oBAAhB,CACIC,EAAAA,CAAMd,CAAOe,CAAAA,OAAP,EACV,IAAIC,CAASC,CAAAA,oBAAT,CAA8BH,CAA9B,CAAJ,CAAwC,CACtC,GAAW,MAAX,EAAIA,CAAJ,EAA4B,SAA5B,EAAqBA,CAArB,CAAuCN,CAAA,CAAU,MACjD,OAAO,SAF+B,CAIxC,MAAIU,EAAMD,CAAAA,oBAAN,CAA2BH,CAA3B,CAAJ,CAA4C,MAA5C,CACO,UAzCyB,CA4ClCT,QAASA,EAAW,CAACc,CAAD,CAAQ,CAC1B,MAAO,SAAQ,CAACnB,CAAD,CAASC,CAAT,CAAgB,CAE7B,IAF6B,IACzBmB,GAAU,CAAA,CADe,CACRjB,CADQ,CACFkB,EAAM,CAAA,CACjC,CAAiC,IAAjC,GAAQlB,CAAR,CAAeH,CAAOG,CAAAA,IAAP,EAAf,EAAA,CAAuC,CACrC,GAAIA,CAAJ,EAAYgB,CAAZ,EAAqB,CAACC,EAAtB,CAA+B,CAACC,CAAA,CAAM,CAAA,CAAM,MAAb,CAC\/BD,EAAA,CAAU,CAACA,EAAX,EAA+B,GAA\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","sources":["node_modules\/codemirror\/mode\/go\/go.js"],"sourcesContent":["shadow$provide[280] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"go\", function(config) {\n  var indentUnit = config.indentUnit;\n\n  var keywords = {\n    \"break\":true, \"case\":true, \"chan\":true, \"const\":true, \"continue\":true,\n    \"default\":true, \"defer\":true, \"else\":true, \"fallthrough\":true, \"for\":true,\n    \"func\":true, \"go\":true, \"goto\":true, \"if\":true, \"import\":true,\n    \"interface\":true, \"map\":true, \"package\":true, \"range\":true, \"return\":true,\n    \"select\":true, \"struct\":true, \"switch\":true, \"type\":true, \"var\":true,\n    \"bool\":true, \"byte\":true, \"complex64\":true, \"complex128\":true,\n    \"float32\":true, \"float64\":true, \"int8\":true, \"int16\":true, \"int32\":true,\n    \"int64\":true, \"string\":true, \"uint8\":true, \"uint16\":true, \"uint32\":true,\n    \"uint64\":true, \"int\":true, \"uint\":true, \"uintptr\":true, \"error\": true,\n    \"rune\":true\n  };\n\n  var atoms = {\n    \"true\":true, \"false\":true, \"iota\":true, \"nil\":true, \"append\":true,\n    \"cap\":true, \"close\":true, \"complex\":true, \"copy\":true, \"delete\":true, \"imag\":true,\n    \"len\":true, \"make\":true, \"new\":true, \"panic\":true, \"print\":true,\n    \"println\":true, \"real\":true, \"recover\":true\n  };\n\n  var isOperatorChar = \/[+\\-*&^%:=<>!|\\\/]\/;\n\n  var curPunc;\n\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (ch == '\"' || ch == \"'\" || ch == \"`\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    }\n    if (\/[\\d\\.]\/.test(ch)) {\n      if (ch == \".\") {\n        stream.match(\/^[0-9]+([eE][\\-+]?[0-9]+)?\/);\n      } else if (ch == \"0\") {\n        stream.match(\/^[xX][0-9a-fA-F]+\/) || stream.match(\/^0[0-7]+\/);\n      } else {\n        stream.match(\/^[0-9]*\\.?[0-9]*([eE][\\-+]?[0-9]+)?\/);\n      }\n      return \"number\";\n    }\n    if (\/[\\[\\]{}\\(\\),;\\:\\.]\/.test(ch)) {\n      curPunc = ch;\n      return null;\n    }\n    if (ch == \"\/\") {\n      if (stream.eat(\"*\")) {\n        state.tokenize = tokenComment;\n        return tokenComment(stream, state);\n      }\n      if (stream.eat(\"\/\")) {\n        stream.skipToEnd();\n        return \"comment\";\n      }\n    }\n    if (isOperatorChar.test(ch)) {\n      stream.eatWhile(isOperatorChar);\n      return \"operator\";\n    }\n    stream.eatWhile(\/[\\w\\$_\\xa1-\\uffff]\/);\n    var cur = stream.current();\n    if (keywords.propertyIsEnumerable(cur)) {\n      if (cur == \"case\" || cur == \"default\") curPunc = \"case\";\n      return \"keyword\";\n    }\n    if (atoms.propertyIsEnumerable(cur)) return \"atom\";\n    return \"variable\";\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, next, end = false;\n      while ((next = stream.next()) != null) {\n        if (next == quote && !escaped) {end = true; break;}\n        escaped = !escaped && quote != \"`\" && next == \"\\\\\";\n      }\n      if (end || !(escaped || quote == \"`\"))\n        state.tokenize = tokenBase;\n      return \"string\";\n    };\n  }\n\n  function tokenComment(stream, state) {\n    var maybeEnd = false, ch;\n    while (ch = stream.next()) {\n      if (ch == \"\/\" && maybeEnd) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return \"comment\";\n  }\n\n  function Context(indented, column, type, align, prev) {\n    this.indented = indented;\n    this.column = column;\n    this.type = type;\n    this.align = align;\n    this.prev = prev;\n  }\n  function pushContext(state, col, type) {\n    return state.context = new Context(state.indented, col, type, null, state.context);\n  }\n  function popContext(state) {\n    if (!state.context.prev) return;\n    var t = state.context.type;\n    if (t == \")\" || t == \"]\" || t == \"}\")\n      state.indented = state.context.indented;\n    return state.context = state.context.prev;\n  }\n\n  \/\/ Interface\n\n  return {\n    startState: function(basecolumn) {\n      return {\n        tokenize: null,\n        context: new Context((basecolumn || 0) - indentUnit, 0, \"top\", false),\n        indented: 0,\n        startOfLine: true\n      };\n    },\n\n    token: function(stream, state) {\n      var ctx = state.context;\n      if (stream.sol()) {\n        if (ctx.align == null) ctx.align = false;\n        state.indented = stream.indentation();\n        state.startOfLine = true;\n        if (ctx.type == \"case\") ctx.type = \"}\";\n      }\n      if (stream.eatSpace()) return null;\n      curPunc = null;\n      var style = (state.tokenize || tokenBase)(stream, state);\n      if (style == \"comment\") return style;\n      if (ctx.align == null) ctx.align = true;\n\n      if (curPunc == \"{\") pushContext(state, stream.column(), \"}\");\n      else if (curPunc == \"[\") pushContext(state, stream.column(), \"]\");\n      else if (curPunc == \"(\") pushContext(state, stream.column(), \")\");\n      else if (curPunc == \"case\") ctx.type = \"case\";\n      else if (curPunc == \"}\" && ctx.type == \"}\") popContext(state);\n      else if (curPunc == ctx.type) popContext(state);\n      state.startOfLine = false;\n      return style;\n    },\n\n    indent: function(state, textAfter) {\n      if (state.tokenize != tokenBase && state.tokenize != null) return CodeMirror.Pass;\n      var ctx = state.context, firstChar = textAfter && textAfter.charAt(0);\n      if (ctx.type == \"case\" && \/^(?:case|default)\\b\/.test(textAfter)) {\n        state.context.type = \"}\";\n        return ctx.indented;\n      }\n      var closing = firstChar == ctx.type;\n      if (ctx.align) return ctx.column + (closing ? 0 : 1);\n      else return ctx.indented + (closing ? 0 : indentUnit);\n    },\n\n    electricChars: \"{}):\",\n    closeBrackets: \"()[]{}''\\\"\\\"``\",\n    fold: \"brace\",\n    blockCommentStart: \"\/*\",\n    blockCommentEnd: \"*\/\",\n    lineComment: \"\/\/\"\n  };\n});\n\nCodeMirror.defineMIME(\"text\/x-go\", \"go\");\n\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","defineMode","config","tokenBase","stream","state","ch","next","tokenize","tokenString","test","match","curPunc","eat","tokenComment","skipToEnd","isOperatorChar","eatWhile","cur","current","keywords","propertyIsEnumerable","atoms","quote","escaped","end","maybeEnd","Context","indented","column","type","align","prev","pushContext","col","context","popContext","t","indentUnit","startState","basecolumn","startOfLine","token","ctx","sol","indentation","eatSpace","style","indent","textAfter","Pass","firstChar","charAt","closing","electricChars","closeBrackets","fold","blockCommentStart","blockCommentEnd","lineComment","defineMIME"]}},{"offset":{"line":630,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$mode$haskell$haskell.js","lineCount":10,"mappings":"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\/PwB,CAPxB,CAJ8D;","sources":["node_modules\/codemirror\/mode\/haskell\/haskell.js"],"sourcesContent":["shadow$provide[281] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"haskell\", function(_config, modeConfig) {\n\n  function switchState(source, setState, f) {\n    setState(f);\n    return f(source, setState);\n  }\n\n  \/\/ These should all be Unicode extended, as per the Haskell 2010 report\n  var smallRE = \/[a-z_]\/;\n  var largeRE = \/[A-Z]\/;\n  var digitRE = \/\\d\/;\n  var hexitRE = \/[0-9A-Fa-f]\/;\n  var octitRE = \/[0-7]\/;\n  var idRE = \/[a-z_A-Z0-9'\\xa1-\\uffff]\/;\n  var symbolRE = \/[-!#$%&*+.\\\/<=>?@\\\\^|~:]\/;\n  var specialRE = \/[(),;[\\]`{}]\/;\n  var whiteCharRE = \/[ \\t\\v\\f]\/; \/\/ newlines are handled in tokenizer\n\n  function normal(source, setState) {\n    if (source.eatWhile(whiteCharRE)) {\n      return null;\n    }\n\n    var ch = source.next();\n    if (specialRE.test(ch)) {\n      if (ch == '{' && source.eat('-')) {\n        var t = \"comment\";\n        if (source.eat('#')) {\n          t = \"meta\";\n        }\n        return switchState(source, setState, ncomment(t, 1));\n      }\n      return null;\n    }\n\n    if (ch == '\\'') {\n      if (source.eat('\\\\')) {\n        source.next();  \/\/ should handle other escapes here\n      }\n      else {\n        source.next();\n      }\n      if (source.eat('\\'')) {\n        return \"string\";\n      }\n      return \"string error\";\n    }\n\n    if (ch == '\"') {\n      return switchState(source, setState, stringLiteral);\n    }\n\n    if (largeRE.test(ch)) {\n      source.eatWhile(idRE);\n      if (source.eat('.')) {\n        return \"qualifier\";\n      }\n      return \"variable-2\";\n    }\n\n    if (smallRE.test(ch)) {\n      source.eatWhile(idRE);\n      return \"variable\";\n    }\n\n    if (digitRE.test(ch)) {\n      if (ch == '0') {\n        if (source.eat(\/[xX]\/)) {\n          source.eatWhile(hexitRE); \/\/ should require at least 1\n          return \"integer\";\n        }\n        if (source.eat(\/[oO]\/)) {\n          source.eatWhile(octitRE); \/\/ should require at least 1\n          return \"number\";\n        }\n      }\n      source.eatWhile(digitRE);\n      var t = \"number\";\n      if (source.match(\/^\\.\\d+\/)) {\n        t = \"number\";\n      }\n      if (source.eat(\/[eE]\/)) {\n        t = \"number\";\n        source.eat(\/[-+]\/);\n        source.eatWhile(digitRE); \/\/ should require at least 1\n      }\n      return t;\n    }\n\n    if (ch == \".\" && source.eat(\".\"))\n      return \"keyword\";\n\n    if (symbolRE.test(ch)) {\n      if (ch == '-' && source.eat(\/-\/)) {\n        source.eatWhile(\/-\/);\n        if (!source.eat(symbolRE)) {\n          source.skipToEnd();\n          return \"comment\";\n        }\n      }\n      var t = \"variable\";\n      if (ch == ':') {\n        t = \"variable-2\";\n      }\n      source.eatWhile(symbolRE);\n      return t;\n    }\n\n    return \"error\";\n  }\n\n  function ncomment(type, nest) {\n    if (nest == 0) {\n      return normal;\n    }\n    return function(source, setState) {\n      var currNest = nest;\n      while (!source.eol()) {\n        var ch = source.next();\n        if (ch == '{' && source.eat('-')) {\n          ++currNest;\n        }\n        else if (ch == '-' && source.eat('}')) {\n          --currNest;\n          if (currNest == 0) {\n            setState(normal);\n            return type;\n          }\n        }\n      }\n      setState(ncomment(type, currNest));\n      return type;\n    };\n  }\n\n  function stringLiteral(source, setState) {\n    while (!source.eol()) {\n      var ch = source.next();\n      if (ch == '\"') {\n        setState(normal);\n        return \"string\";\n      }\n      if (ch == '\\\\') {\n        if (source.eol() || source.eat(whiteCharRE)) {\n          setState(stringGap);\n          return \"string\";\n        }\n        if (source.eat('&')) {\n        }\n        else {\n          source.next(); \/\/ should handle other escapes here\n        }\n      }\n    }\n    setState(normal);\n    return \"string error\";\n  }\n\n  function stringGap(source, setState) {\n    if (source.eat('\\\\')) {\n      return switchState(source, setState, stringLiteral);\n    }\n    source.next();\n    setState(normal);\n    return \"error\";\n  }\n\n\n  var wellKnownWords = (function() {\n    var wkw = {};\n    function setType(t) {\n      return function () {\n        for (var i = 0; i < arguments.length; i++)\n          wkw[arguments[i]] = t;\n      };\n    }\n\n    setType(\"keyword\")(\n      \"case\", \"class\", \"data\", \"default\", \"deriving\", \"do\", \"else\", \"foreign\",\n      \"if\", \"import\", \"in\", \"infix\", \"infixl\", \"infixr\", \"instance\", \"let\",\n      \"module\", \"newtype\", \"of\", \"then\", \"type\", \"where\", \"_\");\n\n    setType(\"keyword\")(\n      \"\\.\\.\", \":\", \"::\", \"=\", \"\\\\\", \"<-\", \"->\", \"@\", \"~\", \"=>\");\n\n    setType(\"builtin\")(\n      \"!!\", \"$!\", \"$\", \"&&\", \"+\", \"++\", \"-\", \".\", \"\/\", \"\/=\", \"<\", \"<*\", \"<=\",\n      \"<$>\", \"<*>\", \"=<<\", \"==\", \">\", \">=\", \">>\", \">>=\", \"^\", \"^^\", \"||\", \"*\",\n      \"*>\", \"**\");\n\n    setType(\"builtin\")(\n      \"Applicative\", \"Bool\", \"Bounded\", \"Char\", \"Double\", \"EQ\", \"Either\", \"Enum\",\n      \"Eq\", \"False\", \"FilePath\", \"Float\", \"Floating\", \"Fractional\", \"Functor\",\n      \"GT\", \"IO\", \"IOError\", \"Int\", \"Integer\", \"Integral\", \"Just\", \"LT\", \"Left\",\n      \"Maybe\", \"Monad\", \"Nothing\", \"Num\", \"Ord\", \"Ordering\", \"Rational\", \"Read\",\n      \"ReadS\", \"Real\", \"RealFloat\", \"RealFrac\", \"Right\", \"Show\", \"ShowS\",\n      \"String\", \"True\");\n\n    setType(\"builtin\")(\n      \"abs\", \"acos\", \"acosh\", \"all\", \"and\", \"any\", \"appendFile\", \"asTypeOf\",\n      \"asin\", \"asinh\", \"atan\", \"atan2\", \"atanh\", \"break\", \"catch\", \"ceiling\",\n      \"compare\", \"concat\", \"concatMap\", \"const\", \"cos\", \"cosh\", \"curry\",\n      \"cycle\", \"decodeFloat\", \"div\", \"divMod\", \"drop\", \"dropWhile\", \"either\",\n      \"elem\", \"encodeFloat\", \"enumFrom\", \"enumFromThen\", \"enumFromThenTo\",\n      \"enumFromTo\", \"error\", \"even\", \"exp\", \"exponent\", \"fail\", \"filter\",\n      \"flip\", \"floatDigits\", \"floatRadix\", \"floatRange\", \"floor\", \"fmap\",\n      \"foldl\", \"foldl1\", \"foldr\", \"foldr1\", \"fromEnum\", \"fromInteger\",\n      \"fromIntegral\", \"fromRational\", \"fst\", \"gcd\", \"getChar\", \"getContents\",\n      \"getLine\", \"head\", \"id\", \"init\", \"interact\", \"ioError\", \"isDenormalized\",\n      \"isIEEE\", \"isInfinite\", \"isNaN\", \"isNegativeZero\", \"iterate\", \"last\",\n      \"lcm\", \"length\", \"lex\", \"lines\", \"log\", \"logBase\", \"lookup\", \"map\",\n      \"mapM\", \"mapM_\", \"max\", \"maxBound\", \"maximum\", \"maybe\", \"min\", \"minBound\",\n      \"minimum\", \"mod\", \"negate\", \"not\", \"notElem\", \"null\", \"odd\", \"or\",\n      \"otherwise\", \"pi\", \"pred\", \"print\", \"product\", \"properFraction\", \"pure\",\n      \"putChar\", \"putStr\", \"putStrLn\", \"quot\", \"quotRem\", \"read\", \"readFile\",\n      \"readIO\", \"readList\", \"readLn\", \"readParen\", \"reads\", \"readsPrec\",\n      \"realToFrac\", \"recip\", \"rem\", \"repeat\", \"replicate\", \"return\", \"reverse\",\n      \"round\", \"scaleFloat\", \"scanl\", \"scanl1\", \"scanr\", \"scanr1\", \"seq\",\n      \"sequence\", \"sequence_\", \"show\", \"showChar\", \"showList\", \"showParen\",\n      \"showString\", \"shows\", \"showsPrec\", \"significand\", \"signum\", \"sin\",\n      \"sinh\", \"snd\", \"span\", \"splitAt\", \"sqrt\", \"subtract\", \"succ\", \"sum\",\n      \"tail\", \"take\", \"takeWhile\", \"tan\", \"tanh\", \"toEnum\", \"toInteger\",\n      \"toRational\", \"truncate\", \"uncurry\", \"undefined\", \"unlines\", \"until\",\n      \"unwords\", \"unzip\", \"unzip3\", \"userError\", \"words\", \"writeFile\", \"zip\",\n      \"zip3\", \"zipWith\", \"zipWith3\");\n\n    var override = modeConfig.overrideKeywords;\n    if (override) for (var word in override) if (override.hasOwnProperty(word))\n      wkw[word] = override[word];\n\n    return wkw;\n  })();\n\n\n\n  return {\n    startState: function ()  { return { f: normal }; },\n    copyState:  function (s) { return { f: s.f }; },\n\n    token: function(stream, state) {\n      var t = state.f(stream, function(s) { state.f = s; });\n      var w = stream.current();\n      return wellKnownWords.hasOwnProperty(w) ? wellKnownWords[w] : t;\n    },\n\n    blockCommentStart: \"{-\",\n    blockCommentEnd: \"-}\",\n    lineComment: \"--\"\n  };\n\n});\n\nCodeMirror.defineMIME(\"text\/x-haskell\", \"haskell\");\n\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","defineMode","_config","modeConfig","switchState","source","setState","f","normal","eatWhile","whiteCharRE","ch","next","specialRE","test","eat","t","ncomment","stringLiteral","largeRE","idRE","smallRE","digitRE","hexitRE","octitRE","match","symbolRE","skipToEnd","type","nest","currNest","eol","stringGap","wellKnownWords","setType","i","arguments","length","wkw","override","overrideKeywords","word","hasOwnProperty","startState","copyState","s","token","stream","state","w","current","blockCommentStart","blockCommentEnd","lineComment","defineMIME"]}},{"offset":{"line":640,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$mode$lua$lua.js","lineCount":5,"mappings":"AAAAA,cAAA,CAAe,GAAf,CAAA,CAAsB,QAAQ,CAACC,EAAD,CAAQC,CAAR,CAAgBC,EAAhB,CAAuBC,CAAvB,CAAgC,CAQ7D,SAAQ,CAACC,CAAD,CAAM,CACS,QAAtB,EAAI,MAAOD,EAAX,EAAmD,QAAnD,EAAkC,MAAOD,GAAzC,CACEE,CAAA,CAAIH,CAAA,CAAQ,GAAR,CAAJ,CADF,CAE0B,UAArB,EAAI,MAAOI,OAAX,EAAmCA,MAAOC,CAAAA,GAA1C,CACHD,MAAA,CAAO,CAAC,sBAAD,CAAP,CAAiCD,CAAjC,CADG,CAGHA,CAAA,CAAIG,UAAJ,CANW,CAAd,CAAD,CAOG,QAAQ,CAACA,CAAD,CAAa,CAGxBA,CAAWC,CAAAA,UAAX,CAAsB,KAAtB,CAA6B,QAAQ,CAACC,CAAD,CAASC,CAAT,CAAuB,CAM1DC,QAASA,EAAM,CAACC,CAAD,CAAQ,CACrB,MAAO,KAAIC,MAAJ,CAAW,MAAX,CAAoBD,CAAME,CAAAA,IAAN,CAAW,GAAX,CAApB,CAAsC,IAAtC,CAA4C,GAA5C,CADc,CA8CvBC,QAASA,EAAW,CAACC,CAAD,CAAS,CAE3B,IADA,IAAIC,GAAQ,CACZ,CAAOD,CAAOE,CAAAA,GAAP,CAAW,MAAX,CAAP,CAAA,CAAwB,EAAED,EAC1BD,EAAOE,CAAAA,GAAP,CAAW,GAAX,CACA,OAAOD,GAJoB,CAO7BE,QAASA,EAAM,CAACH,CAAD,CAASI,EAAT,CAAgB,CAC7B,IAAIC,EAAKL,CAAOM,CAAAA,IAAP,EACT,IAAU,GAAV,EAAID,CAAJ,EAAiBL,CAAOE,CAAAA,GAAP,CAAW,GAAX,CAAjB,CAAkC,CAChC,GAAIF,CAAOE,CAAAA,GAAP,CAAW,GAAX,CAAJ,EAAuBF,CAAOE,CAAAA,GAAP,CAAW,GAAX,CAAvB,CACE,MAAO,CAACE,EAAMG,CAAAA,GAAP,CAAaC,CAAA,CAAUT,CAAA,CAAYC,CAAZ,CAAV,CAA+B,SAA\/B,CAAb,EAAwDA,CAAxD,CAAgEI,EAAhE,CACTJ,EAAOS,CAAAA,SAAP,EACA,OAAO,SAJyB,CAMlC,MAAU,GAAV;AAAIJ,CAAJ,EAAwB,GAAxB,EAAkBA,CAAlB,CACS,CAACD,EAAMG,CAAAA,GAAP,CAAaG,CAAA,CAAOL,CAAP,CAAb,EAAyBL,CAAzB,CAAiCI,EAAjC,CADT,CAEU,GAAV,EAAIC,CAAJ,EAAiB,OAAQM,CAAAA,IAAR,CAAaX,CAAOY,CAAAA,IAAP,EAAb,CAAjB,CACS,CAACR,EAAMG,CAAAA,GAAP,CAAaC,CAAA,CAAUT,CAAA,CAAYC,CAAZ,CAAV,CAA+B,QAA\/B,CAAb,EAAuDA,CAAvD,CAA+DI,EAA\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","sources":["node_modules\/codemirror\/mode\/lua\/lua.js"],"sourcesContent":["shadow$provide[282] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n\/\/ LUA mode. Ported to CodeMirror 2 from Franciszek Wawrzak's\n\/\/ CodeMirror 1 mode.\n\/\/ highlights keywords, strings, comments (no leveling supported! (\"[==[\")), tokens, basic indenting\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"lua\", function(config, parserConfig) {\n  var indentUnit = config.indentUnit;\n\n  function prefixRE(words) {\n    return new RegExp(\"^(?:\" + words.join(\"|\") + \")\", \"i\");\n  }\n  function wordRE(words) {\n    return new RegExp(\"^(?:\" + words.join(\"|\") + \")$\", \"i\");\n  }\n  var specials = wordRE(parserConfig.specials || []);\n\n  \/\/ long list of standard functions from lua manual\n  var builtins = wordRE([\n    \"_G\",\"_VERSION\",\"assert\",\"collectgarbage\",\"dofile\",\"error\",\"getfenv\",\"getmetatable\",\"ipairs\",\"load\",\n    \"loadfile\",\"loadstring\",\"module\",\"next\",\"pairs\",\"pcall\",\"print\",\"rawequal\",\"rawget\",\"rawset\",\"require\",\n    \"select\",\"setfenv\",\"setmetatable\",\"tonumber\",\"tostring\",\"type\",\"unpack\",\"xpcall\",\n\n    \"coroutine.create\",\"coroutine.resume\",\"coroutine.running\",\"coroutine.status\",\"coroutine.wrap\",\"coroutine.yield\",\n\n    \"debug.debug\",\"debug.getfenv\",\"debug.gethook\",\"debug.getinfo\",\"debug.getlocal\",\"debug.getmetatable\",\n    \"debug.getregistry\",\"debug.getupvalue\",\"debug.setfenv\",\"debug.sethook\",\"debug.setlocal\",\"debug.setmetatable\",\n    \"debug.setupvalue\",\"debug.traceback\",\n\n    \"close\",\"flush\",\"lines\",\"read\",\"seek\",\"setvbuf\",\"write\",\n\n    \"io.close\",\"io.flush\",\"io.input\",\"io.lines\",\"io.open\",\"io.output\",\"io.popen\",\"io.read\",\"io.stderr\",\"io.stdin\",\n    \"io.stdout\",\"io.tmpfile\",\"io.type\",\"io.write\",\n\n    \"math.abs\",\"math.acos\",\"math.asin\",\"math.atan\",\"math.atan2\",\"math.ceil\",\"math.cos\",\"math.cosh\",\"math.deg\",\n    \"math.exp\",\"math.floor\",\"math.fmod\",\"math.frexp\",\"math.huge\",\"math.ldexp\",\"math.log\",\"math.log10\",\"math.max\",\n    \"math.min\",\"math.modf\",\"math.pi\",\"math.pow\",\"math.rad\",\"math.random\",\"math.randomseed\",\"math.sin\",\"math.sinh\",\n    \"math.sqrt\",\"math.tan\",\"math.tanh\",\n\n    \"os.clock\",\"os.date\",\"os.difftime\",\"os.execute\",\"os.exit\",\"os.getenv\",\"os.remove\",\"os.rename\",\"os.setlocale\",\n    \"os.time\",\"os.tmpname\",\n\n    \"package.cpath\",\"package.loaded\",\"package.loaders\",\"package.loadlib\",\"package.path\",\"package.preload\",\n    \"package.seeall\",\n\n    \"string.byte\",\"string.char\",\"string.dump\",\"string.find\",\"string.format\",\"string.gmatch\",\"string.gsub\",\n    \"string.len\",\"string.lower\",\"string.match\",\"string.rep\",\"string.reverse\",\"string.sub\",\"string.upper\",\n\n    \"table.concat\",\"table.insert\",\"table.maxn\",\"table.remove\",\"table.sort\"\n  ]);\n  var keywords = wordRE([\"and\",\"break\",\"elseif\",\"false\",\"nil\",\"not\",\"or\",\"return\",\n                         \"true\",\"function\", \"end\", \"if\", \"then\", \"else\", \"do\",\n                         \"while\", \"repeat\", \"until\", \"for\", \"in\", \"local\" ]);\n\n  var indentTokens = wordRE([\"function\", \"if\",\"repeat\",\"do\", \"\\\\(\", \"{\"]);\n  var dedentTokens = wordRE([\"end\", \"until\", \"\\\\)\", \"}\"]);\n  var dedentPartial = prefixRE([\"end\", \"until\", \"\\\\)\", \"}\", \"else\", \"elseif\"]);\n\n  function readBracket(stream) {\n    var level = 0;\n    while (stream.eat(\"=\")) ++level;\n    stream.eat(\"[\");\n    return level;\n  }\n\n  function normal(stream, state) {\n    var ch = stream.next();\n    if (ch == \"-\" && stream.eat(\"-\")) {\n      if (stream.eat(\"[\") && stream.eat(\"[\"))\n        return (state.cur = bracketed(readBracket(stream), \"comment\"))(stream, state);\n      stream.skipToEnd();\n      return \"comment\";\n    }\n    if (ch == \"\\\"\" || ch == \"'\")\n      return (state.cur = string(ch))(stream, state);\n    if (ch == \"[\" && \/[\\[=]\/.test(stream.peek()))\n      return (state.cur = bracketed(readBracket(stream), \"string\"))(stream, state);\n    if (\/\\d\/.test(ch)) {\n      stream.eatWhile(\/[\\w.%]\/);\n      return \"number\";\n    }\n    if (\/[\\w_]\/.test(ch)) {\n      stream.eatWhile(\/[\\w\\\\\\-_.]\/);\n      return \"variable\";\n    }\n    return null;\n  }\n\n  function bracketed(level, style) {\n    return function(stream, state) {\n      var curlev = null, ch;\n      while ((ch = stream.next()) != null) {\n        if (curlev == null) {if (ch == \"]\") curlev = 0;}\n        else if (ch == \"=\") ++curlev;\n        else if (ch == \"]\" && curlev == level) { state.cur = normal; break; }\n        else curlev = null;\n      }\n      return style;\n    };\n  }\n\n  function string(quote) {\n    return function(stream, state) {\n      var escaped = false, ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == quote && !escaped) break;\n        escaped = !escaped && ch == \"\\\\\";\n      }\n      if (!escaped) state.cur = normal;\n      return \"string\";\n    };\n  }\n\n  return {\n    startState: function(basecol) {\n      return {basecol: basecol || 0, indentDepth: 0, cur: normal};\n    },\n\n    token: function(stream, state) {\n      if (stream.eatSpace()) return null;\n      var style = state.cur(stream, state);\n      var word = stream.current();\n      if (style == \"variable\") {\n        if (keywords.test(word)) style = \"keyword\";\n        else if (builtins.test(word)) style = \"builtin\";\n        else if (specials.test(word)) style = \"variable-2\";\n      }\n      if ((style != \"comment\") && (style != \"string\")){\n        if (indentTokens.test(word)) ++state.indentDepth;\n        else if (dedentTokens.test(word)) --state.indentDepth;\n      }\n      return style;\n    },\n\n    indent: function(state, textAfter) {\n      var closing = dedentPartial.test(textAfter);\n      return state.basecol + indentUnit * (state.indentDepth - (closing ? 1 : 0));\n    },\n\n    lineComment: \"--\",\n    blockCommentStart: \"--[[\",\n    blockCommentEnd: \"]]\"\n  };\n});\n\nCodeMirror.defineMIME(\"text\/x-lua\", \"lua\");\n\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","defineMode","config","parserConfig","wordRE","words","RegExp","join","readBracket","stream","level","eat","normal","state","ch","next","cur","bracketed","skipToEnd","string","test","peek","eatWhile","style","curlev","quote","escaped","indentUnit","specials","builtins","keywords","indentTokens","dedentTokens","dedentPartial","startState","basecol","indentDepth","token","eatSpace","word","current","indent","textAfter","closing","lineComment","blockCommentStart","blockCommentEnd","defineMIME"]}},{"offset":{"line":645,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$mode$mathematica$mathematica.js","lineCount":5,"mappings":"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","sources":["node_modules\/codemirror\/mode\/mathematica\/mathematica.js"],"sourcesContent":["shadow$provide[283] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n\/\/ Mathematica mode copyright (c) 2015 by Calin Barbat\n\/\/ Based on code by Patrick Scheibe (halirutan)\n\/\/ See: https:\/\/github.com\/halirutan\/Mathematica-Source-Highlighting\/tree\/master\/src\/lang-mma.js\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode('mathematica', function(_config, _parserConfig) {\n\n  \/\/ used pattern building blocks\n  var Identifier = '[a-zA-Z\\\\$][a-zA-Z0-9\\\\$]*';\n  var pBase      = \"(?:\\\\d+)\";\n  var pFloat     = \"(?:\\\\.\\\\d+|\\\\d+\\\\.\\\\d*|\\\\d+)\";\n  var pFloatBase = \"(?:\\\\.\\\\w+|\\\\w+\\\\.\\\\w*|\\\\w+)\";\n  var pPrecision = \"(?:`(?:`?\"+pFloat+\")?)\";\n\n  \/\/ regular expressions\n  var reBaseForm        = new RegExp('(?:'+pBase+'(?:\\\\^\\\\^'+pFloatBase+pPrecision+'?(?:\\\\*\\\\^[+-]?\\\\d+)?))');\n  var reFloatForm       = new RegExp('(?:' + pFloat + pPrecision + '?(?:\\\\*\\\\^[+-]?\\\\d+)?)');\n  var reIdInContext     = new RegExp('(?:`?)(?:' + Identifier + ')(?:`(?:' + Identifier + '))*(?:`?)');\n\n  function tokenBase(stream, state) {\n    var ch;\n\n    \/\/ get next character\n    ch = stream.next();\n\n    \/\/ string\n    if (ch === '\"') {\n      state.tokenize = tokenString;\n      return state.tokenize(stream, state);\n    }\n\n    \/\/ comment\n    if (ch === '(') {\n      if (stream.eat('*')) {\n        state.commentLevel++;\n        state.tokenize = tokenComment;\n        return state.tokenize(stream, state);\n      }\n    }\n\n    \/\/ go back one character\n    stream.backUp(1);\n\n    \/\/ look for numbers\n    \/\/ Numbers in a baseform\n    if (stream.match(reBaseForm, true, false)) {\n      return 'number';\n    }\n\n    \/\/ Mathematica numbers. Floats (1.2, .2, 1.) can have optionally a precision (`float) or an accuracy definition\n    \/\/ (``float). Note: while 1.2` is possible 1.2`` is not. At the end an exponent (float*^+12) can follow.\n    if (stream.match(reFloatForm, true, false)) {\n      return 'number';\n    }\n\n    \/* In[23] and Out[34] *\/\n    if (stream.match(\/(?:In|Out)\\[[0-9]*\\]\/, true, false)) {\n      return 'atom';\n    }\n\n    \/\/ usage\n    if (stream.match(\/([a-zA-Z\\$][a-zA-Z0-9\\$]*(?:`[a-zA-Z0-9\\$]+)*::usage)\/, true, false)) {\n      return 'meta';\n    }\n\n    \/\/ message\n    if (stream.match(\/([a-zA-Z\\$][a-zA-Z0-9\\$]*(?:`[a-zA-Z0-9\\$]+)*::[a-zA-Z\\$][a-zA-Z0-9\\$]*):?\/, true, false)) {\n      return 'string-2';\n    }\n\n    \/\/ this makes a look-ahead match for something like variable:{_Integer}\n    \/\/ the match is then forwarded to the mma-patterns tokenizer.\n    if (stream.match(\/([a-zA-Z\\$][a-zA-Z0-9\\$]*\\s*:)(?:(?:[a-zA-Z\\$][a-zA-Z0-9\\$]*)|(?:[^:=>~@\\^\\&\\*\\)\\[\\]'\\?,\\|])).*\/, true, false)) {\n      return 'variable-2';\n    }\n\n    \/\/ catch variables which are used together with Blank (_), BlankSequence (__) or BlankNullSequence (___)\n    \/\/ Cannot start with a number, but can have numbers at any other position. Examples\n    \/\/ blub__Integer, a1_, b34_Integer32\n    if (stream.match(\/[a-zA-Z\\$][a-zA-Z0-9\\$]*_+[a-zA-Z\\$][a-zA-Z0-9\\$]*\/, true, false)) {\n      return 'variable-2';\n    }\n    if (stream.match(\/[a-zA-Z\\$][a-zA-Z0-9\\$]*_+\/, true, false)) {\n      return 'variable-2';\n    }\n    if (stream.match(\/_+[a-zA-Z\\$][a-zA-Z0-9\\$]*\/, true, false)) {\n      return 'variable-2';\n    }\n\n    \/\/ Named characters in Mathematica, like \\[Gamma].\n    if (stream.match(\/\\\\\\[[a-zA-Z\\$][a-zA-Z0-9\\$]*\\]\/, true, false)) {\n      return 'variable-3';\n    }\n\n    \/\/ Match all braces separately\n    if (stream.match(\/(?:\\[|\\]|{|}|\\(|\\))\/, true, false)) {\n      return 'bracket';\n    }\n\n    \/\/ Catch Slots (#, ##, #3, ##9 and the V10 named slots #name). I have never seen someone using more than one digit after #, so we match\n    \/\/ only one.\n    if (stream.match(\/(?:#[a-zA-Z\\$][a-zA-Z0-9\\$]*|#+[0-9]?)\/, true, false)) {\n      return 'variable-2';\n    }\n\n    \/\/ Literals like variables, keywords, functions\n    if (stream.match(reIdInContext, true, false)) {\n      return 'keyword';\n    }\n\n    \/\/ operators. Note that operators like @@ or \/; are matched separately for each symbol.\n    if (stream.match(\/(?:\\\\|\\+|\\-|\\*|\\\/|,|;|\\.|:|@|~|=|>|<|&|\\||_|`|'|\\^|\\?|!|%)\/, true, false)) {\n      return 'operator';\n    }\n\n    \/\/ everything else is an error\n    stream.next(); \/\/ advance the stream.\n    return 'error';\n  }\n\n  function tokenString(stream, state) {\n    var next, end = false, escaped = false;\n    while ((next = stream.next()) != null) {\n      if (next === '\"' && !escaped) {\n        end = true;\n        break;\n      }\n      escaped = !escaped && next === '\\\\';\n    }\n    if (end && !escaped) {\n      state.tokenize = tokenBase;\n    }\n    return 'string';\n  };\n\n  function tokenComment(stream, state) {\n    var prev, next;\n    while(state.commentLevel > 0 && (next = stream.next()) != null) {\n      if (prev === '(' && next === '*') state.commentLevel++;\n      if (prev === '*' && next === ')') state.commentLevel--;\n      prev = next;\n    }\n    if (state.commentLevel <= 0) {\n      state.tokenize = tokenBase;\n    }\n    return 'comment';\n  }\n\n  return {\n    startState: function() {return {tokenize: tokenBase, commentLevel: 0};},\n    token: function(stream, state) {\n      if (stream.eatSpace()) return null;\n      return state.tokenize(stream, state);\n    },\n    blockCommentStart: \"(*\",\n    blockCommentEnd: \"*)\"\n  };\n});\n\nCodeMirror.defineMIME('text\/x-mathematica', {\n  name: 'mathematica'\n});\n\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","defineMode","_config","_parserConfig","tokenBase","stream","state","ch","next","tokenize","tokenString","eat","commentLevel","tokenComment","backUp","match","reBaseForm","reFloatForm","reIdInContext","end","escaped","prev","startState","token","eatSpace","blockCommentStart","blockCommentEnd","defineMIME","name"]}},{"offset":{"line":650,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$mode$perl$perl.js","lineCount":20,"mappings":"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\/C,CAEA\/O,EAAWgP,CAAAA,UAAX,CAAsB,aAAtB,CAAqC,MAArC,CAnxBwB,CAPxB,CAP8D;","sources":["node_modules\/codemirror\/mode\/perl\/perl.js"],"sourcesContent":["shadow$provide[284] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n\/\/ CodeMirror2 mode\/perl\/perl.js (text\/x-perl) beta 0.10 (2011-11-08)\n\/\/ This is a part of CodeMirror from https:\/\/github.com\/sabaca\/CodeMirror_mode_perl (mail@sabaca.com)\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"perl\",function(){\n        \/\/ http:\/\/perldoc.perl.org\n        var PERL={                                      \/\/   null - magic touch\n                                                        \/\/   1 - keyword\n                                                        \/\/   2 - def\n                                                        \/\/   3 - atom\n                                                        \/\/   4 - operator\n                                                        \/\/   5 - variable-2 (predefined)\n                                                        \/\/   [x,y] - x=1,2,3; y=must be defined if x{...}\n                                                \/\/      PERL operators\n                '->'                            :   4,\n                '++'                            :   4,\n                '--'                            :   4,\n                '**'                            :   4,\n                                                        \/\/   ! ~ \\ and unary + and -\n                '=~'                            :   4,\n                '!~'                            :   4,\n                '*'                             :   4,\n                '\/'                             :   4,\n                '%'                             :   4,\n                'x'                             :   4,\n                '+'                             :   4,\n                '-'                             :   4,\n                '.'                             :   4,\n                '<<'                            :   4,\n                '>>'                            :   4,\n                                                        \/\/   named unary operators\n                '<'                             :   4,\n                '>'                             :   4,\n                '<='                            :   4,\n                '>='                            :   4,\n                'lt'                            :   4,\n                'gt'                            :   4,\n                'le'                            :   4,\n                'ge'                            :   4,\n                '=='                            :   4,\n                '!='                            :   4,\n                '<=>'                           :   4,\n                'eq'                            :   4,\n                'ne'                            :   4,\n                'cmp'                           :   4,\n                '~~'                            :   4,\n                '&'                             :   4,\n                '|'                             :   4,\n                '^'                             :   4,\n                '&&'                            :   4,\n                '||'                            :   4,\n                '\/\/'                            :   4,\n                '..'                            :   4,\n                '...'                           :   4,\n                '?'                             :   4,\n                ':'                             :   4,\n                '='                             :   4,\n                '+='                            :   4,\n                '-='                            :   4,\n                '*='                            :   4,  \/\/   etc. ???\n                ','                             :   4,\n                '=>'                            :   4,\n                '::'                            :   4,\n                                                        \/\/   list operators (rightward)\n                'not'                           :   4,\n                'and'                           :   4,\n                'or'                            :   4,\n                'xor'                           :   4,\n                                                \/\/      PERL predefined variables (I know, what this is a paranoid idea, but may be needed for people, who learn PERL, and for me as well, ...and may be for you?;)\n                'BEGIN'                         :   [5,1],\n                'END'                           :   [5,1],\n                'PRINT'                         :   [5,1],\n                'PRINTF'                        :   [5,1],\n                'GETC'                          :   [5,1],\n                'READ'                          :   [5,1],\n                'READLINE'                      :   [5,1],\n                'DESTROY'                       :   [5,1],\n                'TIE'                           :   [5,1],\n                'TIEHANDLE'                     :   [5,1],\n                'UNTIE'                         :   [5,1],\n                'STDIN'                         :    5,\n                'STDIN_TOP'                     :    5,\n                'STDOUT'                        :    5,\n                'STDOUT_TOP'                    :    5,\n                'STDERR'                        :    5,\n                'STDERR_TOP'                    :    5,\n                '$ARG'                          :    5,\n                '$_'                            :    5,\n                '@ARG'                          :    5,\n                '@_'                            :    5,\n                '$LIST_SEPARATOR'               :    5,\n                '$\"'                            :    5,\n                '$PROCESS_ID'                   :    5,\n                '$PID'                          :    5,\n                '$$'                            :    5,\n                '$REAL_GROUP_ID'                :    5,\n                '$GID'                          :    5,\n                '$('                            :    5,\n                '$EFFECTIVE_GROUP_ID'           :    5,\n                '$EGID'                         :    5,\n                '$)'                            :    5,\n                '$PROGRAM_NAME'                 :    5,\n                '$0'                            :    5,\n                '$SUBSCRIPT_SEPARATOR'          :    5,\n                '$SUBSEP'                       :    5,\n                '$;'                            :    5,\n                '$REAL_USER_ID'                 :    5,\n                '$UID'                          :    5,\n                '$<'                            :    5,\n                '$EFFECTIVE_USER_ID'            :    5,\n                '$EUID'                         :    5,\n                '$>'                            :    5,\n                '$a'                            :    5,\n                '$b'                            :    5,\n                '$COMPILING'                    :    5,\n                '$^C'                           :    5,\n                '$DEBUGGING'                    :    5,\n                '$^D'                           :    5,\n                '${^ENCODING}'                  :    5,\n                '$ENV'                          :    5,\n                '%ENV'                          :    5,\n                '$SYSTEM_FD_MAX'                :    5,\n                '$^F'                           :    5,\n                '@F'                            :    5,\n                '${^GLOBAL_PHASE}'              :    5,\n                '$^H'                           :    5,\n                '%^H'                           :    5,\n                '@INC'                          :    5,\n                '%INC'                          :    5,\n                '$INPLACE_EDIT'                 :    5,\n                '$^I'                           :    5,\n                '$^M'                           :    5,\n                '$OSNAME'                       :    5,\n                '$^O'                           :    5,\n                '${^OPEN}'                      :    5,\n                '$PERLDB'                       :    5,\n                '$^P'                           :    5,\n                '$SIG'                          :    5,\n                '%SIG'                          :    5,\n                '$BASETIME'                     :    5,\n                '$^T'                           :    5,\n                '${^TAINT}'                     :    5,\n                '${^UNICODE}'                   :    5,\n                '${^UTF8CACHE}'                 :    5,\n                '${^UTF8LOCALE}'                :    5,\n                '$PERL_VERSION'                 :    5,\n                '$^V'                           :    5,\n                '${^WIN32_SLOPPY_STAT}'         :    5,\n                '$EXECUTABLE_NAME'              :    5,\n                '$^X'                           :    5,\n                '$1'                            :    5, \/\/ - regexp $1, $2...\n                '$MATCH'                        :    5,\n                '$&'                            :    5,\n                '${^MATCH}'                     :    5,\n                '$PREMATCH'                     :    5,\n                '$`'                            :    5,\n                '${^PREMATCH}'                  :    5,\n                '$POSTMATCH'                    :    5,\n                \"$'\"                            :    5,\n                '${^POSTMATCH}'                 :    5,\n                '$LAST_PAREN_MATCH'             :    5,\n                '$+'                            :    5,\n                '$LAST_SUBMATCH_RESULT'         :    5,\n                '$^N'                           :    5,\n                '@LAST_MATCH_END'               :    5,\n                '@+'                            :    5,\n                '%LAST_PAREN_MATCH'             :    5,\n                '%+'                            :    5,\n                '@LAST_MATCH_START'             :    5,\n                '@-'                            :    5,\n                '%LAST_MATCH_START'             :    5,\n                '%-'                            :    5,\n                '$LAST_REGEXP_CODE_RESULT'      :    5,\n                '$^R'                           :    5,\n                '${^RE_DEBUG_FLAGS}'            :    5,\n                '${^RE_TRIE_MAXBUF}'            :    5,\n                '$ARGV'                         :    5,\n                '@ARGV'                         :    5,\n                'ARGV'                          :    5,\n                'ARGVOUT'                       :    5,\n                '$OUTPUT_FIELD_SEPARATOR'       :    5,\n                '$OFS'                          :    5,\n                '$,'                            :    5,\n                '$INPUT_LINE_NUMBER'            :    5,\n                '$NR'                           :    5,\n                '$.'                            :    5,\n                '$INPUT_RECORD_SEPARATOR'       :    5,\n                '$RS'                           :    5,\n                '$\/'                            :    5,\n                '$OUTPUT_RECORD_SEPARATOR'      :    5,\n                '$ORS'                          :    5,\n                '$\\\\'                           :    5,\n                '$OUTPUT_AUTOFLUSH'             :    5,\n                '$|'                            :    5,\n                '$ACCUMULATOR'                  :    5,\n                '$^A'                           :    5,\n                '$FORMAT_FORMFEED'              :    5,\n                '$^L'                           :    5,\n                '$FORMAT_PAGE_NUMBER'           :    5,\n                '$%'                            :    5,\n                '$FORMAT_LINES_LEFT'            :    5,\n                '$-'                            :    5,\n                '$FORMAT_LINE_BREAK_CHARACTERS' :    5,\n                '$:'                            :    5,\n                '$FORMAT_LINES_PER_PAGE'        :    5,\n                '$='                            :    5,\n                '$FORMAT_TOP_NAME'              :    5,\n                '$^'                            :    5,\n                '$FORMAT_NAME'                  :    5,\n                '$~'                            :    5,\n                '${^CHILD_ERROR_NATIVE}'        :    5,\n                '$EXTENDED_OS_ERROR'            :    5,\n                '$^E'                           :    5,\n                '$EXCEPTIONS_BEING_CAUGHT'      :    5,\n                '$^S'                           :    5,\n                '$WARNING'                      :    5,\n                '$^W'                           :    5,\n                '${^WARNING_BITS}'              :    5,\n                '$OS_ERROR'                     :    5,\n                '$ERRNO'                        :    5,\n                '$!'                            :    5,\n                '%OS_ERROR'                     :    5,\n                '%ERRNO'                        :    5,\n                '%!'                            :    5,\n                '$CHILD_ERROR'                  :    5,\n                '$?'                            :    5,\n                '$EVAL_ERROR'                   :    5,\n                '$@'                            :    5,\n                '$OFMT'                         :    5,\n                '$#'                            :    5,\n                '$*'                            :    5,\n                '$ARRAY_BASE'                   :    5,\n                '$['                            :    5,\n                '$OLD_PERL_VERSION'             :    5,\n                '$]'                            :    5,\n                                                \/\/      PERL blocks\n                'if'                            :[1,1],\n                elsif                           :[1,1],\n                'else'                          :[1,1],\n                'while'                         :[1,1],\n                unless                          :[1,1],\n                'for'                           :[1,1],\n                foreach                         :[1,1],\n                                                \/\/      PERL functions\n                'abs'                           :1,     \/\/ - absolute value function\n                accept                          :1,     \/\/ - accept an incoming socket connect\n                alarm                           :1,     \/\/ - schedule a SIGALRM\n                'atan2'                         :1,     \/\/ - arctangent of Y\/X in the range -PI to PI\n                bind                            :1,     \/\/ - binds an address to a socket\n                binmode                         :1,     \/\/ - prepare binary files for I\/O\n                bless                           :1,     \/\/ - create an object\n                bootstrap                       :1,     \/\/\n                'break'                         :1,     \/\/ - break out of a \"given\" block\n                caller                          :1,     \/\/ - get context of the current subroutine call\n                chdir                           :1,     \/\/ - change your current working directory\n                chmod                           :1,     \/\/ - changes the permissions on a list of files\n                chomp                           :1,     \/\/ - remove a trailing record separator from a string\n                chop                            :1,     \/\/ - remove the last character from a string\n                chown                           :1,     \/\/ - change the ownership on a list of files\n                chr                             :1,     \/\/ - get character this number represents\n                chroot                          :1,     \/\/ - make directory new root for path lookups\n                close                           :1,     \/\/ - close file (or pipe or socket) handle\n                closedir                        :1,     \/\/ - close directory handle\n                connect                         :1,     \/\/ - connect to a remote socket\n                'continue'                      :[1,1], \/\/ - optional trailing block in a while or foreach\n                'cos'                           :1,     \/\/ - cosine function\n                crypt                           :1,     \/\/ - one-way passwd-style encryption\n                dbmclose                        :1,     \/\/ - breaks binding on a tied dbm file\n                dbmopen                         :1,     \/\/ - create binding on a tied dbm file\n                'default'                       :1,     \/\/\n                defined                         :1,     \/\/ - test whether a value, variable, or function is defined\n                'delete'                        :1,     \/\/ - deletes a value from a hash\n                die                             :1,     \/\/ - raise an exception or bail out\n                'do'                            :1,     \/\/ - turn a BLOCK into a TERM\n                dump                            :1,     \/\/ - create an immediate core dump\n                each                            :1,     \/\/ - retrieve the next key\/value pair from a hash\n                endgrent                        :1,     \/\/ - be done using group file\n                endhostent                      :1,     \/\/ - be done using hosts file\n                endnetent                       :1,     \/\/ - be done using networks file\n                endprotoent                     :1,     \/\/ - be done using protocols file\n                endpwent                        :1,     \/\/ - be done using passwd file\n                endservent                      :1,     \/\/ - be done using services file\n                eof                             :1,     \/\/ - test a filehandle for its end\n                'eval'                          :1,     \/\/ - catch exceptions or compile and run code\n                'exec'                          :1,     \/\/ - abandon this program to run another\n                exists                          :1,     \/\/ - test whether a hash key is present\n                exit                            :1,     \/\/ - terminate this program\n                'exp'                           :1,     \/\/ - raise I to a power\n                fcntl                           :1,     \/\/ - file control system call\n                fileno                          :1,     \/\/ - return file descriptor from filehandle\n                flock                           :1,     \/\/ - lock an entire file with an advisory lock\n                fork                            :1,     \/\/ - create a new process just like this one\n                format                          :1,     \/\/ - declare a picture format with use by the write() function\n                formline                        :1,     \/\/ - internal function used for formats\n                getc                            :1,     \/\/ - get the next character from the filehandle\n                getgrent                        :1,     \/\/ - get next group record\n                getgrgid                        :1,     \/\/ - get group record given group user ID\n                getgrnam                        :1,     \/\/ - get group record given group name\n                gethostbyaddr                   :1,     \/\/ - get host record given its address\n                gethostbyname                   :1,     \/\/ - get host record given name\n                gethostent                      :1,     \/\/ - get next hosts record\n                getlogin                        :1,     \/\/ - return who logged in at this tty\n                getnetbyaddr                    :1,     \/\/ - get network record given its address\n                getnetbyname                    :1,     \/\/ - get networks record given name\n                getnetent                       :1,     \/\/ - get next networks record\n                getpeername                     :1,     \/\/ - find the other end of a socket connection\n                getpgrp                         :1,     \/\/ - get process group\n                getppid                         :1,     \/\/ - get parent process ID\n                getpriority                     :1,     \/\/ - get current nice value\n                getprotobyname                  :1,     \/\/ - get protocol record given name\n                getprotobynumber                :1,     \/\/ - get protocol record numeric protocol\n                getprotoent                     :1,     \/\/ - get next protocols record\n                getpwent                        :1,     \/\/ - get next passwd record\n                getpwnam                        :1,     \/\/ - get passwd record given user login name\n                getpwuid                        :1,     \/\/ - get passwd record given user ID\n                getservbyname                   :1,     \/\/ - get services record given its name\n                getservbyport                   :1,     \/\/ - get services record given numeric port\n                getservent                      :1,     \/\/ - get next services record\n                getsockname                     :1,     \/\/ - retrieve the sockaddr for a given socket\n                getsockopt                      :1,     \/\/ - get socket options on a given socket\n                given                           :1,     \/\/\n                glob                            :1,     \/\/ - expand filenames using wildcards\n                gmtime                          :1,     \/\/ - convert UNIX time into record or string using Greenwich time\n                'goto'                          :1,     \/\/ - create spaghetti code\n                grep                            :1,     \/\/ - locate elements in a list test true against a given criterion\n                hex                             :1,     \/\/ - convert a string to a hexadecimal number\n                'import'                        :1,     \/\/ - patch a module's namespace into your own\n                index                           :1,     \/\/ - find a substring within a string\n                'int'                           :1,     \/\/ - get the integer portion of a number\n                ioctl                           :1,     \/\/ - system-dependent device control system call\n                'join'                          :1,     \/\/ - join a list into a string using a separator\n                keys                            :1,     \/\/ - retrieve list of indices from a hash\n                kill                            :1,     \/\/ - send a signal to a process or process group\n                last                            :1,     \/\/ - exit a block prematurely\n                lc                              :1,     \/\/ - return lower-case version of a string\n                lcfirst                         :1,     \/\/ - return a string with just the next letter in lower case\n                length                          :1,     \/\/ - return the number of bytes in a string\n                'link'                          :1,     \/\/ - create a hard link in the filesystem\n                listen                          :1,     \/\/ - register your socket as a server\n                local                           : 2,    \/\/ - create a temporary value for a global variable (dynamic scoping)\n                localtime                       :1,     \/\/ - convert UNIX time into record or string using local time\n                lock                            :1,     \/\/ - get a thread lock on a variable, subroutine, or method\n                'log'                           :1,     \/\/ - retrieve the natural logarithm for a number\n                lstat                           :1,     \/\/ - stat a symbolic link\n                m                               :null,  \/\/ - match a string with a regular expression pattern\n                map                             :1,     \/\/ - apply a change to a list to get back a new list with the changes\n                mkdir                           :1,     \/\/ - create a directory\n                msgctl                          :1,     \/\/ - SysV IPC message control operations\n                msgget                          :1,     \/\/ - get SysV IPC message queue\n                msgrcv                          :1,     \/\/ - receive a SysV IPC message from a message queue\n                msgsnd                          :1,     \/\/ - send a SysV IPC message to a message queue\n                my                              : 2,    \/\/ - declare and assign a local variable (lexical scoping)\n                'new'                           :1,     \/\/\n                next                            :1,     \/\/ - iterate a block prematurely\n                no                              :1,     \/\/ - unimport some module symbols or semantics at compile time\n                oct                             :1,     \/\/ - convert a string to an octal number\n                open                            :1,     \/\/ - open a file, pipe, or descriptor\n                opendir                         :1,     \/\/ - open a directory\n                ord                             :1,     \/\/ - find a character's numeric representation\n                our                             : 2,    \/\/ - declare and assign a package variable (lexical scoping)\n                pack                            :1,     \/\/ - convert a list into a binary representation\n                'package'                       :1,     \/\/ - declare a separate global namespace\n                pipe                            :1,     \/\/ - open a pair of connected filehandles\n                pop                             :1,     \/\/ - remove the last element from an array and return it\n                pos                             :1,     \/\/ - find or set the offset for the last\/next m\/\/g search\n                print                           :1,     \/\/ - output a list to a filehandle\n                printf                          :1,     \/\/ - output a formatted list to a filehandle\n                prototype                       :1,     \/\/ - get the prototype (if any) of a subroutine\n                push                            :1,     \/\/ - append one or more elements to an array\n                q                               :null,  \/\/ - singly quote a string\n                qq                              :null,  \/\/ - doubly quote a string\n                qr                              :null,  \/\/ - Compile pattern\n                quotemeta                       :null,  \/\/ - quote regular expression magic characters\n                qw                              :null,  \/\/ - quote a list of words\n                qx                              :null,  \/\/ - backquote quote a string\n                rand                            :1,     \/\/ - retrieve the next pseudorandom number\n                read                            :1,     \/\/ - fixed-length buffered input from a filehandle\n                readdir                         :1,     \/\/ - get a directory from a directory handle\n                readline                        :1,     \/\/ - fetch a record from a file\n                readlink                        :1,     \/\/ - determine where a symbolic link is pointing\n                readpipe                        :1,     \/\/ - execute a system command and collect standard output\n                recv                            :1,     \/\/ - receive a message over a Socket\n                redo                            :1,     \/\/ - start this loop iteration over again\n                ref                             :1,     \/\/ - find out the type of thing being referenced\n                rename                          :1,     \/\/ - change a filename\n                require                         :1,     \/\/ - load in external functions from a library at runtime\n                reset                           :1,     \/\/ - clear all variables of a given name\n                'return'                        :1,     \/\/ - get out of a function early\n                reverse                         :1,     \/\/ - flip a string or a list\n                rewinddir                       :1,     \/\/ - reset directory handle\n                rindex                          :1,     \/\/ - right-to-left substring search\n                rmdir                           :1,     \/\/ - remove a directory\n                s                               :null,  \/\/ - replace a pattern with a string\n                say                             :1,     \/\/ - print with newline\n                scalar                          :1,     \/\/ - force a scalar context\n                seek                            :1,     \/\/ - reposition file pointer for random-access I\/O\n                seekdir                         :1,     \/\/ - reposition directory pointer\n                select                          :1,     \/\/ - reset default output or do I\/O multiplexing\n                semctl                          :1,     \/\/ - SysV semaphore control operations\n                semget                          :1,     \/\/ - get set of SysV semaphores\n                semop                           :1,     \/\/ - SysV semaphore operations\n                send                            :1,     \/\/ - send a message over a socket\n                setgrent                        :1,     \/\/ - prepare group file for use\n                sethostent                      :1,     \/\/ - prepare hosts file for use\n                setnetent                       :1,     \/\/ - prepare networks file for use\n                setpgrp                         :1,     \/\/ - set the process group of a process\n                setpriority                     :1,     \/\/ - set a process's nice value\n                setprotoent                     :1,     \/\/ - prepare protocols file for use\n                setpwent                        :1,     \/\/ - prepare passwd file for use\n                setservent                      :1,     \/\/ - prepare services file for use\n                setsockopt                      :1,     \/\/ - set some socket options\n                shift                           :1,     \/\/ - remove the first element of an array, and return it\n                shmctl                          :1,     \/\/ - SysV shared memory operations\n                shmget                          :1,     \/\/ - get SysV shared memory segment identifier\n                shmread                         :1,     \/\/ - read SysV shared memory\n                shmwrite                        :1,     \/\/ - write SysV shared memory\n                shutdown                        :1,     \/\/ - close down just half of a socket connection\n                'sin'                           :1,     \/\/ - return the sine of a number\n                sleep                           :1,     \/\/ - block for some number of seconds\n                socket                          :1,     \/\/ - create a socket\n                socketpair                      :1,     \/\/ - create a pair of sockets\n                'sort'                          :1,     \/\/ - sort a list of values\n                splice                          :1,     \/\/ - add or remove elements anywhere in an array\n                'split'                         :1,     \/\/ - split up a string using a regexp delimiter\n                sprintf                         :1,     \/\/ - formatted print into a string\n                'sqrt'                          :1,     \/\/ - square root function\n                srand                           :1,     \/\/ - seed the random number generator\n                stat                            :1,     \/\/ - get a file's status information\n                state                           :1,     \/\/ - declare and assign a state variable (persistent lexical scoping)\n                study                           :1,     \/\/ - optimize input data for repeated searches\n                'sub'                           :1,     \/\/ - declare a subroutine, possibly anonymously\n                'substr'                        :1,     \/\/ - get or alter a portion of a string\n                symlink                         :1,     \/\/ - create a symbolic link to a file\n                syscall                         :1,     \/\/ - execute an arbitrary system call\n                sysopen                         :1,     \/\/ - open a file, pipe, or descriptor\n                sysread                         :1,     \/\/ - fixed-length unbuffered input from a filehandle\n                sysseek                         :1,     \/\/ - position I\/O pointer on handle used with sysread and syswrite\n                system                          :1,     \/\/ - run a separate program\n                syswrite                        :1,     \/\/ - fixed-length unbuffered output to a filehandle\n                tell                            :1,     \/\/ - get current seekpointer on a filehandle\n                telldir                         :1,     \/\/ - get current seekpointer on a directory handle\n                tie                             :1,     \/\/ - bind a variable to an object class\n                tied                            :1,     \/\/ - get a reference to the object underlying a tied variable\n                time                            :1,     \/\/ - return number of seconds since 1970\n                times                           :1,     \/\/ - return elapsed time for self and child processes\n                tr                              :null,  \/\/ - transliterate a string\n                truncate                        :1,     \/\/ - shorten a file\n                uc                              :1,     \/\/ - return upper-case version of a string\n                ucfirst                         :1,     \/\/ - return a string with just the next letter in upper case\n                umask                           :1,     \/\/ - set file creation mode mask\n                undef                           :1,     \/\/ - remove a variable or function definition\n                unlink                          :1,     \/\/ - remove one link to a file\n                unpack                          :1,     \/\/ - convert binary structure into normal perl variables\n                unshift                         :1,     \/\/ - prepend more elements to the beginning of a list\n                untie                           :1,     \/\/ - break a tie binding to a variable\n                use                             :1,     \/\/ - load in a module at compile time\n                utime                           :1,     \/\/ - set a file's last access and modify times\n                values                          :1,     \/\/ - return a list of the values in a hash\n                vec                             :1,     \/\/ - test or set particular bits in a string\n                wait                            :1,     \/\/ - wait for any child process to die\n                waitpid                         :1,     \/\/ - wait for a particular child process to die\n                wantarray                       :1,     \/\/ - get void vs scalar vs list context of current subroutine call\n                warn                            :1,     \/\/ - print debugging info\n                when                            :1,     \/\/\n                write                           :1,     \/\/ - print a picture record\n                y                               :null}; \/\/ - transliterate a string\n\n        var RXstyle=\"string-2\";\n        var RXmodifiers=\/[goseximacplud]\/;              \/\/ NOTE: \"m\", \"s\", \"y\" and \"tr\" need to correct real modifiers for each regexp type\n\n        function tokenChain(stream,state,chain,style,tail){     \/\/ NOTE: chain.length > 2 is not working now (it's for s[...][...]geos;)\n                state.chain=null;                               \/\/                                                          12   3tail\n                state.style=null;\n                state.tail=null;\n                state.tokenize=function(stream,state){\n                        var e=false,c,i=0;\n                        while(c=stream.next()){\n                                if(c===chain[i]&&!e){\n                                        if(chain[++i]!==undefined){\n                                                state.chain=chain[i];\n                                                state.style=style;\n                                                state.tail=tail;}\n                                        else if(tail)\n                                                stream.eatWhile(tail);\n                                        state.tokenize=tokenPerl;\n                                        return style;}\n                                e=!e&&c==\"\\\\\";}\n                        return style;};\n                return state.tokenize(stream,state);}\n\n        function tokenSOMETHING(stream,state,string){\n                state.tokenize=function(stream,state){\n                        if(stream.string==string)\n                                state.tokenize=tokenPerl;\n                        stream.skipToEnd();\n                        return \"string\";};\n                return state.tokenize(stream,state);}\n\n        function tokenPerl(stream,state){\n                if(stream.eatSpace())\n                        return null;\n                if(state.chain)\n                        return tokenChain(stream,state,state.chain,state.style,state.tail);\n                if(stream.match(\/^\\-?[\\d\\.]\/,false))\n                        if(stream.match(\/^(\\-?(\\d*\\.\\d+(e[+-]?\\d+)?|\\d+\\.\\d*)|0x[\\da-fA-F]+|0b[01]+|\\d+(e[+-]?\\d+)?)\/))\n                                return 'number';\n                if(stream.match(\/^<<(?=[_a-zA-Z])\/)){                  \/\/ NOTE: <<SOMETHING\\n...\\nSOMETHING\\n\n                        stream.eatWhile(\/\\w\/);\n                        return tokenSOMETHING(stream,state,stream.current().substr(2));}\n                if(stream.sol()&&stream.match(\/^\\=item(?!\\w)\/)){\/\/ NOTE: \\n=item...\\n=cut\\n\n                        return tokenSOMETHING(stream,state,'=cut');}\n                var ch=stream.next();\n                if(ch=='\"'||ch==\"'\"){                           \/\/ NOTE: ' or \" or <<'SOMETHING'\\n...\\nSOMETHING\\n or <<\"SOMETHING\"\\n...\\nSOMETHING\\n\n                        if(prefix(stream, 3)==\"<<\"+ch){\n                                var p=stream.pos;\n                                stream.eatWhile(\/\\w\/);\n                                var n=stream.current().substr(1);\n                                if(n&&stream.eat(ch))\n                                        return tokenSOMETHING(stream,state,n);\n                                stream.pos=p;}\n                        return tokenChain(stream,state,[ch],\"string\");}\n                if(ch==\"q\"){\n                        var c=look(stream, -2);\n                        if(!(c&&\/\\w\/.test(c))){\n                                c=look(stream, 0);\n                                if(c==\"x\"){\n                                        c=look(stream, 1);\n                                        if(c==\"(\"){\n                                                eatSuffix(stream, 2);\n                                                return tokenChain(stream,state,[\")\"],RXstyle,RXmodifiers);}\n                                        if(c==\"[\"){\n                                                eatSuffix(stream, 2);\n                                                return tokenChain(stream,state,[\"]\"],RXstyle,RXmodifiers);}\n                                        if(c==\"{\"){\n                                                eatSuffix(stream, 2);\n                                                return tokenChain(stream,state,[\"}\"],RXstyle,RXmodifiers);}\n                                        if(c==\"<\"){\n                                                eatSuffix(stream, 2);\n                                                return tokenChain(stream,state,[\">\"],RXstyle,RXmodifiers);}\n                                        if(\/[\\^'\"!~\\\/]\/.test(c)){\n                                                eatSuffix(stream, 1);\n                                                return tokenChain(stream,state,[stream.eat(c)],RXstyle,RXmodifiers);}}\n                                else if(c==\"q\"){\n                                        c=look(stream, 1);\n                                        if(c==\"(\"){\n                                                eatSuffix(stream, 2);\n                                                return tokenChain(stream,state,[\")\"],\"string\");}\n                                        if(c==\"[\"){\n                                                eatSuffix(stream, 2);\n                                                return tokenChain(stream,state,[\"]\"],\"string\");}\n                                        if(c==\"{\"){\n                                                eatSuffix(stream, 2);\n                                                return tokenChain(stream,state,[\"}\"],\"string\");}\n                                        if(c==\"<\"){\n                                                eatSuffix(stream, 2);\n                                                return tokenChain(stream,state,[\">\"],\"string\");}\n                                        if(\/[\\^'\"!~\\\/]\/.test(c)){\n                                                eatSuffix(stream, 1);\n                                                return tokenChain(stream,state,[stream.eat(c)],\"string\");}}\n                                else if(c==\"w\"){\n                                        c=look(stream, 1);\n                                        if(c==\"(\"){\n                                                eatSuffix(stream, 2);\n                                                return tokenChain(stream,state,[\")\"],\"bracket\");}\n                                        if(c==\"[\"){\n                                                eatSuffix(stream, 2);\n                                                return tokenChain(stream,state,[\"]\"],\"bracket\");}\n                                        if(c==\"{\"){\n                                                eatSuffix(stream, 2);\n                                                return tokenChain(stream,state,[\"}\"],\"bracket\");}\n                                        if(c==\"<\"){\n                                                eatSuffix(stream, 2);\n                                                return tokenChain(stream,state,[\">\"],\"bracket\");}\n                                        if(\/[\\^'\"!~\\\/]\/.test(c)){\n                                                eatSuffix(stream, 1);\n                                                return tokenChain(stream,state,[stream.eat(c)],\"bracket\");}}\n                                else if(c==\"r\"){\n                                        c=look(stream, 1);\n                                        if(c==\"(\"){\n                                                eatSuffix(stream, 2);\n                                                return tokenChain(stream,state,[\")\"],RXstyle,RXmodifiers);}\n                                        if(c==\"[\"){\n                                                eatSuffix(stream, 2);\n                                                return tokenChain(stream,state,[\"]\"],RXstyle,RXmodifiers);}\n                                        if(c==\"{\"){\n                                                eatSuffix(stream, 2);\n                                                return tokenChain(stream,state,[\"}\"],RXstyle,RXmodifiers);}\n                                        if(c==\"<\"){\n                                                eatSuffix(stream, 2);\n                                                return tokenChain(stream,state,[\">\"],RXstyle,RXmodifiers);}\n                                        if(\/[\\^'\"!~\\\/]\/.test(c)){\n                                                eatSuffix(stream, 1);\n                                                return tokenChain(stream,state,[stream.eat(c)],RXstyle,RXmodifiers);}}\n                                else if(\/[\\^'\"!~\\\/(\\[{<]\/.test(c)){\n                                        if(c==\"(\"){\n                                                eatSuffix(stream, 1);\n                                                return tokenChain(stream,state,[\")\"],\"string\");}\n                                        if(c==\"[\"){\n                                                eatSuffix(stream, 1);\n                                                return tokenChain(stream,state,[\"]\"],\"string\");}\n                                        if(c==\"{\"){\n                                                eatSuffix(stream, 1);\n                                                return tokenChain(stream,state,[\"}\"],\"string\");}\n                                        if(c==\"<\"){\n                                                eatSuffix(stream, 1);\n                                                return tokenChain(stream,state,[\">\"],\"string\");}\n                                        if(\/[\\^'\"!~\\\/]\/.test(c)){\n                                                return tokenChain(stream,state,[stream.eat(c)],\"string\");}}}}\n                if(ch==\"m\"){\n                        var c=look(stream, -2);\n                        if(!(c&&\/\\w\/.test(c))){\n                                c=stream.eat(\/[(\\[{<\\^'\"!~\\\/]\/);\n                                if(c){\n                                        if(\/[\\^'\"!~\\\/]\/.test(c)){\n                                                return tokenChain(stream,state,[c],RXstyle,RXmodifiers);}\n                                        if(c==\"(\"){\n                                                return tokenChain(stream,state,[\")\"],RXstyle,RXmodifiers);}\n                                        if(c==\"[\"){\n                                                return tokenChain(stream,state,[\"]\"],RXstyle,RXmodifiers);}\n                                        if(c==\"{\"){\n                                                return tokenChain(stream,state,[\"}\"],RXstyle,RXmodifiers);}\n                                        if(c==\"<\"){\n                                                return tokenChain(stream,state,[\">\"],RXstyle,RXmodifiers);}}}}\n                if(ch==\"s\"){\n                        var c=\/[\\\/>\\]})\\w]\/.test(look(stream, -2));\n                        if(!c){\n                                c=stream.eat(\/[(\\[{<\\^'\"!~\\\/]\/);\n                                if(c){\n                                        if(c==\"[\")\n                                                return tokenChain(stream,state,[\"]\",\"]\"],RXstyle,RXmodifiers);\n                                        if(c==\"{\")\n                                                return tokenChain(stream,state,[\"}\",\"}\"],RXstyle,RXmodifiers);\n                                        if(c==\"<\")\n                                                return tokenChain(stream,state,[\">\",\">\"],RXstyle,RXmodifiers);\n                                        if(c==\"(\")\n                                                return tokenChain(stream,state,[\")\",\")\"],RXstyle,RXmodifiers);\n                                        return tokenChain(stream,state,[c,c],RXstyle,RXmodifiers);}}}\n                if(ch==\"y\"){\n                        var c=\/[\\\/>\\]})\\w]\/.test(look(stream, -2));\n                        if(!c){\n                                c=stream.eat(\/[(\\[{<\\^'\"!~\\\/]\/);\n                                if(c){\n                                        if(c==\"[\")\n                                                return tokenChain(stream,state,[\"]\",\"]\"],RXstyle,RXmodifiers);\n                                        if(c==\"{\")\n                                                return tokenChain(stream,state,[\"}\",\"}\"],RXstyle,RXmodifiers);\n                                        if(c==\"<\")\n                                                return tokenChain(stream,state,[\">\",\">\"],RXstyle,RXmodifiers);\n                                        if(c==\"(\")\n                                                return tokenChain(stream,state,[\")\",\")\"],RXstyle,RXmodifiers);\n                                        return tokenChain(stream,state,[c,c],RXstyle,RXmodifiers);}}}\n                if(ch==\"t\"){\n                        var c=\/[\\\/>\\]})\\w]\/.test(look(stream, -2));\n                        if(!c){\n                                c=stream.eat(\"r\");if(c){\n                                c=stream.eat(\/[(\\[{<\\^'\"!~\\\/]\/);\n                                if(c){\n                                        if(c==\"[\")\n                                                return tokenChain(stream,state,[\"]\",\"]\"],RXstyle,RXmodifiers);\n                                        if(c==\"{\")\n                                                return tokenChain(stream,state,[\"}\",\"}\"],RXstyle,RXmodifiers);\n                                        if(c==\"<\")\n                                                return tokenChain(stream,state,[\">\",\">\"],RXstyle,RXmodifiers);\n                                        if(c==\"(\")\n                                                return tokenChain(stream,state,[\")\",\")\"],RXstyle,RXmodifiers);\n                                        return tokenChain(stream,state,[c,c],RXstyle,RXmodifiers);}}}}\n                if(ch==\"`\"){\n                        return tokenChain(stream,state,[ch],\"variable-2\");}\n                if(ch==\"\/\"){\n                        if(!\/~\\s*$\/.test(prefix(stream)))\n                                return \"operator\";\n                        else\n                                return tokenChain(stream,state,[ch],RXstyle,RXmodifiers);}\n                if(ch==\"$\"){\n                        var p=stream.pos;\n                        if(stream.eatWhile(\/\\d\/)||stream.eat(\"{\")&&stream.eatWhile(\/\\d\/)&&stream.eat(\"}\"))\n                                return \"variable-2\";\n                        else\n                                stream.pos=p;}\n                if(\/[$@%]\/.test(ch)){\n                        var p=stream.pos;\n                        if(stream.eat(\"^\")&&stream.eat(\/[A-Z]\/)||!\/[@$%&]\/.test(look(stream, -2))&&stream.eat(\/[=|\\\\\\-#?@;:&`~\\^!\\[\\]*'\"$+.,\\\/<>()]\/)){\n                                var c=stream.current();\n                                if(PERL[c])\n                                        return \"variable-2\";}\n                        stream.pos=p;}\n                if(\/[$@%&]\/.test(ch)){\n                        if(stream.eatWhile(\/[\\w$]\/)||stream.eat(\"{\")&&stream.eatWhile(\/[\\w$]\/)&&stream.eat(\"}\")){\n                                var c=stream.current();\n                                if(PERL[c])\n                                        return \"variable-2\";\n                                else\n                                        return \"variable\";}}\n                if(ch==\"#\"){\n                        if(look(stream, -2)!=\"$\"){\n                                stream.skipToEnd();\n                                return \"comment\";}}\n                if(\/[:+\\-\\^*$&%@=<>!?|\\\/~\\.]\/.test(ch)){\n                        var p=stream.pos;\n                        stream.eatWhile(\/[:+\\-\\^*$&%@=<>!?|\\\/~\\.]\/);\n                        if(PERL[stream.current()])\n                                return \"operator\";\n                        else\n                                stream.pos=p;}\n                if(ch==\"_\"){\n                        if(stream.pos==1){\n                                if(suffix(stream, 6)==\"_END__\"){\n                                        return tokenChain(stream,state,['\\0'],\"comment\");}\n                                else if(suffix(stream, 7)==\"_DATA__\"){\n                                        return tokenChain(stream,state,['\\0'],\"variable-2\");}\n                                else if(suffix(stream, 7)==\"_C__\"){\n                                        return tokenChain(stream,state,['\\0'],\"string\");}}}\n                if(\/\\w\/.test(ch)){\n                        var p=stream.pos;\n                        if(look(stream, -2)==\"{\"&&(look(stream, 0)==\"}\"||stream.eatWhile(\/\\w\/)&&look(stream, 0)==\"}\"))\n                                return \"string\";\n                        else\n                                stream.pos=p;}\n                if(\/[A-Z]\/.test(ch)){\n                        var l=look(stream, -2);\n                        var p=stream.pos;\n                        stream.eatWhile(\/[A-Z_]\/);\n                        if(\/[\\da-z]\/.test(look(stream, 0))){\n                                stream.pos=p;}\n                        else{\n                                var c=PERL[stream.current()];\n                                if(!c)\n                                        return \"meta\";\n                                if(c[1])\n                                        c=c[0];\n                                if(l!=\":\"){\n                                        if(c==1)\n                                                return \"keyword\";\n                                        else if(c==2)\n                                                return \"def\";\n                                        else if(c==3)\n                                                return \"atom\";\n                                        else if(c==4)\n                                                return \"operator\";\n                                        else if(c==5)\n                                                return \"variable-2\";\n                                        else\n                                                return \"meta\";}\n                                else\n                                        return \"meta\";}}\n                if(\/[a-zA-Z_]\/.test(ch)){\n                        var l=look(stream, -2);\n                        stream.eatWhile(\/\\w\/);\n                        var c=PERL[stream.current()];\n                        if(!c)\n                                return \"meta\";\n                        if(c[1])\n                                c=c[0];\n                        if(l!=\":\"){\n                                if(c==1)\n                                        return \"keyword\";\n                                else if(c==2)\n                                        return \"def\";\n                                else if(c==3)\n                                        return \"atom\";\n                                else if(c==4)\n                                        return \"operator\";\n                                else if(c==5)\n                                        return \"variable-2\";\n                                else\n                                        return \"meta\";}\n                        else\n                                return \"meta\";}\n                return null;}\n\n        return {\n            startState: function() {\n                return {\n                    tokenize: tokenPerl,\n                    chain: null,\n                    style: null,\n                    tail: null\n                };\n            },\n            token: function(stream, state) {\n                return (state.tokenize || tokenPerl)(stream, state);\n            },\n            lineComment: '#'\n        };\n});\n\nCodeMirror.registerHelper(\"wordChars\", \"perl\", \/[\\w$]\/);\n\nCodeMirror.defineMIME(\"text\/x-perl\", \"perl\");\n\n\/\/ it's like \"peek\", but need for look-ahead or look-behind if index < 0\nfunction look(stream, c){\n  return stream.string.charAt(stream.pos+(c||0));\n}\n\n\/\/ return a part of prefix of current stream from current position\nfunction prefix(stream, c){\n  if(c){\n    var x=stream.pos-c;\n    return stream.string.substr((x>=0?x:0),c);}\n  else{\n    return stream.string.substr(0,stream.pos-1);\n  }\n}\n\n\/\/ return a part of suffix of current stream from current position\nfunction suffix(stream, c){\n  var y=stream.string.length;\n  var x=y-stream.pos+1;\n  return stream.string.substr(stream.pos,(c&&c<y?c:x));\n}\n\n\/\/ eating and vomiting a part of stream from current position\nfunction eatSuffix(stream, c){\n  var x=stream.pos+c;\n  var y;\n  if(x<=0)\n    stream.pos=0;\n  else if(x>=(y=stream.string.length-1))\n    stream.pos=y;\n  else\n    stream.pos=x;\n}\n\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","look","stream","c","string","charAt","pos","prefix","x","substr","suffix","y","length","eatSuffix","defineMode","tokenChain","state","chain","style","tail","tokenize","state.tokenize","e","i","next","undefined","eatWhile","tokenPerl","tokenSOMETHING","skipToEnd","eatSpace","match","current","sol","ch","p","n","eat","test","RXstyle","RXmodifiers","PERL","l","elsif","unless","foreach","accept","alarm","bind","binmode","bless","bootstrap","caller","chdir","chmod","chomp","chop","chown","chr","chroot","close","closedir","connect","crypt","dbmclose","dbmopen","defined","die","dump","each","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","exists","exit","fcntl","fileno","flock","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getppid","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","grep","hex","index","ioctl","keys","kill","last","lc","lcfirst","listen","local","localtime","lock","lstat","m","map","mkdir","msgctl","msgget","msgrcv","msgsnd","my","no","oct","open","opendir","ord","our","pack","pipe","pop","print","printf","prototype","push","q","qq","qr","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","reset","reverse","rewinddir","rindex","rmdir","s","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sleep","socket","socketpair","splice","sprintf","srand","stat","study","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unlink","unpack","unshift","untie","use","utime","values","vec","wait","waitpid","wantarray","warn","when","write","startState","token","lineComment","registerHelper","defineMIME"]}},{"offset":{"line":670,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$mode$php$php.js","lineCount":10,"mappings":"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","sources":["node_modules\/codemirror\/mode\/php\/php.js"],"sourcesContent":["shadow$provide[285] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"), require(\"..\/htmlmixed\/htmlmixed\"), require(\"..\/clike\/clike\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\", \"..\/htmlmixed\/htmlmixed\", \"..\/clike\/clike\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  function keywords(str) {\n    var obj = {}, words = str.split(\" \");\n    for (var i = 0; i < words.length; ++i) obj[words[i]] = true;\n    return obj;\n  }\n\n  \/\/ Helper for phpString\n  function matchSequence(list, end, escapes) {\n    if (list.length == 0) return phpString(end);\n    return function (stream, state) {\n      var patterns = list[0];\n      for (var i = 0; i < patterns.length; i++) if (stream.match(patterns[i][0])) {\n        state.tokenize = matchSequence(list.slice(1), end);\n        return patterns[i][1];\n      }\n      state.tokenize = phpString(end, escapes);\n      return \"string\";\n    };\n  }\n  function phpString(closing, escapes) {\n    return function(stream, state) { return phpString_(stream, state, closing, escapes); };\n  }\n  function phpString_(stream, state, closing, escapes) {\n    \/\/ \"Complex\" syntax\n    if (escapes !== false && stream.match(\"${\", false) || stream.match(\"{$\", false)) {\n      state.tokenize = null;\n      return \"string\";\n    }\n\n    \/\/ Simple syntax\n    if (escapes !== false && stream.match(\/^\\$[a-zA-Z_][a-zA-Z0-9_]*\/)) {\n      \/\/ After the variable name there may appear array or object operator.\n      if (stream.match(\"[\", false)) {\n        \/\/ Match array operator\n        state.tokenize = matchSequence([\n          [[\"[\", null]],\n          [[\/\\d[\\w\\.]*\/, \"number\"],\n           [\/\\$[a-zA-Z_][a-zA-Z0-9_]*\/, \"variable-2\"],\n           [\/[\\w\\$]+\/, \"variable\"]],\n          [[\"]\", null]]\n        ], closing, escapes);\n      }\n      if (stream.match(\/^->\\w\/, false)) {\n        \/\/ Match object operator\n        state.tokenize = matchSequence([\n          [[\"->\", null]],\n          [[\/[\\w]+\/, \"variable\"]]\n        ], closing, escapes);\n      }\n      return \"variable-2\";\n    }\n\n    var escaped = false;\n    \/\/ Normal string\n    while (!stream.eol() &&\n           (escaped || escapes === false ||\n            (!stream.match(\"{$\", false) &&\n             !stream.match(\/^(\\$[a-zA-Z_][a-zA-Z0-9_]*|\\$\\{)\/, false)))) {\n      if (!escaped && stream.match(closing)) {\n        state.tokenize = null;\n        state.tokStack.pop(); state.tokStack.pop();\n        break;\n      }\n      escaped = stream.next() == \"\\\\\" && !escaped;\n    }\n    return \"string\";\n  }\n\n  var phpKeywords = \"abstract and array as break case catch class clone const continue declare default \" +\n    \"do else elseif enddeclare endfor endforeach endif endswitch endwhile extends final \" +\n    \"for foreach function global goto if implements interface instanceof namespace \" +\n    \"new or private protected public static switch throw trait try use var while xor \" +\n    \"die echo empty exit eval include include_once isset list require require_once return \" +\n    \"print unset __halt_compiler self static parent yield insteadof finally\";\n  var phpAtoms = \"true false null TRUE FALSE NULL __CLASS__ __DIR__ __FILE__ __LINE__ __METHOD__ __FUNCTION__ __NAMESPACE__ __TRAIT__\";\n  var phpBuiltin = \"func_num_args func_get_arg func_get_args strlen strcmp strncmp strcasecmp strncasecmp each error_reporting define defined trigger_error user_error set_error_handler restore_error_handler get_declared_classes get_loaded_extensions extension_loaded get_extension_funcs debug_backtrace constant bin2hex hex2bin sleep usleep time mktime gmmktime strftime gmstrftime strtotime date gmdate getdate localtime checkdate flush wordwrap htmlspecialchars htmlentities html_entity_decode md5 md5_file crc32 getimagesize image_type_to_mime_type phpinfo phpversion phpcredits strnatcmp strnatcasecmp substr_count strspn strcspn strtok strtoupper strtolower strpos strrpos strrev hebrev hebrevc nl2br basename dirname pathinfo stripslashes stripcslashes strstr stristr strrchr str_shuffle str_word_count strcoll substr substr_replace quotemeta ucfirst ucwords strtr addslashes addcslashes rtrim str_replace str_repeat count_chars chunk_split trim ltrim strip_tags similar_text explode implode setlocale localeconv parse_str str_pad chop strchr sprintf printf vprintf vsprintf sscanf fscanf parse_url urlencode urldecode rawurlencode rawurldecode readlink linkinfo link unlink exec system escapeshellcmd escapeshellarg passthru shell_exec proc_open proc_close rand srand getrandmax mt_rand mt_srand mt_getrandmax base64_decode base64_encode abs ceil floor round is_finite is_nan is_infinite bindec hexdec octdec decbin decoct dechex base_convert number_format fmod ip2long long2ip getenv putenv getopt microtime gettimeofday getrusage uniqid quoted_printable_decode set_time_limit get_cfg_var magic_quotes_runtime set_magic_quotes_runtime get_magic_quotes_gpc get_magic_quotes_runtime import_request_variables error_log serialize unserialize memory_get_usage var_dump var_export debug_zval_dump print_r highlight_file show_source highlight_string ini_get ini_get_all ini_set ini_alter ini_restore get_include_path set_include_path restore_include_path setcookie header headers_sent connection_aborted connection_status ignore_user_abort parse_ini_file is_uploaded_file move_uploaded_file intval floatval doubleval strval gettype settype is_null is_resource is_bool is_long is_float is_int is_integer is_double is_real is_numeric is_string is_array is_object is_scalar ereg ereg_replace eregi eregi_replace split spliti join sql_regcase dl pclose popen readfile rewind rmdir umask fclose feof fgetc fgets fgetss fread fopen fpassthru ftruncate fstat fseek ftell fflush fwrite fputs mkdir rename copy tempnam tmpfile file file_get_contents file_put_contents stream_select stream_context_create stream_context_set_params stream_context_set_option stream_context_get_options stream_filter_prepend stream_filter_append fgetcsv flock get_meta_tags stream_set_write_buffer set_file_buffer set_socket_blocking stream_set_blocking socket_set_blocking stream_get_meta_data stream_register_wrapper stream_wrapper_register stream_set_timeout socket_set_timeout socket_get_status realpath fnmatch fsockopen pfsockopen pack unpack get_browser crypt opendir closedir chdir getcwd rewinddir readdir dir glob fileatime filectime filegroup fileinode filemtime fileowner fileperms filesize filetype file_exists is_writable is_writeable is_readable is_executable is_file is_dir is_link stat lstat chown touch clearstatcache mail ob_start ob_flush ob_clean ob_end_flush ob_end_clean ob_get_flush ob_get_clean ob_get_length ob_get_level ob_get_status ob_get_contents ob_implicit_flush ob_list_handlers ksort krsort natsort natcasesort asort arsort sort rsort usort uasort uksort shuffle array_walk count end prev next reset current key min max in_array array_search extract compact array_fill range array_multisort array_push array_pop array_shift array_unshift array_splice array_slice array_merge array_merge_recursive array_keys array_values array_count_values array_reverse array_reduce array_pad array_flip array_change_key_case array_rand array_unique array_intersect array_intersect_assoc array_diff array_diff_assoc array_sum array_filter array_map array_chunk array_key_exists array_intersect_key array_combine array_column pos sizeof key_exists assert assert_options version_compare ftok str_rot13 aggregate session_name session_module_name session_save_path session_id session_regenerate_id session_decode session_register session_unregister session_is_registered session_encode session_start session_destroy session_unset session_set_save_handler session_cache_limiter session_cache_expire session_set_cookie_params session_get_cookie_params session_write_close preg_match preg_match_all preg_replace preg_replace_callback preg_split preg_quote preg_grep overload ctype_alnum ctype_alpha ctype_cntrl ctype_digit ctype_lower ctype_graph ctype_print ctype_punct ctype_space ctype_upper ctype_xdigit virtual apache_request_headers apache_note apache_lookup_uri apache_child_terminate apache_setenv apache_response_headers apache_get_version getallheaders mysql_connect mysql_pconnect mysql_close mysql_select_db mysql_create_db mysql_drop_db mysql_query mysql_unbuffered_query mysql_db_query mysql_list_dbs mysql_list_tables mysql_list_fields mysql_list_processes mysql_error mysql_errno mysql_affected_rows mysql_insert_id mysql_result mysql_num_rows mysql_num_fields mysql_fetch_row mysql_fetch_array mysql_fetch_assoc mysql_fetch_object mysql_data_seek mysql_fetch_lengths mysql_fetch_field mysql_field_seek mysql_free_result mysql_field_name mysql_field_table mysql_field_len mysql_field_type mysql_field_flags mysql_escape_string mysql_real_escape_string mysql_stat mysql_thread_id mysql_client_encoding mysql_get_client_info mysql_get_host_info mysql_get_proto_info mysql_get_server_info mysql_info mysql mysql_fieldname mysql_fieldtable mysql_fieldlen mysql_fieldtype mysql_fieldflags mysql_selectdb mysql_createdb mysql_dropdb mysql_freeresult mysql_numfields mysql_numrows mysql_listdbs mysql_listtables mysql_listfields mysql_db_name mysql_dbname mysql_tablename mysql_table_name pg_connect pg_pconnect pg_close pg_connection_status pg_connection_busy pg_connection_reset pg_host pg_dbname pg_port pg_tty pg_options pg_ping pg_query pg_send_query pg_cancel_query pg_fetch_result pg_fetch_row pg_fetch_assoc pg_fetch_array pg_fetch_object pg_fetch_all pg_affected_rows pg_get_result pg_result_seek pg_result_status pg_free_result pg_last_oid pg_num_rows pg_num_fields pg_field_name pg_field_num pg_field_size pg_field_type pg_field_prtlen pg_field_is_null pg_get_notify pg_get_pid pg_result_error pg_last_error pg_last_notice pg_put_line pg_end_copy pg_copy_to pg_copy_from pg_trace pg_untrace pg_lo_create pg_lo_unlink pg_lo_open pg_lo_close pg_lo_read pg_lo_write pg_lo_read_all pg_lo_import pg_lo_export pg_lo_seek pg_lo_tell pg_escape_string pg_escape_bytea pg_unescape_bytea pg_client_encoding pg_set_client_encoding pg_meta_data pg_convert pg_insert pg_update pg_delete pg_select pg_exec pg_getlastoid pg_cmdtuples pg_errormessage pg_numrows pg_numfields pg_fieldname pg_fieldsize pg_fieldtype pg_fieldnum pg_fieldprtlen pg_fieldisnull pg_freeresult pg_result pg_loreadall pg_locreate pg_lounlink pg_loopen pg_loclose pg_loread pg_lowrite pg_loimport pg_loexport http_response_code get_declared_traits getimagesizefromstring socket_import_stream stream_set_chunk_size trait_exists header_register_callback class_uses session_status session_register_shutdown echo print global static exit array empty eval isset unset die include require include_once require_once json_decode json_encode json_last_error json_last_error_msg curl_close curl_copy_handle curl_errno curl_error curl_escape curl_exec curl_file_create curl_getinfo curl_init curl_multi_add_handle curl_multi_close curl_multi_exec curl_multi_getcontent curl_multi_info_read curl_multi_init curl_multi_remove_handle curl_multi_select curl_multi_setopt curl_multi_strerror curl_pause curl_reset curl_setopt_array curl_setopt curl_share_close curl_share_init curl_share_setopt curl_strerror curl_unescape curl_version mysqli_affected_rows mysqli_autocommit mysqli_change_user mysqli_character_set_name mysqli_close mysqli_commit mysqli_connect_errno mysqli_connect_error mysqli_connect mysqli_data_seek mysqli_debug mysqli_dump_debug_info mysqli_errno mysqli_error_list mysqli_error mysqli_fetch_all mysqli_fetch_array mysqli_fetch_assoc mysqli_fetch_field_direct mysqli_fetch_field mysqli_fetch_fields mysqli_fetch_lengths mysqli_fetch_object mysqli_fetch_row mysqli_field_count mysqli_field_seek mysqli_field_tell mysqli_free_result mysqli_get_charset mysqli_get_client_info mysqli_get_client_stats mysqli_get_client_version mysqli_get_connection_stats mysqli_get_host_info mysqli_get_proto_info mysqli_get_server_info mysqli_get_server_version mysqli_info mysqli_init mysqli_insert_id mysqli_kill mysqli_more_results mysqli_multi_query mysqli_next_result mysqli_num_fields mysqli_num_rows mysqli_options mysqli_ping mysqli_prepare mysqli_query mysqli_real_connect mysqli_real_escape_string mysqli_real_query mysqli_reap_async_query mysqli_refresh mysqli_rollback mysqli_select_db mysqli_set_charset mysqli_set_local_infile_default mysqli_set_local_infile_handler mysqli_sqlstate mysqli_ssl_set mysqli_stat mysqli_stmt_init mysqli_store_result mysqli_thread_id mysqli_thread_safe mysqli_use_result mysqli_warning_count\";\n  CodeMirror.registerHelper(\"hintWords\", \"php\", [phpKeywords, phpAtoms, phpBuiltin].join(\" \").split(\" \"));\n  CodeMirror.registerHelper(\"wordChars\", \"php\", \/[\\w$]\/);\n\n  var phpConfig = {\n    name: \"clike\",\n    helperType: \"php\",\n    keywords: keywords(phpKeywords),\n    blockKeywords: keywords(\"catch do else elseif for foreach if switch try while finally\"),\n    defKeywords: keywords(\"class function interface namespace trait\"),\n    atoms: keywords(phpAtoms),\n    builtin: keywords(phpBuiltin),\n    multiLineStrings: true,\n    hooks: {\n      \"$\": function(stream) {\n        stream.eatWhile(\/[\\w\\$_]\/);\n        return \"variable-2\";\n      },\n      \"<\": function(stream, state) {\n        var before;\n        if (before = stream.match(\/^<<\\s*\/)) {\n          var quoted = stream.eat(\/['\"]\/);\n          stream.eatWhile(\/[\\w\\.]\/);\n          var delim = stream.current().slice(before[0].length + (quoted ? 2 : 1));\n          if (quoted) stream.eat(quoted);\n          if (delim) {\n            (state.tokStack || (state.tokStack = [])).push(delim, 0);\n            state.tokenize = phpString(delim, quoted != \"'\");\n            return \"string\";\n          }\n        }\n        return false;\n      },\n      \"#\": function(stream) {\n        while (!stream.eol() && !stream.match(\"?>\", false)) stream.next();\n        return \"comment\";\n      },\n      \"\/\": function(stream) {\n        if (stream.eat(\"\/\")) {\n          while (!stream.eol() && !stream.match(\"?>\", false)) stream.next();\n          return \"comment\";\n        }\n        return false;\n      },\n      '\"': function(_stream, state) {\n        (state.tokStack || (state.tokStack = [])).push('\"', 0);\n        state.tokenize = phpString('\"');\n        return \"string\";\n      },\n      \"{\": function(_stream, state) {\n        if (state.tokStack && state.tokStack.length)\n          state.tokStack[state.tokStack.length - 1]++;\n        return false;\n      },\n      \"}\": function(_stream, state) {\n        if (state.tokStack && state.tokStack.length > 0 &&\n            !--state.tokStack[state.tokStack.length - 1]) {\n          state.tokenize = phpString(state.tokStack[state.tokStack.length - 2]);\n        }\n        return false;\n      }\n    }\n  };\n\n  CodeMirror.defineMode(\"php\", function(config, parserConfig) {\n    var htmlMode = CodeMirror.getMode(config, (parserConfig && parserConfig.htmlMode) || \"text\/html\");\n    var phpMode = CodeMirror.getMode(config, phpConfig);\n\n    function dispatch(stream, state) {\n      var isPHP = state.curMode == phpMode;\n      if (stream.sol() && state.pending && state.pending != '\"' && state.pending != \"'\") state.pending = null;\n      if (!isPHP) {\n        if (stream.match(\/^<\\?\\w*\/)) {\n          state.curMode = phpMode;\n          if (!state.php) state.php = CodeMirror.startState(phpMode, htmlMode.indent(state.html, \"\", \"\"))\n          state.curState = state.php;\n          return \"meta\";\n        }\n        if (state.pending == '\"' || state.pending == \"'\") {\n          while (!stream.eol() && stream.next() != state.pending) {}\n          var style = \"string\";\n        } else if (state.pending && stream.pos < state.pending.end) {\n          stream.pos = state.pending.end;\n          var style = state.pending.style;\n        } else {\n          var style = htmlMode.token(stream, state.curState);\n        }\n        if (state.pending) state.pending = null;\n        var cur = stream.current(), openPHP = cur.search(\/<\\?\/), m;\n        if (openPHP != -1) {\n          if (style == \"string\" && (m = cur.match(\/[\\'\\\"]$\/)) && !\/\\?>\/.test(cur)) state.pending = m[0];\n          else state.pending = {end: stream.pos, style: style};\n          stream.backUp(cur.length - openPHP);\n        }\n        return style;\n      } else if (isPHP && state.php.tokenize == null && stream.match(\"?>\")) {\n        state.curMode = htmlMode;\n        state.curState = state.html;\n        if (!state.php.context.prev) state.php = null;\n        return \"meta\";\n      } else {\n        return phpMode.token(stream, state.curState);\n      }\n    }\n\n    return {\n      startState: function() {\n        var html = CodeMirror.startState(htmlMode)\n        var php = parserConfig.startOpen ? CodeMirror.startState(phpMode) : null\n        return {html: html,\n                php: php,\n                curMode: parserConfig.startOpen ? phpMode : htmlMode,\n                curState: parserConfig.startOpen ? php : html,\n                pending: null};\n      },\n\n      copyState: function(state) {\n        var html = state.html, htmlNew = CodeMirror.copyState(htmlMode, html),\n            php = state.php, phpNew = php && CodeMirror.copyState(phpMode, php), cur;\n        if (state.curMode == htmlMode) cur = htmlNew;\n        else cur = phpNew;\n        return {html: htmlNew, php: phpNew, curMode: state.curMode, curState: cur,\n                pending: state.pending};\n      },\n\n      token: dispatch,\n\n      indent: function(state, textAfter, line) {\n        if ((state.curMode != phpMode && \/^\\s*<\\\/\/.test(textAfter)) ||\n            (state.curMode == phpMode && \/^\\?>\/.test(textAfter)))\n          return htmlMode.indent(state.html, textAfter, line);\n        return state.curMode.indent(state.curState, textAfter, line);\n      },\n\n      blockCommentStart: \"\/*\",\n      blockCommentEnd: \"*\/\",\n      lineComment: \"\/\/\",\n\n      innerMode: function(state) { return {state: state.curState, mode: state.curMode}; }\n    };\n  }, \"htmlmixed\", \"clike\");\n\n  CodeMirror.defineMIME(\"application\/x-httpd-php\", \"php\");\n  CodeMirror.defineMIME(\"application\/x-httpd-php-open\", {name: \"php\", startOpen: true});\n  CodeMirror.defineMIME(\"text\/x-php\", phpConfig);\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","keywords","str","obj","words","split","i","length","matchSequence","list","end","escapes","phpString","stream","state","patterns","match","tokenize","slice","closing","escaped","eol","tokStack","pop","next","registerHelper","phpConfig","name","helperType","phpKeywords","blockKeywords","defKeywords","atoms","phpAtoms","builtin","phpBuiltin","multiLineStrings","hooks","$","eatWhile","<","before","quoted","eat","delim","current","push","#","\/","\"","_stream","{","}","defineMode","config","parserConfig","htmlMode","getMode","phpMode","startState","html","php","startOpen","curMode","curState","pending","copyState","htmlNew","phpNew","cur","token","dispatch","isPHP","sol","context","prev","indent","style","pos","openPHP","search","m","test","backUp","textAfter","line","blockCommentStart","blockCommentEnd","lineComment","innerMode","mode","defineMIME"]}},{"offset":{"line":680,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$mode$python$python.js","lineCount":13,"mappings":"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\/B,MAAO,CACL\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","sources":["node_modules\/codemirror\/mode\/python\/python.js"],"sourcesContent":["shadow$provide[286] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  function wordRegexp(words) {\n    return new RegExp(\"^((\" + words.join(\")|(\") + \"))\\\\b\");\n  }\n\n  var wordOperators = wordRegexp([\"and\", \"or\", \"not\", \"is\"]);\n  var commonKeywords = [\"as\", \"assert\", \"break\", \"class\", \"continue\",\n                        \"def\", \"del\", \"elif\", \"else\", \"except\", \"finally\",\n                        \"for\", \"from\", \"global\", \"if\", \"import\",\n                        \"lambda\", \"pass\", \"raise\", \"return\",\n                        \"try\", \"while\", \"with\", \"yield\", \"in\"];\n  var commonBuiltins = [\"abs\", \"all\", \"any\", \"bin\", \"bool\", \"bytearray\", \"callable\", \"chr\",\n                        \"classmethod\", \"compile\", \"complex\", \"delattr\", \"dict\", \"dir\", \"divmod\",\n                        \"enumerate\", \"eval\", \"filter\", \"float\", \"format\", \"frozenset\",\n                        \"getattr\", \"globals\", \"hasattr\", \"hash\", \"help\", \"hex\", \"id\",\n                        \"input\", \"int\", \"isinstance\", \"issubclass\", \"iter\", \"len\",\n                        \"list\", \"locals\", \"map\", \"max\", \"memoryview\", \"min\", \"next\",\n                        \"object\", \"oct\", \"open\", \"ord\", \"pow\", \"property\", \"range\",\n                        \"repr\", \"reversed\", \"round\", \"set\", \"setattr\", \"slice\",\n                        \"sorted\", \"staticmethod\", \"str\", \"sum\", \"super\", \"tuple\",\n                        \"type\", \"vars\", \"zip\", \"__import__\", \"NotImplemented\",\n                        \"Ellipsis\", \"__debug__\"];\n  CodeMirror.registerHelper(\"hintWords\", \"python\", commonKeywords.concat(commonBuiltins));\n\n  function top(state) {\n    return state.scopes[state.scopes.length - 1];\n  }\n\n  CodeMirror.defineMode(\"python\", function(conf, parserConf) {\n    var ERRORCLASS = \"error\";\n\n    var delimiters = parserConf.delimiters || parserConf.singleDelimiters || \/^[\\(\\)\\[\\]\\{\\}@,:`=;\\.\\\\]\/;\n    \/\/               (Backwards-compatibility with old, cumbersome config system)\n    var operators = [parserConf.singleOperators, parserConf.doubleOperators, parserConf.doubleDelimiters, parserConf.tripleDelimiters,\n                     parserConf.operators || \/^([-+*\/%\\\/&|^]=?|[<>=]+|\\\/\\\/=?|\\*\\*=?|!=|[~!@]|\\.\\.\\.)\/]\n    for (var i = 0; i < operators.length; i++) if (!operators[i]) operators.splice(i--, 1)\n\n    var hangingIndent = parserConf.hangingIndent || conf.indentUnit;\n\n    var myKeywords = commonKeywords, myBuiltins = commonBuiltins;\n    if (parserConf.extra_keywords != undefined)\n      myKeywords = myKeywords.concat(parserConf.extra_keywords);\n\n    if (parserConf.extra_builtins != undefined)\n      myBuiltins = myBuiltins.concat(parserConf.extra_builtins);\n\n    var py3 = !(parserConf.version && Number(parserConf.version) < 3)\n    if (py3) {\n      \/\/ since http:\/\/legacy.python.org\/dev\/peps\/pep-0465\/ @ is also an operator\n      var identifiers = parserConf.identifiers|| \/^[_A-Za-z\\u00A1-\\uFFFF][_A-Za-z0-9\\u00A1-\\uFFFF]*\/;\n      myKeywords = myKeywords.concat([\"nonlocal\", \"False\", \"True\", \"None\", \"async\", \"await\"]);\n      myBuiltins = myBuiltins.concat([\"ascii\", \"bytes\", \"exec\", \"print\"]);\n      var stringPrefixes = new RegExp(\"^(([rbuf]|(br)|(fr))?('{3}|\\\"{3}|['\\\"]))\", \"i\");\n    } else {\n      var identifiers = parserConf.identifiers|| \/^[_A-Za-z][_A-Za-z0-9]*\/;\n      myKeywords = myKeywords.concat([\"exec\", \"print\"]);\n      myBuiltins = myBuiltins.concat([\"apply\", \"basestring\", \"buffer\", \"cmp\", \"coerce\", \"execfile\",\n                                      \"file\", \"intern\", \"long\", \"raw_input\", \"reduce\", \"reload\",\n                                      \"unichr\", \"unicode\", \"xrange\", \"False\", \"True\", \"None\"]);\n      var stringPrefixes = new RegExp(\"^(([rubf]|(ur)|(br))?('{3}|\\\"{3}|['\\\"]))\", \"i\");\n    }\n    var keywords = wordRegexp(myKeywords);\n    var builtins = wordRegexp(myBuiltins);\n\n    \/\/ tokenizers\n    function tokenBase(stream, state) {\n      var sol = stream.sol() && state.lastToken != \"\\\\\"\n      if (sol) state.indent = stream.indentation()\n      \/\/ Handle scope changes\n      if (sol && top(state).type == \"py\") {\n        var scopeOffset = top(state).offset;\n        if (stream.eatSpace()) {\n          var lineOffset = stream.indentation();\n          if (lineOffset > scopeOffset)\n            pushPyScope(state);\n          else if (lineOffset < scopeOffset && dedent(stream, state) && stream.peek() != \"#\")\n            state.errorToken = true;\n          return null;\n        } else {\n          var style = tokenBaseInner(stream, state);\n          if (scopeOffset > 0 && dedent(stream, state))\n            style += \" \" + ERRORCLASS;\n          return style;\n        }\n      }\n      return tokenBaseInner(stream, state);\n    }\n\n    function tokenBaseInner(stream, state, inFormat) {\n      if (stream.eatSpace()) return null;\n\n      \/\/ Handle Comments\n      if (!inFormat && stream.match(\/^#.*\/)) return \"comment\";\n\n      \/\/ Handle Number Literals\n      if (stream.match(\/^[0-9\\.]\/, false)) {\n        var floatLiteral = false;\n        \/\/ Floats\n        if (stream.match(\/^[\\d_]*\\.\\d+(e[\\+\\-]?\\d+)?\/i)) { floatLiteral = true; }\n        if (stream.match(\/^[\\d_]+\\.\\d*\/)) { floatLiteral = true; }\n        if (stream.match(\/^\\.\\d+\/)) { floatLiteral = true; }\n        if (floatLiteral) {\n          \/\/ Float literals may be \"imaginary\"\n          stream.eat(\/J\/i);\n          return \"number\";\n        }\n        \/\/ Integers\n        var intLiteral = false;\n        \/\/ Hex\n        if (stream.match(\/^0x[0-9a-f_]+\/i)) intLiteral = true;\n        \/\/ Binary\n        if (stream.match(\/^0b[01_]+\/i)) intLiteral = true;\n        \/\/ Octal\n        if (stream.match(\/^0o[0-7_]+\/i)) intLiteral = true;\n        \/\/ Decimal\n        if (stream.match(\/^[1-9][\\d_]*(e[\\+\\-]?[\\d_]+)?\/)) {\n          \/\/ Decimal literals may be \"imaginary\"\n          stream.eat(\/J\/i);\n          \/\/ TODO - Can you have imaginary longs?\n          intLiteral = true;\n        }\n        \/\/ Zero by itself with no other piece of number.\n        if (stream.match(\/^0(?![\\dx])\/i)) intLiteral = true;\n        if (intLiteral) {\n          \/\/ Integer literals may be \"long\"\n          stream.eat(\/L\/i);\n          return \"number\";\n        }\n      }\n\n      \/\/ Handle Strings\n      if (stream.match(stringPrefixes)) {\n        var isFmtString = stream.current().toLowerCase().indexOf('f') !== -1;\n        if (!isFmtString) {\n          state.tokenize = tokenStringFactory(stream.current(), state.tokenize);\n          return state.tokenize(stream, state);\n        } else {\n          state.tokenize = formatStringFactory(stream.current(), state.tokenize);\n          return state.tokenize(stream, state);\n        }\n      }\n\n      for (var i = 0; i < operators.length; i++)\n        if (stream.match(operators[i])) return \"operator\"\n\n      if (stream.match(delimiters)) return \"punctuation\";\n\n      if (state.lastToken == \".\" && stream.match(identifiers))\n        return \"property\";\n\n      if (stream.match(keywords) || stream.match(wordOperators))\n        return \"keyword\";\n\n      if (stream.match(builtins))\n        return \"builtin\";\n\n      if (stream.match(\/^(self|cls)\\b\/))\n        return \"variable-2\";\n\n      if (stream.match(identifiers)) {\n        if (state.lastToken == \"def\" || state.lastToken == \"class\")\n          return \"def\";\n        return \"variable\";\n      }\n\n      \/\/ Handle non-detected items\n      stream.next();\n      return inFormat ? null :ERRORCLASS;\n    }\n\n    function formatStringFactory(delimiter, tokenOuter) {\n      while (\"rubf\".indexOf(delimiter.charAt(0).toLowerCase()) >= 0)\n        delimiter = delimiter.substr(1);\n\n      var singleline = delimiter.length == 1;\n      var OUTCLASS = \"string\";\n\n      function tokenNestedExpr(depth) {\n        return function(stream, state) {\n          var inner = tokenBaseInner(stream, state, true)\n          if (inner == \"punctuation\") {\n            if (stream.current() == \"{\") {\n              state.tokenize = tokenNestedExpr(depth + 1)\n            } else if (stream.current() == \"}\") {\n              if (depth > 1) state.tokenize = tokenNestedExpr(depth - 1)\n              else state.tokenize = tokenString\n            }\n          }\n          return inner\n        }\n      }\n\n      function tokenString(stream, state) {\n        while (!stream.eol()) {\n          stream.eatWhile(\/[^'\"\\{\\}\\\\]\/);\n          if (stream.eat(\"\\\\\")) {\n            stream.next();\n            if (singleline && stream.eol())\n              return OUTCLASS;\n          } else if (stream.match(delimiter)) {\n            state.tokenize = tokenOuter;\n            return OUTCLASS;\n          } else if (stream.match('{{')) {\n            \/\/ ignore {{ in f-str\n            return OUTCLASS;\n          } else if (stream.match('{', false)) {\n            \/\/ switch to nested mode\n            state.tokenize = tokenNestedExpr(0)\n            if (stream.current()) return OUTCLASS;\n            else return state.tokenize(stream, state)\n          } else if (stream.match('}}')) {\n            return OUTCLASS;\n          } else if (stream.match('}')) {\n            \/\/ single } in f-string is an error\n            return ERRORCLASS;\n          } else {\n            stream.eat(\/['\"]\/);\n          }\n        }\n        if (singleline) {\n          if (parserConf.singleLineStringErrors)\n            return ERRORCLASS;\n          else\n            state.tokenize = tokenOuter;\n        }\n        return OUTCLASS;\n      }\n      tokenString.isString = true;\n      return tokenString;\n    }\n\n    function tokenStringFactory(delimiter, tokenOuter) {\n      while (\"rubf\".indexOf(delimiter.charAt(0).toLowerCase()) >= 0)\n        delimiter = delimiter.substr(1);\n\n      var singleline = delimiter.length == 1;\n      var OUTCLASS = \"string\";\n\n      function tokenString(stream, state) {\n        while (!stream.eol()) {\n          stream.eatWhile(\/[^'\"\\\\]\/);\n          if (stream.eat(\"\\\\\")) {\n            stream.next();\n            if (singleline && stream.eol())\n              return OUTCLASS;\n          } else if (stream.match(delimiter)) {\n            state.tokenize = tokenOuter;\n            return OUTCLASS;\n          } else {\n            stream.eat(\/['\"]\/);\n          }\n        }\n        if (singleline) {\n          if (parserConf.singleLineStringErrors)\n            return ERRORCLASS;\n          else\n            state.tokenize = tokenOuter;\n        }\n        return OUTCLASS;\n      }\n      tokenString.isString = true;\n      return tokenString;\n    }\n\n    function pushPyScope(state) {\n      while (top(state).type != \"py\") state.scopes.pop()\n      state.scopes.push({offset: top(state).offset + conf.indentUnit,\n                         type: \"py\",\n                         align: null})\n    }\n\n    function pushBracketScope(stream, state, type) {\n      var align = stream.match(\/^([\\s\\[\\{\\(]|#.*)*$\/, false) ? null : stream.column() + 1\n      state.scopes.push({offset: state.indent + hangingIndent,\n                         type: type,\n                         align: align})\n    }\n\n    function dedent(stream, state) {\n      var indented = stream.indentation();\n      while (state.scopes.length > 1 && top(state).offset > indented) {\n        if (top(state).type != \"py\") return true;\n        state.scopes.pop();\n      }\n      return top(state).offset != indented;\n    }\n\n    function tokenLexer(stream, state) {\n      if (stream.sol()) state.beginningOfLine = true;\n\n      var style = state.tokenize(stream, state);\n      var current = stream.current();\n\n      \/\/ Handle decorators\n      if (state.beginningOfLine && current == \"@\")\n        return stream.match(identifiers, false) ? \"meta\" : py3 ? \"operator\" : ERRORCLASS;\n\n      if (\/\\S\/.test(current)) state.beginningOfLine = false;\n\n      if ((style == \"variable\" || style == \"builtin\")\n          && state.lastToken == \"meta\")\n        style = \"meta\";\n\n      \/\/ Handle scope changes.\n      if (current == \"pass\" || current == \"return\")\n        state.dedent += 1;\n\n      if (current == \"lambda\") state.lambda = true;\n      if (current == \":\" && !state.lambda && top(state).type == \"py\")\n        pushPyScope(state);\n\n      if (current.length == 1 && !\/string|comment\/.test(style)) {\n        var delimiter_index = \"[({\".indexOf(current);\n        if (delimiter_index != -1)\n          pushBracketScope(stream, state, \"])}\".slice(delimiter_index, delimiter_index+1));\n\n        delimiter_index = \"])}\".indexOf(current);\n        if (delimiter_index != -1) {\n          if (top(state).type == current) state.indent = state.scopes.pop().offset - hangingIndent\n          else return ERRORCLASS;\n        }\n      }\n      if (state.dedent > 0 && stream.eol() && top(state).type == \"py\") {\n        if (state.scopes.length > 1) state.scopes.pop();\n        state.dedent -= 1;\n      }\n\n      return style;\n    }\n\n    var external = {\n      startState: function(basecolumn) {\n        return {\n          tokenize: tokenBase,\n          scopes: [{offset: basecolumn || 0, type: \"py\", align: null}],\n          indent: basecolumn || 0,\n          lastToken: null,\n          lambda: false,\n          dedent: 0\n        };\n      },\n\n      token: function(stream, state) {\n        var addErr = state.errorToken;\n        if (addErr) state.errorToken = false;\n        var style = tokenLexer(stream, state);\n\n        if (style && style != \"comment\")\n          state.lastToken = (style == \"keyword\" || style == \"punctuation\") ? stream.current() : style;\n        if (style == \"punctuation\") style = null;\n\n        if (stream.eol() && state.lambda)\n          state.lambda = false;\n        return addErr ? style + \" \" + ERRORCLASS : style;\n      },\n\n      indent: function(state, textAfter) {\n        if (state.tokenize != tokenBase)\n          return state.tokenize.isString ? CodeMirror.Pass : 0;\n\n        var scope = top(state), closing = scope.type == textAfter.charAt(0)\n        if (scope.align != null)\n          return scope.align - (closing ? 1 : 0)\n        else\n          return scope.offset - (closing ? hangingIndent : 0)\n      },\n\n      electricInput: \/^\\s*[\\}\\]\\)]$\/,\n      closeBrackets: {triples: \"'\\\"\"},\n      lineComment: \"#\",\n      fold: \"indent\"\n    };\n    return external;\n  });\n\n  CodeMirror.defineMIME(\"text\/x-python\", \"python\");\n\n  var words = function(str) { return str.split(\" \"); };\n\n  CodeMirror.defineMIME(\"text\/x-cython\", {\n    name: \"python\",\n    extra_keywords: words(\"by cdef cimport cpdef ctypedef enum except \"+\n                          \"extern gil include nogil property public \"+\n                          \"readonly struct union DEF IF ELIF ELSE\")\n  });\n\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","wordRegexp","words","RegExp","join","top","state","scopes","length","wordOperators","commonKeywords","commonBuiltins","registerHelper","concat","defineMode","conf","parserConf","tokenBase","stream","sol","lastToken","indent","indentation","type","scopeOffset","offset","eatSpace","lineOffset","pushPyScope","dedent","peek","errorToken","style","tokenBaseInner","inFormat","match","floatLiteral","eat","intLiteral","stringPrefixes","current","toLowerCase","indexOf","tokenize","tokenStringFactory","formatStringFactory","i","operators","delimiters","identifiers","keywords","builtins","next","ERRORCLASS","delimiter","tokenOuter","tokenNestedExpr","depth","inner","tokenString","eol","eatWhile","singleline","OUTCLASS","singleLineStringErrors","charAt","substr","isString","pop","push","indentUnit","align","indented","singleDelimiters","singleOperators","doubleOperators","doubleDelimiters","tripleDelimiters","splice","hangingIndent","myKeywords","myBuiltins","undefined","extra_keywords","extra_builtins","py3","version","Number","external","startState","basecolumn","lambda","token","addErr","beginningOfLine","test","delimiter_index","slice","column","textAfter","Pass","scope","closing","electricInput","closeBrackets","triples","lineComment","fold","defineMIME","name"]}},{"offset":{"line":693,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$mode$ruby$ruby.js","lineCount":11,"mappings":"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\/C,CAAOmD,CAAAA,WAAP,EAAnC,CAF6B,KAGzB\/B,EAAQnB,CAAMC,CAAAA,QAAN,CAAeD,CAAMC,CAAAA,QAASb,CAAAA,MAA9B,CAAqC,CAArC,CAAA,CAAwCW,CAAxC,CAAgDC,CAAhD,CAHiB,CAGuCmD,CAHvC,CAIzBC,GAAUrB,EACd,IAAa,OAAb,EAAIZ,CAAJ,CAAsB,CACpB,IAAIkC,GAAOtD,CAAOuD,CAAAA,OAAP,EACXnC,EAAA,CAAyB,GAAjB,EAAAnB,CAAM8B,CAAAA,OAAN,CAAuB,UAAvB;AACJxC,CAASiC,CAAAA,oBAAT,CAA8BxB,CAAOuD,CAAAA,OAAP,EAA9B,CAAA,CAAkD,SAAlD,CACA,QAAS1B,CAAAA,IAAT,CAAcyB,EAAd,CAAA,CAAsB,KAAtB,CACkB,KAAlB,EAACrD,CAAM8B,CAAAA,OAAP,EAA4C,OAA5C,EAA2B9B,CAAM8B,CAAAA,OAAjC,EAAuD9B,CAAM6B,CAAAA,OAA7D,CAAwE,KAAxE,CACA,UACS,UAAb,EAAIV,CAAJ,GACEiC,EACA,CADUC,EACV,CAAI9D,CAAYgC,CAAAA,oBAAZ,CAAiC8B,EAAjC,CAAJ,CAA4CF,CAA5C,CAAqD,QAArD,CACS3D,CAAY+B,CAAAA,oBAAZ,CAAiC8B,EAAjC,CAAJ,CAA4CF,CAA5C,CAAqD,QAArD,CACa,IAAb,EAAKE,EAAL,EAA6B,QAA7B,EAAqBA,EAArB,EAA0CtD,CAAOwD,CAAAA,MAAP,EAA1C,EAA6DxD,CAAOmD,CAAAA,WAAP,EAA7D,CAEY,IAFZ,EAEIG,EAFJ,EAEoBrD,CAAMwC,CAAAA,OAAQM,CAAAA,QAFlC,CAE6C9C,CAAM8C,CAAAA,QAFnD,GAGHK,CAHG,CAGM,QAHN,EACHA,CADG,CACM,QALb,CAPoB,CAiBtB,GAAIpB,EAAJ,EAAgBZ,CAAhB,EAAkC,SAAlC,EAAyBA,CAAzB,CAA8CnB,CAAM8B,CAAAA,OAAN,CAAgBsB,EAC\/C,IAAf,EAAIrB,EAAJ,GAAoB\/B,CAAM6B,CAAAA,OAA1B,CAAoC,CAAC7B,CAAM6B,CAAAA,OAA3C,CAEc,SAAd,EAAIsB,CAAJ,EAA0B,UAAWvB,CAAAA,IAAX,CAAgBG,EAAhB,CAA1B,CACE\/B,CAAMwC,CAAAA,OADR,CACkB,CAACE,KAAM1C,CAAMwC,CAAAA,OAAb,CAAsBC,KAAMV,EAANU,EAAiBtB,CAAvC,CAA8C2B,SAAU9C,CAAM8C,CAAAA,QAA9D,CADlB;CAEoB,QAFpB,EAEUK,CAFV,EAEgC,UAAWvB,CAAAA,IAAX,CAAgBG,EAAhB,CAFhC,GAE6D\/B,CAAMwC,CAAAA,OAAQE,CAAAA,IAF3E,GAGE1C,CAAMwC,CAAAA,OAHR,CAGkBxC,CAAMwC,CAAAA,OAAQE,CAAAA,IAHhC,CAKI3C,EAAOO,CAAAA,GAAP,EAAJ,GACEN,CAAMgD,CAAAA,aADR,CACoC,IADpC,EACyBjB,EADzB,EACqD,UADrD,EAC4CZ,CAD5C,CAEA,OAAOA,EAhCsB,CAV1B,CA6CLqC,OAAQA,QAAQ,CAACxD,CAAD,CAAQyD,CAAR,CAAmB,CACjC,GAAIzD,CAAMC,CAAAA,QAAN,CAAeD,CAAMC,CAAAA,QAASb,CAAAA,MAA9B,CAAqC,CAArC,CAAJ,EAA+Ce,CAA\/C,CAA0D,MAAOrB,EAAW4E,CAAAA,IAC5E,KAAIC,EAAYF,CAAZE,EAAyBF,CAAUG,CAAAA,MAAV,CAAiB,CAAjB,CAA7B,CACIC,EAAK7D,CAAMwC,CAAAA,OACXsB,EAAAA,CAASD,CAAGpB,CAAAA,IAAZqB,EAAoBpE,CAAA,CAAQiE,CAAR,CAApBG,EACS,SADTA,EACFD,CAAGpB,CAAAA,IADDqB,EACsB,yCAA0ClC,CAAAA,IAA1C,CAA+C6B,CAA\/C,CAC1B,OAAOI,EAAGf,CAAAA,QAAV,EAAsBgB,CAAA,CAAS,CAAT,CAAalE,CAAOmD,CAAAA,UAA1C,GACG\/C,CAAMgD,CAAAA,aAAN,CAAsBpD,CAAOmD,CAAAA,UAA7B,CAA0C,CAD7C,CANiC,CA7C9B,CAuDLgB,cAAe,mCAvDV,CAwDLC,YAAa,GAxDR,CAyDLC,KAAM,QAzDD,CA3MsC,CAA\/C,CAwQAnF,EAAWoF,CAAAA,UAAX,CAAsB,aAAtB;AAAqC,MAArC,CAEApF,EAAWqF,CAAAA,cAAX,CAA0B,WAA1B,CAAuC,MAAvC,CAA+C9E,CAA\/C,CAlSwB,CAPxB,CAJ8D;","sources":["node_modules\/codemirror\/mode\/ruby\/ruby.js"],"sourcesContent":["shadow$provide[287] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nfunction wordObj(words) {\n  var o = {};\n  for (var i = 0, e = words.length; i < e; ++i) o[words[i]] = true;\n  return o;\n}\n\nvar keywordList = [\n  \"alias\", \"and\", \"BEGIN\", \"begin\", \"break\", \"case\", \"class\", \"def\", \"defined?\", \"do\", \"else\",\n  \"elsif\", \"END\", \"end\", \"ensure\", \"false\", \"for\", \"if\", \"in\", \"module\", \"next\", \"not\", \"or\",\n  \"redo\", \"rescue\", \"retry\", \"return\", \"self\", \"super\", \"then\", \"true\", \"undef\", \"unless\",\n  \"until\", \"when\", \"while\", \"yield\", \"nil\", \"raise\", \"throw\", \"catch\", \"fail\", \"loop\", \"callcc\",\n  \"caller\", \"lambda\", \"proc\", \"public\", \"protected\", \"private\", \"require\", \"load\",\n  \"require_relative\", \"extend\", \"autoload\", \"__END__\", \"__FILE__\", \"__LINE__\", \"__dir__\"\n], keywords = wordObj(keywordList);\n\nvar indentWords = wordObj([\"def\", \"class\", \"case\", \"for\", \"while\", \"until\", \"module\", \"then\",\n                           \"catch\", \"loop\", \"proc\", \"begin\"]);\nvar dedentWords = wordObj([\"end\", \"until\"]);\nvar opening = {\"[\": \"]\", \"{\": \"}\", \"(\": \")\"};\nvar closing = {\"]\": \"[\", \"}\": \"{\", \")\": \"(\"};\n\nCodeMirror.defineMode(\"ruby\", function(config) {\n  var curPunc;\n\n  function chain(newtok, stream, state) {\n    state.tokenize.push(newtok);\n    return newtok(stream, state);\n  }\n\n  function tokenBase(stream, state) {\n    if (stream.sol() && stream.match(\"=begin\") && stream.eol()) {\n      state.tokenize.push(readBlockComment);\n      return \"comment\";\n    }\n    if (stream.eatSpace()) return null;\n    var ch = stream.next(), m;\n    if (ch == \"`\" || ch == \"'\" || ch == '\"') {\n      return chain(readQuoted(ch, \"string\", ch == '\"' || ch == \"`\"), stream, state);\n    } else if (ch == \"\/\") {\n      if (regexpAhead(stream))\n        return chain(readQuoted(ch, \"string-2\", true), stream, state);\n      else\n        return \"operator\";\n    } else if (ch == \"%\") {\n      var style = \"string\", embed = true;\n      if (stream.eat(\"s\")) style = \"atom\";\n      else if (stream.eat(\/[WQ]\/)) style = \"string\";\n      else if (stream.eat(\/[r]\/)) style = \"string-2\";\n      else if (stream.eat(\/[wxq]\/)) { style = \"string\"; embed = false; }\n      var delim = stream.eat(\/[^\\w\\s=]\/);\n      if (!delim) return \"operator\";\n      if (opening.propertyIsEnumerable(delim)) delim = opening[delim];\n      return chain(readQuoted(delim, style, embed, true), stream, state);\n    } else if (ch == \"#\") {\n      stream.skipToEnd();\n      return \"comment\";\n    } else if (ch == \"<\" && (m = stream.match(\/^<([-~])[\\`\\\"\\']?([a-zA-Z_?]\\w*)[\\`\\\"\\']?(?:;|$)\/))) {\n      return chain(readHereDoc(m[2], m[1]), stream, state);\n    } else if (ch == \"0\") {\n      if (stream.eat(\"x\")) stream.eatWhile(\/[\\da-fA-F]\/);\n      else if (stream.eat(\"b\")) stream.eatWhile(\/[01]\/);\n      else stream.eatWhile(\/[0-7]\/);\n      return \"number\";\n    } else if (\/\\d\/.test(ch)) {\n      stream.match(\/^[\\d_]*(?:\\.[\\d_]+)?(?:[eE][+\\-]?[\\d_]+)?\/);\n      return \"number\";\n    } else if (ch == \"?\") {\n      while (stream.match(\/^\\\\[CM]-\/)) {}\n      if (stream.eat(\"\\\\\")) stream.eatWhile(\/\\w\/);\n      else stream.next();\n      return \"string\";\n    } else if (ch == \":\") {\n      if (stream.eat(\"'\")) return chain(readQuoted(\"'\", \"atom\", false), stream, state);\n      if (stream.eat('\"')) return chain(readQuoted('\"', \"atom\", true), stream, state);\n\n      \/\/ :> :>> :< :<< are valid symbols\n      if (stream.eat(\/[\\<\\>]\/)) {\n        stream.eat(\/[\\<\\>]\/);\n        return \"atom\";\n      }\n\n      \/\/ :+ :- :\/ :* :| :& :! are valid symbols\n      if (stream.eat(\/[\\+\\-\\*\\\/\\&\\|\\:\\!]\/)) {\n        return \"atom\";\n      }\n\n      \/\/ Symbols can't start by a digit\n      if (stream.eat(\/[a-zA-Z$@_\\xa1-\\uffff]\/)) {\n        stream.eatWhile(\/[\\w$\\xa1-\\uffff]\/);\n        \/\/ Only one ? ! = is allowed and only as the last character\n        stream.eat(\/[\\?\\!\\=]\/);\n        return \"atom\";\n      }\n      return \"operator\";\n    } else if (ch == \"@\" && stream.match(\/^@?[a-zA-Z_\\xa1-\\uffff]\/)) {\n      stream.eat(\"@\");\n      stream.eatWhile(\/[\\w\\xa1-\\uffff]\/);\n      return \"variable-2\";\n    } else if (ch == \"$\") {\n      if (stream.eat(\/[a-zA-Z_]\/)) {\n        stream.eatWhile(\/[\\w]\/);\n      } else if (stream.eat(\/\\d\/)) {\n        stream.eat(\/\\d\/);\n      } else {\n        stream.next(); \/\/ Must be a special global like $: or $!\n      }\n      return \"variable-3\";\n    } else if (\/[a-zA-Z_\\xa1-\\uffff]\/.test(ch)) {\n      stream.eatWhile(\/[\\w\\xa1-\\uffff]\/);\n      stream.eat(\/[\\?\\!]\/);\n      if (stream.eat(\":\")) return \"atom\";\n      return \"ident\";\n    } else if (ch == \"|\" && (state.varList || state.lastTok == \"{\" || state.lastTok == \"do\")) {\n      curPunc = \"|\";\n      return null;\n    } else if (\/[\\(\\)\\[\\]{}\\\\;]\/.test(ch)) {\n      curPunc = ch;\n      return null;\n    } else if (ch == \"-\" && stream.eat(\">\")) {\n      return \"arrow\";\n    } else if (\/[=+\\-\\\/*:\\.^%<>~|]\/.test(ch)) {\n      var more = stream.eatWhile(\/[=+\\-\\\/*:\\.^%<>~|]\/);\n      if (ch == \".\" && !more) curPunc = \".\";\n      return \"operator\";\n    } else {\n      return null;\n    }\n  }\n\n  function regexpAhead(stream) {\n    var start = stream.pos, depth = 0, next, found = false, escaped = false\n    while ((next = stream.next()) != null) {\n      if (!escaped) {\n        if (\"[{(\".indexOf(next) > -1) {\n          depth++\n        } else if (\"]})\".indexOf(next) > -1) {\n          depth--\n          if (depth < 0) break\n        } else if (next == \"\/\" && depth == 0) {\n          found = true\n          break\n        }\n        escaped = next == \"\\\\\"\n      } else {\n        escaped = false\n      }\n    }\n    stream.backUp(stream.pos - start)\n    return found\n  }\n\n  function tokenBaseUntilBrace(depth) {\n    if (!depth) depth = 1;\n    return function(stream, state) {\n      if (stream.peek() == \"}\") {\n        if (depth == 1) {\n          state.tokenize.pop();\n          return state.tokenize[state.tokenize.length-1](stream, state);\n        } else {\n          state.tokenize[state.tokenize.length - 1] = tokenBaseUntilBrace(depth - 1);\n        }\n      } else if (stream.peek() == \"{\") {\n        state.tokenize[state.tokenize.length - 1] = tokenBaseUntilBrace(depth + 1);\n      }\n      return tokenBase(stream, state);\n    };\n  }\n  function tokenBaseOnce() {\n    var alreadyCalled = false;\n    return function(stream, state) {\n      if (alreadyCalled) {\n        state.tokenize.pop();\n        return state.tokenize[state.tokenize.length-1](stream, state);\n      }\n      alreadyCalled = true;\n      return tokenBase(stream, state);\n    };\n  }\n  function readQuoted(quote, style, embed, unescaped) {\n    return function(stream, state) {\n      var escaped = false, ch;\n\n      if (state.context.type === 'read-quoted-paused') {\n        state.context = state.context.prev;\n        stream.eat(\"}\");\n      }\n\n      while ((ch = stream.next()) != null) {\n        if (ch == quote && (unescaped || !escaped)) {\n          state.tokenize.pop();\n          break;\n        }\n        if (embed && ch == \"#\" && !escaped) {\n          if (stream.eat(\"{\")) {\n            if (quote == \"}\") {\n              state.context = {prev: state.context, type: 'read-quoted-paused'};\n            }\n            state.tokenize.push(tokenBaseUntilBrace());\n            break;\n          } else if (\/[@\\$]\/.test(stream.peek())) {\n            state.tokenize.push(tokenBaseOnce());\n            break;\n          }\n        }\n        escaped = !escaped && ch == \"\\\\\";\n      }\n      return style;\n    };\n  }\n  function readHereDoc(phrase, mayIndent) {\n    return function(stream, state) {\n      if (mayIndent) stream.eatSpace()\n      if (stream.match(phrase)) state.tokenize.pop();\n      else stream.skipToEnd();\n      return \"string\";\n    };\n  }\n  function readBlockComment(stream, state) {\n    if (stream.sol() && stream.match(\"=end\") && stream.eol())\n      state.tokenize.pop();\n    stream.skipToEnd();\n    return \"comment\";\n  }\n\n  return {\n    startState: function() {\n      return {tokenize: [tokenBase],\n              indented: 0,\n              context: {type: \"top\", indented: -config.indentUnit},\n              continuedLine: false,\n              lastTok: null,\n              varList: false};\n    },\n\n    token: function(stream, state) {\n      curPunc = null;\n      if (stream.sol()) state.indented = stream.indentation();\n      var style = state.tokenize[state.tokenize.length-1](stream, state), kwtype;\n      var thisTok = curPunc;\n      if (style == \"ident\") {\n        var word = stream.current();\n        style = state.lastTok == \".\" ? \"property\"\n          : keywords.propertyIsEnumerable(stream.current()) ? \"keyword\"\n          : \/^[A-Z]\/.test(word) ? \"tag\"\n          : (state.lastTok == \"def\" || state.lastTok == \"class\" || state.varList) ? \"def\"\n          : \"variable\";\n        if (style == \"keyword\") {\n          thisTok = word;\n          if (indentWords.propertyIsEnumerable(word)) kwtype = \"indent\";\n          else if (dedentWords.propertyIsEnumerable(word)) kwtype = \"dedent\";\n          else if ((word == \"if\" || word == \"unless\") && stream.column() == stream.indentation())\n            kwtype = \"indent\";\n          else if (word == \"do\" && state.context.indented < state.indented)\n            kwtype = \"indent\";\n        }\n      }\n      if (curPunc || (style && style != \"comment\")) state.lastTok = thisTok;\n      if (curPunc == \"|\") state.varList = !state.varList;\n\n      if (kwtype == \"indent\" || \/[\\(\\[\\{]\/.test(curPunc))\n        state.context = {prev: state.context, type: curPunc || style, indented: state.indented};\n      else if ((kwtype == \"dedent\" || \/[\\)\\]\\}]\/.test(curPunc)) && state.context.prev)\n        state.context = state.context.prev;\n\n      if (stream.eol())\n        state.continuedLine = (curPunc == \"\\\\\" || style == \"operator\");\n      return style;\n    },\n\n    indent: function(state, textAfter) {\n      if (state.tokenize[state.tokenize.length-1] != tokenBase) return CodeMirror.Pass;\n      var firstChar = textAfter && textAfter.charAt(0);\n      var ct = state.context;\n      var closed = ct.type == closing[firstChar] ||\n        ct.type == \"keyword\" && \/^(?:end|until|else|elsif|when|rescue)\\b\/.test(textAfter);\n      return ct.indented + (closed ? 0 : config.indentUnit) +\n        (state.continuedLine ? config.indentUnit : 0);\n    },\n\n    electricInput: \/^\\s*(?:end|rescue|elsif|else|\\})$\/,\n    lineComment: \"#\",\n    fold: \"indent\"\n  };\n});\n\nCodeMirror.defineMIME(\"text\/x-ruby\", \"ruby\");\n\nCodeMirror.registerHelper(\"hintWords\", \"ruby\", keywordList);\n\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","wordObj","words","o","i","e","length","keywordList","keywords","indentWords","dedentWords","opening","closing","defineMode","config","chain","newtok","stream","state","tokenize","push","tokenBase","sol","match","eol","readBlockComment","eatSpace","ch","next","readQuoted","start","pos","depth","found","escaped","indexOf","backUp","style","embed","eat","delim","propertyIsEnumerable","skipToEnd","m","readHereDoc","eatWhile","test","varList","lastTok","curPunc","more","tokenBaseUntilBrace","peek","pop","tokenBaseOnce","alreadyCalled","quote","unescaped","context","type","prev","phrase","mayIndent","startState","indented","indentUnit","continuedLine","token","indentation","kwtype","thisTok","word","current","column","indent","textAfter","Pass","firstChar","charAt","ct","closed","electricInput","lineComment","fold","defineMIME","registerHelper"]}},{"offset":{"line":704,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$mode$rust$rust.js","lineCount":5,"mappings":"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","sources":["node_modules\/codemirror\/mode\/rust\/rust.js"],"sourcesContent":["shadow$provide[288] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"), require(\"..\/..\/addon\/mode\/simple\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\", \"..\/..\/addon\/mode\/simple\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineSimpleMode(\"rust\",{\n  start: [\n    \/\/ string and byte string\n    {regex: \/b?\"\/, token: \"string\", next: \"string\"},\n    \/\/ raw string and raw byte string\n    {regex: \/b?r\"\/, token: \"string\", next: \"string_raw\"},\n    {regex: \/b?r#+\"\/, token: \"string\", next: \"string_raw_hash\"},\n    \/\/ character\n    {regex: \/'(?:[^'\\\\]|\\\\(?:[nrt0'\"]|x[\\da-fA-F]{2}|u\\{[\\da-fA-F]{6}\\}))'\/, token: \"string-2\"},\n    \/\/ byte\n    {regex: \/b'(?:[^']|\\\\(?:['\\\\nrt0]|x[\\da-fA-F]{2}))'\/, token: \"string-2\"},\n\n    {regex: \/(?:(?:[0-9][0-9_]*)(?:(?:[Ee][+-]?[0-9_]+)|\\.[0-9_]+(?:[Ee][+-]?[0-9_]+)?)(?:f32|f64)?)|(?:0(?:b[01_]+|(?:o[0-7_]+)|(?:x[0-9a-fA-F_]+))|(?:[0-9][0-9_]*))(?:u8|u16|u32|u64|i8|i16|i32|i64|isize|usize)?\/,\n     token: \"number\"},\n    {regex: \/(let(?:\\s+mut)?|fn|enum|mod|struct|type|union)(\\s+)([a-zA-Z_][a-zA-Z0-9_]*)\/, token: [\"keyword\", null, \"def\"]},\n    {regex: \/(?:abstract|alignof|as|async|await|box|break|continue|const|crate|do|dyn|else|enum|extern|fn|for|final|if|impl|in|loop|macro|match|mod|move|offsetof|override|priv|proc|pub|pure|ref|return|self|sizeof|static|struct|super|trait|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\\b\/, token: \"keyword\"},\n    {regex: \/\\b(?:Self|isize|usize|char|bool|u8|u16|u32|u64|f16|f32|f64|i8|i16|i32|i64|str|Option)\\b\/, token: \"atom\"},\n    {regex: \/\\b(?:true|false|Some|None|Ok|Err)\\b\/, token: \"builtin\"},\n    {regex: \/\\b(fn)(\\s+)([a-zA-Z_][a-zA-Z0-9_]*)\/,\n     token: [\"keyword\", null ,\"def\"]},\n    {regex: \/#!?\\[.*\\]\/, token: \"meta\"},\n    {regex: \/\\\/\\\/.*\/, token: \"comment\"},\n    {regex: \/\\\/\\*\/, token: \"comment\", next: \"comment\"},\n    {regex: \/[-+\\\/*=<>!]+\/, token: \"operator\"},\n    {regex: \/[a-zA-Z_]\\w*!\/,token: \"variable-3\"},\n    {regex: \/[a-zA-Z_]\\w*\/, token: \"variable\"},\n    {regex: \/[\\{\\[\\(]\/, indent: true},\n    {regex: \/[\\}\\]\\)]\/, dedent: true}\n  ],\n  string: [\n    {regex: \/\"\/, token: \"string\", next: \"start\"},\n    {regex: \/(?:[^\\\\\"]|\\\\(?:.|$))*\/, token: \"string\"}\n  ],\n  string_raw: [\n    {regex: \/\"\/, token: \"string\", next: \"start\"},\n    {regex: \/[^\"]*\/, token: \"string\"}\n  ],\n  string_raw_hash: [\n    {regex: \/\"#+\/, token: \"string\", next: \"start\"},\n    {regex: \/(?:[^\"]|\"(?!#))*\/, token: \"string\"}\n  ],\n  comment: [\n    {regex: \/.*?\\*\\\/\/, token: \"comment\", next: \"start\"},\n    {regex: \/.*\/, token: \"comment\"}\n  ],\n  meta: {\n    dontIndentStates: [\"comment\"],\n    electricInput: \/^\\s*\\}$\/,\n    blockCommentStart: \"\/*\",\n    blockCommentEnd: \"*\/\",\n    lineComment: \"\/\/\",\n    fold: \"brace\"\n  }\n});\n\n\nCodeMirror.defineMIME(\"text\/x-rustsrc\", \"rust\");\nCodeMirror.defineMIME(\"text\/rust\", \"rust\");\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","defineSimpleMode","start","regex","token","next","indent","dedent","string","string_raw","string_raw_hash","comment","meta","dontIndentStates","electricInput","blockCommentStart","blockCommentEnd","lineComment","fold","defineMIME"]}},{"offset":{"line":709,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$mode$scheme$scheme.js","lineCount":9,"mappings":"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","sources":["node_modules\/codemirror\/mode\/scheme\/scheme.js"],"sourcesContent":["shadow$provide[289] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n\/**\n * Author: Koh Zi Han, based on implementation by Koh Zi Chun\n *\/\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"scheme\", function () {\n    var BUILTIN = \"builtin\", COMMENT = \"comment\", STRING = \"string\",\n        ATOM = \"atom\", NUMBER = \"number\", BRACKET = \"bracket\";\n    var INDENT_WORD_SKIP = 2;\n\n    function makeKeywords(str) {\n        var obj = {}, words = str.split(\" \");\n        for (var i = 0; i < words.length; ++i) obj[words[i]] = true;\n        return obj;\n    }\n\n    var keywords = makeKeywords(\"\u03bb case-lambda call\/cc class cond-expand define-class define-values exit-handler field import inherit init-field interface let*-values let-values let\/ec mixin opt-lambda override protect provide public rename require require-for-syntax syntax syntax-case syntax-error unit\/sig unless when with-syntax and begin call-with-current-continuation call-with-input-file call-with-output-file case cond define define-syntax define-macro defmacro delay do dynamic-wind else for-each if lambda let let* let-syntax letrec letrec-syntax map or syntax-rules abs acos angle append apply asin assoc assq assv atan boolean? caar cadr call-with-input-file call-with-output-file call-with-values car cdddar cddddr cdr ceiling char->integer char-alphabetic? char-ci<=? char-ci<? char-ci=? char-ci>=? char-ci>? char-downcase char-lower-case? char-numeric? char-ready? char-upcase char-upper-case? char-whitespace? char<=? char<? char=? char>=? char>? char? close-input-port close-output-port complex? cons cos current-input-port current-output-port denominator display eof-object? eq? equal? eqv? eval even? exact->inexact exact? exp expt #f floor force gcd imag-part inexact->exact inexact? input-port? integer->char integer? interaction-environment lcm length list list->string list->vector list-ref list-tail list? load log magnitude make-polar make-rectangular make-string make-vector max member memq memv min modulo negative? newline not null-environment null? number->string number? numerator odd? open-input-file open-output-file output-port? pair? peek-char port? positive? procedure? quasiquote quote quotient rational? rationalize read read-char real-part real? remainder reverse round scheme-report-environment set! set-car! set-cdr! sin sqrt string string->list string->number string->symbol string-append string-ci<=? string-ci<? string-ci=? string-ci>=? string-ci>? string-copy string-fill! string-length string-ref string-set! string<=? string<? string=? string>=? string>? string? substring symbol->string symbol? #t tan transcript-off transcript-on truncate values vector vector->list vector-fill! vector-length vector-ref vector-set! with-input-from-file with-output-to-file write write-char zero?\");\n    var indentKeys = makeKeywords(\"define let letrec let* lambda define-macro defmacro let-syntax letrec-syntax let-values let*-values define-syntax syntax-rules define-values when unless\");\n\n    function stateStack(indent, type, prev) { \/\/ represents a state stack object\n        this.indent = indent;\n        this.type = type;\n        this.prev = prev;\n    }\n\n    function pushStack(state, indent, type) {\n        state.indentStack = new stateStack(indent, type, state.indentStack);\n    }\n\n    function popStack(state) {\n        state.indentStack = state.indentStack.prev;\n    }\n\n    var binaryMatcher = new RegExp(\/^(?:[-+]i|[-+][01]+#*(?:\\\/[01]+#*)?i|[-+]?[01]+#*(?:\\\/[01]+#*)?@[-+]?[01]+#*(?:\\\/[01]+#*)?|[-+]?[01]+#*(?:\\\/[01]+#*)?[-+](?:[01]+#*(?:\\\/[01]+#*)?)?i|[-+]?[01]+#*(?:\\\/[01]+#*)?)(?=[()\\s;\"]|$)\/i);\n    var octalMatcher = new RegExp(\/^(?:[-+]i|[-+][0-7]+#*(?:\\\/[0-7]+#*)?i|[-+]?[0-7]+#*(?:\\\/[0-7]+#*)?@[-+]?[0-7]+#*(?:\\\/[0-7]+#*)?|[-+]?[0-7]+#*(?:\\\/[0-7]+#*)?[-+](?:[0-7]+#*(?:\\\/[0-7]+#*)?)?i|[-+]?[0-7]+#*(?:\\\/[0-7]+#*)?)(?=[()\\s;\"]|$)\/i);\n    var hexMatcher = new RegExp(\/^(?:[-+]i|[-+][\\da-f]+#*(?:\\\/[\\da-f]+#*)?i|[-+]?[\\da-f]+#*(?:\\\/[\\da-f]+#*)?@[-+]?[\\da-f]+#*(?:\\\/[\\da-f]+#*)?|[-+]?[\\da-f]+#*(?:\\\/[\\da-f]+#*)?[-+](?:[\\da-f]+#*(?:\\\/[\\da-f]+#*)?)?i|[-+]?[\\da-f]+#*(?:\\\/[\\da-f]+#*)?)(?=[()\\s;\"]|$)\/i);\n    var decimalMatcher = new RegExp(\/^(?:[-+]i|[-+](?:(?:(?:\\d+#+\\.?#*|\\d+\\.\\d*#*|\\.\\d+#*|\\d+)(?:[esfdl][-+]?\\d+)?)|\\d+#*\\\/\\d+#*)i|[-+]?(?:(?:(?:\\d+#+\\.?#*|\\d+\\.\\d*#*|\\.\\d+#*|\\d+)(?:[esfdl][-+]?\\d+)?)|\\d+#*\\\/\\d+#*)@[-+]?(?:(?:(?:\\d+#+\\.?#*|\\d+\\.\\d*#*|\\.\\d+#*|\\d+)(?:[esfdl][-+]?\\d+)?)|\\d+#*\\\/\\d+#*)|[-+]?(?:(?:(?:\\d+#+\\.?#*|\\d+\\.\\d*#*|\\.\\d+#*|\\d+)(?:[esfdl][-+]?\\d+)?)|\\d+#*\\\/\\d+#*)[-+](?:(?:(?:\\d+#+\\.?#*|\\d+\\.\\d*#*|\\.\\d+#*|\\d+)(?:[esfdl][-+]?\\d+)?)|\\d+#*\\\/\\d+#*)?i|(?:(?:(?:\\d+#+\\.?#*|\\d+\\.\\d*#*|\\.\\d+#*|\\d+)(?:[esfdl][-+]?\\d+)?)|\\d+#*\\\/\\d+#*))(?=[()\\s;\"]|$)\/i);\n\n    function isBinaryNumber (stream) {\n        return stream.match(binaryMatcher);\n    }\n\n    function isOctalNumber (stream) {\n        return stream.match(octalMatcher);\n    }\n\n    function isDecimalNumber (stream, backup) {\n        if (backup === true) {\n            stream.backUp(1);\n        }\n        return stream.match(decimalMatcher);\n    }\n\n    function isHexNumber (stream) {\n        return stream.match(hexMatcher);\n    }\n\n    return {\n        startState: function () {\n            return {\n                indentStack: null,\n                indentation: 0,\n                mode: false,\n                sExprComment: false,\n                sExprQuote: false\n            };\n        },\n\n        token: function (stream, state) {\n            if (state.indentStack == null && stream.sol()) {\n                \/\/ update indentation, but only if indentStack is empty\n                state.indentation = stream.indentation();\n            }\n\n            \/\/ skip spaces\n            if (stream.eatSpace()) {\n                return null;\n            }\n            var returnType = null;\n\n            switch(state.mode){\n                case \"string\": \/\/ multi-line string parsing mode\n                    var next, escaped = false;\n                    while ((next = stream.next()) != null) {\n                        if (next == \"\\\"\" && !escaped) {\n\n                            state.mode = false;\n                            break;\n                        }\n                        escaped = !escaped && next == \"\\\\\";\n                    }\n                    returnType = STRING; \/\/ continue on in scheme-string mode\n                    break;\n                case \"comment\": \/\/ comment parsing mode\n                    var next, maybeEnd = false;\n                    while ((next = stream.next()) != null) {\n                        if (next == \"#\" && maybeEnd) {\n\n                            state.mode = false;\n                            break;\n                        }\n                        maybeEnd = (next == \"|\");\n                    }\n                    returnType = COMMENT;\n                    break;\n                case \"s-expr-comment\": \/\/ s-expr commenting mode\n                    state.mode = false;\n                    if(stream.peek() == \"(\" || stream.peek() == \"[\"){\n                        \/\/ actually start scheme s-expr commenting mode\n                        state.sExprComment = 0;\n                    }else{\n                        \/\/ if not we just comment the entire of the next token\n                        stream.eatWhile(\/[^\\s\\(\\)\\[\\]]\/); \/\/ eat symbol atom\n                        returnType = COMMENT;\n                        break;\n                    }\n                default: \/\/ default parsing mode\n                    var ch = stream.next();\n\n                    if (ch == \"\\\"\") {\n                        state.mode = \"string\";\n                        returnType = STRING;\n\n                    } else if (ch == \"'\") {\n                        if (stream.peek() == \"(\" || stream.peek() == \"[\"){\n                            if (typeof state.sExprQuote != \"number\") {\n                                state.sExprQuote = 0;\n                            } \/\/ else already in a quoted expression\n                            returnType = ATOM;\n                        } else {\n                            stream.eatWhile(\/[\\w_\\-!$%&*+\\.\\\/:<=>?@\\^~]\/);\n                            returnType = ATOM;\n                        }\n                    } else if (ch == '#') {\n                        if (stream.eat(\"|\")) {                    \/\/ Multi-line comment\n                            state.mode = \"comment\"; \/\/ toggle to comment mode\n                            returnType = COMMENT;\n                        } else if (stream.eat(\/[tf]\/i)) {            \/\/ #t\/#f (atom)\n                            returnType = ATOM;\n                        } else if (stream.eat(';')) {                \/\/ S-Expr comment\n                            state.mode = \"s-expr-comment\";\n                            returnType = COMMENT;\n                        } else {\n                            var numTest = null, hasExactness = false, hasRadix = true;\n                            if (stream.eat(\/[ei]\/i)) {\n                                hasExactness = true;\n                            } else {\n                                stream.backUp(1);       \/\/ must be radix specifier\n                            }\n                            if (stream.match(\/^#b\/i)) {\n                                numTest = isBinaryNumber;\n                            } else if (stream.match(\/^#o\/i)) {\n                                numTest = isOctalNumber;\n                            } else if (stream.match(\/^#x\/i)) {\n                                numTest = isHexNumber;\n                            } else if (stream.match(\/^#d\/i)) {\n                                numTest = isDecimalNumber;\n                            } else if (stream.match(\/^[-+0-9.]\/, false)) {\n                                hasRadix = false;\n                                numTest = isDecimalNumber;\n                            \/\/ re-consume the initial # if all matches failed\n                            } else if (!hasExactness) {\n                                stream.eat('#');\n                            }\n                            if (numTest != null) {\n                                if (hasRadix && !hasExactness) {\n                                    \/\/ consume optional exactness after radix\n                                    stream.match(\/^#[ei]\/i);\n                                }\n                                if (numTest(stream))\n                                    returnType = NUMBER;\n                            }\n                        }\n                    } else if (\/^[-+0-9.]\/.test(ch) && isDecimalNumber(stream, true)) { \/\/ match non-prefixed number, must be decimal\n                        returnType = NUMBER;\n                    } else if (ch == \";\") { \/\/ comment\n                        stream.skipToEnd(); \/\/ rest of the line is a comment\n                        returnType = COMMENT;\n                    } else if (ch == \"(\" || ch == \"[\") {\n                      var keyWord = ''; var indentTemp = stream.column(), letter;\n                        \/**\n                        Either\n                        (indent-word ..\n                        (non-indent-word ..\n                        (;something else, bracket, etc.\n                        *\/\n\n                        while ((letter = stream.eat(\/[^\\s\\(\\[\\;\\)\\]]\/)) != null) {\n                            keyWord += letter;\n                        }\n\n                        if (keyWord.length > 0 && indentKeys.propertyIsEnumerable(keyWord)) { \/\/ indent-word\n\n                            pushStack(state, indentTemp + INDENT_WORD_SKIP, ch);\n                        } else { \/\/ non-indent word\n                            \/\/ we continue eating the spaces\n                            stream.eatSpace();\n                            if (stream.eol() || stream.peek() == \";\") {\n                                \/\/ nothing significant after\n                                \/\/ we restart indentation 1 space after\n                                pushStack(state, indentTemp + 1, ch);\n                            } else {\n                                pushStack(state, indentTemp + stream.current().length, ch); \/\/ else we match\n                            }\n                        }\n                        stream.backUp(stream.current().length - 1); \/\/ undo all the eating\n\n                        if(typeof state.sExprComment == \"number\") state.sExprComment++;\n                        if(typeof state.sExprQuote == \"number\") state.sExprQuote++;\n\n                        returnType = BRACKET;\n                    } else if (ch == \")\" || ch == \"]\") {\n                        returnType = BRACKET;\n                        if (state.indentStack != null && state.indentStack.type == (ch == \")\" ? \"(\" : \"[\")) {\n                            popStack(state);\n\n                            if(typeof state.sExprComment == \"number\"){\n                                if(--state.sExprComment == 0){\n                                    returnType = COMMENT; \/\/ final closing bracket\n                                    state.sExprComment = false; \/\/ turn off s-expr commenting mode\n                                }\n                            }\n                            if(typeof state.sExprQuote == \"number\"){\n                                if(--state.sExprQuote == 0){\n                                    returnType = ATOM; \/\/ final closing bracket\n                                    state.sExprQuote = false; \/\/ turn off s-expr quote mode\n                                }\n                            }\n                        }\n                    } else {\n                        stream.eatWhile(\/[\\w_\\-!$%&*+\\.\\\/:<=>?@\\^~]\/);\n\n                        if (keywords && keywords.propertyIsEnumerable(stream.current())) {\n                            returnType = BUILTIN;\n                        } else returnType = \"variable\";\n                    }\n            }\n            return (typeof state.sExprComment == \"number\") ? COMMENT : ((typeof state.sExprQuote == \"number\") ? ATOM : returnType);\n        },\n\n        indent: function (state) {\n            if (state.indentStack == null) return state.indentation;\n            return state.indentStack.indent;\n        },\n\n        closeBrackets: {pairs: \"()[]{}\\\"\\\"\"},\n        lineComment: \";;\"\n    };\n});\n\nCodeMirror.defineMIME(\"text\/x-scheme\", \"scheme\");\n\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","defineMode","makeKeywords","str","obj","words","split","i","length","stateStack","indent","type","prev","isBinaryNumber","stream","match","binaryMatcher","isOctalNumber","octalMatcher","isDecimalNumber","backup","backUp","decimalMatcher","isHexNumber","hexMatcher","keywords","indentKeys","RegExp","startState","indentStack","indentation","mode","sExprComment","sExprQuote","token","state","sol","eatSpace","returnType","next","escaped","STRING","maybeEnd","COMMENT","peek","eatWhile","ch","ATOM","eat","numTest","hasExactness","hasRadix","NUMBER","test","skipToEnd","keyWord","indentTemp","column","letter","propertyIsEnumerable","INDENT_WORD_SKIP","eol","current","BRACKET","BUILTIN","closeBrackets","pairs","lineComment","defineMIME"]}},{"offset":{"line":718,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$mode$shell$shell.js","lineCount":6,"mappings":"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","sources":["node_modules\/codemirror\/mode\/shell\/shell.js"],"sourcesContent":["shadow$provide[290] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode('shell', function() {\n\n  var words = {};\n  function define(style, dict) {\n    for(var i = 0; i < dict.length; i++) {\n      words[dict[i]] = style;\n    }\n  };\n\n  var commonAtoms = [\"true\", \"false\"];\n  var commonKeywords = [\"if\", \"then\", \"do\", \"else\", \"elif\", \"while\", \"until\", \"for\", \"in\", \"esac\", \"fi\",\n    \"fin\", \"fil\", \"done\", \"exit\", \"set\", \"unset\", \"export\", \"function\"];\n  var commonCommands = [\"ab\", \"awk\", \"bash\", \"beep\", \"cat\", \"cc\", \"cd\", \"chown\", \"chmod\", \"chroot\", \"clear\",\n    \"cp\", \"curl\", \"cut\", \"diff\", \"echo\", \"find\", \"gawk\", \"gcc\", \"get\", \"git\", \"grep\", \"hg\", \"kill\", \"killall\",\n    \"ln\", \"ls\", \"make\", \"mkdir\", \"openssl\", \"mv\", \"nc\", \"nl\", \"node\", \"npm\", \"ping\", \"ps\", \"restart\", \"rm\",\n    \"rmdir\", \"sed\", \"service\", \"sh\", \"shopt\", \"shred\", \"source\", \"sort\", \"sleep\", \"ssh\", \"start\", \"stop\",\n    \"su\", \"sudo\", \"svn\", \"tee\", \"telnet\", \"top\", \"touch\", \"vi\", \"vim\", \"wall\", \"wc\", \"wget\", \"who\", \"write\",\n    \"yes\", \"zsh\"];\n\n  CodeMirror.registerHelper(\"hintWords\", \"shell\", commonAtoms.concat(commonKeywords, commonCommands));\n\n  define('atom', commonAtoms);\n  define('keyword', commonKeywords);\n  define('builtin', commonCommands);\n\n  function tokenBase(stream, state) {\n    if (stream.eatSpace()) return null;\n\n    var sol = stream.sol();\n    var ch = stream.next();\n\n    if (ch === '\\\\') {\n      stream.next();\n      return null;\n    }\n    if (ch === '\\'' || ch === '\"' || ch === '`') {\n      state.tokens.unshift(tokenString(ch, ch === \"`\" ? \"quote\" : \"string\"));\n      return tokenize(stream, state);\n    }\n    if (ch === '#') {\n      if (sol && stream.eat('!')) {\n        stream.skipToEnd();\n        return 'meta'; \/\/ 'comment'?\n      }\n      stream.skipToEnd();\n      return 'comment';\n    }\n    if (ch === '$') {\n      state.tokens.unshift(tokenDollar);\n      return tokenize(stream, state);\n    }\n    if (ch === '+' || ch === '=') {\n      return 'operator';\n    }\n    if (ch === '-') {\n      stream.eat('-');\n      stream.eatWhile(\/\\w\/);\n      return 'attribute';\n    }\n    if (ch == \"<\") {\n      if (stream.match(\"<<\")) return \"operator\"\n      var heredoc = stream.match(\/^<-?\\s*['\"]?([^'\"]*)['\"]?\/)\n      if (heredoc) {\n        state.tokens.unshift(tokenHeredoc(heredoc[1]))\n        return 'string-2'\n      }\n    }\n    if (\/\\d\/.test(ch)) {\n      stream.eatWhile(\/\\d\/);\n      if(stream.eol() || !\/\\w\/.test(stream.peek())) {\n        return 'number';\n      }\n    }\n    stream.eatWhile(\/[\\w-]\/);\n    var cur = stream.current();\n    if (stream.peek() === '=' && \/\\w+\/.test(cur)) return 'def';\n    return words.hasOwnProperty(cur) ? words[cur] : null;\n  }\n\n  function tokenString(quote, style) {\n    var close = quote == \"(\" ? \")\" : quote == \"{\" ? \"}\" : quote\n    return function(stream, state) {\n      var next, escaped = false;\n      while ((next = stream.next()) != null) {\n        if (next === close && !escaped) {\n          state.tokens.shift();\n          break;\n        } else if (next === '$' && !escaped && quote !== \"'\" && stream.peek() != close) {\n          escaped = true;\n          stream.backUp(1);\n          state.tokens.unshift(tokenDollar);\n          break;\n        } else if (!escaped && quote !== close && next === quote) {\n          state.tokens.unshift(tokenString(quote, style))\n          return tokenize(stream, state)\n        } else if (!escaped && \/['\"]\/.test(next) && !\/['\"]\/.test(quote)) {\n          state.tokens.unshift(tokenStringStart(next, \"string\"));\n          stream.backUp(1);\n          break;\n        }\n        escaped = !escaped && next === '\\\\';\n      }\n      return style;\n    };\n  };\n\n  function tokenStringStart(quote, style) {\n    return function(stream, state) {\n      state.tokens[0] = tokenString(quote, style)\n      stream.next()\n      return tokenize(stream, state)\n    }\n  }\n\n  var tokenDollar = function(stream, state) {\n    if (state.tokens.length > 1) stream.eat('$');\n    var ch = stream.next()\n    if (\/['\"({]\/.test(ch)) {\n      state.tokens[0] = tokenString(ch, ch == \"(\" ? \"quote\" : ch == \"{\" ? \"def\" : \"string\");\n      return tokenize(stream, state);\n    }\n    if (!\/\\d\/.test(ch)) stream.eatWhile(\/\\w\/);\n    state.tokens.shift();\n    return 'def';\n  };\n\n  function tokenHeredoc(delim) {\n    return function(stream, state) {\n      if (stream.sol() && stream.string == delim) state.tokens.shift()\n      stream.skipToEnd()\n      return \"string-2\"\n    }\n  }\n\n  function tokenize(stream, state) {\n    return (state.tokens[0] || tokenBase) (stream, state);\n  };\n\n  return {\n    startState: function() {return {tokens:[]};},\n    token: function(stream, state) {\n      return tokenize(stream, state);\n    },\n    closeBrackets: \"()[]{}''\\\"\\\"``\",\n    lineComment: '#',\n    fold: \"brace\"\n  };\n});\n\nCodeMirror.defineMIME('text\/x-sh', 'shell');\n\/\/ Apache uses a slightly different Media Type for Shell scripts\n\/\/ http:\/\/svn.apache.org\/repos\/asf\/httpd\/httpd\/trunk\/docs\/conf\/mime.types\nCodeMirror.defineMIME('application\/x-sh', 'shell');\n\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","defineMode","style","dict","i","length","words","tokenBase","stream","state","eatSpace","sol","ch","next","tokens","unshift","tokenString","tokenize","eat","skipToEnd","tokenDollar","eatWhile","match","heredoc","tokenHeredoc","test","eol","peek","cur","current","hasOwnProperty","quote","close","escaped","tokenStringStart","backUp","shift","delim","string","commonAtoms","commonKeywords","commonCommands","registerHelper","concat","startState","token","closeBrackets","lineComment","fold","defineMIME"]}},{"offset":{"line":724,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$mode$smalltalk$smalltalk.js","lineCount":5,"mappings":"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","sources":["node_modules\/codemirror\/mode\/smalltalk\/smalltalk.js"],"sourcesContent":["shadow$provide[291] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode('smalltalk', function(config) {\n\n  var specialChars = \/[+\\-\\\/\\\\*~<>=@%|&?!.,:;^]\/;\n  var keywords = \/true|false|nil|self|super|thisContext\/;\n\n  var Context = function(tokenizer, parent) {\n    this.next = tokenizer;\n    this.parent = parent;\n  };\n\n  var Token = function(name, context, eos) {\n    this.name = name;\n    this.context = context;\n    this.eos = eos;\n  };\n\n  var State = function() {\n    this.context = new Context(next, null);\n    this.expectVariable = true;\n    this.indentation = 0;\n    this.userIndentationDelta = 0;\n  };\n\n  State.prototype.userIndent = function(indentation) {\n    this.userIndentationDelta = indentation > 0 ? (indentation \/ config.indentUnit - this.indentation) : 0;\n  };\n\n  var next = function(stream, context, state) {\n    var token = new Token(null, context, false);\n    var aChar = stream.next();\n\n    if (aChar === '\"') {\n      token = nextComment(stream, new Context(nextComment, context));\n\n    } else if (aChar === '\\'') {\n      token = nextString(stream, new Context(nextString, context));\n\n    } else if (aChar === '#') {\n      if (stream.peek() === '\\'') {\n        stream.next();\n        token = nextSymbol(stream, new Context(nextSymbol, context));\n      } else {\n        if (stream.eatWhile(\/[^\\s.{}\\[\\]()]\/))\n          token.name = 'string-2';\n        else\n          token.name = 'meta';\n      }\n\n    } else if (aChar === '$') {\n      if (stream.next() === '<') {\n        stream.eatWhile(\/[^\\s>]\/);\n        stream.next();\n      }\n      token.name = 'string-2';\n\n    } else if (aChar === '|' && state.expectVariable) {\n      token.context = new Context(nextTemporaries, context);\n\n    } else if (\/[\\[\\]{}()]\/.test(aChar)) {\n      token.name = 'bracket';\n      token.eos = \/[\\[{(]\/.test(aChar);\n\n      if (aChar === '[') {\n        state.indentation++;\n      } else if (aChar === ']') {\n        state.indentation = Math.max(0, state.indentation - 1);\n      }\n\n    } else if (specialChars.test(aChar)) {\n      stream.eatWhile(specialChars);\n      token.name = 'operator';\n      token.eos = aChar !== ';'; \/\/ ; cascaded message expression\n\n    } else if (\/\\d\/.test(aChar)) {\n      stream.eatWhile(\/[\\w\\d]\/);\n      token.name = 'number';\n\n    } else if (\/[\\w_]\/.test(aChar)) {\n      stream.eatWhile(\/[\\w\\d_]\/);\n      token.name = state.expectVariable ? (keywords.test(stream.current()) ? 'keyword' : 'variable') : null;\n\n    } else {\n      token.eos = state.expectVariable;\n    }\n\n    return token;\n  };\n\n  var nextComment = function(stream, context) {\n    stream.eatWhile(\/[^\"]\/);\n    return new Token('comment', stream.eat('\"') ? context.parent : context, true);\n  };\n\n  var nextString = function(stream, context) {\n    stream.eatWhile(\/[^']\/);\n    return new Token('string', stream.eat('\\'') ? context.parent : context, false);\n  };\n\n  var nextSymbol = function(stream, context) {\n    stream.eatWhile(\/[^']\/);\n    return new Token('string-2', stream.eat('\\'') ? context.parent : context, false);\n  };\n\n  var nextTemporaries = function(stream, context) {\n    var token = new Token(null, context, false);\n    var aChar = stream.next();\n\n    if (aChar === '|') {\n      token.context = context.parent;\n      token.eos = true;\n\n    } else {\n      stream.eatWhile(\/[^|]\/);\n      token.name = 'variable';\n    }\n\n    return token;\n  };\n\n  return {\n    startState: function() {\n      return new State;\n    },\n\n    token: function(stream, state) {\n      state.userIndent(stream.indentation());\n\n      if (stream.eatSpace()) {\n        return null;\n      }\n\n      var token = state.context.next(stream, state.context, state);\n      state.context = token.context;\n      state.expectVariable = token.eos;\n\n      return token.name;\n    },\n\n    blankLine: function(state) {\n      state.userIndent(0);\n    },\n\n    indent: function(state, textAfter) {\n      var i = state.context.next === next && textAfter && textAfter.charAt(0) === ']' ? -1 : state.userIndentationDelta;\n      return (state.indentation + i) * config.indentUnit;\n    },\n\n    electricChars: ']'\n  };\n\n});\n\nCodeMirror.defineMIME('text\/x-stsrc', {name: 'smalltalk'});\n\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","defineMode","config","specialChars","keywords","Context","tokenizer","parent","next","Token","name","context","eos","State","expectVariable","userIndentationDelta","indentation","prototype","userIndent","State.prototype.userIndent","indentUnit","stream","state","token","aChar","nextComment","nextString","peek","nextSymbol","eatWhile","nextTemporaries","test","Math","max","current","eat","startState","eatSpace","blankLine","indent","textAfter","i","charAt","electricChars","defineMIME"]}},{"offset":{"line":729,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$mode$sql$sql.js","lineCount":30,"mappings":"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","sources":["node_modules\/codemirror\/mode\/sql\/sql.js"],"sourcesContent":["shadow$provide[292] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"sql\", function(config, parserConfig) {\n  var client         = parserConfig.client || {},\n      atoms          = parserConfig.atoms || {\"false\": true, \"true\": true, \"null\": true},\n      builtin        = parserConfig.builtin || set(defaultBuiltin),\n      keywords       = parserConfig.keywords || set(sqlKeywords),\n      operatorChars  = parserConfig.operatorChars || \/^[*+\\-%<>!=&|~^\\\/]\/,\n      support        = parserConfig.support || {},\n      hooks          = parserConfig.hooks || {},\n      dateSQL        = parserConfig.dateSQL || {\"date\" : true, \"time\" : true, \"timestamp\" : true},\n      backslashStringEscapes = parserConfig.backslashStringEscapes !== false,\n      brackets       = parserConfig.brackets || \/^[\\{}\\(\\)\\[\\]]\/,\n      punctuation    = parserConfig.punctuation || \/^[;.,:]\/\n\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n\n    \/\/ call hooks from the mime type\n    if (hooks[ch]) {\n      var result = hooks[ch](stream, state);\n      if (result !== false) return result;\n    }\n\n    if (support.hexNumber &&\n      ((ch == \"0\" && stream.match(\/^[xX][0-9a-fA-F]+\/))\n      || (ch == \"x\" || ch == \"X\") && stream.match(\/^'[0-9a-fA-F]+'\/))) {\n      \/\/ hex\n      \/\/ ref: http:\/\/dev.mysql.com\/doc\/refman\/5.5\/en\/hexadecimal-literals.html\n      return \"number\";\n    } else if (support.binaryNumber &&\n      (((ch == \"b\" || ch == \"B\") && stream.match(\/^'[01]+'\/))\n      || (ch == \"0\" && stream.match(\/^b[01]+\/)))) {\n      \/\/ bitstring\n      \/\/ ref: http:\/\/dev.mysql.com\/doc\/refman\/5.5\/en\/bit-field-literals.html\n      return \"number\";\n    } else if (ch.charCodeAt(0) > 47 && ch.charCodeAt(0) < 58) {\n      \/\/ numbers\n      \/\/ ref: http:\/\/dev.mysql.com\/doc\/refman\/5.5\/en\/number-literals.html\n      stream.match(\/^[0-9]*(\\.[0-9]+)?([eE][-+]?[0-9]+)?\/);\n      support.decimallessFloat && stream.match(\/^\\.(?!\\.)\/);\n      return \"number\";\n    } else if (ch == \"?\" && (stream.eatSpace() || stream.eol() || stream.eat(\";\"))) {\n      \/\/ placeholders\n      return \"variable-3\";\n    } else if (ch == \"'\" || (ch == '\"' && support.doubleQuote)) {\n      \/\/ strings\n      \/\/ ref: http:\/\/dev.mysql.com\/doc\/refman\/5.5\/en\/string-literals.html\n      state.tokenize = tokenLiteral(ch);\n      return state.tokenize(stream, state);\n    } else if ((((support.nCharCast && (ch == \"n\" || ch == \"N\"))\n        || (support.charsetCast && ch == \"_\" && stream.match(\/[a-z][a-z0-9]*\/i)))\n        && (stream.peek() == \"'\" || stream.peek() == '\"'))) {\n      \/\/ charset casting: _utf8'str', N'str', n'str'\n      \/\/ ref: http:\/\/dev.mysql.com\/doc\/refman\/5.5\/en\/string-literals.html\n      return \"keyword\";\n    } else if (support.escapeConstant && (ch == \"e\" || ch == \"E\")\n        && (stream.peek() == \"'\" || (stream.peek() == '\"' && support.doubleQuote))) {\n      \/\/ escape constant: E'str', e'str'\n      \/\/ ref: https:\/\/www.postgresql.org\/docs\/current\/sql-syntax-lexical.html#SQL-SYNTAX-STRINGS-ESCAPE\n      state.tokenize = function(stream, state) {\n        return (state.tokenize = tokenLiteral(stream.next(), true))(stream, state);\n      }\n      return \"keyword\";\n    } else if (support.commentSlashSlash && ch == \"\/\" && stream.eat(\"\/\")) {\n      \/\/ 1-line comment\n      stream.skipToEnd();\n      return \"comment\";\n    } else if ((support.commentHash && ch == \"#\")\n        || (ch == \"-\" && stream.eat(\"-\") && (!support.commentSpaceRequired || stream.eat(\" \")))) {\n      \/\/ 1-line comments\n      \/\/ ref: https:\/\/kb.askmonty.org\/en\/comment-syntax\/\n      stream.skipToEnd();\n      return \"comment\";\n    } else if (ch == \"\/\" && stream.eat(\"*\")) {\n      \/\/ multi-line comments\n      \/\/ ref: https:\/\/kb.askmonty.org\/en\/comment-syntax\/\n      state.tokenize = tokenComment(1);\n      return state.tokenize(stream, state);\n    } else if (ch == \".\") {\n      \/\/ .1 for 0.1\n      if (support.zerolessFloat && stream.match(\/^(?:\\d+(?:e[+-]?\\d+)?)\/i))\n        return \"number\";\n      if (stream.match(\/^\\.+\/))\n        return null\n      \/\/ .table_name (ODBC)\n      \/\/ \/\/ ref: http:\/\/dev.mysql.com\/doc\/refman\/5.6\/en\/identifier-qualifiers.html\n      if (support.ODBCdotTable && stream.match(\/^[\\w\\d_$#]+\/))\n        return \"variable-2\";\n    } else if (operatorChars.test(ch)) {\n      \/\/ operators\n      stream.eatWhile(operatorChars);\n      return \"operator\";\n    } else if (brackets.test(ch)) {\n      \/\/ brackets\n      return \"bracket\";\n    } else if (punctuation.test(ch)) {\n      \/\/ punctuation\n      stream.eatWhile(punctuation);\n      return \"punctuation\";\n    } else if (ch == '{' &&\n        (stream.match(\/^( )*(d|D|t|T|ts|TS)( )*'[^']*'( )*}\/) || stream.match(\/^( )*(d|D|t|T|ts|TS)( )*\"[^\"]*\"( )*}\/))) {\n      \/\/ dates (weird ODBC syntax)\n      \/\/ ref: http:\/\/dev.mysql.com\/doc\/refman\/5.5\/en\/date-and-time-literals.html\n      return \"number\";\n    } else {\n      stream.eatWhile(\/^[_\\w\\d]\/);\n      var word = stream.current().toLowerCase();\n      \/\/ dates (standard SQL syntax)\n      \/\/ ref: http:\/\/dev.mysql.com\/doc\/refman\/5.5\/en\/date-and-time-literals.html\n      if (dateSQL.hasOwnProperty(word) && (stream.match(\/^( )+'[^']*'\/) || stream.match(\/^( )+\"[^\"]*\"\/)))\n        return \"number\";\n      if (atoms.hasOwnProperty(word)) return \"atom\";\n      if (builtin.hasOwnProperty(word)) return \"builtin\";\n      if (keywords.hasOwnProperty(word)) return \"keyword\";\n      if (client.hasOwnProperty(word)) return \"string-2\";\n      return null;\n    }\n  }\n\n  \/\/ 'string', with char specified in quote escaped by '\\'\n  function tokenLiteral(quote, backslashEscapes) {\n    return function(stream, state) {\n      var escaped = false, ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == quote && !escaped) {\n          state.tokenize = tokenBase;\n          break;\n        }\n        escaped = (backslashStringEscapes || backslashEscapes) && !escaped && ch == \"\\\\\";\n      }\n      return \"string\";\n    };\n  }\n  function tokenComment(depth) {\n    return function(stream, state) {\n      var m = stream.match(\/^.*?(\\\/\\*|\\*\\\/)\/)\n      if (!m) stream.skipToEnd()\n      else if (m[1] == \"\/*\") state.tokenize = tokenComment(depth + 1)\n      else if (depth > 1) state.tokenize = tokenComment(depth - 1)\n      else state.tokenize = tokenBase\n      return \"comment\"\n    }\n  }\n\n  function pushContext(stream, state, type) {\n    state.context = {\n      prev: state.context,\n      indent: stream.indentation(),\n      col: stream.column(),\n      type: type\n    };\n  }\n\n  function popContext(state) {\n    state.indent = state.context.indent;\n    state.context = state.context.prev;\n  }\n\n  return {\n    startState: function() {\n      return {tokenize: tokenBase, context: null};\n    },\n\n    token: function(stream, state) {\n      if (stream.sol()) {\n        if (state.context && state.context.align == null)\n          state.context.align = false;\n      }\n      if (state.tokenize == tokenBase && stream.eatSpace()) return null;\n\n      var style = state.tokenize(stream, state);\n      if (style == \"comment\") return style;\n\n      if (state.context && state.context.align == null)\n        state.context.align = true;\n\n      var tok = stream.current();\n      if (tok == \"(\")\n        pushContext(stream, state, \")\");\n      else if (tok == \"[\")\n        pushContext(stream, state, \"]\");\n      else if (state.context && state.context.type == tok)\n        popContext(state);\n      return style;\n    },\n\n    indent: function(state, textAfter) {\n      var cx = state.context;\n      if (!cx) return CodeMirror.Pass;\n      var closing = textAfter.charAt(0) == cx.type;\n      if (cx.align) return cx.col + (closing ? 0 : 1);\n      else return cx.indent + (closing ? 0 : config.indentUnit);\n    },\n\n    blockCommentStart: \"\/*\",\n    blockCommentEnd: \"*\/\",\n    lineComment: support.commentSlashSlash ? \"\/\/\" : support.commentHash ? \"#\" : \"--\",\n    closeBrackets: \"()[]{}''\\\"\\\"``\"\n  };\n});\n\n  \/\/ `identifier`\n  function hookIdentifier(stream) {\n    \/\/ MySQL\/MariaDB identifiers\n    \/\/ ref: http:\/\/dev.mysql.com\/doc\/refman\/5.6\/en\/identifier-qualifiers.html\n    var ch;\n    while ((ch = stream.next()) != null) {\n      if (ch == \"`\" && !stream.eat(\"`\")) return \"variable-2\";\n    }\n    stream.backUp(stream.current().length - 1);\n    return stream.eatWhile(\/\\w\/) ? \"variable-2\" : null;\n  }\n\n  \/\/ \"identifier\"\n  function hookIdentifierDoublequote(stream) {\n    \/\/ Standard SQL \/SQLite identifiers\n    \/\/ ref: http:\/\/web.archive.org\/web\/20160813185132\/http:\/\/savage.net.au\/SQL\/sql-99.bnf.html#delimited%20identifier\n    \/\/ ref: http:\/\/sqlite.org\/lang_keywords.html\n    var ch;\n    while ((ch = stream.next()) != null) {\n      if (ch == \"\\\"\" && !stream.eat(\"\\\"\")) return \"variable-2\";\n    }\n    stream.backUp(stream.current().length - 1);\n    return stream.eatWhile(\/\\w\/) ? \"variable-2\" : null;\n  }\n\n  \/\/ variable token\n  function hookVar(stream) {\n    \/\/ variables\n    \/\/ @@prefix.varName @varName\n    \/\/ varName can be quoted with ` or ' or \"\n    \/\/ ref: http:\/\/dev.mysql.com\/doc\/refman\/5.5\/en\/user-variables.html\n    if (stream.eat(\"@\")) {\n      stream.match('session.');\n      stream.match('local.');\n      stream.match('global.');\n    }\n\n    if (stream.eat(\"'\")) {\n      stream.match(\/^.*'\/);\n      return \"variable-2\";\n    } else if (stream.eat('\"')) {\n      stream.match(\/^.*\"\/);\n      return \"variable-2\";\n    } else if (stream.eat(\"`\")) {\n      stream.match(\/^.*`\/);\n      return \"variable-2\";\n    } else if (stream.match(\/^[0-9a-zA-Z$\\.\\_]+\/)) {\n      return \"variable-2\";\n    }\n    return null;\n  };\n\n  \/\/ short client keyword token\n  function hookClient(stream) {\n    \/\/ \\N means NULL\n    \/\/ ref: http:\/\/dev.mysql.com\/doc\/refman\/5.5\/en\/null-values.html\n    if (stream.eat(\"N\")) {\n        return \"atom\";\n    }\n    \/\/ \\g, etc\n    \/\/ ref: http:\/\/dev.mysql.com\/doc\/refman\/5.5\/en\/mysql-commands.html\n    return stream.match(\/^[a-zA-Z.#!?]\/) ? \"variable-2\" : null;\n  }\n\n  \/\/ these keywords are used by all SQL dialects (however, a mode can still overwrite it)\n  var sqlKeywords = \"alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit \";\n\n  \/\/ turn a space-separated list into an array\n  function set(str) {\n    var obj = {}, words = str.split(\" \");\n    for (var i = 0; i < words.length; ++i) obj[words[i]] = true;\n    return obj;\n  }\n\n  var defaultBuiltin = \"bool boolean bit blob enum long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision real date datetime year unsigned signed decimal numeric\"\n\n  \/\/ A generic SQL Mode. It's not a standard, it just try to support what is generally supported\n  CodeMirror.defineMIME(\"text\/x-sql\", {\n    name: \"sql\",\n    keywords: set(sqlKeywords + \"begin\"),\n    builtin: set(defaultBuiltin),\n    atoms: set(\"false true null unknown\"),\n    dateSQL: set(\"date time timestamp\"),\n    support: set(\"ODBCdotTable doubleQuote binaryNumber hexNumber\")\n  });\n\n  CodeMirror.defineMIME(\"text\/x-mssql\", {\n    name: \"sql\",\n    client: set(\"$partition binary_checksum checksum connectionproperty context_info current_request_id error_line error_message error_number error_procedure error_severity error_state formatmessage get_filestream_transaction_context getansinull host_id host_name isnull isnumeric min_active_rowversion newid newsequentialid rowcount_big xact_state object_id\"),\n    keywords: set(sqlKeywords + \"begin trigger proc view index for add constraint key primary foreign collate clustered nonclustered declare exec go if use index holdlock nolock nowait paglock readcommitted readcommittedlock readpast readuncommitted repeatableread rowlock serializable snapshot tablock tablockx updlock with\"),\n    builtin: set(\"bigint numeric bit smallint decimal smallmoney int tinyint money float real char varchar text nchar nvarchar ntext binary varbinary image cursor timestamp hierarchyid uniqueidentifier sql_variant xml table \"),\n    atoms: set(\"is not null like and or in left right between inner outer join all any some cross unpivot pivot exists\"),\n    operatorChars: \/^[*+\\-%<>!=^\\&|\\\/]\/,\n    brackets: \/^[\\{}\\(\\)]\/,\n    punctuation: \/^[;.,:\/]\/,\n    backslashStringEscapes: false,\n    dateSQL: set(\"date datetimeoffset datetime2 smalldatetime datetime time\"),\n    hooks: {\n      \"@\":   hookVar\n    }\n  });\n\n  CodeMirror.defineMIME(\"text\/x-mysql\", {\n    name: \"sql\",\n    client: set(\"charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee\"),\n    keywords: set(sqlKeywords + \"accessible action add after algorithm all analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general get global grant grants group group_concat handler hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show signal slave slow smallint snapshot soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views warnings when while with work write xa xor year_month zerofill begin do then else loop repeat\"),\n    builtin: set(\"bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric\"),\n    atoms: set(\"false true null unknown\"),\n    operatorChars: \/^[*+\\-%<>!=&|^]\/,\n    dateSQL: set(\"date time timestamp\"),\n    support: set(\"ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired\"),\n    hooks: {\n      \"@\":   hookVar,\n      \"`\":   hookIdentifier,\n      \"\\\\\":  hookClient\n    }\n  });\n\n  CodeMirror.defineMIME(\"text\/x-mariadb\", {\n    name: \"sql\",\n    client: set(\"charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee\"),\n    keywords: set(sqlKeywords + \"accessible action add after algorithm all always analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general generated get global grant grants group groupby_concat handler hard hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password persistent phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show shutdown signal slave slow smallint snapshot soft soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views virtual warnings when while with work write xa xor year_month zerofill begin do then else loop repeat\"),\n    builtin: set(\"bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric\"),\n    atoms: set(\"false true null unknown\"),\n    operatorChars: \/^[*+\\-%<>!=&|^]\/,\n    dateSQL: set(\"date time timestamp\"),\n    support: set(\"ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired\"),\n    hooks: {\n      \"@\":   hookVar,\n      \"`\":   hookIdentifier,\n      \"\\\\\":  hookClient\n    }\n  });\n\n  \/\/ provided by the phpLiteAdmin project - phpliteadmin.org\n  CodeMirror.defineMIME(\"text\/x-sqlite\", {\n    name: \"sql\",\n    \/\/ commands of the official SQLite client, ref: https:\/\/www.sqlite.org\/cli.html#dotcmd\n    client: set(\"auth backup bail binary changes check clone databases dbinfo dump echo eqp exit explain fullschema headers help import imposter indexes iotrace limit lint load log mode nullvalue once open output print prompt quit read restore save scanstats schema separator session shell show stats system tables testcase timeout timer trace vfsinfo vfslist vfsname width\"),\n    \/\/ ref: http:\/\/sqlite.org\/lang_keywords.html\n    keywords: set(sqlKeywords + \"abort action add after all analyze attach autoincrement before begin cascade case cast check collate column commit conflict constraint cross current_date current_time current_timestamp database default deferrable deferred detach each else end escape except exclusive exists explain fail for foreign full glob if ignore immediate index indexed initially inner instead intersect isnull key left limit match natural no notnull null of offset outer plan pragma primary query raise recursive references regexp reindex release rename replace restrict right rollback row savepoint temp temporary then to transaction trigger unique using vacuum view virtual when with without\"),\n    \/\/ SQLite is weakly typed, ref: http:\/\/sqlite.org\/datatype3.html. This is just a list of some common types.\n    builtin: set(\"bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text clob bigint int int2 int8 integer float double char varchar date datetime year unsigned signed numeric real\"),\n    \/\/ ref: http:\/\/sqlite.org\/syntax\/literal-value.html\n    atoms: set(\"null current_date current_time current_timestamp\"),\n    \/\/ ref: http:\/\/sqlite.org\/lang_expr.html#binaryops\n    operatorChars: \/^[*+\\-%<>!=&|\/~]\/,\n    \/\/ SQLite is weakly typed, ref: http:\/\/sqlite.org\/datatype3.html. This is just a list of some common types.\n    dateSQL: set(\"date time timestamp datetime\"),\n    support: set(\"decimallessFloat zerolessFloat\"),\n    identifierQuote: \"\\\"\",  \/\/ref: http:\/\/sqlite.org\/lang_keywords.html\n    hooks: {\n      \/\/ bind-parameters ref:http:\/\/sqlite.org\/lang_expr.html#varparam\n      \"@\":   hookVar,\n      \":\":   hookVar,\n      \"?\":   hookVar,\n      \"$\":   hookVar,\n      \/\/ The preferred way to escape Identifiers is using double quotes, ref: http:\/\/sqlite.org\/lang_keywords.html\n      \"\\\"\":   hookIdentifierDoublequote,\n      \/\/ there is also support for backticks, ref: http:\/\/sqlite.org\/lang_keywords.html\n      \"`\":   hookIdentifier\n    }\n  });\n\n  \/\/ the query language used by Apache Cassandra is called CQL, but this mime type\n  \/\/ is called Cassandra to avoid confusion with Contextual Query Language\n  CodeMirror.defineMIME(\"text\/x-cassandra\", {\n    name: \"sql\",\n    client: { },\n    keywords: set(\"add all allow alter and any apply as asc authorize batch begin by clustering columnfamily compact consistency count create custom delete desc distinct drop each_quorum exists filtering from grant if in index insert into key keyspace keyspaces level limit local_one local_quorum modify nan norecursive nosuperuser not of on one order password permission permissions primary quorum rename revoke schema select set storage superuser table three to token truncate ttl two type unlogged update use user users using values where with writetime\"),\n    builtin: set(\"ascii bigint blob boolean counter decimal double float frozen inet int list map static text timestamp timeuuid tuple uuid varchar varint\"),\n    atoms: set(\"false true infinity NaN\"),\n    operatorChars: \/^[<>=]\/,\n    dateSQL: { },\n    support: set(\"commentSlashSlash decimallessFloat\"),\n    hooks: { }\n  });\n\n  \/\/ this is based on Peter Raganitsch's 'plsql' mode\n  CodeMirror.defineMIME(\"text\/x-plsql\", {\n    name:       \"sql\",\n    client:     set(\"appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap\"),\n    keywords:   set(\"abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work\"),\n    builtin:    set(\"abs acos add_months ascii asin atan atan2 average bfile bfilename bigserial bit blob ceil character chartorowid chr clob concat convert cos cosh count dec decode deref dual dump dup_val_on_index empty error exp false float floor found glb greatest hextoraw initcap instr instrb int integer isopen last_day least length lengthb ln lower lpad ltrim lub make_ref max min mlslabel mod months_between natural naturaln nchar nclob new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null number numeric nvarchar2 nvl others power rawtohex real reftohex round rowcount rowidtochar rowtype rpad rtrim serial sign signtype sin sinh smallint soundex sqlcode sqlerrm sqrt stddev string substr substrb sum sysdate tan tanh to_char text to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid unlogged upper user userenv varchar varchar2 variance varying vsize xml\"),\n    operatorChars: \/^[*\\\/+\\-%<>!=~]\/,\n    dateSQL:    set(\"date time timestamp\"),\n    support:    set(\"doubleQuote nCharCast zerolessFloat binaryNumber hexNumber\")\n  });\n\n  \/\/ Created to support specific hive keywords\n  CodeMirror.defineMIME(\"text\/x-hive\", {\n    name: \"sql\",\n    keywords: set(\"select alter $elem$ $key$ $value$ add after all analyze and archive as asc before between binary both bucket buckets by cascade case cast change cluster clustered clusterstatus collection column columns comment compute concatenate continue create cross cursor data database databases dbproperties deferred delete delimited desc describe directory disable distinct distribute drop else enable end escaped exclusive exists explain export extended external fetch fields fileformat first format formatted from full function functions grant group having hold_ddltime idxproperties if import in index indexes inpath inputdriver inputformat insert intersect into is items join keys lateral left like limit lines load local location lock locks mapjoin materialized minus msck no_drop nocompress not of offline on option or order out outer outputdriver outputformat overwrite partition partitioned partitions percent plus preserve procedure purge range rcfile read readonly reads rebuild recordreader recordwriter recover reduce regexp rename repair replace restrict revoke right rlike row schema schemas semi sequencefile serde serdeproperties set shared show show_database sort sorted ssl statistics stored streamtable table tables tablesample tblproperties temporary terminated textfile then tmp to touch transform trigger unarchive undo union uniquejoin unlock update use using utc utc_tmestamp view when where while with admin authorization char compact compactions conf cube current current_date current_timestamp day decimal defined dependency directories elem_type exchange file following for grouping hour ignore inner interval jar less logical macro minute month more none noscan over owner partialscan preceding pretty principals protection reload rewrite role roles rollup rows second server sets skewed transactions truncate unbounded unset uri user values window year\"),\n    builtin: set(\"bool boolean long timestamp tinyint smallint bigint int float double date datetime unsigned string array struct map uniontype key_type utctimestamp value_type varchar\"),\n    atoms: set(\"false true null unknown\"),\n    operatorChars: \/^[*+\\-%<>!=]\/,\n    dateSQL: set(\"date timestamp\"),\n    support: set(\"ODBCdotTable doubleQuote binaryNumber hexNumber\")\n  });\n\n  CodeMirror.defineMIME(\"text\/x-pgsql\", {\n    name: \"sql\",\n    client: set(\"source\"),\n    \/\/ For PostgreSQL - https:\/\/www.postgresql.org\/docs\/11\/sql-keywords-appendix.html\n    \/\/ For pl\/pgsql lang - https:\/\/github.com\/postgres\/postgres\/blob\/REL_11_2\/src\/pl\/plpgsql\/src\/pl_scanner.c\n    keywords: set(sqlKeywords + \"a abort abs absent absolute access according action ada add admin after aggregate alias all allocate also alter always analyse analyze and any are array array_agg array_max_cardinality as asc asensitive assert assertion assignment asymmetric at atomic attach attribute attributes authorization avg backward base64 before begin begin_frame begin_partition bernoulli between bigint binary bit bit_length blob blocked bom boolean both breadth by c cache call called cardinality cascade cascaded case cast catalog catalog_name ceil ceiling chain char char_length character character_length character_set_catalog character_set_name character_set_schema characteristics characters check checkpoint class class_origin clob close cluster coalesce cobol collate collation collation_catalog collation_name collation_schema collect column column_name columns command_function command_function_code comment comments commit committed concurrently condition condition_number configuration conflict connect connection connection_name constant constraint constraint_catalog constraint_name constraint_schema constraints constructor contains content continue control conversion convert copy corr corresponding cost count covar_pop covar_samp create cross csv cube cume_dist current current_catalog current_date current_default_transform_group current_path current_role current_row current_schema current_time current_timestamp current_transform_group_for_type current_user cursor cursor_name cycle data database datalink datatype date datetime_interval_code datetime_interval_precision day db deallocate debug dec decimal declare default defaults deferrable deferred defined definer degree delete delimiter delimiters dense_rank depends depth deref derived desc describe descriptor detach detail deterministic diagnostics dictionary disable discard disconnect dispatch distinct dlnewcopy dlpreviouscopy dlurlcomplete dlurlcompleteonly dlurlcompletewrite dlurlpath dlurlpathonly dlurlpathwrite dlurlscheme dlurlserver dlvalue do document domain double drop dump dynamic dynamic_function dynamic_function_code each element else elseif elsif empty enable encoding encrypted end end_frame end_partition endexec enforced enum equals errcode error escape event every except exception exclude excluding exclusive exec execute exists exit exp explain expression extension external extract false family fetch file filter final first first_value flag float floor following for force foreach foreign fortran forward found frame_row free freeze from fs full function functions fusion g general generated get global go goto grant granted greatest group grouping groups handler having header hex hierarchy hint hold hour id identity if ignore ilike immediate immediately immutable implementation implicit import in include including increment indent index indexes indicator info inherit inherits initially inline inner inout input insensitive insert instance instantiable instead int integer integrity intersect intersection interval into invoker is isnull isolation join k key key_member key_type label lag language large last last_value lateral lead leading leakproof least left length level library like like_regex limit link listen ln load local localtime localtimestamp location locator lock locked log logged loop lower m map mapping match matched materialized max max_cardinality maxvalue member merge message message_length message_octet_length message_text method min minute minvalue mod mode modifies module month more move multiset mumps name names namespace national natural nchar nclob nesting new next nfc nfd nfkc nfkd nil no none normalize normalized not nothing notice notify notnull nowait nth_value ntile null nullable nullif nulls number numeric object occurrences_regex octet_length octets of off offset oids old on only open operator option options or order ordering ordinality others out outer output over overlaps overlay overriding owned owner p pad parallel parameter parameter_mode parameter_name parameter_ordinal_position parameter_specific_catalog parameter_specific_name parameter_specific_schema parser partial partition pascal passing passthrough password path percent percent_rank percentile_cont percentile_disc perform period permission pg_context pg_datatype_name pg_exception_context pg_exception_detail pg_exception_hint placing plans pli policy portion position position_regex power precedes preceding precision prepare prepared preserve primary print_strict_params prior privileges procedural procedure procedures program public publication query quote raise range rank read reads real reassign recheck recovery recursive ref references referencing refresh regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy regr_syy reindex relative release rename repeatable replace replica requiring reset respect restart restore restrict result result_oid return returned_cardinality returned_length returned_octet_length returned_sqlstate returning returns reverse revoke right role rollback rollup routine routine_catalog routine_name routine_schema routines row row_count row_number rows rowtype rule savepoint scale schema schema_name schemas scope scope_catalog scope_name scope_schema scroll search second section security select selective self sensitive sequence sequences serializable server server_name session session_user set setof sets share show similar simple size skip slice smallint snapshot some source space specific specific_name specifictype sql sqlcode sqlerror sqlexception sqlstate sqlwarning sqrt stable stacked standalone start state statement static statistics stddev_pop stddev_samp stdin stdout storage strict strip structure style subclass_origin submultiset subscription substring substring_regex succeeds sum symmetric sysid system system_time system_user t table table_name tables tablesample tablespace temp template temporary text then ties time timestamp timezone_hour timezone_minute to token top_level_count trailing transaction transaction_active transactions_committed transactions_rolled_back transform transforms translate translate_regex translation treat trigger trigger_catalog trigger_name trigger_schema trim trim_array true truncate trusted type types uescape unbounded uncommitted under unencrypted union unique unknown unlink unlisten unlogged unnamed unnest until untyped update upper uri usage use_column use_variable user user_defined_type_catalog user_defined_type_code user_defined_type_name user_defined_type_schema using vacuum valid validate validator value value_of values var_pop var_samp varbinary varchar variable_conflict variadic varying verbose version versioning view views volatile warning when whenever where while whitespace width_bucket window with within without work wrapper write xml xmlagg xmlattributes xmlbinary xmlcast xmlcomment xmlconcat xmldeclaration xmldocument xmlelement xmlexists xmlforest xmliterate xmlnamespaces xmlparse xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltext xmlvalidate year yes zone\"),\n    \/\/ https:\/\/www.postgresql.org\/docs\/11\/datatype.html\n    builtin: set(\"bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml\"),\n    atoms: set(\"false true null unknown\"),\n    operatorChars: \/^[*\\\/+\\-%<>!=&|^\\\/#@?~]\/,\n    backslashStringEscapes: false,\n    dateSQL: set(\"date time timestamp\"),\n    support: set(\"ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast escapeConstant\")\n  });\n\n  \/\/ Google's SQL-like query language, GQL\n  CodeMirror.defineMIME(\"text\/x-gql\", {\n    name: \"sql\",\n    keywords: set(\"ancestor and asc by contains desc descendant distinct from group has in is limit offset on order select superset where\"),\n    atoms: set(\"false true\"),\n    builtin: set(\"blob datetime first key __key__ string integer double boolean null\"),\n    operatorChars: \/^[*+\\-%<>!=]\/\n  });\n\n  \/\/ Greenplum\n  CodeMirror.defineMIME(\"text\/x-gpsql\", {\n    name: \"sql\",\n    client: set(\"source\"),\n    \/\/https:\/\/github.com\/greenplum-db\/gpdb\/blob\/master\/src\/include\/parser\/kwlist.h\n    keywords: set(\"abort absolute access action active add admin after aggregate all also alter always analyse analyze and any array as asc assertion assignment asymmetric at authorization backward before begin between bigint binary bit boolean both by cache called cascade cascaded case cast chain char character characteristics check checkpoint class close cluster coalesce codegen collate column comment commit committed concurrency concurrently configuration connection constraint constraints contains content continue conversion copy cost cpu_rate_limit create createdb createexttable createrole createuser cross csv cube current current_catalog current_date current_role current_schema current_time current_timestamp current_user cursor cycle data database day deallocate dec decimal declare decode default defaults deferrable deferred definer delete delimiter delimiters deny desc dictionary disable discard distinct distributed do document domain double drop dxl each else enable encoding encrypted end enum errors escape every except exchange exclude excluding exclusive execute exists explain extension external extract false family fetch fields filespace fill filter first float following for force foreign format forward freeze from full function global grant granted greatest group group_id grouping handler hash having header hold host hour identity if ignore ilike immediate immutable implicit in including inclusive increment index indexes inherit inherits initially inline inner inout input insensitive insert instead int integer intersect interval into invoker is isnull isolation join key language large last leading least left level like limit list listen load local localtime localtimestamp location lock log login mapping master match maxvalue median merge minute minvalue missing mode modifies modify month move name names national natural nchar new newline next no nocreatedb nocreateexttable nocreaterole nocreateuser noinherit nologin none noovercommit nosuperuser not nothing notify notnull nowait null nullif nulls numeric object of off offset oids old on only operator option options or order ordered others out outer over overcommit overlaps overlay owned owner parser partial partition partitions passing password percent percentile_cont percentile_disc placing plans position preceding precision prepare prepared preserve primary prior privileges procedural procedure protocol queue quote randomly range read readable reads real reassign recheck recursive ref references reindex reject relative release rename repeatable replace replica reset resource restart restrict returning returns revoke right role rollback rollup rootpartition row rows rule savepoint scatter schema scroll search second security segment select sequence serializable session session_user set setof sets share show similar simple smallint some split sql stable standalone start statement statistics stdin stdout storage strict strip subpartition subpartitions substring superuser symmetric sysid system table tablespace temp template temporary text then threshold ties time timestamp to trailing transaction treat trigger trim true truncate trusted type unbounded uncommitted unencrypted union unique unknown unlisten until update user using vacuum valid validation validator value values varchar variadic varying verbose version view volatile web when where whitespace window with within without work writable write xml xmlattributes xmlconcat xmlelement xmlexists xmlforest xmlparse xmlpi xmlroot xmlserialize year yes zone\"),\n    builtin: set(\"bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml\"),\n    atoms: set(\"false true null unknown\"),\n    operatorChars: \/^[*+\\-%<>!=&|^\\\/#@?~]\/,\n    dateSQL: set(\"date time timestamp\"),\n    support: set(\"ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast\")\n  });\n\n  \/\/ Spark SQL\n  CodeMirror.defineMIME(\"text\/x-sparksql\", {\n    name: \"sql\",\n    keywords: set(\"add after all alter analyze and anti archive array as asc at between bucket buckets by cache cascade case cast change clear cluster clustered codegen collection column columns comment commit compact compactions compute concatenate cost create cross cube current current_date current_timestamp database databases data dbproperties defined delete delimited deny desc describe dfs directories distinct distribute drop else end escaped except exchange exists explain export extended external false fields fileformat first following for format formatted from full function functions global grant group grouping having if ignore import in index indexes inner inpath inputformat insert intersect interval into is items join keys last lateral lazy left like limit lines list load local location lock locks logical macro map minus msck natural no not null nulls of on optimize option options or order out outer outputformat over overwrite partition partitioned partitions percent preceding principals purge range recordreader recordwriter recover reduce refresh regexp rename repair replace reset restrict revoke right rlike role roles rollback rollup row rows schema schemas select semi separated serde serdeproperties set sets show skewed sort sorted start statistics stored stratify struct table tables tablesample tblproperties temp temporary terminated then to touch transaction transactions transform true truncate unarchive unbounded uncache union unlock unset use using values view when where window with\"),\n    builtin: set(\"tinyint smallint int bigint boolean float double string binary timestamp decimal array map struct uniontype delimited serde sequencefile textfile rcfile inputformat outputformat\"),\n    atoms: set(\"false true null\"),\n    operatorChars: \/^[*\\\/+\\-%<>!=~&|^]\/,\n    dateSQL: set(\"date time timestamp\"),\n    support: set(\"ODBCdotTable doubleQuote zerolessFloat\")\n  });\n\n  \/\/ Esper\n  CodeMirror.defineMIME(\"text\/x-esper\", {\n    name: \"sql\",\n    client: set(\"source\"),\n    \/\/ http:\/\/www.espertech.com\/esper\/release-5.5.0\/esper-reference\/html\/appendix_keywords.html\n    keywords: set(\"alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit after all and as at asc avedev avg between by case cast coalesce count create current_timestamp day days delete define desc distinct else end escape events every exists false first from full group having hour hours in inner insert instanceof into irstream is istream join last lastweekday left limit like max match_recognize matches median measures metadatasql min minute minutes msec millisecond milliseconds not null offset on or order outer output partition pattern prev prior regexp retain-union retain-intersection right rstream sec second seconds select set some snapshot sql stddev sum then true unidirectional until update variable weekday when where window\"),\n    builtin: {},\n    atoms: set(\"false true null\"),\n    operatorChars: \/^[*+\\-%<>!=&|^\\\/#@?~]\/,\n    dateSQL: set(\"time\"),\n    support: set(\"decimallessFloat zerolessFloat binaryNumber hexNumber\")\n  });\n});\n\n\/*\n  How Properties of Mime Types are used by SQL Mode\n  =================================================\n\n  keywords:\n    A list of keywords you want to be highlighted.\n  builtin:\n    A list of builtin types you want to be highlighted (if you want types to be of class \"builtin\" instead of \"keyword\").\n  operatorChars:\n    All characters that must be handled as operators.\n  client:\n    Commands parsed and executed by the client (not the server).\n  support:\n    A list of supported syntaxes which are not common, but are supported by more than 1 DBMS.\n    * ODBCdotTable: .tableName\n    * zerolessFloat: .1\n    * doubleQuote\n    * nCharCast: N'string'\n    * charsetCast: _utf8'string'\n    * commentHash: use # char for comments\n    * commentSlashSlash: use \/\/ for comments\n    * commentSpaceRequired: require a space after -- for comments\n  atoms:\n    Keywords that must be highlighted as atoms,. Some DBMS's support more atoms than others:\n    UNKNOWN, INFINITY, UNDERFLOW, NaN...\n  dateSQL:\n    Used for date\/time SQL standard syntax, because not all DBMS's support same temporal types.\n*\/\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","hookIdentifier","stream","ch","next","eat","backUp","current","length","eatWhile","hookVar","match","hookClient","set","str","obj","words","split","i","defineMode","config","parserConfig","tokenBase","state","hooks","result","support","hexNumber","binaryNumber","charCodeAt","decimallessFloat","eatSpace","eol","doubleQuote","tokenize","tokenLiteral","nCharCast","charsetCast","peek","escapeConstant","state.tokenize","commentSlashSlash","commentHash","commentSpaceRequired","skipToEnd","tokenComment","zerolessFloat","ODBCdotTable","operatorChars","test","brackets","punctuation","word","toLowerCase","dateSQL","hasOwnProperty","atoms","builtin","keywords","client","quote","backslashEscapes","escaped","backslashStringEscapes","depth","m","pushContext","type","context","prev","indent","indentation","col","column","defaultBuiltin","sqlKeywords","startState","token","sol","align","style","tok","textAfter","cx","Pass","closing","charAt","indentUnit","blockCommentStart","blockCommentEnd","lineComment","closeBrackets","defineMIME","name","identifierQuote","hookIdentifierDoublequote"]}},{"offset":{"line":759,"column":0},"map":{"version":3,"file":"module$node_modules$codemirror$mode$swift$swift.js","lineCount":8,"mappings":"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\/E\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","sources":["node_modules\/codemirror\/mode\/swift\/swift.js"],"sourcesContent":["shadow$provide[293] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n\/\/ Swift mode created by Michael Kaminsky https:\/\/github.com\/mkaminsky11\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\")\n    mod(require(\"..\/..\/lib\/codemirror\"))\n  else if (typeof define == \"function\" && define.amd)\n    define([\"..\/..\/lib\/codemirror\"], mod)\n  else\n    mod(CodeMirror)\n})(function(CodeMirror) {\n  \"use strict\"\n\n  function wordSet(words) {\n    var set = {}\n    for (var i = 0; i < words.length; i++) set[words[i]] = true\n    return set\n  }\n\n  var keywords = wordSet([\"_\",\"var\",\"let\",\"class\",\"enum\",\"extension\",\"import\",\"protocol\",\"struct\",\"func\",\"typealias\",\"associatedtype\",\n                          \"open\",\"public\",\"internal\",\"fileprivate\",\"private\",\"deinit\",\"init\",\"new\",\"override\",\"self\",\"subscript\",\"super\",\n                          \"convenience\",\"dynamic\",\"final\",\"indirect\",\"lazy\",\"required\",\"static\",\"unowned\",\"unowned(safe)\",\"unowned(unsafe)\",\"weak\",\"as\",\"is\",\n                          \"break\",\"case\",\"continue\",\"default\",\"else\",\"fallthrough\",\"for\",\"guard\",\"if\",\"in\",\"repeat\",\"switch\",\"where\",\"while\",\n                          \"defer\",\"return\",\"inout\",\"mutating\",\"nonmutating\",\"catch\",\"do\",\"rethrows\",\"throw\",\"throws\",\"try\",\"didSet\",\"get\",\"set\",\"willSet\",\n                          \"assignment\",\"associativity\",\"infix\",\"left\",\"none\",\"operator\",\"postfix\",\"precedence\",\"precedencegroup\",\"prefix\",\"right\",\n                          \"Any\",\"AnyObject\",\"Type\",\"dynamicType\",\"Self\",\"Protocol\",\"__COLUMN__\",\"__FILE__\",\"__FUNCTION__\",\"__LINE__\"])\n  var definingKeywords = wordSet([\"var\",\"let\",\"class\",\"enum\",\"extension\",\"import\",\"protocol\",\"struct\",\"func\",\"typealias\",\"associatedtype\",\"for\"])\n  var atoms = wordSet([\"true\",\"false\",\"nil\",\"self\",\"super\",\"_\"])\n  var types = wordSet([\"Array\",\"Bool\",\"Character\",\"Dictionary\",\"Double\",\"Float\",\"Int\",\"Int8\",\"Int16\",\"Int32\",\"Int64\",\"Never\",\"Optional\",\"Set\",\"String\",\n                       \"UInt8\",\"UInt16\",\"UInt32\",\"UInt64\",\"Void\"])\n  var operators = \"+-\/*%=|&<>~^?!\"\n  var punc = \":;,.(){}[]\"\n  var binary = \/^\\-?0b[01][01_]*\/\n  var octal = \/^\\-?0o[0-7][0-7_]*\/\n  var hexadecimal = \/^\\-?0x[\\dA-Fa-f][\\dA-Fa-f_]*(?:(?:\\.[\\dA-Fa-f][\\dA-Fa-f_]*)?[Pp]\\-?\\d[\\d_]*)?\/\n  var decimal = \/^\\-?\\d[\\d_]*(?:\\.\\d[\\d_]*)?(?:[Ee]\\-?\\d[\\d_]*)?\/\n  var identifier = \/^\\$\\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\\1\/\n  var property = \/^\\.(?:\\$\\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\\1)\/\n  var instruction = \/^\\#[A-Za-z]+\/\n  var attribute = \/^@(?:\\$\\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\\1)\/\n  \/\/var regexp = \/^\\\/(?!\\s)(?:\\\/\\\/)?(?:\\\\.|[^\\\/])+\\\/\/\n\n  function tokenBase(stream, state, prev) {\n    if (stream.sol()) state.indented = stream.indentation()\n    if (stream.eatSpace()) return null\n\n    var ch = stream.peek()\n    if (ch == \"\/\") {\n      if (stream.match(\"\/\/\")) {\n        stream.skipToEnd()\n        return \"comment\"\n      }\n      if (stream.match(\"\/*\")) {\n        state.tokenize.push(tokenComment)\n        return tokenComment(stream, state)\n      }\n    }\n    if (stream.match(instruction)) return \"builtin\"\n    if (stream.match(attribute)) return \"attribute\"\n    if (stream.match(binary)) return \"number\"\n    if (stream.match(octal)) return \"number\"\n    if (stream.match(hexadecimal)) return \"number\"\n    if (stream.match(decimal)) return \"number\"\n    if (stream.match(property)) return \"property\"\n    if (operators.indexOf(ch) > -1) {\n      stream.next()\n      return \"operator\"\n    }\n    if (punc.indexOf(ch) > -1) {\n      stream.next()\n      stream.match(\"..\")\n      return \"punctuation\"\n    }\n    var stringMatch\n    if (stringMatch = stream.match(\/(\"\"\"|\"|')\/)) {\n      var tokenize = tokenString.bind(null, stringMatch[0])\n      state.tokenize.push(tokenize)\n      return tokenize(stream, state)\n    }\n\n    if (stream.match(identifier)) {\n      var ident = stream.current()\n      if (types.hasOwnProperty(ident)) return \"variable-2\"\n      if (atoms.hasOwnProperty(ident)) return \"atom\"\n      if (keywords.hasOwnProperty(ident)) {\n        if (definingKeywords.hasOwnProperty(ident))\n          state.prev = \"define\"\n        return \"keyword\"\n      }\n      if (prev == \"define\") return \"def\"\n      return \"variable\"\n    }\n\n    stream.next()\n    return null\n  }\n\n  function tokenUntilClosingParen() {\n    var depth = 0\n    return function(stream, state, prev) {\n      var inner = tokenBase(stream, state, prev)\n      if (inner == \"punctuation\") {\n        if (stream.current() == \"(\") ++depth\n        else if (stream.current() == \")\") {\n          if (depth == 0) {\n            stream.backUp(1)\n            state.tokenize.pop()\n            return state.tokenize[state.tokenize.length - 1](stream, state)\n          }\n          else --depth\n        }\n      }\n      return inner\n    }\n  }\n\n  function tokenString(openQuote, stream, state) {\n    var singleLine = openQuote.length == 1\n    var ch, escaped = false\n    while (ch = stream.peek()) {\n      if (escaped) {\n        stream.next()\n        if (ch == \"(\") {\n          state.tokenize.push(tokenUntilClosingParen())\n          return \"string\"\n        }\n        escaped = false\n      } else if (stream.match(openQuote)) {\n        state.tokenize.pop()\n        return \"string\"\n      } else {\n        stream.next()\n        escaped = ch == \"\\\\\"\n      }\n    }\n    if (singleLine) {\n      state.tokenize.pop()\n    }\n    return \"string\"\n  }\n\n  function tokenComment(stream, state) {\n    var ch\n    while (true) {\n      stream.match(\/^[^\/*]+\/, true)\n      ch = stream.next()\n      if (!ch) break\n      if (ch === \"\/\" && stream.eat(\"*\")) {\n        state.tokenize.push(tokenComment)\n      } else if (ch === \"*\" && stream.eat(\"\/\")) {\n        state.tokenize.pop()\n      }\n    }\n    return \"comment\"\n  }\n\n  function Context(prev, align, indented) {\n    this.prev = prev\n    this.align = align\n    this.indented = indented\n  }\n\n  function pushContext(state, stream) {\n    var align = stream.match(\/^\\s*($|\\\/[\\\/\\*])\/, false) ? null : stream.column() + 1\n    state.context = new Context(state.context, align, state.indented)\n  }\n\n  function popContext(state) {\n    if (state.context) {\n      state.indented = state.context.indented\n      state.context = state.context.prev\n    }\n  }\n\n  CodeMirror.defineMode(\"swift\", function(config) {\n    return {\n      startState: function() {\n        return {\n          prev: null,\n          context: null,\n          indented: 0,\n          tokenize: []\n        }\n      },\n\n      token: function(stream, state) {\n        var prev = state.prev\n        state.prev = null\n        var tokenize = state.tokenize[state.tokenize.length - 1] || tokenBase\n        var style = tokenize(stream, state, prev)\n        if (!style || style == \"comment\") state.prev = prev\n        else if (!state.prev) state.prev = style\n\n        if (style == \"punctuation\") {\n          var bracket = \/[\\(\\[\\{]|([\\]\\)\\}])\/.exec(stream.current())\n          if (bracket) (bracket[1] ? popContext : pushContext)(state, stream)\n        }\n\n        return style\n      },\n\n      indent: function(state, textAfter) {\n        var cx = state.context\n        if (!cx) return 0\n        var closing = \/^[\\]\\}\\)]\/.test(textAfter)\n        if (cx.align != null) return cx.align - (closing ? 1 : 0)\n        return cx.indented + (closing ? 0 : config.indentUnit)\n      },\n\n      electricInput: \/^\\s*[\\)\\}\\]]$\/,\n\n      lineComment: \"\/\/\",\n      blockCommentStart: \"\/*\",\n      blockCommentEnd: \"*\/\",\n      fold: \"brace\",\n      closeBrackets: \"()[]{}''\\\"\\\"``\"\n    }\n  })\n\n  CodeMirror.defineMIME(\"text\/x-swift\",\"swift\")\n});\n\n};"],"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","wordSet","words","set","i","length","tokenBase","stream","state","prev","sol","indented","indentation","eatSpace","ch","peek","match","skipToEnd","tokenize","push","tokenComment","instruction","attribute","binary","octal","hexadecimal","decimal","property","operators","indexOf","next","punc","stringMatch","tokenString","bind","identifier","ident","current","types","hasOwnProperty","atoms","keywords","definingKeywords","tokenUntilClosingParen","depth","inner","backUp","pop","openQuote","singleLine","escaped","eat","Context","align","pushContext","column","context","popContext","defineMode","config","startState","token","style","bracket","exec","indent","textAfter","cx","closing","test","indentUnit","electricInput","lineComment","blockCommentStart","blockCommentEnd","fold","closeBrackets","defineMIME"]}},{"offset":{"line":767,"column":0},"map":{"version":3,"file":"code-editor.js","lineCount":8,"mappings":"AAkD0BA,IAAAA,IAAAA,QAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CACxBC,CAAOA,CAAAA,IAAPC,EACYA,KAAUC,EAAAA,IAAAA,CAAAA,EAAAA,CAAAA,CAAAA,CAAAA,OAAAA,CAEdD,IAAYE,IAAAA,CAAAA,EAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CADUD,IAAAA,CAAAA,EAAAA,CAAAA,CAAAA,CAAAA,cAAAA,CACVC,CAAZF,CAEFA,GAAaG,IAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,EAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAbH,CAKQA,IAJuCG,CAIlCC,CAJkCD,QAAAA,EAAAA,CAAAA,IAAAA,EAAAA,IAAAA,IAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,EAAAA,CAAAA,IAAAA,CAAAA,EAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAnCE,OAACC,KAAAA,CAAAA,EAAAA,CAAAA,IAAAA,CAAAA,EAAAA,CAAAA,CAAAA,CAAAA,CCxBZA,IAAAA,CAAAA,EDwBYA,CAAAA,IAAAA,CAAAA,IAAAA,CAAAA,CAAAA,CAAkCH,CAAAA,EAIlCC,CAHeG,IAAAA,CAAAA,EAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAGfH,CAFiBG,CAEjBH,CAFiBG,IAAAA,CAAAA,EAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAEjBH,CADsCN,CACtCM,CADsCN,IAAAA,CAAAA,GAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,EAAAA,CAAAA,IAAAA,CAAAA,EAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CACtCM,CAAAA,IAAAA,CAAAA,CAAAA,CAALI,IAAAA,CAAAA,CAAAA,CAAKJ,CAALI,CAAAR,CEm4B4BS,IAAAA,CAAAA,EChqBtBC,CHnOsCN,CGmOtCM,CHnOsCN,CGmOtCM,CHnONV,CAAKI,CAAAA,CAALJ,CAAAQ,CACEG,IAA0BP,EAAAA,IAAAA,CAAAA,EAAAA,CAAAA,CAAAA,CAA1BO,CACUA,EAAAA,IAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CACDA,EAAAA,CAAAA,IAAAA,CAAAA,EAAAA,CAAAA,CAAAA,CACPX,IAAKY,IAAAA,CAAAA,CAAAA,CAALJ,IAAAA,CAAAA,CAAAA,CAAKI,CAALJ,CAAAR,CAAQa,CAARb,CAAKY,CAAAA,CAALZ,CAIDc,MAHkCD,EIkSpBE,CJlSoBF,CAAAA,IAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,IAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,IAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,EAAAA,CIkSpBE,CJhSyCC,CIgSzCD,CJhSyCC,CG6BtDC,CAAAA,OAAAA,CH7BsDD,CG6BtDC,CH7BsDD,CG6BtDC,CCmQaF;AAAAA,IAAAA,CAAAA,EAAAA,CJ\/R8BG,CI+R9BH,CJ\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\/E2BjB,aD+E3B,C,CE\/EF,IAAAkB,IAA0DC,IAAAA,CAAAA,EAAV,CAAkB,GAAlB,C,CCAoBA,IAAAA,CAAAA,EAAV,CAAkB,GAAlB,C,CCAUA,IAAAA,CAAAA,EAAV,CAAkB,GAAlB,C,CCAaA,IAAAA,CAAAA,EAAV,CAAkB,GAAlB,C,CCAGA,IAAAA,CAAAA,EAAV,CAAkB,GAAlB,C,CCAgBA,IAAAA,CAAAA,EAAV,CAAkB,GAAlB,C,CCAUA,IAAAA,CAAAA,EAAV,CAAkB,GAAlB,C,CCAJA,IAAAA,CAAAA,EAAV,CAAkB,GAAlB,C,CCAUA,IAAAA,CAAAA,EAAV,CAAkB,GAAlB,C,CCAcA,IAAAA,CAAAA,EAAV,CAAkB,GAAlB,C,CCAwBA,IAAAA,CAAAA,EAAV,CAAkB,GAAlB,C,CCARA,IAAAA,CAAAA,EAAV,CAAkB,GAAlB,C,CCAYA,IAAAA,CAAAA,EAAV,CAAkB,GAAlB,C,CCAQA,IAAAA,CAAAA,EAAV,CAAkB,GAAlB,C,CCAwBA,IAAAA,CAAAA,EAAV,CAAkB,GAAlB,C,CCAFA,IAAAA,CAAAA,EAAV,CAAkB,GAAlB,C,CCAsBA,IAAAA,CAAAA,EAAV,CAAkB,GAAlB,C,CCAJA,IAAAA,CAAAA,EAAV,CAAkB,GAAlB,C,CCAgBA,IAAAA,CAAAA,EAAV,CAAkB,GAAlB,C,CCAEA,IAAAA,CAAAA,EAAV,CAAkB,GAAlB,C,CCAoBA,IAAAA,CAAAA,EAAV,CAAkB,GAAlB,C,CCAEA,IAAAA,CAAAA,EAAV,CAAkB,GAAlB,C,CCA0BA,IAAAA,CAAAA,EAAV,CAAkB,GAAlB,C,CCAJA,IAAAA,CAAAA,EAAV,CAAkB,GAAlB,C,CCAQA,IAAAA,CAAAA,EAAV,CAAkB,GAAlB,C,CCAgBA,IAAAA,CAAAA,EAAV,CAAkB,GAAlB,C,CCAMA,IAAAA,CAAAA,EAAV,CAAkB,GAAlB,C,CCAUA,IAAAA,CAAAA,EAAV,CAAkB,GAAlB,C,CCAcA,IAAAA,CAAAA,EAAV,CAAkB,GAAlB,C,CCAQA,IAAAA,CAAAA,EAAV,CAAkB,GAAlB,C,CCAkBA,IAAAA,CAAAA,EAAV,CAAkB,GAAlB,C,CCAFA,IAAAA,CAAAA,EAAV,CAAkB,GAAlB,C,CCAcA,IAAAA,CAAAA,EAAV,CAAkB,GAAlB,C,C1C8C\/BC,IAAAA,GAAAA,IAAAA,CAAUC,IAAAA,CAAAA,EAAAA,CAAAA,GAAAA,CAAAA,cAAAA,CAqHlBC;IAAAA,CAAAA,GAAAA,CASkBC,IAAAA,CAAAA,EAAAA,CAAAA,IAAAA,CAAAA,EAAAA,CAAAA,QAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAT7B,MAYuCtB,KAAAA,CAAAA,CAAAA,CAAAA,KAAAA,CAAAA,CAAAA,UAAAA,kBAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,CAAAA,CAAAA,KAAAA,CAAAA,CAAAA,UAAAA,uBAAAA,CAAAA,CAAAA,CAAAA,QAAAA,EAAAA,CAAAA,IAAAA,EAAAA,IAAAA,CAAAA,EAAAA,CAAAA,IAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,EAAAA,CAAAA,YAAAA,CAAAA,CAC7B,OAAGV,KAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,gBAAAA,CAAH,CAbV,SAaU,CAEFA,CAH+BU,CAAAA,EAAAA,CAAAA,CAAAA,CAKIA,QAAAA,EAAAA,CAAAA,IAAAA,EAAAA,IAAAA,CAAAA,EAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAAAA,IAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,EAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,EAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAjB3CuB,OAAAA,KAAAA,CAAAA,CAAAA,CAAAA,UAAAA,CAAAA,IAAAA,CAAAA,EAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,EAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,IAAAA,CAAAA,EAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,CAAAA,IAAAA,CAAAA,EAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAiB2CvB,CAAAA,EALJA,CAAAA,CAHVsB,CAAAA,CARf\/D,IAAAA,IAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,EAAAA,CAAAA,IAAAA,IAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,EAAAA,CAAAA,QAAAA,CAAAA,CAAAA,CAAAA,CACFiE,MAA0BhC,KAAAA,CAAAA,EAAAA,CAAAA,CAAAA,CAAAA,CAAAA;AAAAA,GAAAA,CAAAA,IAAAA,CAAAA,EAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,CADxBjC,CAAAA,CAEKA,IAAAA,CAAAA,EAFLA,CAEKA,QAAAA,CAAAA,CAAAA,CAAAA,CACeA,GAAlB,CAAkBA,CAAlB,CACAA,OAAAA,EAFGA,CAFLA,CAKMA,IAAAA,CAAAA,EALNA,CAKMA,QAAAA,CAAAA,CAAAA,CAAAA,CACeA,GAAlB,CAAkBA,CAAlB,CACAA,OAAAA,EAFGA,CALNA,CAAAA,CADd,IACcA,CAAAA,CAAAA,CADd,IACcA,CAQe+D,CAT7B,iCAS6BA,C,CQxFbG,IAAAA,CAAAA,EAAGC,CAAAA,EAAjB;","sources":["frontend\/extensions\/code.cljs","frontend\/db.cljs","goog\/string\/string.js","clojure\/string.cljs","frontend\/handler\/editor.cljs","goog\/dom\/dom.js","cljs\/core.cljs","frontend\/state.cljs","shadow\/loader.js","shadow\/module\/code-editor\/prepend.js","node_modules\/codemirror\/lib\/codemirror.js","node_modules\/codemirror\/addon\/edit\/matchbrackets.js","node_modules\/codemirror\/addon\/edit\/closebrackets.js","node_modules\/codemirror\/addon\/selection\/active-line.js","node_modules\/codemirror\/mode\/clojure\/clojure.js","node_modules\/codemirror\/mode\/powershell\/powershell.js","node_modules\/codemirror\/mode\/javascript\/javascript.js","node_modules\/codemirror\/mode\/xml\/xml.js","node_modules\/codemirror\/mode\/jsx\/jsx.js","node_modules\/codemirror\/mode\/clike\/clike.js","node_modules\/codemirror\/mode\/coffeescript\/coffeescript.js","node_modules\/codemirror\/mode\/css\/css.js","node_modules\/codemirror\/mode\/sass\/sass.js","node_modules\/codemirror\/mode\/vue\/vue.js","node_modules\/codemirror\/mode\/commonlisp\/commonlisp.js","node_modules\/codemirror\/mode\/dart\/dart.js","node_modules\/codemirror\/mode\/dockerfile\/dockerfile.js","node_modules\/codemirror\/mode\/elm\/elm.js","node_modules\/codemirror\/mode\/erlang\/erlang.js","node_modules\/codemirror\/mode\/go\/go.js","node_modules\/codemirror\/mode\/haskell\/haskell.js","node_modules\/codemirror\/mode\/lua\/lua.js","node_modules\/codemirror\/mode\/mathematica\/mathematica.js","node_modules\/codemirror\/mode\/perl\/perl.js","node_modules\/codemirror\/mode\/php\/php.js","node_modules\/codemirror\/mode\/python\/python.js","node_modules\/codemirror\/mode\/ruby\/ruby.js","node_modules\/codemirror\/mode\/rust\/rust.js","node_modules\/codemirror\/mode\/scheme\/scheme.js","node_modules\/codemirror\/mode\/shell\/shell.js","node_modules\/codemirror\/mode\/smalltalk\/smalltalk.js","node_modules\/codemirror\/mode\/sql\/sql.js","node_modules\/codemirror\/mode\/swift\/swift.js"],"sourcesContent":["(ns frontend.extensions.code\n  (:require [rum.core :as rum]\n            [frontend.util :as util]\n            [goog.dom :as gdom]\n            [goog.object :as gobj]\n            [frontend.db :as db]\n            [frontend.state :as state]\n            [frontend.handler.editor :as editor-handler]\n            [frontend.handler.file :as file-handler]\n            [clojure.string :as string]\n            [frontend.utf8 :as utf8]\n            [\"codemirror\" :as cm]\n            [\"codemirror\/addon\/edit\/matchbrackets\"]\n            [\"codemirror\/addon\/edit\/closebrackets\"]\n            [\"codemirror\/addon\/selection\/active-line\"]\n            [\"codemirror\/mode\/clojure\/clojure\"]\n            [\"codemirror\/mode\/powershell\/powershell\"]\n            [\"codemirror\/mode\/javascript\/javascript\"]\n            [\"codemirror\/mode\/jsx\/jsx\"]\n            [\"codemirror\/mode\/clike\/clike\"]\n            [\"codemirror\/mode\/vue\/vue\"]\n            [\"codemirror\/mode\/commonlisp\/commonlisp\"]\n            [\"codemirror\/mode\/coffeescript\/coffeescript\"]\n            [\"codemirror\/mode\/css\/css\"]\n            [\"codemirror\/mode\/sass\/sass\"]\n            [\"codemirror\/mode\/dart\/dart\"]\n            [\"codemirror\/mode\/dockerfile\/dockerfile\"]\n            [\"codemirror\/mode\/elm\/elm\"]\n            [\"codemirror\/mode\/erlang\/erlang\"]\n            [\"codemirror\/mode\/go\/go\"]\n            [\"codemirror\/mode\/haskell\/haskell\"]\n            [\"codemirror\/mode\/lua\/lua\"]\n            [\"codemirror\/mode\/mathematica\/mathematica\"]\n            [\"codemirror\/mode\/perl\/perl\"]\n            [\"codemirror\/mode\/php\/php\"]\n            [\"codemirror\/mode\/python\/python\"]\n            [\"codemirror\/mode\/ruby\/ruby\"]\n            [\"codemirror\/mode\/rust\/rust\"]\n            [\"codemirror\/mode\/scheme\/scheme\"]\n            [\"codemirror\/mode\/shell\/shell\"]\n            [\"codemirror\/mode\/smalltalk\/smalltalk\"]\n            [\"codemirror\/mode\/sql\/sql\"]\n            [\"codemirror\/mode\/swift\/swift\"]\n            [\"codemirror\/mode\/xml\/xml\"]))\n\n;; codemirror\n\n(def from-textarea (gobj\/get cm \"fromTextArea\"))\n\n(defn- save-file-or-block-when-blur-or-esc!\n  [editor textarea config state]\n  (.save editor)\n  (let [value (gobj\/get textarea \"value\")\n        default-value (gobj\/get textarea \"defaultValue\")]\n    (when (not= value default-value)\n      (cond\n        (:block\/uuid config)\n        (let [block (db\/pull [:block\/uuid (:block\/uuid config)])\n              format (:block\/format block)\n              content (:block\/content block)\n              full-content (:full_content (last (:rum\/args state)))]\n          (when (and full-content (string\/includes? content full-content))\n            (let [lines (string\/split-lines full-content)\n                  fl (first lines)\n                  ll (last lines)]\n              (when (and fl ll)\n                (let [value' (str fl \"\\n\" value \"\\n\" ll)\n                      ;; FIXME: What if there're multiple code blocks with the same value?\n                      content' (string\/replace-first content full-content value')]\n                  (editor-handler\/save-block-if-changed! block content'))))))\n\n        (:file-path config)\n        (let [path (:file-path config)\n              content (db\/get-file-no-sub path)\n              value (some-> (gdom\/getElement path)\n                            (gobj\/get \"value\"))]\n          (when (and\n                 (not (string\/blank? value))\n                 (not= (string\/trim value) (string\/trim content)))\n            (file-handler\/alter-file (state\/get-current-repo) path (string\/trim value)\n                                     {:re-render-root? true})))\n\n        :else\n        nil))))\n\n(defn- text->cm-mode\n  [text]\n  (when text\n    (let [mode (string\/lower-case text)]\n      (case mode\n        \"html\" \"text\/html\"\n        \"c\" \"text\/x-csrc\"\n        \"c++\" \"text\/x-c++src\"\n        \"java\" \"text\/x-java\"\n        \"c#\" \"text\/x-csharp\"\n        \"csharp\" \"text\/x-csharp\"\n        \"objective-c\" \"text\/x-objectivec\"\n        \"scala\" \"text\/x-scala\"\n        \"js\" \"text\/javascript\"\n        \"typescript\" \"text\/typescript\"\n        \"ts\" \"text\/typescript\"\n        \"tsx\" \"text\/typescript-jsx\"\n        \"scss\" \"text\/x-scss\"\n        \"less\" \"text\/x-less\"\n        mode))))\n\n(defn render!\n  [state]\n  (let [editor-atom (:editor-atom state)\n        esc-pressed? (atom nil)]\n    (if @editor-atom\n      (let [editor @editor-atom\n            doc (.getDoc editor)\n            code (nth (:rum\/args state) 3)]\n        (.setValue doc code))\n      (let [[config id attr code] (:rum\/args state)\n            original-mode (get attr :data-lang)\n            mode (or original-mode \"javascript\")\n            clojure? (contains? #{\"clojure\" \"clj\" \"text\/x-clojure\" \"cljs\" \"cljc\"} mode)\n            mode (if clojure? \"clojure\" (text->cm-mode mode))\n            lisp? (or clojure?\n                      (contains? #{\"scheme\" \"racket\" \"lisp\"} mode))\n            textarea (gdom\/getElement id)\n            editor (or\n                    @(:editor-atom state)\n                    (when textarea\n                      (from-textarea textarea\n                                     #js {:mode mode\n                                          :matchBrackets lisp?\n                                          :autoCloseBrackets true\n                                          :lineNumbers true\n                                          :styleActiveLine true\n                                          :extraKeys #js {\"Esc\" (fn [cm]\n                                                                  (save-file-or-block-when-blur-or-esc! cm textarea config state)\n                                                                  (when-let [block-id (:block\/uuid config)]\n                                                                    (let [block (db\/pull [:block\/uuid block-id])\n                                                                          value (.getValue cm)\n                                                                          textarea-value (gobj\/get textarea \"value\")]\n                                                                      (editor-handler\/edit-block! block :max (:block\/format block) block-id)))\n                                                                  ;; TODO: return \"handled\" or false doesn't always prevent event bubbles\n                                                                  (reset! esc-pressed? true)\n                                                                  (js\/setTimeout #(reset! esc-pressed? false) 10))}})))]\n        (when editor\n          (let [element (.getWrapperElement editor)]\n            (.on editor \"blur\" (fn [_cm e]\n                                 (util\/stop e)\n                                 (state\/set-block-component-editing-mode! false)\n                                 (when-not @esc-pressed?\n                                   (save-file-or-block-when-blur-or-esc! editor textarea config state))))\n            (.addEventListener element \"mousedown\"\n                               (fn [e]\n                                 (state\/clear-selection!)\n                                 (util\/stop e)\n                                 (state\/set-block-component-editing-mode! true)))\n            (.save editor)\n            (.refresh editor)))\n        editor))))\n\n(defn- load-and-render!\n  [state]\n  (let [editor-atom (:editor-atom state)\n        editor (render! state)]\n    (reset! editor-atom editor)))\n\n(rum\/defcs editor < rum\/reactive\n  {:init (fn [state]\n           (assoc state :editor-atom (atom nil)))\n   :did-mount (fn [state]\n                (load-and-render! state)\n                state)\n   :did-update (fn [state]\n                 (load-and-render! state)\n                 state)}\n  [state config id attr code options]\n  [:div.extensions__code\n   [:div.extensions__code-lang\n    (let [mode (string\/lower-case (get attr :data-lang \"javascript\"))]\n      (if (= mode \"text\/x-clojure\")\n        \"clojure\"\n        mode))]\n   [:textarea (merge {:id id\n                      :default-value code} attr)]])\n","(ns frontend.db\n  (:require [frontend.namespaces :refer-macros [import-vars]]\n            [frontend.db.conn :as conn]\n            [frontend.db.utils :as db-utils]\n            [frontend.db.model]\n            [frontend.db.react]\n            [frontend.db.query-custom]\n            [frontend.db.query-react]\n            [frontend.util :as util]\n            [datascript.core :as d]\n            [frontend.state :as state]\n            [promesa.core :as p]\n            [frontend.db-schema :as db-schema]\n            [frontend.db.default :as default-db]\n            [clojure.core.async :as async]\n            [frontend.idb :as idb]))\n\n(import-vars\n [frontend.db.conn\n  ;; TODO: remove later\n  conns\n  get-repo-path\n  datascript-db\n  remove-db!\n  get-conn\n  me-tx\n  remove-conn!]\n\n [frontend.db.utils\n  date->int db->json db->edn-str db->string get-max-tx-id get-tx-id\n  group-by-page seq-flatten sort-by-pos\n  string->db with-repo\n\n  entity pull pull-many transact! get-key-value]\n\n [frontend.db.model\n  block-and-children-transform blocks-count blocks-count-cache clean-export!  cloned? delete-blocks get-pre-block\n  delete-file! delete-file-blocks! delete-file-pages! delete-file-tx delete-files delete-pages-by-files\n  filter-only-public-pages-and-blocks get-all-block-contents get-all-tagged-pages\n  get-all-templates get-block-and-children get-block-by-uuid get-block-children sort-by-left\n  get-block-parent get-block-parents parents-collapsed? get-block-referenced-blocks\n  get-block-children-ids get-block-immediate-children get-block-page\n  get-blocks-contents get-custom-css\n  get-date-scheduled-or-deadlines get-db-type get-empty-pages get-file\n  get-file-blocks get-file-contents get-file-last-modified-at get-file-no-sub get-file-page get-file-page-id file-exists?\n  get-file-pages get-files get-files-blocks get-files-full get-files-that-referenced-page get-journals-length\n  get-latest-journals get-matched-blocks get-page get-page-alias get-page-alias-names get-page-blocks get-page-linked-refs-refed-pages\n  get-page-blocks-count get-page-blocks-no-cache get-page-file get-page-format get-page-properties\n  get-page-referenced-blocks get-page-referenced-pages get-page-unlinked-references get-page-referenced-blocks-no-cache\n  get-pages get-pages-relation get-pages-that-mentioned-page get-public-pages get-tag-pages\n  journal-page? local-native-fs? mark-repo-as-cloned! page-alias-set page-blocks-transform pull-block\n  set-file-last-modified-at! transact-files-db! with-block-refs-count get-modified-pages page-empty? get-alias-source-page\n  set-file-content! has-children?]\n\n [frontend.db.react\n  get-current-marker get-current-page get-current-priority set-key-value\n  transact-react! remove-key! remove-q! remove-query-component! add-q! add-query-component! clear-query-state!\n  clear-query-state-without-refs-and-embeds! get-block-blocks-cache-atom get-page-blocks-cache-atom kv q\n  query-state query-components query-entity-in-component remove-custom-query! set-new-result! sub-key-value refresh!]\n\n [frontend.db.query-custom\n  custom-query]\n\n [frontend.db.query-react\n  react-query custom-query-result-transform]\n )\n\n;; persisting DBs between page reloads\n(defn persist! [repo]\n  (let [key (datascript-db repo)\n        conn (get-conn repo false)]\n    (when conn\n      (let [db (d\/db conn)\n            db-str (if db (db->string db) \"\")]\n        (p\/let [_ (idb\/set-batch! [{:key key :value db-str}])]\n          (state\/set-last-persist-transact-id! repo false (get-max-tx-id db)))))))\n\n(defonce persistent-jobs (atom {}))\n\n(defn clear-repo-persistent-job!\n  [repo]\n  (when-let [old-job (get @persistent-jobs repo)]\n    (js\/clearTimeout old-job)))\n\n(defn- persist-if-idle!\n  [repo]\n  (clear-repo-persistent-job! repo)\n  (let [job (js\/setTimeout\n             (fn []\n               (if (and (state\/input-idle? repo)\n                        (state\/db-idle? repo))\n                 (do\n                   (persist! repo)\n                   ;; (state\/set-db-persisted! repo true)\n)\n                 (persist-if-idle! repo)))\n             3000)]\n    (swap! persistent-jobs assoc repo job)))\n\n;; only save when user's idle\n\n;; TODO: pass as a parameter\n(defonce *sync-search-indice-f (atom nil))\n(defn- repo-listen-to-tx!\n  [repo conn]\n  (d\/listen! conn :persistence\n             (fn [tx-report]\n               (when-not (util\/electron?)\n                 (let [tx-id (get-tx-id tx-report)]\n                   (state\/set-last-transact-time! repo (util\/time-ms))\n                   (persist-if-idle! repo)))\n\n               ;; rebuild search indices\n               (let [data (:tx-data tx-report)\n                     datoms (filter\n                             (fn [datom]\n                               (contains? #{:block\/name :block\/content} (:a datom)))\n                             data)]\n                 (when-let [f @*sync-search-indice-f]\n                   (f datoms))))))\n\n(defn- listen-and-persist!\n  [repo]\n  (when-let [conn (get-conn repo false)]\n    (repo-listen-to-tx! repo conn)))\n\n(defn start-db-conn!\n  ([me repo]\n   (start-db-conn! me repo {}))\n  ([me repo option]\n   (conn\/start! me repo\n                (assoc option\n                       :listen-handler listen-and-persist!))))\n\n(defn restore!\n  [{:keys [repos] :as me} restore-config-handler]\n  (let [logged? (:name me)]\n    (doall\n     (for [{:keys [url]} repos]\n       (let [repo url]\n         (p\/let [db-name (datascript-db repo)\n                 db-conn (d\/create-conn db-schema\/schema)\n                 _ (d\/transact! db-conn [{:schema\/version db-schema\/version}])\n                 _ (swap! conns assoc db-name db-conn)\n                 stored (idb\/get-item db-name)\n                 _ (if stored\n                     (let [stored-db (string->db stored)\n                           attached-db (d\/db-with stored-db (concat\n                                                             [(me-tx stored-db me)]\n                                                             default-db\/built-in-pages))]\n                       (conn\/reset-conn! db-conn attached-db))\n                     (when logged?\n                       (d\/transact! db-conn [(me-tx (d\/db db-conn) me)])))]\n           (restore-config-handler repo)\n           (listen-and-persist! repo)))))))\n\n(defn run-batch-txs!\n  []\n  (let [chan (state\/get-db-batch-txs-chan)]\n    (async\/go-loop []\n      (let [f (async\/<! chan)]\n        (f))\n      (recur))\n    chan))\n\n(defn new-block-id\n  []\n  (d\/squuid))\n","\/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n *\/\n\n\/**\n * @fileoverview Utilities for string manipulation.\n *\/\n\n\n\/**\n * Namespace for string utilities\n *\/\ngoog.provide('goog.string');\ngoog.provide('goog.string.Unicode');\n\ngoog.require('goog.dom.safe');\ngoog.require('goog.html.uncheckedconversions');\ngoog.require('goog.string.Const');\ngoog.require('goog.string.internal');\n\n\n\/**\n * @define {boolean} Enables HTML escaping of lowercase letter \"e\" which helps\n * with detection of double-escaping as this letter is frequently used.\n *\/\ngoog.string.DETECT_DOUBLE_ESCAPING =\n    goog.define('goog.string.DETECT_DOUBLE_ESCAPING', false);\n\n\n\/**\n * @define {boolean} Whether to force non-dom html unescaping.\n *\/\ngoog.string.FORCE_NON_DOM_HTML_UNESCAPING =\n    goog.define('goog.string.FORCE_NON_DOM_HTML_UNESCAPING', false);\n\n\n\/**\n * Common Unicode string characters.\n * @enum {string}\n *\/\ngoog.string.Unicode = {\n  NBSP: '\\xa0'\n};\n\n\n\/**\n * Fast prefix-checker.\n * @param {string} str The string to check.\n * @param {string} prefix A string to look for at the start of `str`.\n * @return {boolean} True if `str` begins with `prefix`.\n *\/\ngoog.string.startsWith = goog.string.internal.startsWith;\n\n\n\/**\n * Fast suffix-checker.\n * @param {string} str The string to check.\n * @param {string} suffix A string to look for at the end of `str`.\n * @return {boolean} True if `str` ends with `suffix`.\n *\/\ngoog.string.endsWith = goog.string.internal.endsWith;\n\n\n\/**\n * Case-insensitive prefix-checker.\n * @param {string} str The string to check.\n * @param {string} prefix  A string to look for at the end of `str`.\n * @return {boolean} True if `str` begins with `prefix` (ignoring\n *     case).\n *\/\ngoog.string.caseInsensitiveStartsWith =\n    goog.string.internal.caseInsensitiveStartsWith;\n\n\n\/**\n * Case-insensitive suffix-checker.\n * @param {string} str The string to check.\n * @param {string} suffix A string to look for at the end of `str`.\n * @return {boolean} True if `str` ends with `suffix` (ignoring\n *     case).\n *\/\ngoog.string.caseInsensitiveEndsWith =\n    goog.string.internal.caseInsensitiveEndsWith;\n\n\n\/**\n * Case-insensitive equality checker.\n * @param {string} str1 First string to check.\n * @param {string} str2 Second string to check.\n * @return {boolean} True if `str1` and `str2` are the same string,\n *     ignoring case.\n *\/\ngoog.string.caseInsensitiveEquals = goog.string.internal.caseInsensitiveEquals;\n\n\n\/**\n * Does simple python-style string substitution.\n * subs(\"foo%s hot%s\", \"bar\", \"dog\") becomes \"foobar hotdog\".\n * @param {string} str The string containing the pattern.\n * @param {...*} var_args The items to substitute into the pattern.\n * @return {string} A copy of `str` in which each occurrence of\n *     {@code %s} has been replaced an argument from `var_args`.\n *\/\ngoog.string.subs = function(str, var_args) {\n  'use strict';\n  var splitParts = str.split('%s');\n  var returnString = '';\n\n  var subsArguments = Array.prototype.slice.call(arguments, 1);\n  while (subsArguments.length &&\n         \/\/ Replace up to the last split part. We are inserting in the\n         \/\/ positions between split parts.\n         splitParts.length > 1) {\n    returnString += splitParts.shift() + subsArguments.shift();\n  }\n\n  return returnString + splitParts.join('%s');  \/\/ Join unused '%s'\n};\n\n\n\/**\n * Converts multiple whitespace chars (spaces, non-breaking-spaces, new lines\n * and tabs) to a single space, and strips leading and trailing whitespace.\n * @param {string} str Input string.\n * @return {string} A copy of `str` with collapsed whitespace.\n *\/\ngoog.string.collapseWhitespace = function(str) {\n  'use strict';\n  \/\/ Since IE doesn't include non-breaking-space (0xa0) in their \\s character\n  \/\/ class (as required by section 7.2 of the ECMAScript spec), we explicitly\n  \/\/ include it in the regexp to enforce consistent cross-browser behavior.\n  return str.replace(\/[\\s\\xa0]+\/g, ' ').replace(\/^\\s+|\\s+$\/g, '');\n};\n\n\n\/**\n * Checks if a string is empty or contains only whitespaces.\n * @param {string} str The string to check.\n * @return {boolean} Whether `str` is empty or whitespace only.\n *\/\ngoog.string.isEmptyOrWhitespace = goog.string.internal.isEmptyOrWhitespace;\n\n\n\/**\n * Checks if a string is empty.\n * @param {string} str The string to check.\n * @return {boolean} Whether `str` is empty.\n *\/\ngoog.string.isEmptyString = function(str) {\n  'use strict';\n  return str.length == 0;\n};\n\n\n\/**\n * Checks if a string is empty or contains only whitespaces.\n *\n * @param {string} str The string to check.\n * @return {boolean} Whether `str` is empty or whitespace only.\n * @deprecated Use goog.string.isEmptyOrWhitespace instead.\n *\/\ngoog.string.isEmpty = goog.string.isEmptyOrWhitespace;\n\n\n\/**\n * Checks if a string is null, undefined, empty or contains only whitespaces.\n * @param {*} str The string to check.\n * @return {boolean} Whether `str` is null, undefined, empty, or\n *     whitespace only.\n * @deprecated Use goog.string.isEmptyOrWhitespace(goog.string.makeSafe(str))\n *     instead.\n *\/\ngoog.string.isEmptyOrWhitespaceSafe = function(str) {\n  'use strict';\n  return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(str));\n};\n\n\n\/**\n * Checks if a string is null, undefined, empty or contains only whitespaces.\n *\n * @param {*} str The string to check.\n * @return {boolean} Whether `str` is null, undefined, empty, or\n *     whitespace only.\n * @deprecated Use goog.string.isEmptyOrWhitespace instead.\n *\/\ngoog.string.isEmptySafe = goog.string.isEmptyOrWhitespaceSafe;\n\n\n\/**\n * Checks if a string is all breaking whitespace.\n * @param {string} str The string to check.\n * @return {boolean} Whether the string is all breaking whitespace.\n *\/\ngoog.string.isBreakingWhitespace = function(str) {\n  'use strict';\n  return !\/[^\\t\\n\\r ]\/.test(str);\n};\n\n\n\/**\n * Checks if a string contains all letters.\n * @param {string} str string to check.\n * @return {boolean} True if `str` consists entirely of letters.\n *\/\ngoog.string.isAlpha = function(str) {\n  'use strict';\n  return !\/[^a-zA-Z]\/.test(str);\n};\n\n\n\/**\n * Checks if a string contains only numbers.\n * @param {*} str string to check. If not a string, it will be\n *     casted to one.\n * @return {boolean} True if `str` is numeric.\n *\/\ngoog.string.isNumeric = function(str) {\n  'use strict';\n  return !\/[^0-9]\/.test(str);\n};\n\n\n\/**\n * Checks if a string contains only numbers or letters.\n * @param {string} str string to check.\n * @return {boolean} True if `str` is alphanumeric.\n *\/\ngoog.string.isAlphaNumeric = function(str) {\n  'use strict';\n  return !\/[^a-zA-Z0-9]\/.test(str);\n};\n\n\n\/**\n * Checks if a character is a space character.\n * @param {string} ch Character to check.\n * @return {boolean} True if `ch` is a space.\n *\/\ngoog.string.isSpace = function(ch) {\n  'use strict';\n  return ch == ' ';\n};\n\n\n\/**\n * Checks if a character is a valid unicode character.\n * @param {string} ch Character to check.\n * @return {boolean} True if `ch` is a valid unicode character.\n *\/\ngoog.string.isUnicodeChar = function(ch) {\n  'use strict';\n  return ch.length == 1 && ch >= ' ' && ch <= '~' ||\n      ch >= '\\u0080' && ch <= '\\uFFFD';\n};\n\n\n\/**\n * Takes a string and replaces newlines with a space. Multiple lines are\n * replaced with a single space.\n * @param {string} str The string from which to strip newlines.\n * @return {string} A copy of `str` stripped of newlines.\n *\/\ngoog.string.stripNewlines = function(str) {\n  'use strict';\n  return str.replace(\/(\\r\\n|\\r|\\n)+\/g, ' ');\n};\n\n\n\/**\n * Replaces Windows and Mac new lines with unix style: \\r or \\r\\n with \\n.\n * @param {string} str The string to in which to canonicalize newlines.\n * @return {string} `str` A copy of {@code} with canonicalized newlines.\n *\/\ngoog.string.canonicalizeNewlines = function(str) {\n  'use strict';\n  return str.replace(\/(\\r\\n|\\r|\\n)\/g, '\\n');\n};\n\n\n\/**\n * Normalizes whitespace in a string, replacing all whitespace chars with\n * a space.\n * @param {string} str The string in which to normalize whitespace.\n * @return {string} A copy of `str` with all whitespace normalized.\n *\/\ngoog.string.normalizeWhitespace = function(str) {\n  'use strict';\n  return str.replace(\/\\xa0|\\s\/g, ' ');\n};\n\n\n\/**\n * Normalizes spaces in a string, replacing all consecutive spaces and tabs\n * with a single space. Replaces non-breaking space with a space.\n * @param {string} str The string in which to normalize spaces.\n * @return {string} A copy of `str` with all consecutive spaces and tabs\n *    replaced with a single space.\n *\/\ngoog.string.normalizeSpaces = function(str) {\n  'use strict';\n  return str.replace(\/\\xa0|[ \\t]+\/g, ' ');\n};\n\n\n\/**\n * Removes the breaking spaces from the left and right of the string and\n * collapses the sequences of breaking spaces in the middle into single spaces.\n * The original and the result strings render the same way in HTML.\n * @param {string} str A string in which to collapse spaces.\n * @return {string} Copy of the string with normalized breaking spaces.\n *\/\ngoog.string.collapseBreakingSpaces = function(str) {\n  'use strict';\n  return str.replace(\/[\\t\\r\\n ]+\/g, ' ')\n      .replace(\/^[\\t\\r\\n ]+|[\\t\\r\\n ]+$\/g, '');\n};\n\n\n\/**\n * Trims white spaces to the left and right of a string.\n * @param {string} str The string to trim.\n * @return {string} A trimmed copy of `str`.\n *\/\ngoog.string.trim = goog.string.internal.trim;\n\n\n\/**\n * Trims whitespaces at the left end of a string.\n * @param {string} str The string to left trim.\n * @return {string} A trimmed copy of `str`.\n *\/\ngoog.string.trimLeft = function(str) {\n  'use strict';\n  \/\/ Since IE doesn't include non-breaking-space (0xa0) in their \\s character\n  \/\/ class (as required by section 7.2 of the ECMAScript spec), we explicitly\n  \/\/ include it in the regexp to enforce consistent cross-browser behavior.\n  return str.replace(\/^[\\s\\xa0]+\/, '');\n};\n\n\n\/**\n * Trims whitespaces at the right end of a string.\n * @param {string} str The string to right trim.\n * @return {string} A trimmed copy of `str`.\n *\/\ngoog.string.trimRight = function(str) {\n  'use strict';\n  \/\/ Since IE doesn't include non-breaking-space (0xa0) in their \\s character\n  \/\/ class (as required by section 7.2 of the ECMAScript spec), we explicitly\n  \/\/ include it in the regexp to enforce consistent cross-browser behavior.\n  return str.replace(\/[\\s\\xa0]+$\/, '');\n};\n\n\n\/**\n * A string comparator that ignores case.\n * -1 = str1 less than str2\n *  0 = str1 equals str2\n *  1 = str1 greater than str2\n *\n * @param {string} str1 The string to compare.\n * @param {string} str2 The string to compare `str1` to.\n * @return {number} The comparator result, as described above.\n *\/\ngoog.string.caseInsensitiveCompare =\n    goog.string.internal.caseInsensitiveCompare;\n\n\n\/**\n * Compares two strings interpreting their numeric substrings as numbers.\n *\n * @param {string} str1 First string.\n * @param {string} str2 Second string.\n * @param {!RegExp} tokenizerRegExp Splits a string into substrings of\n *     non-negative integers, non-numeric characters and optionally fractional\n *     numbers starting with a decimal point.\n * @return {number} Negative if str1 < str2, 0 is str1 == str2, positive if\n *     str1 > str2.\n * @private\n *\/\ngoog.string.numberAwareCompare_ = function(str1, str2, tokenizerRegExp) {\n  'use strict';\n  if (str1 == str2) {\n    return 0;\n  }\n  if (!str1) {\n    return -1;\n  }\n  if (!str2) {\n    return 1;\n  }\n\n  \/\/ Using match to split the entire string ahead of time turns out to be faster\n  \/\/ for most inputs than using RegExp.exec or iterating over each character.\n  var tokens1 = str1.toLowerCase().match(tokenizerRegExp);\n  var tokens2 = str2.toLowerCase().match(tokenizerRegExp);\n\n  var count = Math.min(tokens1.length, tokens2.length);\n\n  for (var i = 0; i < count; i++) {\n    var a = tokens1[i];\n    var b = tokens2[i];\n\n    \/\/ Compare pairs of tokens, returning if one token sorts before the other.\n    if (a != b) {\n      \/\/ Only if both tokens are integers is a special comparison required.\n      \/\/ Decimal numbers are sorted as strings (e.g., '.09' < '.1').\n      var num1 = parseInt(a, 10);\n      if (!isNaN(num1)) {\n        var num2 = parseInt(b, 10);\n        if (!isNaN(num2) && num1 - num2) {\n          return num1 - num2;\n        }\n      }\n      return a < b ? -1 : 1;\n    }\n  }\n\n  \/\/ If one string is a substring of the other, the shorter string sorts first.\n  if (tokens1.length != tokens2.length) {\n    return tokens1.length - tokens2.length;\n  }\n\n  \/\/ The two strings must be equivalent except for case (perfect equality is\n  \/\/ tested at the head of the function.) Revert to default ASCII string\n  \/\/ comparison to stabilize the sort.\n  return str1 < str2 ? -1 : 1;\n};\n\n\n\/**\n * String comparison function that handles non-negative integer numbers in a\n * way humans might expect. Using this function, the string 'File 2.jpg' sorts\n * before 'File 10.jpg', and 'Version 1.9' before 'Version 1.10'. The comparison\n * is mostly case-insensitive, though strings that are identical except for case\n * are sorted with the upper-case strings before lower-case.\n *\n * This comparison function is up to 50x slower than either the default or the\n * case-insensitive compare. It should not be used in time-critical code, but\n * should be fast enough to sort several hundred short strings (like filenames)\n * with a reasonable delay.\n *\n * @param {string} str1 The string to compare in a numerically sensitive way.\n * @param {string} str2 The string to compare `str1` to.\n * @return {number} less than 0 if str1 < str2, 0 if str1 == str2, greater than\n *     0 if str1 > str2.\n *\/\ngoog.string.intAwareCompare = function(str1, str2) {\n  'use strict';\n  return goog.string.numberAwareCompare_(str1, str2, \/\\d+|\\D+\/g);\n};\n\n\n\/**\n * String comparison function that handles non-negative integer and fractional\n * numbers in a way humans might expect. Using this function, the string\n * 'File 2.jpg' sorts before 'File 10.jpg', and '3.14' before '3.2'. Equivalent\n * to {@link goog.string.intAwareCompare} apart from the way how it interprets\n * dots.\n *\n * @param {string} str1 The string to compare in a numerically sensitive way.\n * @param {string} str2 The string to compare `str1` to.\n * @return {number} less than 0 if str1 < str2, 0 if str1 == str2, greater than\n *     0 if str1 > str2.\n *\/\ngoog.string.floatAwareCompare = function(str1, str2) {\n  'use strict';\n  return goog.string.numberAwareCompare_(str1, str2, \/\\d+|\\.\\d+|\\D+\/g);\n};\n\n\n\/**\n * Alias for {@link goog.string.floatAwareCompare}.\n *\n * @param {string} str1\n * @param {string} str2\n * @return {number}\n *\/\ngoog.string.numerateCompare = goog.string.floatAwareCompare;\n\n\n\/**\n * URL-encodes a string\n * @param {*} str The string to url-encode.\n * @return {string} An encoded copy of `str` that is safe for urls.\n *     Note that '#', ':', and other characters used to delimit portions\n *     of URLs *will* be encoded.\n *\/\ngoog.string.urlEncode = function(str) {\n  'use strict';\n  return encodeURIComponent(String(str));\n};\n\n\n\/**\n * URL-decodes the string. We need to specially handle '+'s because\n * the javascript library doesn't convert them to spaces.\n * @param {string} str The string to url decode.\n * @return {string} The decoded `str`.\n *\/\ngoog.string.urlDecode = function(str) {\n  'use strict';\n  return decodeURIComponent(str.replace(\/\\+\/g, ' '));\n};\n\n\n\/**\n * Converts \\n to <br>s or <br \/>s.\n * @param {string} str The string in which to convert newlines.\n * @param {boolean=} opt_xml Whether to use XML compatible tags.\n * @return {string} A copy of `str` with converted newlines.\n *\/\ngoog.string.newLineToBr = goog.string.internal.newLineToBr;\n\n\n\/**\n * Escapes double quote '\"' and single quote '\\'' characters in addition to\n * '&', '<', and '>' so that a string can be included in an HTML tag attribute\n * value within double or single quotes.\n *\n * It should be noted that > doesn't need to be escaped for the HTML or XML to\n * be valid, but it has been decided to escape it for consistency with other\n * implementations.\n *\n * With goog.string.DETECT_DOUBLE_ESCAPING, this function escapes also the\n * lowercase letter \"e\".\n *\n * NOTE(user):\n * HtmlEscape is often called during the generation of large blocks of HTML.\n * Using statics for the regular expressions and strings is an optimization\n * that can more than half the amount of time IE spends in this function for\n * large apps, since strings and regexes both contribute to GC allocations.\n *\n * Testing for the presence of a character before escaping increases the number\n * of function calls, but actually provides a speed increase for the average\n * case -- since the average case often doesn't require the escaping of all 4\n * characters and indexOf() is much cheaper than replace().\n * The worst case does suffer slightly from the additional calls, therefore the\n * opt_isLikelyToContainHtmlChars option has been included for situations\n * where all 4 HTML entities are very likely to be present and need escaping.\n *\n * Some benchmarks (times tended to fluctuate +-0.05ms):\n *                                     FireFox                     IE6\n * (no chars \/ average (mix of cases) \/ all 4 chars)\n * no checks                     0.13 \/ 0.22 \/ 0.22         0.23 \/ 0.53 \/ 0.80\n * indexOf                       0.08 \/ 0.17 \/ 0.26         0.22 \/ 0.54 \/ 0.84\n * indexOf + re test             0.07 \/ 0.17 \/ 0.28         0.19 \/ 0.50 \/ 0.85\n *\n * An additional advantage of checking if replace actually needs to be called\n * is a reduction in the number of object allocations, so as the size of the\n * application grows the difference between the various methods would increase.\n *\n * @param {string} str string to be escaped.\n * @param {boolean=} opt_isLikelyToContainHtmlChars Don't perform a check to see\n *     if the character needs replacing - use this option if you expect each of\n *     the characters to appear often. Leave false if you expect few html\n *     characters to occur in your strings, such as if you are escaping HTML.\n * @return {string} An escaped copy of `str`.\n *\/\ngoog.string.htmlEscape = function(str, opt_isLikelyToContainHtmlChars) {\n  'use strict';\n  str = goog.string.internal.htmlEscape(str, opt_isLikelyToContainHtmlChars);\n  if (goog.string.DETECT_DOUBLE_ESCAPING) {\n    str = str.replace(goog.string.E_RE_, '&#101;');\n  }\n  return str;\n};\n\n\n\/**\n * Regular expression that matches a lowercase letter \"e\", for use in escaping.\n * @const {!RegExp}\n * @private\n *\/\ngoog.string.E_RE_ = \/e\/g;\n\n\n\/**\n * Unescapes an HTML string.\n *\n * @param {string} str The string to unescape.\n * @return {string} An unescaped copy of `str`.\n *\/\ngoog.string.unescapeEntities = function(str) {\n  'use strict';\n  if (goog.string.contains(str, '&')) {\n    \/\/ We are careful not to use a DOM if we do not have one or we explicitly\n    \/\/ requested non-DOM html unescaping.\n    if (!goog.string.FORCE_NON_DOM_HTML_UNESCAPING &&\n        'document' in goog.global) {\n      return goog.string.unescapeEntitiesUsingDom_(str);\n    } else {\n      \/\/ Fall back on pure XML entities\n      return goog.string.unescapePureXmlEntities_(str);\n    }\n  }\n  return str;\n};\n\n\n\/**\n * Unescapes a HTML string using the provided document.\n *\n * @param {string} str The string to unescape.\n * @param {!Document} document A document to use in escaping the string.\n * @return {string} An unescaped copy of `str`.\n *\/\ngoog.string.unescapeEntitiesWithDocument = function(str, document) {\n  'use strict';\n  if (goog.string.contains(str, '&')) {\n    return goog.string.unescapeEntitiesUsingDom_(str, document);\n  }\n  return str;\n};\n\n\n\/**\n * Unescapes an HTML string using a DOM to resolve non-XML, non-numeric\n * entities. This function is XSS-safe and whitespace-preserving.\n * @private\n * @param {string} str The string to unescape.\n * @param {Document=} opt_document An optional document to use for creating\n *     elements. If this is not specified then the default window.document\n *     will be used.\n * @return {string} The unescaped `str` string.\n *\/\ngoog.string.unescapeEntitiesUsingDom_ = function(str, opt_document) {\n  'use strict';\n  \/** @type {!Object<string, string>} *\/\n  var seen = {'&amp;': '&', '&lt;': '<', '&gt;': '>', '&quot;': '\"'};\n  \/** @type {!Element} *\/\n  var div;\n  if (opt_document) {\n    div = opt_document.createElement('div');\n  } else {\n    div = goog.global.document.createElement('div');\n  }\n  \/\/ Match as many valid entity characters as possible. If the actual entity\n  \/\/ happens to be shorter, it will still work as innerHTML will return the\n  \/\/ trailing characters unchanged. Since the entity characters do not include\n  \/\/ open angle bracket, there is no chance of XSS from the innerHTML use.\n  \/\/ Since no whitespace is passed to innerHTML, whitespace is preserved.\n  return str.replace(goog.string.HTML_ENTITY_PATTERN_, function(s, entity) {\n    'use strict';\n    \/\/ Check for cached entity.\n    var value = seen[s];\n    if (value) {\n      return value;\n    }\n    \/\/ Check for numeric entity.\n    if (entity.charAt(0) == '#') {\n      \/\/ Prefix with 0 so that hex entities (e.g. &#x10) parse as hex numbers.\n      var n = Number('0' + entity.substr(1));\n      if (!isNaN(n)) {\n        value = String.fromCharCode(n);\n      }\n    }\n    \/\/ Fall back to innerHTML otherwise.\n    if (!value) {\n      \/\/ Append a non-entity character to avoid a bug in Webkit that parses\n      \/\/ an invalid entity at the end of innerHTML text as the empty string.\n      goog.dom.safe.setInnerHtml(\n          div,\n          goog.html.uncheckedconversions\n              .safeHtmlFromStringKnownToSatisfyTypeContract(\n                  goog.string.Const.from('Single HTML entity.'), s + ' '));\n      \/\/ Then remove the trailing character from the result.\n      value = div.firstChild.nodeValue.slice(0, -1);\n    }\n    \/\/ Cache and return.\n    return seen[s] = value;\n  });\n};\n\n\n\/**\n * Unescapes XML entities.\n * @private\n * @param {string} str The string to unescape.\n * @return {string} An unescaped copy of `str`.\n *\/\ngoog.string.unescapePureXmlEntities_ = function(str) {\n  'use strict';\n  return str.replace(\/&([^;]+);\/g, function(s, entity) {\n    'use strict';\n    switch (entity) {\n      case 'amp':\n        return '&';\n      case 'lt':\n        return '<';\n      case 'gt':\n        return '>';\n      case 'quot':\n        return '\"';\n      default:\n        if (entity.charAt(0) == '#') {\n          \/\/ Prefix with 0 so that hex entities (e.g. &#x10) parse as hex.\n          var n = Number('0' + entity.substr(1));\n          if (!isNaN(n)) {\n            return String.fromCharCode(n);\n          }\n        }\n        \/\/ For invalid entities we just return the entity\n        return s;\n    }\n  });\n};\n\n\n\/**\n * Regular expression that matches an HTML entity.\n * See also HTML5: Tokenization \/ Tokenizing character references.\n * @private\n * @type {!RegExp}\n *\/\ngoog.string.HTML_ENTITY_PATTERN_ = \/&([^;\\s<&]+);?\/g;\n\n\n\/**\n * Do escaping of whitespace to preserve spatial formatting. We use character\n * entity #160 to make it safer for xml.\n * @param {string} str The string in which to escape whitespace.\n * @param {boolean=} opt_xml Whether to use XML compatible tags.\n * @return {string} An escaped copy of `str`.\n *\/\ngoog.string.whitespaceEscape = function(str, opt_xml) {\n  'use strict';\n  \/\/ This doesn't use goog.string.preserveSpaces for backwards compatibility.\n  return goog.string.newLineToBr(str.replace(\/  \/g, ' &#160;'), opt_xml);\n};\n\n\n\/**\n * Preserve spaces that would be otherwise collapsed in HTML by replacing them\n * with non-breaking space Unicode characters.\n * @param {string} str The string in which to preserve whitespace.\n * @return {string} A copy of `str` with preserved whitespace.\n *\/\ngoog.string.preserveSpaces = function(str) {\n  'use strict';\n  return str.replace(\/(^|[\\n ]) \/g, '$1' + goog.string.Unicode.NBSP);\n};\n\n\n\/**\n * Strip quote characters around a string.  The second argument is a string of\n * characters to treat as quotes.  This can be a single character or a string of\n * multiple character and in that case each of those are treated as possible\n * quote characters. For example:\n *\n * <pre>\n * goog.string.stripQuotes('\"abc\"', '\"`') --> 'abc'\n * goog.string.stripQuotes('`abc`', '\"`') --> 'abc'\n * <\/pre>\n *\n * @param {string} str The string to strip.\n * @param {string} quoteChars The quote characters to strip.\n * @return {string} A copy of `str` without the quotes.\n *\/\ngoog.string.stripQuotes = function(str, quoteChars) {\n  'use strict';\n  var length = quoteChars.length;\n  for (var i = 0; i < length; i++) {\n    var quoteChar = length == 1 ? quoteChars : quoteChars.charAt(i);\n    if (str.charAt(0) == quoteChar && str.charAt(str.length - 1) == quoteChar) {\n      return str.substring(1, str.length - 1);\n    }\n  }\n  return str;\n};\n\n\n\/**\n * Truncates a string to a certain length and adds '...' if necessary.  The\n * length also accounts for the ellipsis, so a maximum length of 10 and a string\n * 'Hello World!' produces 'Hello W...'.\n * @param {string} str The string to truncate.\n * @param {number} chars Max number of characters.\n * @param {boolean=} opt_protectEscapedCharacters Whether to protect escaped\n *     characters from being cut off in the middle.\n * @return {string} The truncated `str` string.\n *\/\ngoog.string.truncate = function(str, chars, opt_protectEscapedCharacters) {\n  'use strict';\n  if (opt_protectEscapedCharacters) {\n    str = goog.string.unescapeEntities(str);\n  }\n\n  if (str.length > chars) {\n    str = str.substring(0, chars - 3) + '...';\n  }\n\n  if (opt_protectEscapedCharacters) {\n    str = goog.string.htmlEscape(str);\n  }\n\n  return str;\n};\n\n\n\/**\n * Truncate a string in the middle, adding \"...\" if necessary,\n * and favoring the beginning of the string.\n * @param {string} str The string to truncate the middle of.\n * @param {number} chars Max number of characters.\n * @param {boolean=} opt_protectEscapedCharacters Whether to protect escaped\n *     characters from being cutoff in the middle.\n * @param {number=} opt_trailingChars Optional number of trailing characters to\n *     leave at the end of the string, instead of truncating as close to the\n *     middle as possible.\n * @return {string} A truncated copy of `str`.\n *\/\ngoog.string.truncateMiddle = function(\n    str, chars, opt_protectEscapedCharacters, opt_trailingChars) {\n  'use strict';\n  if (opt_protectEscapedCharacters) {\n    str = goog.string.unescapeEntities(str);\n  }\n\n  if (opt_trailingChars && str.length > chars) {\n    if (opt_trailingChars > chars) {\n      opt_trailingChars = chars;\n    }\n    var endPoint = str.length - opt_trailingChars;\n    var startPoint = chars - opt_trailingChars;\n    str = str.substring(0, startPoint) + '...' + str.substring(endPoint);\n  } else if (str.length > chars) {\n    \/\/ Favor the beginning of the string:\n    var half = Math.floor(chars \/ 2);\n    var endPos = str.length - half;\n    half += chars % 2;\n    str = str.substring(0, half) + '...' + str.substring(endPos);\n  }\n\n  if (opt_protectEscapedCharacters) {\n    str = goog.string.htmlEscape(str);\n  }\n\n  return str;\n};\n\n\n\/**\n * Special chars that need to be escaped for goog.string.quote.\n * @private {!Object<string, string>}\n *\/\ngoog.string.specialEscapeChars_ = {\n  '\\0': '\\\\0',\n  '\\b': '\\\\b',\n  '\\f': '\\\\f',\n  '\\n': '\\\\n',\n  '\\r': '\\\\r',\n  '\\t': '\\\\t',\n  '\\x0B': '\\\\x0B',  \/\/ '\\v' is not supported in JScript\n  '\"': '\\\\\"',\n  '\\\\': '\\\\\\\\',\n  \/\/ To support the use case of embedding quoted strings inside of script\n  \/\/ tags, we have to make sure HTML comments and opening\/closing script tags do\n  \/\/ not appear in the resulting string. The specific strings that must be\n  \/\/ escaped are documented at:\n  \/\/ https:\/\/html.spec.whatwg.org\/multipage\/scripting.html#restrictions-for-contents-of-script-elements\n  '<': '\\\\u003C'  \/\/ NOTE: JSON.parse crashes on '\\\\x3c'.\n};\n\n\n\/**\n * Character mappings used internally for goog.string.escapeChar.\n * @private {!Object<string, string>}\n *\/\ngoog.string.jsEscapeCache_ = {\n  '\\'': '\\\\\\''\n};\n\n\n\/**\n * Encloses a string in double quotes and escapes characters so that the\n * string is a valid JS string. The resulting string is safe to embed in\n * `<script>` tags as \"<\" is escaped.\n * @param {string} s The string to quote.\n * @return {string} A copy of `s` surrounded by double quotes.\n *\/\ngoog.string.quote = function(s) {\n  'use strict';\n  s = String(s);\n  var sb = ['\"'];\n  for (var i = 0; i < s.length; i++) {\n    var ch = s.charAt(i);\n    var cc = ch.charCodeAt(0);\n    sb[i + 1] = goog.string.specialEscapeChars_[ch] ||\n        ((cc > 31 && cc < 127) ? ch : goog.string.escapeChar(ch));\n  }\n  sb.push('\"');\n  return sb.join('');\n};\n\n\n\/**\n * Takes a string and returns the escaped string for that input string.\n * @param {string} str The string to escape.\n * @return {string} An escaped string representing `str`.\n *\/\ngoog.string.escapeString = function(str) {\n  'use strict';\n  var sb = [];\n  for (var i = 0; i < str.length; i++) {\n    sb[i] = goog.string.escapeChar(str.charAt(i));\n  }\n  return sb.join('');\n};\n\n\n\/**\n * Takes a character and returns the escaped string for that character. For\n * example escapeChar(String.fromCharCode(15)) -> \"\\\\x0E\".\n * @param {string} c The character to escape.\n * @return {string} An escaped string representing `c`.\n *\/\ngoog.string.escapeChar = function(c) {\n  'use strict';\n  if (c in goog.string.jsEscapeCache_) {\n    return goog.string.jsEscapeCache_[c];\n  }\n\n  if (c in goog.string.specialEscapeChars_) {\n    return goog.string.jsEscapeCache_[c] = goog.string.specialEscapeChars_[c];\n  }\n\n  var rv = c;\n  var cc = c.charCodeAt(0);\n  if (cc > 31 && cc < 127) {\n    rv = c;\n  } else {\n    \/\/ tab is 9 but handled above\n    if (cc < 256) {\n      rv = '\\\\x';\n      if (cc < 16 || cc > 256) {\n        rv += '0';\n      }\n    } else {\n      rv = '\\\\u';\n      if (cc < 4096) {  \/\/ \\u1000\n        rv += '0';\n      }\n    }\n    rv += cc.toString(16).toUpperCase();\n  }\n\n  return goog.string.jsEscapeCache_[c] = rv;\n};\n\n\n\/**\n * Determines whether a string contains a substring.\n * @param {string} str The string to search.\n * @param {string} subString The substring to search for.\n * @return {boolean} Whether `str` contains `subString`.\n *\/\ngoog.string.contains = goog.string.internal.contains;\n\n\n\/**\n * Determines whether a string contains a substring, ignoring case.\n * @param {string} str The string to search.\n * @param {string} subString The substring to search for.\n * @return {boolean} Whether `str` contains `subString`.\n *\/\ngoog.string.caseInsensitiveContains =\n    goog.string.internal.caseInsensitiveContains;\n\n\n\/**\n * Returns the non-overlapping occurrences of ss in s.\n * If either s or ss evalutes to false, then returns zero.\n * @param {string} s The string to look in.\n * @param {string} ss The string to look for.\n * @return {number} Number of occurrences of ss in s.\n *\/\ngoog.string.countOf = function(s, ss) {\n  'use strict';\n  return s && ss ? s.split(ss).length - 1 : 0;\n};\n\n\n\/**\n * Removes a substring of a specified length at a specific\n * index in a string.\n * @param {string} s The base string from which to remove.\n * @param {number} index The index at which to remove the substring.\n * @param {number} stringLength The length of the substring to remove.\n * @return {string} A copy of `s` with the substring removed or the full\n *     string if nothing is removed or the input is invalid.\n *\/\ngoog.string.removeAt = function(s, index, stringLength) {\n  'use strict';\n  var resultStr = s;\n  \/\/ If the index is greater or equal to 0 then remove substring\n  if (index >= 0 && index < s.length && stringLength > 0) {\n    resultStr = s.substr(0, index) +\n        s.substr(index + stringLength, s.length - index - stringLength);\n  }\n  return resultStr;\n};\n\n\n\/**\n * Removes the first occurrence of a substring from a string.\n * @param {string} str The base string from which to remove.\n * @param {string} substr The string to remove.\n * @return {string} A copy of `str` with `substr` removed or the\n *     full string if nothing is removed.\n *\/\ngoog.string.remove = function(str, substr) {\n  'use strict';\n  return str.replace(substr, '');\n};\n\n\n\/**\n *  Removes all occurrences of a substring from a string.\n *  @param {string} s The base string from which to remove.\n *  @param {string} ss The string to remove.\n *  @return {string} A copy of `s` with `ss` removed or the full\n *      string if nothing is removed.\n *\/\ngoog.string.removeAll = function(s, ss) {\n  'use strict';\n  var re = new RegExp(goog.string.regExpEscape(ss), 'g');\n  return s.replace(re, '');\n};\n\n\n\/**\n *  Replaces all occurrences of a substring of a string with a new substring.\n *  @param {string} s The base string from which to remove.\n *  @param {string} ss The string to replace.\n *  @param {string} replacement The replacement string.\n *  @return {string} A copy of `s` with `ss` replaced by\n *      `replacement` or the original string if nothing is replaced.\n *\/\ngoog.string.replaceAll = function(s, ss, replacement) {\n  'use strict';\n  var re = new RegExp(goog.string.regExpEscape(ss), 'g');\n  return s.replace(re, replacement.replace(\/\\$\/g, '$$$$'));\n};\n\n\n\/**\n * Escapes characters in the string that are not safe to use in a RegExp.\n * @param {*} s The string to escape. If not a string, it will be casted\n *     to one.\n * @return {string} A RegExp safe, escaped copy of `s`.\n *\/\ngoog.string.regExpEscape = function(s) {\n  'use strict';\n  return String(s)\n      .replace(\/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])\/g, '\\\\$1')\n      .replace(\/\\x08\/g, '\\\\x08');\n};\n\n\n\/**\n * Repeats a string n times.\n * @param {string} string The string to repeat.\n * @param {number} length The number of times to repeat.\n * @return {string} A string containing `length` repetitions of\n *     `string`.\n *\/\ngoog.string.repeat = (String.prototype.repeat) ? function(string, length) {\n  'use strict';\n  \/\/ The native method is over 100 times faster than the alternative.\n  return string.repeat(length);\n} : function(string, length) {\n  'use strict';\n  return new Array(length + 1).join(string);\n};\n\n\n\/**\n * Pads number to given length and optionally rounds it to a given precision.\n * For example:\n * <pre>padNumber(1.25, 2, 3) -> '01.250'\n * padNumber(1.25, 2) -> '01.25'\n * padNumber(1.25, 2, 1) -> '01.3'\n * padNumber(1.25, 0) -> '1.25'<\/pre>\n *\n * @param {number} num The number to pad.\n * @param {number} length The desired length.\n * @param {number=} opt_precision The desired precision.\n * @return {string} `num` as a string with the given options.\n *\/\ngoog.string.padNumber = function(num, length, opt_precision) {\n  'use strict';\n  var s =\n      (opt_precision !== undefined) ? num.toFixed(opt_precision) : String(num);\n  var index = s.indexOf('.');\n  if (index == -1) {\n    index = s.length;\n  }\n  return goog.string.repeat('0', Math.max(0, length - index)) + s;\n};\n\n\n\/**\n * Returns a string representation of the given object, with\n * null and undefined being returned as the empty string.\n *\n * @param {*} obj The object to convert.\n * @return {string} A string representation of the `obj`.\n *\/\ngoog.string.makeSafe = function(obj) {\n  'use strict';\n  return obj == null ? '' : String(obj);\n};\n\n\n\/**\n * Concatenates string expressions. This is useful\n * since some browsers are very inefficient when it comes to using plus to\n * concat strings. Be careful when using null and undefined here since\n * these will not be included in the result. If you need to represent these\n * be sure to cast the argument to a String first.\n * For example:\n * <pre>buildString('a', 'b', 'c', 'd') -> 'abcd'\n * buildString(null, undefined) -> ''\n * <\/pre>\n * @param {...*} var_args A list of strings to concatenate. If not a string,\n *     it will be casted to one.\n * @return {string} The concatenation of `var_args`.\n *\/\ngoog.string.buildString = function(var_args) {\n  'use strict';\n  return Array.prototype.join.call(arguments, '');\n};\n\n\n\/**\n * Returns a string with at least 64-bits of randomness.\n *\n * Doesn't trust JavaScript's random function entirely. Uses a combination of\n * random and current timestamp, and then encodes the string in base-36 to\n * make it shorter.\n *\n * @return {string} A random string, e.g. sn1s7vb4gcic.\n *\/\ngoog.string.getRandomString = function() {\n  'use strict';\n  var x = 2147483648;\n  return Math.floor(Math.random() * x).toString(36) +\n      Math.abs(Math.floor(Math.random() * x) ^ goog.now()).toString(36);\n};\n\n\n\/**\n * Compares two version numbers.\n *\n * @param {string|number} version1 Version of first item.\n * @param {string|number} version2 Version of second item.\n *\n * @return {number}  1 if `version1` is higher.\n *                   0 if arguments are equal.\n *                  -1 if `version2` is higher.\n *\/\ngoog.string.compareVersions = goog.string.internal.compareVersions;\n\n\n\/**\n * String hash function similar to java.lang.String.hashCode().\n * The hash code for a string is computed as\n * s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],\n * where s[i] is the ith character of the string and n is the length of\n * the string. We mod the result to make it between 0 (inclusive) and 2^32\n * (exclusive).\n * @param {string} str A string.\n * @return {number} Hash value for `str`, between 0 (inclusive) and 2^32\n *  (exclusive). The empty string returns 0.\n *\/\ngoog.string.hashCode = function(str) {\n  'use strict';\n  var result = 0;\n  for (var i = 0; i < str.length; ++i) {\n    \/\/ Normalize to 4 byte range, 0 ... 2^32.\n    result = (31 * result + str.charCodeAt(i)) >>> 0;\n  }\n  return result;\n};\n\n\n\/**\n * The most recent unique ID. |0 is equivalent to Math.floor in this case.\n * @type {number}\n * @private\n *\/\ngoog.string.uniqueStringCounter_ = Math.random() * 0x80000000 | 0;\n\n\n\/**\n * Generates and returns a string which is unique in the current document.\n * This is useful, for example, to create unique IDs for DOM elements.\n * @return {string} A unique id.\n *\/\ngoog.string.createUniqueString = function() {\n  'use strict';\n  return 'goog_' + goog.string.uniqueStringCounter_++;\n};\n\n\n\/**\n * Converts the supplied string to a number, which may be Infinity or NaN.\n * This function strips whitespace: (toNumber(' 123') === 123)\n * This function accepts scientific notation: (toNumber('1e1') === 10)\n *\n * This is better than JavaScript's built-in conversions because, sadly:\n *     (Number(' ') === 0) and (parseFloat('123a') === 123)\n *\n * @param {string} str The string to convert.\n * @return {number} The number the supplied string represents, or NaN.\n *\/\ngoog.string.toNumber = function(str) {\n  'use strict';\n  var num = Number(str);\n  if (num == 0 && goog.string.isEmptyOrWhitespace(str)) {\n    return NaN;\n  }\n  return num;\n};\n\n\n\/**\n * Returns whether the given string is lower camel case (e.g. \"isFooBar\").\n *\n * Note that this assumes the string is entirely letters.\n * @see http:\/\/en.wikipedia.org\/wiki\/CamelCase#Variations_and_synonyms\n *\n * @param {string} str String to test.\n * @return {boolean} Whether the string is lower camel case.\n *\/\ngoog.string.isLowerCamelCase = function(str) {\n  'use strict';\n  return \/^[a-z]+([A-Z][a-z]*)*$\/.test(str);\n};\n\n\n\/**\n * Returns whether the given string is upper camel case (e.g. \"FooBarBaz\").\n *\n * Note that this assumes the string is entirely letters.\n * @see http:\/\/en.wikipedia.org\/wiki\/CamelCase#Variations_and_synonyms\n *\n * @param {string} str String to test.\n * @return {boolean} Whether the string is upper camel case.\n *\/\ngoog.string.isUpperCamelCase = function(str) {\n  'use strict';\n  return \/^([A-Z][a-z]*)+$\/.test(str);\n};\n\n\n\/**\n * Converts a string from selector-case to camelCase (e.g. from\n * \"multi-part-string\" to \"multiPartString\"), useful for converting\n * CSS selectors and HTML dataset keys to their equivalent JS properties.\n * @param {string} str The string in selector-case form.\n * @return {string} The string in camelCase form.\n *\/\ngoog.string.toCamelCase = function(str) {\n  'use strict';\n  return String(str).replace(\/\\-([a-z])\/g, function(all, match) {\n    'use strict';\n    return match.toUpperCase();\n  });\n};\n\n\n\/**\n * Converts a string from camelCase to selector-case (e.g. from\n * \"multiPartString\" to \"multi-part-string\"), useful for converting JS\n * style and dataset properties to equivalent CSS selectors and HTML keys.\n * @param {string} str The string in camelCase form.\n * @return {string} The string in selector-case form.\n *\/\ngoog.string.toSelectorCase = function(str) {\n  'use strict';\n  return String(str).replace(\/([A-Z])\/g, '-$1').toLowerCase();\n};\n\n\n\/**\n * Converts a string into TitleCase. First character of the string is always\n * capitalized in addition to the first letter of every subsequent word.\n * Words are delimited by one or more whitespaces by default. Custom delimiters\n * can optionally be specified to replace the default, which doesn't preserve\n * whitespace delimiters and instead must be explicitly included if needed.\n *\n * Default delimiter => \" \":\n *    goog.string.toTitleCase('oneTwoThree')    => 'OneTwoThree'\n *    goog.string.toTitleCase('one two three')  => 'One Two Three'\n *    goog.string.toTitleCase('  one   two   ') => '  One   Two   '\n *    goog.string.toTitleCase('one_two_three')  => 'One_two_three'\n *    goog.string.toTitleCase('one-two-three')  => 'One-two-three'\n *\n * Custom delimiter => \"_-.\":\n *    goog.string.toTitleCase('oneTwoThree', '_-.')       => 'OneTwoThree'\n *    goog.string.toTitleCase('one two three', '_-.')     => 'One two three'\n *    goog.string.toTitleCase('  one   two   ', '_-.')    => '  one   two   '\n *    goog.string.toTitleCase('one_two_three', '_-.')     => 'One_Two_Three'\n *    goog.string.toTitleCase('one-two-three', '_-.')     => 'One-Two-Three'\n *    goog.string.toTitleCase('one...two...three', '_-.') => 'One...Two...Three'\n *    goog.string.toTitleCase('one. two. three', '_-.')   => 'One. two. three'\n *    goog.string.toTitleCase('one-two.three', '_-.')     => 'One-Two.Three'\n *\n * @param {string} str String value in camelCase form.\n * @param {string=} opt_delimiters Custom delimiter character set used to\n *      distinguish words in the string value. Each character represents a\n *      single delimiter. When provided, default whitespace delimiter is\n *      overridden and must be explicitly included if needed.\n * @return {string} String value in TitleCase form.\n *\/\ngoog.string.toTitleCase = function(str, opt_delimiters) {\n  'use strict';\n  var delimiters = (typeof opt_delimiters === 'string') ?\n      goog.string.regExpEscape(opt_delimiters) :\n      '\\\\s';\n\n  \/\/ For IE8, we need to prevent using an empty character set. Otherwise,\n  \/\/ incorrect matching will occur.\n  delimiters = delimiters ? '|[' + delimiters + ']+' : '';\n\n  var regexp = new RegExp('(^' + delimiters + ')([a-z])', 'g');\n  return str.replace(regexp, function(all, p1, p2) {\n    'use strict';\n    return p1 + p2.toUpperCase();\n  });\n};\n\n\n\/**\n * Capitalizes a string, i.e. converts the first letter to uppercase\n * and all other letters to lowercase, e.g.:\n *\n * goog.string.capitalize('one')     => 'One'\n * goog.string.capitalize('ONE')     => 'One'\n * goog.string.capitalize('one two') => 'One two'\n *\n * Note that this function does not trim initial whitespace.\n *\n * @param {string} str String value to capitalize.\n * @return {string} String value with first letter in uppercase.\n *\/\ngoog.string.capitalize = function(str) {\n  'use strict';\n  return String(str.charAt(0)).toUpperCase() +\n      String(str.substr(1)).toLowerCase();\n};\n\n\n\/**\n * Parse a string in decimal or hexidecimal ('0xFFFF') form.\n *\n * To parse a particular radix, please use parseInt(string, radix) directly. See\n * https:\/\/developer.mozilla.org\/en\/JavaScript\/Reference\/Global_Objects\/parseInt\n *\n * This is a wrapper for the built-in parseInt function that will only parse\n * numbers as base 10 or base 16.  Some JS implementations assume strings\n * starting with \"0\" are intended to be octal. ES3 allowed but discouraged\n * this behavior. ES5 forbids it.  This function emulates the ES5 behavior.\n *\n * For more information, see Mozilla JS Reference: http:\/\/goo.gl\/8RiFj\n *\n * @param {string|number|null|undefined} value The value to be parsed.\n * @return {number} The number, parsed. If the string failed to parse, this\n *     will be NaN.\n *\/\ngoog.string.parseInt = function(value) {\n  'use strict';\n  \/\/ Force finite numbers to strings.\n  if (isFinite(value)) {\n    value = String(value);\n  }\n\n  if (typeof value === 'string') {\n    \/\/ If the string starts with '0x' or '-0x', parse as hex.\n    return \/^\\s*-?0x\/i.test(value) ? parseInt(value, 16) : parseInt(value, 10);\n  }\n\n  return NaN;\n};\n\n\n\/**\n * Splits a string on a separator a limited number of times.\n *\n * This implementation is more similar to Python or Java, where the limit\n * parameter specifies the maximum number of splits rather than truncating\n * the number of results.\n *\n * See http:\/\/docs.python.org\/2\/library\/stdtypes.html#str.split\n * See JavaDoc: http:\/\/goo.gl\/F2AsY\n * See Mozilla reference: http:\/\/goo.gl\/dZdZs\n *\n * @param {string} str String to split.\n * @param {string} separator The separator.\n * @param {number} limit The limit to the number of splits. The resulting array\n *     will have a maximum length of limit+1.  Negative numbers are the same\n *     as zero.\n * @return {!Array<string>} The string, split.\n *\/\ngoog.string.splitLimit = function(str, separator, limit) {\n  'use strict';\n  var parts = str.split(separator);\n  var returnVal = [];\n\n  \/\/ Only continue doing this while we haven't hit the limit and we have\n  \/\/ parts left.\n  while (limit > 0 && parts.length) {\n    returnVal.push(parts.shift());\n    limit--;\n  }\n\n  \/\/ If there are remaining parts, append them to the end.\n  if (parts.length) {\n    returnVal.push(parts.join(separator));\n  }\n\n  return returnVal;\n};\n\n\n\/**\n * Finds the characters to the right of the last instance of any separator\n *\n * This function is similar to goog.string.path.baseName, except it can take a\n * list of characters to split the string on. It will return the rightmost\n * grouping of characters to the right of any separator as a left-to-right\n * oriented string.\n *\n * @see goog.string.path.baseName\n * @param {string} str The string\n * @param {string|!Array<string>} separators A list of separator characters\n * @return {string} The last part of the string with respect to the separators\n *\/\ngoog.string.lastComponent = function(str, separators) {\n  'use strict';\n  if (!separators) {\n    return str;\n  } else if (typeof separators == 'string') {\n    separators = [separators];\n  }\n\n  var lastSeparatorIndex = -1;\n  for (var i = 0; i < separators.length; i++) {\n    if (separators[i] == '') {\n      continue;\n    }\n    var currentSeparatorIndex = str.lastIndexOf(separators[i]);\n    if (currentSeparatorIndex > lastSeparatorIndex) {\n      lastSeparatorIndex = currentSeparatorIndex;\n    }\n  }\n  if (lastSeparatorIndex == -1) {\n    return str;\n  }\n  return str.slice(lastSeparatorIndex + 1);\n};\n\n\n\/**\n * Computes the Levenshtein edit distance between two strings.\n * @param {string} a\n * @param {string} b\n * @return {number} The edit distance between the two strings.\n *\/\ngoog.string.editDistance = function(a, b) {\n  'use strict';\n  var v0 = [];\n  var v1 = [];\n\n  if (a == b) {\n    return 0;\n  }\n\n  if (!a.length || !b.length) {\n    return Math.max(a.length, b.length);\n  }\n\n  for (var i = 0; i < b.length + 1; i++) {\n    v0[i] = i;\n  }\n\n  for (var i = 0; i < a.length; i++) {\n    v1[0] = i + 1;\n\n    for (var j = 0; j < b.length; j++) {\n      var cost = Number(a[i] != b[j]);\n      \/\/ Cost for the substring is the minimum of adding one character, removing\n      \/\/ one character, or a swap.\n      v1[j + 1] = Math.min(v1[j] + 1, v0[j + 1] + 1, v0[j] + cost);\n    }\n\n    for (var j = 0; j < v0.length; j++) {\n      v0[j] = v1[j];\n    }\n  }\n\n  return v1[b.length];\n};\n",";   Copyright (c) Rich Hickey. All rights reserved.\n;   The use and distribution terms for this software are covered by the\n;   Eclipse Public License 1.0 (http:\/\/opensource.org\/licenses\/eclipse-1.0.php)\n;   which can be found in the file epl-v10.html at the root of this distribution.\n;   By using this software in any fashion, you are agreeing to be bound by\n;   the terms of this license.\n;   You must not remove this notice, or any other, from this software.\n\n(ns clojure.string\n  (:refer-clojure :exclude [replace reverse])\n  (:require [goog.string :as gstring])\n  (:import [goog.string StringBuffer]))\n\n(defn- seq-reverse\n  [coll]\n  (reduce conj () coll))\n\n(def ^:private re-surrogate-pair\n  (js\/RegExp. \"([\\\\uD800-\\\\uDBFF])([\\\\uDC00-\\\\uDFFF])\" \"g\"))\n\n(defn ^string reverse\n  \"Returns s with its characters reversed.\"\n  [s]\n  (-> (.replace s re-surrogate-pair \"$2$1\")\n      (.. (split \"\") (reverse) (join \"\"))))\n\n(defn- replace-all\n  [s re replacement]\n  (let [r (js\/RegExp. (.-source re)\n                      (cond-> \"g\"\n                        (.-ignoreCase re) (str \"i\")\n                        (.-multiline re) (str \"m\")\n                        (.-unicode re) (str \"u\")))]\n    (.replace s r replacement)))\n\n(defn- replace-with\n  [f]\n  (fn [& args]\n    (let [matches (drop-last 2 args)]\n      (if (= (count matches) 1)\n        (f (first matches))\n        (f (vec matches))))))\n\n(defn ^string replace\n  \"Replaces all instance of match with replacement in s.\n\n   match\/replacement can be:\n\n   string \/ string\n   pattern \/ (string or function of match).\n\n   See also replace-first.\n\n   The replacement is literal (i.e. none of its characters are treated\n   specially) for all cases above except pattern \/ string.\n\n   For pattern \/ string, $1, $2, etc. in the replacement string are\n   substituted with the string that matched the corresponding\n   parenthesized group in the pattern.\n\n   Example:\n   (clojure.string\/replace \\\"Almost Pig Latin\\\" #\\\"\\\\b(\\\\w)(\\\\w+)\\\\b\\\" \\\"$2$1ay\\\")\n   -> \\\"lmostAay igPay atinLay\\\"\"\n  [s match replacement]\n  (cond\n    (string? match)\n    (.replace s (js\/RegExp. (gstring\/regExpEscape match) \"g\") replacement)\n\n    (instance? js\/RegExp match)\n    (if (string? replacement)\n      (replace-all s match replacement)\n      (replace-all s match (replace-with replacement)))\n\n    :else (throw (str \"Invalid match arg: \" match))))\n\n(defn ^string replace-first\n  \"Replaces the first instance of match with replacement in s.\n\n   match\/replacement can be:\n\n   string \/ string\n   pattern \/ (string or function of match).\n\n   See also replace.\n\n   The replacement is literal (i.e. none of its characters are treated\n   specially) for all cases above except pattern \/ string.\n\n   For pattern \/ string, $1, $2, etc. in the replacement string are\n   substituted with the string that matched the corresponding\n   parenthesized group in the pattern.\n\n   Example:\n   (clojure.string\/replace-first \\\"swap first two words\\\"\n                                 #\\\"(\\\\w+)(\\\\s+)(\\\\w+)\\\" \\\"$3$2$1\\\")\n   -> \\\"first swap two words\\\"\"\n  [s match replacement]\n  (.replace s match replacement))\n\n(defn join\n  \"Returns a string of all elements in coll, as returned by (seq coll),\n  separated by an optional separator.\"\n  ([coll]\n   (loop [sb (StringBuffer.) coll (seq coll)]\n     (if-not (nil? coll)\n       (recur (. sb (append (str (first coll)))) (next coll))\n       ^string (.toString sb))))\n  ([separator coll]\n   (loop [sb (StringBuffer.) coll (seq coll)]\n     (if-not (nil? coll)\n       (do\n         (. sb (append (str (first coll))))\n         (let [coll (next coll)]\n           (when-not (nil? coll)\n             (. sb (append separator)))\n           (recur sb coll)))\n       ^string (.toString sb)))))\n\n(defn ^string upper-case\n  \"Converts string to all upper-case.\"\n  [s]\n  (.toUpperCase s))\n\n(defn ^string lower-case\n  \"Converts string to all lower-case.\"\n  [s]\n  (.toLowerCase s))\n\n(defn ^string capitalize\n  \"Converts first character of the string to upper-case, all other\n  characters to lower-case.\"\n  [s]\n  (gstring\/capitalize s))\n\n;; The JavaScript split function takes a limit argument but the return\n;; value is not the same as the Java split function.\n;;\n;; Java: (.split \"a-b-c\" #\"-\" 2) => [\"a\" \"b-c\"]\n;; JavaScript: (.split \"a-b-c\" #\"-\" 2) => [\"a\" \"b\"]\n;;\n;; For consistency, the three arg version has been implemented to\n;; mimic Java's behavior.\n\n(defn- pop-last-while-empty\n  [v]\n  (loop [v v]\n    (if (identical? \"\" (peek v))\n      (recur (pop v))\n      v)))\n\n(defn- discard-trailing-if-needed\n  [limit v]\n  (if (and (== 0 limit) (< 1 (count v)))\n    (pop-last-while-empty v)\n    v))\n\n(defn- split-with-empty-regex\n  [s limit]\n  (if (or (<= limit 0) (>= limit (+ 2 (count s))))\n    (conj (vec (cons \"\" (map str (seq s)))) \"\")\n    (condp == limit\n      1 (vector s)\n      2 (vector \"\" s)\n      (let [c (- limit 2)]\n        (conj (vec (cons \"\" (subvec (vec (map str (seq s))) 0 c))) (subs s c))))))\n\n(defn split\n  \"Splits string on a regular expression. Optional argument limit is\n  the maximum number of splits. Not lazy. Returns vector of the splits.\"\n  ([s re]\n     (split s re 0))\n    ([s re limit]\n     (discard-trailing-if-needed limit\n       (if (identical? \"\/(?:)\/\" (str re))\n         (split-with-empty-regex s limit)\n         (if (< limit 1)\n           (vec (.split (str s) re))\n           (loop [s s\n                  limit limit\n                  parts []]\n             (if (== 1 limit)\n               (conj parts s)\n               (let [m (re-find re s)]\n                 (if-not (nil? m)\n                   (let [index (.indexOf s m)]\n                     (recur (.substring s (+ index (count m)))\n                       (dec limit)\n                       (conj parts (.substring s 0 index))))\n                   (conj parts s))))))))))\n\n(defn split-lines\n  \"Splits s on \\\\n or \\\\r\\\\n.\"\n  [s]\n  (split s #\"\\n|\\r\\n\"))\n\n(defn ^string trim\n  \"Removes whitespace from both ends of string.\"\n  [s]\n  (gstring\/trim s))\n\n(defn ^string triml\n  \"Removes whitespace from the left side of string.\"\n  [s]\n  (gstring\/trimLeft s))\n\n(defn ^string trimr\n  \"Removes whitespace from the right side of string.\"\n  [s]\n  (gstring\/trimRight s))\n\n(defn ^string trim-newline\n  \"Removes all trailing newline \\\\n or return \\\\r characters from\n  string.  Similar to Perl's chomp.\"\n  [s]\n  (loop [index (.-length s)]\n    (if (zero? index)\n      \"\"\n      (let [ch (get s (dec index))]\n        (if (or (identical? \\newline ch)\n                (identical? \\return ch))\n          (recur (dec index))\n          (.substring s 0 index))))))\n\n(defn ^boolean blank?\n  \"True is s is nil, empty, or contains only whitespace.\"\n  [s]\n  (gstring\/isEmptyOrWhitespace (gstring\/makeSafe s)))\n\n(defn ^string escape\n  \"Return a new string, using cmap to escape each character ch\n   from s as follows:\n\n   If (cmap ch) is nil, append ch to the new string.\n   If (cmap ch) is non-nil, append (str (cmap ch)) instead.\"\n  [s cmap]\n  (let [buffer (StringBuffer.)\n        length (.-length s)]\n    (loop [index 0]\n      (if (== length index)\n        (. buffer (toString))\n        (let [ch (.charAt s index)\n              replacement (get cmap ch)]\n          (if-not (nil? replacement)\n            (.append buffer (str replacement))\n            (.append buffer ch))\n          (recur (inc index)))))))\n\n(defn index-of\n  \"Return index of value (string or char) in s, optionally searching\n  forward from from-index or nil if not found.\"\n  ([s value]\n   (let [result (.indexOf s value)]\n     (if (neg? result)\n       nil\n       result)))\n  ([s value from-index]\n   (let [result (.indexOf s value from-index)]\n     (if (neg? result)\n       nil\n       result))))\n\n(defn last-index-of\n  \"Return last index of value (string or char) in s, optionally\n  searching backward from from-index or nil if not found.\"\n  ([s value]\n   (let [result (.lastIndexOf s value)]\n     (if (neg? result)\n       nil\n       result)))\n  ([s value from-index]\n   (let [result (.lastIndexOf s value from-index)]\n     (if (neg? result)\n       nil\n       result))))\n\n(defn ^boolean starts-with?\n  \"True if s starts with substr.\"\n  [s substr]\n  (gstring\/startsWith s substr))\n\n(defn ^boolean ends-with?\n  \"True if s ends with substr.\"\n  [s substr]\n  (gstring\/endsWith s substr))\n\n(defn ^boolean includes?\n  \"True if s includes substr.\"\n  [s substr]\n  (gstring\/contains s substr))\n","(ns frontend.handler.editor\n  (:require [frontend.state :as state]\n            [lambdaisland.glogi :as log]\n            [frontend.db.model :as db-model]\n            [frontend.db.utils :as db-utils]\n            [frontend.db-schema :as db-schema]\n            [frontend.handler.common :as common-handler]\n            [frontend.handler.route :as route-handler]\n            [frontend.handler.ui :as ui-handler]\n            [frontend.handler.repo :as repo-handler]\n            [frontend.handler.notification :as notification]\n            [frontend.handler.block :as block-handler]\n            [frontend.format.mldoc :as mldoc]\n            [frontend.format :as format]\n            [frontend.format.block :as block]\n            [frontend.image :as image]\n            [frontend.db :as db]\n            [goog.object :as gobj]\n            [goog.dom :as gdom]\n            [goog.dom.classes :as gdom-classes]\n            [clojure.string :as string]\n            [clojure.set :as set]\n            [clojure.zip :as zip]\n            [frontend.util :as util :refer-macros [profile]]\n            [frontend.config :as config]\n            [dommy.core :as dom]\n            [frontend.utf8 :as utf8]\n            [frontend.fs :as fs]\n            [promesa.core :as p]\n            [frontend.diff :as diff]\n            [frontend.search :as search]\n            [frontend.handler.image :as image-handler]\n            [frontend.commands :as commands\n             :refer [*show-commands\n                     *slash-caret-pos\n                     *angle-bracket-caret-pos\n                     *show-block-commands]]\n            [frontend.extensions.html-parser :as html-parser]\n            [medley.core :as medley]\n            [frontend.text :as text]\n            [frontend.util.property :as property]\n            [frontend.date :as date]\n            [frontend.handler.repeated :as repeated]\n            [frontend.template :as template]\n            [clojure.core.async :as async]\n            [lambdaisland.glogi :as log]\n            [cljs.core.match :refer-macros [match]]\n            [frontend.modules.outliner.core :as outliner-core]\n            [frontend.db.outliner :as outliner-db]\n            [frontend.modules.outliner.tree :as tree]\n            [frontend.debug :as debug]\n            [datascript.core :as d]\n            [frontend.util.marker :as marker]))\n\n;; FIXME: should support multiple images concurrently uploading\n\n\n(defonce *asset-pending-file (atom nil))\n(defonce *asset-uploading? (atom false))\n(defonce *asset-uploading-process (atom 0))\n(defonce *selected-text (atom nil))\n\n(defn- get-selection-and-format\n  []\n  (when-let [block (state\/get-edit-block)]\n    (when-let [id (:block\/uuid block)]\n      (when-let [edit-id (state\/get-edit-input-id)]\n        (when-let [input (gdom\/getElement edit-id)]\n          {:selection-start (gobj\/get input \"selectionStart\")\n           :selection-end (gobj\/get input \"selectionEnd\")\n           :format (:block\/format block)\n           :value (gobj\/get input \"value\")\n           :block block\n           :edit-id edit-id\n           :input input})))))\n\n(defn- format-text!\n  [pattern-fn]\n  (when-let [m (get-selection-and-format)]\n    (let [{:keys [selection-start selection-end format value block edit-id input]} m\n          empty-selection? (= selection-start selection-end)\n          pattern (pattern-fn format)\n          pattern-count (count pattern)\n          prefix (subs value 0 selection-start)\n          wrapped-value (str pattern\n                             (subs value selection-start selection-end)\n                             pattern)\n          postfix (subs value selection-end)\n          new-value (str prefix wrapped-value postfix)]\n      (state\/set-edit-content! edit-id new-value)\n      (if empty-selection?\n        (util\/cursor-move-back input (count pattern))\n        (let [new-pos (count (str prefix wrapped-value))]\n          (util\/move-cursor-to input new-pos))))))\n\n(defn bold-format! []\n  (format-text! config\/get-bold))\n\n(defn italics-format! []\n  (format-text! config\/get-italic))\n\n(defn highlight-format! []\n  (format-text! config\/get-highlight))\n\n(defn html-link-format! []\n  (when-let [m (get-selection-and-format)]\n    (let [{:keys [selection-start selection-end format value block edit-id input]} m\n          cur-pos (:pos (util\/get-caret-pos input))\n          empty-selection? (= selection-start selection-end)\n          selection (subs value selection-start selection-end)\n          selection-link? (and selection (or (util\/starts-with? selection \"http:\/\/\")\n                                             (util\/starts-with? selection \"https:\/\/\")))\n          [content forward-pos] (cond\n                                  empty-selection?\n                                  (config\/get-empty-link-and-forward-pos format)\n\n                                  selection-link?\n                                  (config\/with-default-link format selection)\n\n                                  :else\n                                  (config\/with-default-label format selection))\n          new-value (str\n                     (subs value 0 selection-start)\n                     content\n                     (subs value selection-end))\n          cur-pos (or selection-start cur-pos)]\n      (state\/set-edit-content! edit-id new-value)\n      (util\/move-cursor-to input (+ cur-pos forward-pos)))))\n\n(defn open-block-in-sidebar!\n  [block-id]\n  (when block-id\n    (when-let [block (db\/pull [:block\/uuid block-id])]\n      (state\/sidebar-add-block!\n       (state\/get-current-repo)\n       (:db\/id block)\n       :block\n       block))))\n\n(defn reset-cursor-range!\n  [node]\n  (when node\n    (state\/set-cursor-range! (util\/caret-range node))))\n\n(defn restore-cursor-pos!\n  ([id markup]\n   (restore-cursor-pos! id markup false))\n  ([id markup dummy?]\n   (when-let [node (gdom\/getElement (str id))]\n     (when-let [cursor-range (state\/get-cursor-range)]\n       (when-let [range cursor-range]\n         (let [pos (diff\/find-position markup range)]\n           (util\/set-caret-pos! node pos)))))))\n\n(defn highlight-block!\n  [block-uuid]\n  (let [blocks (array-seq (js\/document.getElementsByClassName (str block-uuid)))]\n    (doseq [block blocks]\n      (dom\/add-class! block \"block-highlight\"))))\n\n(defn unhighlight-blocks!\n  []\n  (let [blocks (some->> (array-seq (js\/document.getElementsByClassName \"block-highlight\"))\n                        (repeat 2)\n                        (apply concat))]\n    (doseq [block blocks]\n      (gdom-classes\/remove block \"block-highlight\"))))\n\n;; FIXME: children' :block\/path-ref-pages\n(defn compute-retract-refs\n  \"Computes old references to be retracted.\"\n  [eid {:block\/keys [refs]} old-refs]\n  ;; TODO:\n  )\n\n(defn- get-edit-input-id-with-block-id\n  [block-id]\n  (when-let [first-block (util\/get-first-block-by-id block-id)]\n    (string\/replace (gobj\/get first-block \"id\")\n                    \"ls-block\"\n                    \"edit-block\")))\n\n(defn clear-selection!\n  [_e]\n  (doseq [block (dom\/by-class \"selected\")]\n    (dom\/remove-class! block \"selected\")\n    (dom\/remove-class! block \"noselect\"))\n  (state\/clear-selection!))\n\n(defn- text-range-by-lst-fst-line [content [direction pos]]\n  (case direction\n        :up\n        (let [last-new-line (or (string\/last-index-of content \\newline) -1)\n              end (+ last-new-line pos 1)]\n          (subs content 0 end))\n        :down\n        (-> (string\/split-lines content)\n            first\n            (or \"\")\n            (subs 0 pos))))\n\n;; id: block dom id, \"ls-block-counter-uuid\"\n(defn edit-block!\n  ([block pos format id]\n   (edit-block! block pos format id nil))\n  ([block pos format id {:keys [custom-content tail-len move-cursor?]\n                         :or {tail-len 0\n                              move-cursor? true}}]\n   (when-not config\/publishing?\n     (when-let [block-id (:block\/uuid block)]\n       (let [block (or (db\/pull [:block\/uuid block-id]) block)\n             edit-input-id (if (uuid? id)\n                             (get-edit-input-id-with-block-id id)\n                             (str (subs id 0 (- (count id) 36)) block-id))\n             content (or custom-content (:block\/content block) \"\")\n             content-length (count content)\n             text-range (cond\n                          (vector? pos)\n                          (text-range-by-lst-fst-line content pos)\n\n                          (and (> tail-len 0) (>= (count content) tail-len))\n                          (subs content 0 (- (count content) tail-len))\n\n                          (or (= :max pos) (<= content-length pos))\n                          content\n\n                          :else\n                          (subs content 0 pos))\n             content (property\/remove-built-in-properties (:block\/format block)\n                                                          content)]\n         (clear-selection! nil)\n         (state\/set-editing! edit-input-id content block text-range move-cursor?))))))\n\n(defn edit-last-block-for-new-page!\n  [last-block pos]\n  (when-let [first-block (util\/get-first-block-by-id (:block\/uuid last-block))]\n    (edit-block!\n     last-block\n     pos\n     (:block\/format last-block)\n     (string\/replace (gobj\/get first-block \"id\")\n                     \"ls-block\"\n                     \"edit-block\"))))\n\n(defn- another-block-with-same-id-exists?\n  [current-id block-id]\n  (and (string? block-id)\n       (util\/uuid-string? block-id)\n       (not= current-id (cljs.core\/uuid block-id))\n       (db\/entity [:block\/uuid (cljs.core\/uuid block-id)])))\n\n(defn- attach-page-properties-if-exists!\n  [block]\n  (if (and (:block\/pre-block? block)\n           (seq (:block\/properties block)))\n    (let [page-properties (:block\/properties block)\n          str->page (fn [n] {:block\/name (string\/lower-case n) :block\/original-name n})\n          refs (->> page-properties\n                    (filter (fn [[_ v]] (coll? v)))\n                    (vals)\n                    (apply concat)\n                    (set)\n                    (map str->page)\n                    (concat (:block\/refs block))\n                    (util\/distinct-by :block\/name))\n          {:keys [tags alias]} page-properties\n          page-tx (let [id (:db\/id (:block\/page block))\n                        retract-attributes (mapv (fn [attribute]\n                                                   [:db\/retract id attribute])\n                                                 [:block\/properties :block\/tags :block\/alias])\n                        tx (cond-> {:db\/id id\n                                    :block\/properties page-properties}\n                             (seq tags)\n                             (assoc :block\/tags (map str->page tags))\n                             (seq alias)\n                             (assoc :block\/alias (map str->page alias)))]\n                    (conj retract-attributes tx))]\n      (assoc block\n             :block\/refs refs\n             :db\/other-tx page-tx))\n    block))\n\n(defn- remove-non-existed-refs!\n  [refs]\n  (remove (fn [x] (and (vector? x)\n                      (= :block\/uuid (first x))\n                      (nil? (db\/entity x)))) refs))\n\n(defn- wrap-parse-block\n  [{:block\/keys [content format parent left page uuid pre-block?] :as block}]\n  (let [block (or (db\/pull (:db\/id block)) block)\n        properties (:block\/properties block)\n        real-content (:block\/content block)\n        content (if (and (seq properties) real-content (not= real-content content))\n                  (property\/with-built-in-properties properties content format)\n                  content)\n        first-block? (= left page)\n        ast (mldoc\/->edn (string\/trim content) (mldoc\/default-config format))\n        first-elem-type (first (ffirst ast))\n        properties? (contains? #{\"Property_Drawer\" \"Properties\"} first-elem-type)\n        top-level? (= parent page)\n        markdown-heading? (and (= format :markdown)\n                               (= \"Heading\" first-elem-type))\n        block-with-title? (mldoc\/block-with-title? first-elem-type)\n        content (string\/triml content)\n        content (string\/replace content (util\/format \"((%s))\" (str uuid)) \"\")\n        [content content'] (cond\n                             (and first-block? properties?)\n                             [content content]\n\n                             (and markdown-heading? top-level?)\n                             [content content]\n\n                             markdown-heading?\n                             (let [content (string\/replace content #\"^#+\\s+\" \"\")]\n                               [content (str (config\/get-block-pattern format) \" \" content)])\n\n                             :else\n                             (let [content' (str (config\/get-block-pattern format) (if block-with-title? \" \" \"\\n\") content)]\n                               [content content']))\n        block (assoc block :block\/content content')\n        block (apply dissoc block (remove #{:block\/pre-block?} db-schema\/retract-attributes))\n        block (block\/parse-block block)\n        block (if (and first-block? (:block\/pre-block? block))\n                block\n                (dissoc block :block\/pre-block?))\n        block (update block :block\/refs remove-non-existed-refs!)\n        block (attach-page-properties-if-exists! block)\n        new-properties (merge\n                        (select-keys properties property\/built-in-properties)\n                        (:block\/properties block))]\n    (-> block\n       (dissoc :block\/top?\n               :block\/block-refs-count)\n       (assoc :block\/content content\n              :block\/properties new-properties))))\n\n(defn- save-block-inner!\n  [repo block value {:keys [refresh?]\n                     :or {refresh? true}}]\n  (let [block (assoc block :block\/content value)\n        block (apply dissoc block db-schema\/retract-attributes)]\n    (profile\n     \"Save block: \"\n     (let [block (wrap-parse-block block)]\n       (-> (outliner-core\/block block)\n           (outliner-core\/save-node))\n       (when refresh?\n         (let [opts {:key :block\/change\n                     :data [block]}]\n           (db\/refresh! repo opts)))))\n\n    (repo-handler\/push-if-auto-enabled! repo)))\n\n(defn save-block-if-changed!\n  ([block value]\n   (save-block-if-changed! block value nil))\n  ([block value\n    {:keys [force?]\n     :as opts}]\n   (let [{:block\/keys [uuid file page format repo content properties]} block\n         repo (or repo (state\/get-current-repo))\n         e (db\/entity repo [:block\/uuid uuid])\n         format (or format (state\/get-preferred-format))\n         page (db\/entity repo (:db\/id page))\n         block-id (when (map? properties) (get properties :id))\n         content (property\/remove-built-in-properties format content)]\n     (cond\n       (another-block-with-same-id-exists? uuid block-id)\n       (notification\/show!\n        [:p.content\n         (util\/format \"Block with the id % already exists!\" block-id)]\n        :error)\n\n       force?\n       (save-block-inner! repo block value opts)\n\n       :else\n       (let [content-changed? (not= (string\/trim content) (string\/trim value))]\n         (when (and content-changed? page)\n           (save-block-inner! repo block value opts)))))))\n\n(defn- compute-fst-snd-block-text\n  [value pos]\n  (let [fst-block-text (subs value 0 pos)\n        snd-block-text (string\/triml (subs value pos))]\n    [fst-block-text snd-block-text]))\n\n(defn outliner-insert-block!\n  [config current-block new-block sibling?]\n  (let [ref-top-block? (and (:ref? config)\n                            (not (:ref-child? config)))\n        dummy? (:block\/dummy? current-block)\n        [current-node new-node]\n        (mapv outliner-core\/block [current-block new-block])\n        has-children? (db\/has-children? (state\/get-current-repo)\n                                        (tree\/-get-id current-node))\n        sibling? (cond\n                   ref-top-block?\n                   false\n\n                   (boolean? sibling?)\n                   sibling?\n\n                   (:collapsed (:block\/properties current-block))\n                   true\n\n                   :else\n                   (not has-children?))]\n    (let [*blocks (atom [current-node])]\n      (outliner-core\/save-node current-node)\n      (outliner-core\/insert-node new-node current-node sibling? {:blocks-atom *blocks\n                                                                 :skip-transact? false})\n      {:blocks @*blocks\n       :sibling? sibling?})))\n\n(defn- block-self-alone-when-insert?\n  [config uuid]\n  (let [current-page (state\/get-current-page)\n        block-id (or\n                  (and (:id config)\n                       (util\/uuid-string? (:id config))\n                       (:id config))\n                  (and current-page\n                       (util\/uuid-string? current-page)\n                       current-page))]\n    (= uuid (and block-id (medley\/uuid block-id)))))\n\n;; FIXME: painful\n(defn update-cache-for-block-insert!\n  \"Currently, this only affects current editor container to improve the performance.\"\n  [repo config {:block\/keys [page uuid] :as block} blocks]\n  (let [blocks (map :data blocks)\n        [first-block last-block right-block] blocks\n        child? (= (first (:block\/parent last-block))\n                  (:block\/uuid first-block))\n        blocks-container-id (when-let [id (:id config)]\n                             (and (util\/uuid-string? id) (medley\/uuid id)))]\n    (let [new-last-block (let [first-block-id {:db\/id (:db\/id first-block)}]\n                           (assoc last-block\n                                  :block\/left first-block-id\n                                  :block\/parent (if child?\n                                                  first-block-id\n                                                  ;; sibling\n                                                  (:block\/parent first-block))))\n          blocks [first-block new-last-block]\n          blocks-atom (if blocks-container-id\n                        (db\/get-block-blocks-cache-atom repo blocks-container-id)\n                        (db\/get-page-blocks-cache-atom repo (:db\/id page)))\n          [before-part after-part] (and blocks-atom\n                                        (split-with\n                                         #(not= uuid (:block\/uuid %))\n                                         @blocks-atom))\n          after-part (rest after-part)\n          blocks (concat before-part blocks after-part)\n          blocks (if right-block\n                   (map (fn [block]\n                          (if (= (:block\/uuid right-block) (:block\/uuid block))\n                            (assoc block :block\/left (:block\/left right-block))\n                            block)) blocks)\n                   blocks)]\n      (when blocks-atom\n        (reset! blocks-atom blocks)))))\n\n(defn insert-new-block-before-block-aux!\n  [config\n   {:block\/keys [uuid content repo format page dummy?]\n    db-id :db\/id\n    :as block}\n   value\n   {:keys [ok-handler]\n    :as opts}]\n  (let [input (gdom\/getElement (state\/get-edit-input-id))\n        pos (util\/get-input-pos input)\n        repo (or repo (state\/get-current-repo))\n        [fst-block-text snd-block-text] (compute-fst-snd-block-text value pos)\n        current-block (assoc block :block\/content snd-block-text)\n        current-block (apply dissoc current-block db-schema\/retract-attributes)\n        current-block (wrap-parse-block current-block)\n        new-m {:block\/uuid (db\/new-block-id)\n               :block\/content fst-block-text}\n        prev-block (-> (merge (select-keys block [:block\/parent :block\/left :block\/format\n                                                  :block\/page :block\/file :block\/journal?]) new-m)\n                       (wrap-parse-block))\n        left-block (db\/pull (:db\/id (:block\/left block)))\n        _ (outliner-core\/save-node (outliner-core\/block current-block))\n        sibling? (not= (:db\/id left-block) (:db\/id (:block\/parent block)))\n        {:keys [sibling? blocks]} (profile\n                                   \"outliner insert block\"\n                                   (outliner-insert-block! config left-block prev-block sibling?))]\n\n    (db\/refresh! repo {:key :block\/insert :data [prev-block left-block current-block]})\n    (profile \"ok handler\" (ok-handler prev-block))))\n\n(defn insert-new-block-aux!\n  [config\n   {:block\/keys [uuid content repo format page dummy?]\n    db-id :db\/id\n    :as block}\n   value\n   {:keys [ok-handler]\n    :as opts}]\n  (let [block-self? (block-self-alone-when-insert? config uuid)\n        input (gdom\/getElement (state\/get-edit-input-id))\n        pos (util\/get-input-pos input)\n        repo (or repo (state\/get-current-repo))\n        [fst-block-text snd-block-text] (compute-fst-snd-block-text value pos)\n        current-block (assoc block :block\/content fst-block-text)\n        current-block (apply dissoc current-block db-schema\/retract-attributes)\n        current-block (wrap-parse-block current-block)\n        new-m {:block\/uuid (db\/new-block-id)\n               :block\/content snd-block-text}\n        next-block (-> (merge (select-keys block [:block\/parent :block\/left :block\/format\n                                                  :block\/page :block\/file :block\/journal?]) new-m)\n                       (wrap-parse-block))\n        sibling? (when block-self? false)\n        {:keys [sibling? blocks]} (profile\n                                   \"outliner insert block\"\n                                   (outliner-insert-block! config current-block next-block sibling?))\n        refresh-fn (fn []\n                     (let [opts {:key :block\/insert\n                                 :data [current-block next-block]}]\n                       (db\/refresh! repo opts)))]\n    (do\n      (if (or dummy? (:ref? config) (not sibling?))\n        (refresh-fn)\n        (do\n          (profile \"update cache \" (update-cache-for-block-insert! repo config block blocks))\n          (state\/add-tx! refresh-fn)))\n      ;; WORKAROUND: The block won't refresh itself even if the content is empty.\n      (when block-self?\n        (gobj\/set input \"value\" \"\"))\n      (profile \"ok handler\" (ok-handler next-block)))))\n\n(defn clear-when-saved!\n  []\n  (state\/set-editor-show-input! nil)\n  (state\/set-editor-show-date-picker! false)\n  (state\/set-editor-show-page-search! false)\n  (state\/set-editor-show-block-search! false)\n  (state\/set-editor-show-template-search! false)\n  (commands\/restore-state true))\n\n(defn get-state\n  []\n  (let [[{:keys [on-hide block block-id block-parent-id dummy? format sidebar?]} id config] (state\/get-editor-args)\n        node (gdom\/getElement id)]\n    (when node\n      (let [value (gobj\/get node \"value\")\n            pos (gobj\/get node \"selectionStart\")]\n        {:config config\n         :on-hide on-hide\n         :dummy? dummy?\n         :sidebar? sidebar?\n         :format format\n         :id id\n         :block (or (db\/pull [:block\/uuid (:block\/uuid block)]) block)\n         :block-id block-id\n         :block-parent-id block-parent-id\n         :node node\n         :value value\n         :pos pos}))))\n\n(defn- with-timetracking-properties\n  [block value]\n  (let [new-marker (first (util\/safe-re-find marker\/bare-marker-pattern (or value \"\")))\n        new-marker (if new-marker (string\/lower-case (string\/trim new-marker)))\n        new-marker? (and\n                     new-marker\n                     (not= new-marker (string\/lower-case (or (:block\/marker block) \"\")))\n                     (state\/enable-timetracking?))\n        ts (util\/time-ms)\n        properties (if new-marker?\n                     (assoc (:block\/properties block) new-marker ts)\n                     (:block\/properties block))\n        value (or\n               (when new-marker?\n                 (property\/insert-property (:block\/format block)\n                                        value\n                                        new-marker\n                                        ts))\n               value)]\n    [properties value]))\n\n\n(defn insert-new-block!\n  ([state]\n   (insert-new-block! state nil))\n  ([state block-value]\n   (when (and (not config\/publishing?)\n              (not= :insert (state\/get-editor-op)))\n     (state\/set-editor-op! :insert)\n     (when-let [state (get-state)]\n       (let [{:keys [block value format id config]} state\n             value (if (string? block-value) block-value value)\n             block-id (:block\/uuid block)\n             block (or (db\/pull [:block\/uuid block-id])\n                       block)\n             repo (or (:block\/repo block) (state\/get-current-repo))\n             [properties value] (with-timetracking-properties block value)\n             block-self? (block-self-alone-when-insert? config block-id)\n             input (gdom\/getElement (state\/get-edit-input-id))\n             pos (util\/get-input-pos input)\n             repo (or repo (state\/get-current-repo))\n             [fst-block-text snd-block-text] (compute-fst-snd-block-text value pos)\n             insert-fn (match (mapv boolean [block-self? (seq fst-block-text) (seq snd-block-text)])\n                         [true _ _] insert-new-block-aux!\n                         [_ false true] insert-new-block-before-block-aux!\n                         [_ _ _] insert-new-block-aux!)]\n         (insert-fn\n          config\n          (assoc block :block\/properties properties)\n          value\n          {:ok-handler\n           (fn [last-block]\n             (edit-block! last-block 0 format id)\n             (clear-when-saved!))}))))\n   (state\/set-editor-op! nil)))\n\n(defn api-insert-new-block!\n  [content {:keys [page block-uuid sibling? attributes]}]\n  (when (or page block-uuid)\n    (when-let [block (if block-uuid\n                       (db\/pull [:block\/uuid block-uuid])\n                       (let [page (db\/entity [:block\/name (string\/lower-case page)])\n                             block-uuid (:block\/uuid page)\n                             children (:block\/_parent page)\n                             blocks (db\/sort-by-left children page)\n                             last-block-id (or (:db\/id (last blocks))\n                                               (:db\/id page))]\n                         (db\/pull last-block-id)))]\n      ;; TODO: DRY\n      (let [new-block (-> (select-keys block [:block\/parent :block\/left :block\/format\n                                              :block\/page :block\/file :block\/journal?])\n                          (assoc :block\/content content)\n                          (wrap-parse-block))\n            repo (state\/get-current-repo)]\n        (outliner-insert-block! {} block new-block sibling?)\n        (db\/refresh! repo {:key :block\/insert\n                           :data [new-block]})))))\n\n(defn update-timestamps-content!\n  [{:block\/keys [repeated? marker format] :as block} content]\n  (if repeated?\n    (let [scheduled-ast (block-handler\/get-scheduled-ast block)\n          deadline-ast (block-handler\/get-deadline-ast block)\n          content (some->> (filter repeated\/repeated? [scheduled-ast deadline-ast])\n                           (map (fn [ts]\n                                  [(repeated\/timestamp->text ts)\n                                   (repeated\/next-timestamp-text ts)]))\n                           (reduce (fn [content [old new]]\n                                     (string\/replace content old new))\n                                   content))]\n      (when content\n        (str (string\/trimr content)\n             \"\\n\"\n             (util\/format (str (if (= format :org) \"-\" \"*\") \" %s -> DONE [%s]\")\n                          marker\n                          (date\/get-local-date-time-string)))))\n    content))\n\n(defn- with-marker-time\n  [content format marker]\n  (if (state\/enable-timetracking?)\n    (let [marker (string\/lower-case marker)]\n      (property\/insert-property format content marker (util\/time-ms)))\n    content))\n\n(defn check\n  [{:block\/keys [uuid marker content format dummy? repeated?] :as block}]\n  (let [new-content (string\/replace-first content marker \"DONE\")\n        new-content (->\n                     (if repeated?\n                       (update-timestamps-content! block content)\n                       new-content)\n                     (with-marker-time format \"DONE\"))]\n    (save-block-if-changed! block new-content)))\n\n(defn uncheck\n  [{:block\/keys [uuid marker content format dummy?] :as block}]\n  (let [marker (if (= :now (state\/get-preferred-workflow))\n                 \"LATER\"\n                 \"TODO\")\n        new-content (-> (string\/replace-first content \"DONE\" marker)\n                        (with-marker-time format marker))]\n    (save-block-if-changed! block new-content)))\n\n(defn cycle-todo!\n  []\n  (when-let [block (state\/get-edit-block)]\n    (let [edit-input-id (state\/get-edit-input-id)\n          current-input (gdom\/getElement edit-input-id)\n          content (state\/get-edit-content)\n          format (or (db\/get-page-format (state\/get-current-page))\n                     (state\/get-preferred-format))\n          cond-fn (fn [marker] (or (and (= :markdown format)\n                                        (util\/safe-re-find (re-pattern (str \"#*\\\\s*\" marker)) content))\n                                     (util\/starts-with? content \"TODO\")))\n          [new-content marker] (cond\n                                 (cond-fn \"TODO\")\n                                 [(string\/replace-first content \"TODO\" \"DOING\") \"DOING\"]\n                                 (cond-fn \"DOING\")\n                                 [(string\/replace-first content \"DOING\" \"DONE\") \"DONE\"]\n                                 (cond-fn \"LATER\")\n                                 [(string\/replace-first content \"LATER\" \"NOW\") \"NOW\"]\n                                 (cond-fn \"NOW\")\n                                 [(string\/replace-first content \"NOW\" \"DONE\") \"DONE\"]\n                                 (cond-fn \"DONE\")\n                                 [(string\/replace-first content \"DONE\" \"\") nil]\n                                 :else\n                                 (let [marker (if (= :now (state\/get-preferred-workflow))\n                                                \"LATER\"\n                                                \"TODO\")]\n                                   [(marker\/add-or-update-marker (string\/triml content) format marker)  marker]))\n          new-content (string\/triml new-content)]\n      (let [new-pos (commands\/compute-pos-delta-when-change-marker\n                     current-input content new-content marker (util\/get-input-pos current-input))]\n        (state\/set-edit-content! edit-input-id new-content)\n        (util\/set-caret-pos! current-input new-pos)))))\n\n\n(defn set-marker\n  [{:block\/keys [uuid marker content format dummy? properties] :as block} new-marker]\n  (let [new-content (-> (string\/replace-first content marker new-marker)\n                        (with-marker-time format new-marker))]\n    (save-block-if-changed! block new-content)))\n\n(defn set-priority\n  [{:block\/keys [uuid marker priority content dummy?] :as block} new-priority]\n  (let [new-content (string\/replace-first content\n                                          (util\/format \"[#%s]\" priority)\n                                          (util\/format \"[#%s]\" new-priority))]\n    (save-block-if-changed! block new-content)))\n\n(defn- get-prev-block-non-collapsed\n  [block]\n  (when-let [blocks (util\/get-blocks-noncollapse)]\n    (when-let [index (.indexOf blocks block)]\n      (let [idx (dec index)]\n        (when (>= idx 0)\n          (nth blocks idx))))))\n\n(defn- get-next-block-non-collapsed\n  [block]\n  (when-let [blocks (util\/get-blocks-noncollapse)]\n    (when-let [index (.indexOf blocks block)]\n      (let [idx (inc index)]\n        (when (>= (count blocks) idx)\n          (util\/nth-safe blocks idx))))))\n\n(defn delete-block-aux!\n  [{:block\/keys [uuid content repo refs] :as block} dummy? children?]\n  (when-not dummy?\n    (let [repo (or repo (state\/get-current-repo))\n          block (db\/pull repo '[*] [:block\/uuid uuid])]\n      (when block\n        (->\n         (outliner-core\/block block)\n         (outliner-core\/delete-node children?))\n        (db\/refresh! repo {:key :block\/change :data [block]})))))\n\n(defn delete-block!\n  ([repo e]\n   (delete-block! repo e true))\n  ([repo e delete-children?]\n   (let [{:keys [id block-id block-parent-id dummy? value format]} (get-state)]\n    (when block-id\n      (let [page-id (:db\/id (:block\/page (db\/entity [:block\/uuid block-id])))\n            page-blocks-count (and page-id (db\/get-page-blocks-count repo page-id))]\n        (when (> page-blocks-count 1)\n          (let [block (db\/entity [:block\/uuid block-id])\n                has-children? (seq (:block\/_parent block))\n                block (db\/pull (:db\/id block))\n                left (tree\/-get-left (outliner-core\/block block))\n                left-has-children? (and left\n                                        (when-let [block-id (:block\/uuid (:data left))]\n                                          (let [block (db\/entity [:block\/uuid block-id])]\n                                            (seq (:block\/_parent block)))))]\n            (when-not (and has-children? left-has-children?)\n              (let [block-parent (gdom\/getElement block-parent-id)\n                    sibling-block (get-prev-block-non-collapsed block-parent)]\n                (delete-block-aux! block dummy? delete-children?)\n                (when (and repo sibling-block)\n                  (when-let [sibling-block-id (dom\/attr sibling-block \"blockid\")]\n                    (when-let [block (db\/pull repo '[*] [:block\/uuid (uuid sibling-block-id)])]\n                      (let [original-content (util\/trim-safe (:block\/content block))\n                            new-value (str original-content \" \" (string\/triml value))\n                            tail-len (count (string\/triml value))\n                            pos (max\n                                 (if original-content\n                                   (utf8\/length (utf8\/encode original-content))\n                                   0)\n                                 0)]\n                        (edit-block! block pos format id\n                                     {:custom-content new-value\n                                      :tail-len tail-len\n                                      :move-cursor? false}))))))))))))))\n\n(defn- get-end-block-parent\n  [end-block blocks]\n  (if-let [parent (let [id (:db\/id (:block\/parent end-block))]\n                    (some (fn [block] (when (= (:db\/id block) id) block)) blocks))]\n    (recur parent blocks)\n    end-block))\n\n(defn- get-top-level-end-node\n  [blocks]\n  (let [end-block (last blocks)\n        end-block-parent (get-end-block-parent end-block blocks)]\n    (outliner-core\/block end-block-parent)))\n\n(defn- reorder-blocks\n  [blocks]\n  (if (<= (count blocks) 1)\n    blocks\n    (let [[f s & others] blocks]\n      (if (= (or (:block\/left s)\n                 (:block\/parent s))\n             {:db\/id (:db\/id f)})\n        blocks\n        (reverse blocks)))))\n\n(defn delete-blocks!\n  [repo block-uuids]\n  (when (seq block-uuids)\n    (let [lookup-refs (map (fn [id] [:block\/uuid id]) block-uuids)\n          blocks (db\/pull-many repo '[*] lookup-refs)\n          blocks (reorder-blocks blocks)]\n      (let [start-node (outliner-core\/block (first blocks))\n            end-node (get-top-level-end-node blocks)]\n        (if (= start-node end-node)\n          (delete-block-aux! (first blocks) false true)\n          (when (outliner-core\/delete-nodes start-node end-node lookup-refs)\n            (let [opts {:key :block\/change\n                        :data blocks}]\n              (db\/refresh! repo opts)\n              (ui-handler\/re-render-root!))))))))\n\n(defn- block-property-aux!\n  [block-id key value]\n  (let [block-id (if (string? block-id) (uuid block-id) block-id)\n        repo (state\/get-current-repo)]\n    (when repo\n      (when-let [block (db\/entity [:block\/uuid block-id])]\n        (let [format (:block\/format block)\n              content (:block\/content block)\n              properties (:block\/properties block)\n              properties (if value        ; add\n                           (assoc properties key value)\n                           (dissoc properties key))\n              content (if value\n                        (property\/insert-property format content key value)\n                        (property\/remove-property format key content))\n              block (outliner-core\/block {:block\/uuid block-id\n                                          :block\/properties properties\n                                          :block\/content content})]\n          (outliner-core\/save-node block)\n          (let [opts {:key :block\/change\n                      :data [block]}]\n            (db\/refresh! repo opts)))))))\n\n(defn remove-block-property!\n  [block-id key]\n  (let [key (keyword key)]\n    (block-property-aux! block-id key nil))\n  (db\/refresh! (state\/get-current-repo)\n               {:key :block\/change\n                :data [(db\/pull [:block\/uuid block-id])]}))\n\n(defn set-block-property!\n  [block-id key value]\n  (let [key (keyword key)]\n    (block-property-aux! block-id key value))\n  (db\/refresh! (state\/get-current-repo)\n               {:key :block\/change\n                :data [(db\/pull [:block\/uuid block-id])]}))\n\n(defn set-block-timestamp!\n  [block-id key value]\n  (let [key (string\/lower-case key)\n        block-id (if (string? block-id) (uuid block-id) block-id)\n        key (string\/lower-case (str key))\n        value (str value)]\n    (when-let [block (db\/pull [:block\/uuid block-id])]\n      (let [{:block\/keys [content scheduled deadline format]} block\n            content (or (state\/get-edit-content) content)\n            new-line (str (string\/upper-case key) \": \" value)\n            new-content (let [lines (string\/split-lines content)\n                              new-lines (map (fn [line]\n                                               (if (string\/starts-with? (string\/lower-case line) key)\n                                                 new-line\n                                                 line))\n                                             lines)\n                              new-lines (if (not= lines new-lines)\n                                          new-lines\n                                          (cons (first new-lines) ;; title\n                                                (cons\n                                                 new-line\n                                                 (rest new-lines))))]\n                          (string\/join \"\\n\" new-lines))]\n        (when (not= content new-content)\n          (if-let [input-id (state\/get-edit-input-id)]\n            (state\/set-edit-content! input-id new-content)\n            (save-block-if-changed! block new-content)))))))\n\n(defn copy-block-ref!\n  ([block-id] (copy-block-ref! block-id #(str %)))\n  ([block-id tap-clipboard]\n   (let [block (db\/entity [:block\/uuid block-id])]\n     (when-not (:block\/pre-block? block)\n       (set-block-property! block-id \"id\" (str block-id))))\n   (util\/copy-to-clipboard! (tap-clipboard block-id))))\n\n(defn exit-editing-and-set-selected-blocks!\n  ([blocks]\n   (exit-editing-and-set-selected-blocks! blocks :down))\n  ([blocks direction]\n   (util\/clear-selection!)\n   (state\/clear-edit!)\n   (state\/set-selection-blocks! blocks direction)\n   (util\/select-highlight! blocks)))\n\n(defn select-block!\n  [block-uuid]\n  (when-let [block (-> (str block-uuid)\n                       (js\/document.getElementsByClassName)\n                       first)]\n    (exit-editing-and-set-selected-blocks! [block])))\n\n(defn select-all-blocks!\n  []\n  (when-let [current-input-id (state\/get-edit-input-id)]\n    (let [input (gdom\/getElement current-input-id)\n          blocks-container (util\/rec-get-blocks-container input)\n          blocks (dom\/by-class blocks-container \"ls-block\")]\n      (exit-editing-and-set-selected-blocks! blocks))))\n\n(defn- get-selected-blocks-with-children\n  []\n  (when-let [blocks (seq (get @state\/state :selection\/blocks))]\n    (mapcat (fn [block]\n              (cons block\n                    (array-seq (dom\/by-class block \"ls-block\"))))\n            blocks)))\n\n(defn- blocks-with-level\n  [blocks]\n  (let [level-blocks (mapv #(assoc % :level 1) blocks)\n        level-blocks-map (into {} (mapv (fn [b] [(:db\/id b) b]) level-blocks))\n        [level-blocks-map _]\n        (reduce (fn [[r state] [id block]]\n                  (if-let [parent-level (get-in state [(:db\/id (:block\/parent block)) :level])]\n                    [(conj r [id (assoc block :level (inc parent-level))])\n                     (assoc-in state [(:db\/id block) :level] (inc parent-level))]\n                    [(conj r [id block])\n                     state])) [{} level-blocks-map] level-blocks-map)]\n    level-blocks-map))\n\n(defn- blocks-vec->tree\n  [blocks]\n  (let [loc (reduce (fn [loc {:keys [level] :as block}]\n                      (let [loc*\n                            (loop [loc (zip\/vector-zip (zip\/root loc))\n                                   level level]\n                              (if (> level 1)\n                                (if-let [down (zip\/rightmost (zip\/down loc))]\n                                  (let [down-node (zip\/node down)]\n                                    (if (or (and (vector? down-node)\n                                                 (>= (:level (first down-node)) (:level block)))\n                                            (>= (:level down-node) (:level block)))\n                                      down\n                                      (recur down (dec level))))\n                                  loc)\n                                loc))\n                            loc**\n                            (if (vector? (zip\/node loc*))\n                              (zip\/append-child loc* block)\n                              (-> loc*\n                                  zip\/up\n                                  (zip\/append-child [block])))]\n                        loc**)) (zip\/vector-zip []) blocks)]\n\n    (clojure.walk\/postwalk (fn [e] (if (map? e) (dissoc e :level) e)) (zip\/root loc))))\n\n(defn- compose-copied-blocks-contents-&-block-tree\n  [repo block-ids]\n  (let [blocks (db-utils\/pull-many repo '[*] (mapv (fn [id] [:block\/uuid id]) block-ids))\n        blocks* (flatten\n                 (mapv (fn [b] (if (:collapsed (:block\/properties b))\n                                 (vec (tree\/sort-blocks (db\/get-block-children repo (:block\/uuid b)) b))\n                                 [b])) blocks))\n        block-ids* (mapv :block\/uuid blocks*)\n        unordered? (:block\/unordered (first blocks*))\n        format (:block\/format (first blocks*))\n        level-blocks-map (blocks-with-level blocks*)\n        level-blocks-uuid-map (into {} (mapv (fn [b] [(:block\/uuid b) b]) (vals level-blocks-map)))\n        level-blocks (mapv (fn [uuid] (get level-blocks-uuid-map uuid)) block-ids*)\n        tree (blocks-vec->tree level-blocks)\n        contents\n        (mapv (fn [block]\n                (let [header\n                      (if (and unordered? (= format :markdown))\n                        (str (string\/join (repeat (- (:level block) 1) \"  \")) \"-\")\n                        (let [header-char (if (= format :markdown) \"#\" \"*\")\n                              init-char (if (= format :markdown) \"##\" \"*\")]\n                          (str (string\/join (repeat (:level block) header-char)) init-char)))]\n                  (str header \" \" (:block\/content block) \"\\n\")))\n              level-blocks)\n        content-without-properties\n        (mapv\n         (fn [content]\n           (let [ast (mldoc\/->edn content (mldoc\/default-config format))\n                 properties-loc\n                 (->> ast\n                      (filterv (fn [[[type _] loc]] (= type \"Property_Drawer\")))\n                      (mapv second)\n                      first)]\n             (if properties-loc\n               (utf8\/delete! content (:start_pos properties-loc) (:end_pos properties-loc))\n               content)))\n         contents)]\n    [(string\/join content-without-properties) tree]))\n\n(defn copy-selection-blocks\n  []\n  (when-let [blocks (seq (get-selected-blocks-with-children))]\n    (let [repo (dom\/attr (first blocks) \"repo\")\n          ids (->> (distinct (map #(when-let [id (dom\/attr % \"blockid\")]\n                                     (uuid id)) blocks))\n                   (remove nil?))\n          ids (if (= :up (state\/get-selection-direction))\n                (reverse ids)\n                ids)\n          [content tree] (compose-copied-blocks-contents-&-block-tree repo ids)\n          block (db\/pull [:block\/uuid (first ids)])]\n      (common-handler\/copy-to-clipboard-without-id-property! (:block\/format block) content)\n      (state\/set-copied-blocks content tree)\n      (notification\/show! \"Copied!\" :success))))\n\n(defn cut-selection-blocks\n  [copy?]\n  (when copy? (copy-selection-blocks))\n  (when-let [blocks (seq (get-selected-blocks-with-children))]\n    ;; remove embeds and references\n    (let [blocks (remove (fn [block] (= \"true\" (dom\/attr block \"data-transclude\"))) blocks)]\n      (when (seq blocks)\n        (let [repo (dom\/attr (first blocks) \"repo\")\n             ids (distinct (map #(uuid (dom\/attr % \"blockid\")) blocks))\n             ids (if (= :up (state\/get-selection-direction))\n                   (reverse ids)\n                   ids)]\n         (delete-blocks! repo ids))))))\n\n(defn- get-nearest-page\n  []\n  (when-let [block (state\/get-edit-block)]\n    (when-let [id (:block\/uuid block)]\n      (when-let [edit-id (state\/get-edit-input-id)]\n        (when-let [input (gdom\/getElement edit-id)]\n          (when-let [pos (util\/get-input-pos input)]\n            (let [value (gobj\/get input \"value\")\n                  page-pattern #\"\\[\\[([^\\]]+)]]\"\n                  block-pattern #\"\\(\\(([^\\)]+)\\)\\)\"\n                  page-matches (util\/re-pos page-pattern value)\n                  block-matches (util\/re-pos block-pattern value)\n                  matches (->> (concat page-matches block-matches)\n                               (remove nil?))\n                  [_ page] (first (sort-by\n                                   (fn [[start-pos content]]\n                                     (let [end-pos (+ start-pos (count content))]\n                                       (cond\n                                         (< pos start-pos)\n                                         (- pos start-pos)\n\n                                         (> pos end-pos)\n                                         (- end-pos pos)\n\n                                         :else\n                                         0)))\n                                   >\n                                   matches))]\n              (when page\n                (subs page 2 (- (count page) 2))))))))))\n\n(defn follow-link-under-cursor!\n  []\n  (when-let [page (get-nearest-page)]\n    (let [page-name (string\/lower-case page)]\n      (state\/clear-edit!)\n      (route-handler\/redirect! {:to :page\n                                :path-params {:name page-name}}))))\n\n(defn open-link-in-sidebar!\n  []\n  (when-let [page (get-nearest-page)]\n    (let [page-name (string\/lower-case page)\n          block? (util\/uuid-string? page-name)]\n      (when-let [page (db\/get-page page-name)]\n        (if block?\n          (state\/sidebar-add-block!\n           (state\/get-current-repo)\n           (:db\/id page)\n           :block\n           page)\n          (state\/sidebar-add-block!\n           (state\/get-current-repo)\n           (:db\/id page)\n           :page\n           {:page page}))))))\n\n(defn zoom-in! []\n  (if (state\/editing?)\n    (when-let [id (some-> (state\/get-edit-block)\n                          :block\/uuid\n                          ((fn [id] [:block\/uuid id]))\n                          db\/entity\n                          :block\/uuid)]\n      (let [pos (state\/get-edit-pos)]\n        (route-handler\/redirect! {:to          :page\n                                  :path-params {:name (str id)}})\n        (edit-block! {:block\/uuid id} pos nil id)))\n    (js\/window.history.forward)))\n(defn zoom-out!\n  []\n  (if (state\/editing?)\n    (let [page (state\/get-current-page)\n          block-id (and\n                    (string? page)\n                    (util\/uuid-string? page)\n                    (medley\/uuid page))]\n      (when block-id\n        (let [block-parent (db\/get-block-parent block-id)]\n          (if-let [id (and\n                       (nil? (:block\/name block-parent))\n                       (:block\/uuid block-parent))]\n            (do\n              (route-handler\/redirect! {:to :page\n                                        :path-params {:name (str id)}})\n\n              (edit-block! {:block\/uuid block-id} :max nil block-id))\n            (let [page-id (some-> (db\/entity [:block\/uuid block-id])\n                                  :block\/page\n                                  :db\/id\n\n                                  )]\n              (when-let [page-name (:block\/name (db\/entity page-id))]\n                (route-handler\/redirect! {:to :page\n                                          :path-params {:name page-name}})\n                (edit-block! {:block\/uuid block-id} :max nil block-id)))))))\n    (js\/window.history.back)))\n\n(defn cut-block!\n  [block-id]\n  (when-let [block (db\/pull [:block\/uuid block-id])]\n    (let [content (:block\/content block)]\n      (common-handler\/copy-to-clipboard-without-id-property! (:block\/format block) content)\n      (delete-block-aux! block false true))))\n\n(defn clear-last-selected-block!\n  []\n  (let [block (state\/drop-last-selection-block!)]\n    (dom\/remove-class! block \"selected\")\n    (dom\/remove-class! block \"noselect\")))\n\n(defn input-start-or-end?\n  ([input]\n   (input-start-or-end? input nil))\n  ([input up?]\n   (let [value (gobj\/get input \"value\")\n         start (gobj\/get input \"selectionStart\")\n         end (gobj\/get input \"selectionEnd\")]\n     (if (nil? up?)\n       (or (= start 0) (= end (count value)))\n       (or (and (= start 0) up?)\n           (and (= end (count value)) (not up?)))))))\n\n(defn highlight-selection-area!\n  [end-block]\n  (when-let [start-block (state\/get-selection-start-block)]\n    (clear-selection! nil)\n    (let [blocks (util\/get-nodes-between-two-nodes start-block end-block \"ls-block\")\n          direction (util\/get-direction-between-two-nodes start-block end-block \"ls-block\")\n\n          blocks (if (= :up direction)\n                   (reverse blocks)\n                   blocks)]\n      (exit-editing-and-set-selected-blocks! blocks direction))))\n\n(defn on-select-block\n  [direction]\n  (fn [e]\n    (cond\n      ;; when editing, quit editing and select current block\n      (state\/editing?)\n      (exit-editing-and-set-selected-blocks! [(gdom\/getElement (state\/get-editing-block-dom-id))])\n\n      ;; when selection and one block selected, select next block\n      (and (state\/selection?) (== 1 (count (state\/get-selection-blocks))))\n      (let [f (if (= :up direction) util\/get-prev-block util\/get-next-block)\n            element (f (first (state\/get-selection-blocks)))]\n        (when element\n          (state\/conj-selection-block! element direction)))\n\n      ;; if same direction, keep conj on same direction\n      (and (state\/selection?) (= direction (state\/get-selection-direction)))\n      (let [f (if (= :up direction) util\/get-prev-block util\/get-next-block)\n            element (f (last (state\/get-selection-blocks)))]\n        (when element\n          (state\/conj-selection-block! element direction)))\n\n      ;; if different direction, keep clear until one left\n      (state\/selection?)\n      (clear-last-selected-block!))))\n\n(defn save-block-aux!\n  [block value format opts]\n  (let [value (string\/trim value)\n        [properties value] (with-timetracking-properties block value)]\n    ;; FIXME: somehow frontend.components.editor's will-unmount event will loop forever\n    ;; maybe we shouldn't save the block\/file in \"will-unmount\" event?\n    (save-block-if-changed! block value\n                            (merge\n                             {:init-properties properties}\n                             opts))))\n\n(defn save-block!\n  ([repo block-or-uuid content]\n   (let [block (if (or (uuid? block-or-uuid)\n                       (string? block-or-uuid))\n                 (db-model\/query-block-by-uuid block-or-uuid) block-or-uuid)\n         format (:block\/format block)]\n     (save-block! {:block block :repo repo :format format} content)))\n  ([{:keys [format block repo dummy?] :as state} value]\n   (when (or (:db\/id (db\/entity repo [:block\/uuid (:block\/uuid block)]))\n             dummy?)\n     (save-block-aux! block value format {}))))\n\n(defn save-current-block!\n  ([]\n   (save-current-block! {}))\n  ([{:keys [force?] :as opts}]\n   ;; non English input method\n   (when-not (state\/editor-in-composition?)\n     (when-let [repo (state\/get-current-repo)]\n       (when (and (not @commands\/*show-commands)\n                  (not @commands\/*show-block-commands)\n                  (not (state\/get-editor-show-page-search?))\n                  (not (state\/get-editor-show-page-search-hashtag?))\n                  (not (state\/get-editor-show-block-search?))\n                  (not (state\/get-editor-show-date-picker?))\n                  (not (state\/get-editor-show-template-search?))\n                  (not (state\/get-editor-show-input)))\n         (try\n           (let [input-id (state\/get-edit-input-id)\n                 block (state\/get-edit-block)\n                 db-block (when-let [block-id (:block\/uuid block)]\n                            (db\/pull [:block\/uuid block-id]))\n                 elem (and input-id (gdom\/getElement input-id))\n                 db-content (:block\/content db-block)\n                 db-content-without-heading (and db-content\n                                                 (util\/safe-subs db-content (:block\/level db-block)))\n                 value (and elem (gobj\/get elem \"value\"))]\n             (cond\n               force?\n               (save-block-aux! db-block value (:block\/format db-block) opts)\n\n               (and block value db-content-without-heading\n                    (or\n                     (not= (string\/trim db-content-without-heading)\n                           (string\/trim value))))\n               (save-block-aux! db-block value (:block\/format db-block) opts))\n             )\n           (catch js\/Error error\n             (log\/error :save-block-failed error))))))))\n\n(defn- clean-content!\n  [format content]\n  (->> (text\/remove-level-spaces content format)\n       (property\/remove-properties format)\n       string\/trim))\n\n(defn insert-command!\n  [id command-output format {:keys [restore?]\n                             :or {restore? true}\n                             :as option}]\n  (cond\n    ;; replace string\n    (string? command-output)\n    (commands\/insert! id command-output option)\n\n    ;; steps\n    (vector? command-output)\n    (commands\/handle-steps command-output format)\n\n    (fn? command-output)\n    (let [s (command-output)]\n      (commands\/insert! id s option))\n\n    :else\n    nil)\n\n  (when restore?\n    (let [restore-slash-caret-pos? (if (and\n                                        (seq? command-output)\n                                        (= :editor\/click-hidden-file-input\n                                           (ffirst command-output)))\n                                     false\n                                     true)]\n      (commands\/restore-state restore-slash-caret-pos?))))\n\n(defn- get-asset-file-link\n  [format url file-name image?]\n  (case (keyword format)\n    :markdown (util\/format (str (when image? \"!\") \"[%s](%s)\") file-name url)\n    :org (if image?\n           (util\/format \"[[%s]]\" url)\n           (util\/format \"[[%s][%s]]\" url file-name))\n    nil))\n\n(defn- get-asset-link\n  [url]\n  (str \"\/\" url))\n\n(defn ensure-assets-dir!\n  [repo]\n  (let [repo-dir (config\/get-repo-dir repo)\n        assets-dir \"assets\"]\n    (p\/then\n     (fs\/mkdir-if-not-exists (str repo-dir \"\/\" assets-dir))\n     (fn [] [repo-dir assets-dir]))))\n\n(defn save-assets!\n  ([{block-id :block\/uuid} repo files]\n   (p\/let [[repo-dir assets-dir] (ensure-assets-dir! repo)]\n     (save-assets! repo repo-dir assets-dir files\n                   (fn [index file-base]\n                     ;; TODO: maybe there're other chars we need to handle?\n                     (let [file-base (-> file-base\n                                         (string\/replace \" \" \"_\")\n                                         (string\/replace \"%\" \"_\")\n                                         (string\/replace \"\/\" \"_\"))\n                           file-name (str file-base \"_\" (.now js\/Date) \"_\" index)]\n                       (string\/replace file-name #\"_+\" \"_\"))))))\n  ([repo dir path files gen-filename]\n   (p\/all\n    (for [[index ^js file] (map-indexed vector files)]\n      (do\n        ;; WARN file name maybe fully qualified path when paste file\n        (let [file-name (util\/node-path.basename (.-name file))\n              [file-base ext] (if file-name\n                                (let [last-dot-index (string\/last-index-of file-name \".\")]\n                                  [(subs file-name 0 last-dot-index)\n                                   (subs file-name last-dot-index)])\n                                [\"\" \"\"])\n              filename (str (gen-filename index file-base) ext)\n              filename (str path \"\/\" filename)]\n                                        ;(js\/console.debug \"Write asset #\" dir filename file)\n         (if (util\/electron?)\n           (let [from (.-path file)]\n             (p\/then (js\/window.apis.copyFileToAssets dir filename from)\n                     #(p\/resolved [filename (if (string? %) (js\/File. #js[] %) file) (.join util\/node-path dir filename)])))\n           (p\/then (fs\/write-file! repo dir filename (.stream file) nil)\n                   #(p\/resolved [filename file])))))))))\n\n(defonce *assets-url-cache (atom {}))\n\n(defn make-asset-url\n  [path] ;; path start with \"\/assets\" or compatible for \"..\/assets\"\n  (let [repo-dir (config\/get-repo-dir (state\/get-current-repo))\n        path (string\/replace path \"..\/\" \"\/\")]\n    (if (util\/electron?)\n      (str \"assets:\/\/\" repo-dir path)\n      (let [handle-path (str \"handle\" repo-dir path)\n            cached-url (get @*assets-url-cache (keyword handle-path))]\n        (if cached-url\n          (p\/resolved cached-url)\n          (p\/let [handle (frontend.idb\/get-item handle-path)\n                  file (and handle (.getFile handle))]\n            (when file\n              (p\/let [url (js\/URL.createObjectURL file)]\n                (swap! *assets-url-cache assoc (keyword handle-path) url)\n                url))))))))\n\n(defn delete-asset-of-block!\n  [{:keys [repo href title full-text block-id local?] :as opts}]\n  (let [block (db-model\/query-block-by-uuid block-id)\n        _ (or block (throw (str block-id \" not exists\")))\n        format (:block\/format block)\n        text (:block\/content block)\n        content (string\/replace text full-text \"\")]\n    (save-block! repo block content)\n    (when local?\n      ;; FIXME: should be relative to current block page path\n      (fs\/unlink! (config\/get-repo-path\n                   repo (-> href\n                            (string\/replace #\"^..\/\" \"\/\")\n                            (string\/replace #\"^assets:\/\/\" \"\"))) nil))))\n\n;; assets\/journals_2021_02_03_1612350230540_0.png\n(defn resolve-relative-path\n  [file-path]\n  (if-let [current-file (some-> (state\/get-edit-block)\n                                :block\/file\n                                :db\/id\n                                (db\/entity)\n                                :file\/path)]\n    (util\/get-relative-path current-file file-path)\n    file-path))\n\n(defn upload-asset\n  [id ^js files format uploading? drop-or-paste?]\n  (let [repo (state\/get-current-repo)\n        block (state\/get-edit-block)]\n    (if (config\/local-db? repo)\n      (-> (save-assets! block repo (js->clj files))\n          (p\/then\n           (fn [res]\n             (when-let [[asset-file-name file full-file-path] (and (seq res) (first res))]\n               (let [image? (util\/ext-of-image? asset-file-name)]\n                 (insert-command!\n                  id\n                  (get-asset-file-link format (resolve-relative-path (or full-file-path asset-file-name))\n                                       (if file (.-name file) (if image? \"image\" \"asset\"))\n                                       image?)\n                  format\n                  {:last-pattern (if drop-or-paste? \"\" commands\/slash)\n                   :restore?     true})))))\n          (p\/finally\n            (fn []\n              (reset! uploading? false)\n              (reset! *asset-uploading? false)\n              (reset! *asset-uploading-process 0))))\n      (image\/upload\n       files\n       (fn [file file-name file-type]\n         (image-handler\/request-presigned-url\n          file file-name file-type\n          uploading?\n          (fn [signed-url]\n            (insert-command! id\n                             (get-asset-file-link format signed-url file-name true)\n                             format\n                             {:last-pattern (if drop-or-paste? \"\" commands\/slash)\n                              :restore?     true})\n\n            (reset! *asset-uploading? false)\n            (reset! *asset-uploading-process 0))\n          (fn [e]\n            (let [process (* (\/ (gobj\/get e \"loaded\")\n                                (gobj\/get e \"total\"))\n                             100)]\n              (reset! *asset-uploading? false)\n              (reset! *asset-uploading-process process)))))))))\n\n(defn set-asset-pending-file [file]\n  (reset! *asset-pending-file file))\n\n;; Editor should track some useful information, like editor modes.\n;; For example:\n;; 1. Which file format is it, markdown or org mode?\n;; 2. Is it in the properties area? Then we can enable the \":\" autopair\n(def autopair-map\n  {\"[\" \"]\"\n   \"{\" \"}\"\n   \"(\" \")\"\n   \"`\" \"`\"\n   \"~\" \"~\"\n   \"*\" \"*\"\n   ;; \"_\" \"_\"\n   ;; \":\" \":\"                              ; TODO: only properties editing and org mode tag\n   ;; \"^\" \"^\"\n})\n\n(def reversed-autopair-map\n  (zipmap (vals autopair-map)\n          (keys autopair-map)))\n\n(def delete-map\n  (assoc autopair-map\n         \"$\" \"$\"\n         \":\" \":\"))\n\n(def reversed-delete-map\n  (zipmap (vals delete-map)\n          (keys delete-map)))\n\n(defn autopair\n  [input-id prefix format {:keys [restore?]\n                           :or {restore? true}\n                           :as option}]\n  (let [value (get autopair-map prefix)\n        selected (util\/get-selected-text)\n        postfix (str selected value)\n        value (str prefix postfix)\n        input (gdom\/getElement input-id)]\n    (when value\n      (when-not (string\/blank? selected) (reset! *selected-text selected))\n      (let [[prefix pos] (commands\/simple-replace! input-id value selected\n                                                   {:backward-pos (count postfix)\n                                                    :check-fn (fn [new-value prefix-pos]\n                                                                (when (>= prefix-pos 0)\n                                                                  [(subs new-value prefix-pos (+ prefix-pos 2))\n                                                                   (+ prefix-pos 2)]))})]\n        (case prefix\n          \"[[\"\n          (do\n            (commands\/handle-step [:editor\/search-page])\n            (reset! commands\/*slash-caret-pos (util\/get-caret-pos input)))\n\n          \"((\"\n          (do\n            (commands\/handle-step [:editor\/search-block :reference])\n            (reset! commands\/*slash-caret-pos (util\/get-caret-pos input)))\n\n          nil)))))\n\n(defn surround-by?\n  [input before after]\n  (when input\n    (let [value (gobj\/get input \"value\")\n          pos (util\/get-input-pos input)\n          start-pos (if (= :start before) 0 (- pos (count before)))\n          end-pos (if (= :end after) (count value) (+ pos (count after)))]\n      (when (>= (count value) end-pos)\n        (= (cond\n             (and (= :end after) (= :start before))\n             \"\"\n\n             (= :end after)\n             before\n\n             (= :start before)\n             after\n\n             :else\n             (str before after))\n           (subs value start-pos end-pos))))))\n\n(defn get-matched-pages\n  [q]\n  (let [block (state\/get-edit-block)\n        editing-page (and block\n                          (when-let [page-id (:db\/id (:block\/page block))]\n                            (:block\/name (db\/entity page-id))))]\n    (let [pages (search\/page-search q 20)]\n      (if editing-page\n        ;; To prevent self references\n        (remove (fn [p] (= (string\/lower-case p) editing-page)) pages)\n        pages))))\n\n(defn get-matched-blocks\n  [q block-id]\n  ;; remove current block\n  (let [current-block (state\/get-edit-block)\n        block-parents (set (->> (db\/get-block-parents (state\/get-current-repo)\n                                                      block-id\n                                                      99)\n                                (map (comp str :block\/uuid))))\n        current-and-parents (set\/union #{(str (:block\/uuid current-block))} block-parents)]\n    (p\/let [result (search\/block-search (state\/get-current-repo) q {:limit 20})]\n      (remove\n       (fn [h]\n         (contains? current-and-parents (:block\/uuid h)))\n       result))))\n\n(defn get-matched-templates\n  [q]\n  (search\/template-search q))\n\n(defn get-matched-commands\n  [input]\n  (try\n    (let [edit-content (or (gobj\/get input \"value\") \"\")\n          pos (util\/get-input-pos input)\n          last-slash-caret-pos (:pos @*slash-caret-pos)\n          last-command (and last-slash-caret-pos (subs edit-content last-slash-caret-pos pos))]\n      (when (> pos 0)\n        (or\n         (and (= \\\/ (util\/nth-safe edit-content (dec pos)))\n              @commands\/*initial-commands)\n         (and last-command\n              (commands\/get-matched-commands last-command)))))\n    (catch js\/Error e\n      (js\/console.error e)\n      nil)))\n\n(defn get-matched-block-commands\n  [input]\n  (try\n    (let [edit-content (gobj\/get input \"value\")\n          pos (util\/get-input-pos input)\n          last-command (subs edit-content\n                             (:pos @*angle-bracket-caret-pos)\n                             pos)]\n      (when (> pos 0)\n        (or\n         (and (= \\< (util\/nth-safe edit-content (dec pos)))\n              (commands\/block-commands-map))\n         (and last-command\n              (commands\/get-matched-commands\n               last-command\n               (commands\/block-commands-map))))))\n    (catch js\/Error e\n      nil)))\n\n(defn auto-complete?\n  []\n  (or @*show-commands\n      @*show-block-commands\n      @*asset-uploading?\n      (= (gdom\/getElement \"search-field\")\n         (.-activeElement js\/document))\n      (state\/get-editor-show-input)\n      (state\/get-editor-show-page-search?)\n      (state\/get-editor-show-block-search?)\n      (state\/get-editor-show-template-search?)\n      (state\/get-editor-show-date-picker?)))\n\n(defn get-previous-input-char\n  [input]\n  (when-let [pos (util\/get-input-pos input)]\n    (let [value (gobj\/get input \"value\")]\n      (when (and (>= (count value) pos)\n                 (>= pos 1))\n        (util\/nth-safe value (- pos 1))))))\n\n(defn get-previous-input-chars\n  [input length]\n  (when-let [pos (util\/get-input-pos input)]\n    (let [value (gobj\/get input \"value\")]\n      (when (and (>= (count value) pos)\n                 (>= pos 1))\n        (subs value (- pos length) pos)))))\n\n(defn get-current-input-char\n  [input]\n  (when-let [pos (util\/get-input-pos input)]\n    (let [value (gobj\/get input \"value\")]\n      (when (and (>= (count value) (inc pos))\n                 (>= pos 1))\n        (util\/nth-safe value pos)))))\n\n(defn- get-previous-block-level\n  [current-id]\n  (when-let [input (gdom\/getElement current-id)]\n    (when-let [prev-block (util\/get-prev-block input)]\n      (util\/parse-int (dom\/attr prev-block \"level\")))))\n\n(defn append-paste-doc!\n  [format event]\n  (let [[html text] (util\/get-clipboard-as-html event)]\n    (when-not (util\/starts-with? (string\/trim text) \"http\")\n      (let [doc-text (html-parser\/parse format html)]\n        (when-not (string\/blank? doc-text)\n          (util\/stop event)\n          (state\/append-current-edit-content! doc-text))))))\n\n(defn- block-and-children-content\n  [block-children]\n  (-> (map :block\/content block-children)\n      string\/join))\n\n(defn move-up-down\n  [up?]\n  (fn [e]\n    (when-let [block-id (:block\/uuid (state\/get-edit-block))]\n      (when-let [block (db\/pull [:block\/uuid block-id])]\n        (outliner-core\/move-node (outliner-core\/block block) up?)\n        (when-let [repo (state\/get-current-repo)]\n          (let [opts {:key :block\/change\n                      :data [block]}]\n            (db\/refresh! repo opts)))))))\n\n(defn expand!\n  []\n  (when-let [current-block (state\/get-edit-block)]\n    (remove-block-property! (:block\/uuid current-block) :collapsed)))\n\n(defn collapse!\n  []\n  (when-let [current-block (state\/get-edit-block)]\n    (set-block-property! (:block\/uuid current-block) :collapsed true)))\n\n;; TODO:\n(defn cycle-collapse!\n  [e]\n  )\n\n;; selections\n(defn on-tab\n  \"direction = :left|:right, only indent or outdent when blocks are siblings\"\n  [direction]\n  (fn [e]\n    (when-let [repo (state\/get-current-repo)]\n      (let [blocks-dom-nodes (state\/get-selection-blocks)\n            blocks (seq blocks-dom-nodes)]\n        (cond\n          (seq blocks)\n          (do\n            (let [lookup-refs (->> (map (fn [block] (when-let [id (dom\/attr block \"blockid\")]\n                                                     [:block\/uuid (medley\/uuid id)])) blocks)\n                                   (remove nil?))\n                  blocks (db\/pull-many repo '[*] lookup-refs)\n                  blocks (reorder-blocks blocks)\n                  end-node (get-top-level-end-node blocks)\n                  end-node-parent (tree\/-get-parent end-node)\n                  top-level-nodes (->> (filter #(= (get-in end-node-parent [:data :db\/id])\n                                                   (get-in % [:block\/parent :db\/id])) blocks)\n                                       (map outliner-core\/block))]\n              (outliner-core\/indent-outdent-nodes top-level-nodes (= direction :right))\n              (let [opts {:key :block\/change\n                          :data blocks}]\n                (db\/refresh! repo opts)\n                (let [blocks (doall\n                              (map\n                               (fn [block]\n                                 (when-let [id (gobj\/get block \"id\")]\n                                   (when-let [block (gdom\/getElement id)]\n                                     (dom\/add-class! block \"selected noselect\")\n                                     block)))\n                               blocks-dom-nodes))]\n                  (state\/set-selection-blocks! blocks)))))\n\n          (gdom\/getElement \"date-time-picker\")\n          nil\n\n          :else\n          (cycle-collapse! e))))))\n\n(defn- get-link\n  [format link label]\n  (let [link (or link \"\")\n        label (or label \"\")]\n    (case (keyword format)\n      :markdown (util\/format \"[%s](%s)\" label link)\n      :org (util\/format \"[[%s][%s]]\" link label)\n      nil)))\n\n(defn handle-command-input\n  [command id format m pos]\n  (case command\n    :link\n    (let [{:keys [link label]} m]\n      (if (and (string\/blank? link)\n               (string\/blank? label))\n        nil\n        (insert-command! id\n                         (get-link format link label)\n                         format\n                         {:last-pattern (str commands\/slash \"link\")})))\n    nil)\n\n  (state\/set-editor-show-input! nil)\n\n  (when-let [saved-cursor (get @state\/state :editor\/last-saved-cursor)]\n    (when-let [input (gdom\/getElement id)]\n      (.focus input)\n      (util\/move-cursor-to input saved-cursor))))\n\n(defn open-block!\n  [first?]\n  (fn [e]\n    (let [edit-id (state\/get-last-edit-input-id)\n          block-id (when edit-id (subs edit-id (- (count edit-id) 36)))\n          last-edit-block (first (array-seq (js\/document.getElementsByClassName block-id)))\n          nodes (array-seq (js\/document.getElementsByClassName \"ls-block\"))\n          first-node (first nodes)\n          node (cond\n                 last-edit-block\n                 last-edit-block\n                 first?\n                 first-node\n                 :else\n                 (when-let [blocks-container (util\/rec-get-blocks-container first-node)]\n                   (let [nodes (dom\/by-class blocks-container \"ls-block\")]\n                     (last nodes))))]\n      (when node\n        (state\/clear-selection!)\n        (unhighlight-blocks!)\n        (let [block-id (and node (dom\/attr node \"blockid\"))\n              edit-block-id (string\/replace (gobj\/get node \"id\") \"ls-block\" \"edit-block\")\n              block-id (medley\/uuid block-id)]\n          (when-let [block (or (db\/entity [:block\/uuid block-id])\n                               {:block\/uuid block-id})]\n            (edit-block! block\n                         :max\n                         (:block\/format block)\n                         edit-block-id)))))))\n\n(defn get-search-q\n  []\n  (when-let [id (state\/get-edit-input-id)]\n    (when-let [input (gdom\/getElement id)]\n      (let [current-pos (:pos (util\/get-caret-pos input))\n            pos (:editor\/last-saved-cursor @state\/state)\n            edit-content (or (state\/sub [:editor\/content id]) \"\")]\n        (or\n         @*selected-text\n         (util\/safe-subs edit-content pos current-pos))))))\n\n(defn close-autocomplete-if-outside\n  [input]\n  (when (and input\n             (or (state\/get-editor-show-page-search?)\n                 (state\/get-editor-show-page-search-hashtag?)\n                 (state\/get-editor-show-block-search?)))\n    (when-let [q (get-search-q)]\n      (let [value (gobj\/get input \"value\")\n            pos (:editor\/last-saved-cursor @state\/state)\n            current-pos (:pos (util\/get-caret-pos input))]\n        (when (or (< current-pos pos)\n                  (string\/includes? q \"]\")\n                  (string\/includes? q \")\"))\n          (state\/set-editor-show-block-search! false)\n          (state\/set-editor-show-page-search! false)\n          (state\/set-editor-show-page-search-hashtag! false))))))\n\n(defn save!\n  []\n  (when-let [repo (state\/get-current-repo)]\n    (save-current-block!)\n\n    (when (string\/starts-with? repo \"https:\/\/\") ; git repo\n      (repo-handler\/auto-push!))))\n\n(defn resize-image!\n  [block-id metadata full_text size]\n  (let [new-meta (merge metadata size)\n        image-part (first (string\/split full_text #\"\\{\"))\n        new-full-text (str image-part (pr-str new-meta))\n        block (db\/pull [:block\/uuid block-id])\n        value (:block\/content block)\n        new-value (string\/replace value full_text new-full-text)]\n    (save-block-aux! block new-value (:block\/format block) {})))\n\n(defn- mark-last-input-time!\n  [repo]\n  (when repo\n    (state\/set-editor-last-input-time! repo (util\/time-ms))\n    (db\/clear-repo-persistent-job! repo)))\n\n(defonce *auto-save-timeout (atom nil))\n(defn edit-box-on-change!\n  [e block id]\n  (let [value (util\/evalue e)\n        current-pos (util\/get-input-pos (gdom\/getElement id))\n        repo (or (:block\/repo block)\n                 (state\/get-current-repo))]\n    (state\/set-edit-content! id value false)\n    (when @*auto-save-timeout\n      (js\/clearTimeout @*auto-save-timeout))\n    (mark-last-input-time! repo)\n    (reset! *auto-save-timeout\n            (js\/setTimeout\n             (fn []\n               (when (state\/input-idle? repo)\n                 (state\/set-editor-op! :auto-save)\n                 (save-current-block! {})\n                 (state\/set-editor-op! nil)))\n             500))\n    (let [input (gdom\/getElement id)\n          native-e (gobj\/get e \"nativeEvent\")\n          last-input-char (util\/nth-safe value (dec current-pos))]\n      (case last-input-char\n        \"\/\"\n        ;; TODO: is it cross-browser compatible?\n        (when (not= (gobj\/get native-e \"inputType\") \"insertFromPaste\")\n          (when-let [matched-commands (seq (get-matched-commands input))]\n            (reset! commands\/*slash-caret-pos (util\/get-caret-pos input))\n            (reset! commands\/*show-commands true)))\n        \"<\"\n        (when-let [matched-commands (seq (get-matched-block-commands input))]\n          (reset! commands\/*angle-bracket-caret-pos (util\/get-caret-pos input))\n          (reset! commands\/*show-block-commands true))\n        nil))))\n\n(defn block-on-chosen-handler\n  [input id q format]\n  (fn [chosen _click?]\n    (state\/set-editor-show-block-search! false)\n    (let [uuid-string (str (:block\/uuid chosen))]\n\n      ;; block reference\n      (insert-command! id\n                       (util\/format \"((%s))\" uuid-string)\n                       format\n                       {:last-pattern (str \"((\" (if @*selected-text \"\" q))\n                        :postfix-fn   (fn [s] (util\/replace-first \"))\" s \"\"))})\n\n      ;; Save it so it'll be parsed correctly in the future\n      (set-block-property! (:block\/uuid chosen)\n                           :id\n                           uuid-string)\n\n      (when-let [input (gdom\/getElement id)]\n        (.focus input)))))\n\n(defn block-non-exist-handler\n  [input]\n  (fn []\n    (state\/set-editor-show-block-search! false)\n    (util\/cursor-move-forward input 2)))\n\n(defn- get-block-tree-insert-pos-at-point\n  \"return [target-block sibling?]\"\n  []\n  (when-let [editing-block (or (db\/pull (:db\/id (state\/get-edit-block)))\n                               (when (:block\/dummy? (state\/get-edit-block)) (state\/get-edit-block)))]\n    (let [dummy? (:block\/dummy? editing-block)\n          input (gdom\/getElement (state\/get-edit-input-id))\n          pos (util\/get-input-pos input)\n          value (:value (get-state))\n          [fst-block-text snd-block-text] (compute-fst-snd-block-text value pos)\n          parent (:db\/id (:block\/parent editing-block))\n          parent-block (db\/pull parent)\n          left (:db\/id (:block\/left editing-block))\n          left-block (db\/pull left)\n          [_ _ config] (state\/get-editor-args)\n          block-id (:block\/uuid editing-block)\n          block-self? (block-self-alone-when-insert? config block-id)\n          has-children? (db\/has-children? (state\/get-current-repo)\n                                          (:block\/uuid editing-block))\n          collapsed? (:collapsed (:block\/properties editing-block))]\n      (conj (match (mapv boolean [dummy? (seq fst-block-text) (seq snd-block-text)\n                                  block-self? has-children? (= parent left) collapsed?])\n                   ;; if editing-block is dummy, insert after page-block\n                   [true _ _ _ _ _ _]\n                   [parent-block false]\n\n                   ;; when zoom at editing-block\n                   [false _ _ true _ _ _]\n                   [editing-block false]\n\n                   ;; insert after editing-block\n                   [false true _ false true _ false]\n                   [editing-block false]\n                   [false true _ false true _ true]\n                   [editing-block true]\n                   [false true _ false false _ _]\n                   [editing-block true]\n                   [false false false false true _ false]\n                   [editing-block false]\n                   [false false false false true _ true]\n                   [editing-block true]\n                   [false false false false false _ _]\n                   [editing-block true]\n\n                   ;; insert before editing-block\n                   [false false true false _ true _]\n                   [parent-block false]\n                   [false false true false _ false _]\n                   [left-block true])\n            editing-block))))\n\n(defn- paste-block-tree-at-point\n  ([tree exclude-properties] (paste-block-tree-at-point tree exclude-properties nil))\n  ([tree exclude-properties content-update-fn]\n   (let [repo (state\/get-current-repo)\n         page (or (db\/entity [:block\/name (state\/get-current-page)])\n                  (db\/entity [:block\/original-name (state\/get-current-page)])\n                  (:block\/page (db\/entity (:db\/id (state\/get-edit-block)))))\n         file (:block\/file page)]\n     (when-let [[target-block sibling? editing-block] (get-block-tree-insert-pos-at-point)]\n       (let [target-block (outliner-core\/block target-block)\n             editing-block (outliner-core\/block editing-block)\n             format (or (:block\/format target-block) (state\/get-preferred-format))\n             new-block-uuids (atom #{})\n             metadata-replaced-blocks\n             (zip\/root\n              (loop [loc (zip\/vector-zip tree)]\n                (if (zip\/end? loc)\n                  loc\n                  (if (vector? (zip\/node loc))\n                    (recur (zip\/next loc))\n                    (let [uuid (random-uuid)]\n                      (swap! new-block-uuids (fn [acc uuid] (conj acc uuid)) uuid)\n\n                      (recur (zip\/next (zip\/edit\n                                        loc\n                                        #(outliner-core\/block\n                                          (let [[new-content new-title]\n                                                (if content-update-fn\n                                                  (let [new-content (content-update-fn (:block\/content %))\n                                                        new-title (or (:title (second (ffirst\n                                                                                       (mldoc\/->edn (str (case format\n                                                                                                           :markdown \"- \"\n                                                                                                           :org \"* \")\n                                                                                                         (if (seq (:block\/title %)) \"\" \"\\n\")\n                                                                                                         new-content)\n                                                                                                    (mldoc\/default-config format)))))\n                                                                      (:block\/title %))]\n                                                    [new-content new-title])\n                                                  [(:block\/content %) (:block\/title %)])\n                                                new-content\n                                                (->> new-content\n                                                     (property\/remove-property format \"id\")\n                                                     (property\/remove-property format \"custom_id\"))]\n                                            (conj {:block\/uuid uuid\n                                                   :block\/page (select-keys page [:db\/id])\n                                                   :block\/file (select-keys file [:db\/id])\n                                                   :block\/format format\n                                                   :block\/properties (apply dissoc (:block\/properties %)\n                                                                            (concat [:id :custom_id :custom-id]\n                                                                                    exclude-properties))\n                                                   :block\/meta (dissoc (:block\/meta %) :start-pos :end-pos)\n                                                   :block\/content new-content\n                                                   :block\/title new-title}\n                                                  (dissoc %\n                                                          :block\/pre-block?\n                                                          :block\/uuid\n                                                          :block\/page\n                                                          :block\/file\n                                                          :db\/id\n                                                          :block\/left\n                                                          :block\/parent\n                                                          :block\/format\n                                                          :block\/properties\n                                                          :block\/meta\n                                                          :block\/content\n                                                          :block\/title))))))))))))\n             _ (outliner-core\/save-node editing-block)\n             _ (outliner-core\/insert-nodes metadata-replaced-blocks target-block sibling?)\n             new-blocks (db\/pull-many repo '[*] (map (fn [id] [:block\/uuid id]) @new-block-uuids))]\n         (db\/refresh! repo {:key :block\/insert :data new-blocks}))))))\n\n(defn template-on-chosen-handler\n  [_input id _q format _edit-block _edit-content]\n  (fn [[_template db-id] _click?]\n    (let [repo (state\/get-current-repo)\n          block (db\/entity db-id)\n          block-uuid (:block\/uuid block)\n          including-parent? (not (false? (:including-parent (:block\/properties block))))\n          blocks (if including-parent? (db\/get-block-and-children repo block-uuid) (db\/get-block-children repo block-uuid))\n          level-blocks (vals (blocks-with-level blocks))\n          grouped-blocks (group-by #(= db-id (:db\/id %)) level-blocks)\n          root-block (or (first (get grouped-blocks true)) (assoc (db\/pull db-id) :level 1))\n          blocks-exclude-root (get grouped-blocks false)\n          sorted-blocks (tree\/sort-blocks blocks-exclude-root root-block)\n          result-blocks (if including-parent? sorted-blocks (drop 1 sorted-blocks))\n          tree (blocks-vec->tree result-blocks)]\n      (paste-block-tree-at-point tree [:template :including-parent]\n                                 (fn [content]\n                                   (->> content\n                                        (property\/remove-property format \"template\")\n                                        (property\/remove-property format \"including-parent\")\n                                        template\/resolve-dynamic-template!)))\n      (clear-when-saved!)\n      (insert-command! id \"\" format {})\n      (db\/refresh! repo {:key :block\/insert :data [(db\/pull db-id)]}))\n    (when-let [input (gdom\/getElement id)]\n      (.focus input))))\n\n(defn parent-is-page?\n  [{{:block\/keys [parent page]} :data :as node}]\n  {:pre [(tree\/satisfied-inode? node)]}\n  (= parent page))\n\n(defn outdent-on-enter\n  [node]\n  (when-not (parent-is-page? node)\n    (let [parent-node (tree\/-get-parent node)]\n      (outliner-core\/move-subtree node parent-node true)))\n  (let [repo (state\/get-current-repo)]\n    (db\/refresh! repo {:key :block\/change :data [(:data node)]})))\n\n(defn- last-top-level-child?\n  [{:keys [id config]} current-node]\n  (when id\n    (when-let [entity (if (util\/uuid-string? (str id))\n                        (db\/entity [:block\/uuid (uuid id)])\n                        (db\/entity [:block\/name (string\/lower-case id)]))]\n      (= (:block\/uuid entity) (tree\/-get-parent-id current-node)))))\n\n(defn- keydown-new-block\n  [state]\n  (when-not (auto-complete?)\n    (let [{:keys [block config]} (get-state)]\n      (when (and block\n                 (not (:custom-query? config)))\n        (let [content (state\/get-edit-content)\n              current-node (outliner-core\/block block)\n              has-right? (-> (tree\/-get-right current-node)\n                             (tree\/satisfied-inode?))]\n          (if (and\n               (string\/blank? content)\n               (not has-right?)\n               (not (last-top-level-child? config current-node)))\n            (outdent-on-enter current-node)\n            (profile\n             \"Insert block\"\n             (insert-new-block! state))))))))\n\n(defn- keydown-new-line\n  []\n  (when-not (auto-complete?)\n    (let [^js input (state\/get-input)\n          selected-start (gobj\/get input \"selectionStart\")\n          selected-end (gobj\/get input \"selectionEnd\")\n          value (.-value input)\n          s1 (subs value 0 selected-start)\n          s2 (subs value selected-end)]\n      (state\/set-edit-content! (state\/get-edit-input-id)\n                               (str s1 \"\\n\" s2))\n      (util\/move-cursor-to input (inc selected-start)))))\n\n(defn keydown-new-block-handler [state e]\n  (if (state\/get-new-block-toggle?)\n    (keydown-new-line)\n    (do\n      (.preventDefault e)\n      (keydown-new-block state))))\n\n(defn keydown-new-line-handler [state e]\n  (if (state\/get-new-block-toggle?)\n    (keydown-new-block state)\n    (do\n      (.preventDefault e)\n      (keydown-new-line))))\n\n(defn- select-first-last\n  \"Select first or last block in viewpoint\"\n  [direction]\n  (let [f (case direction :up last :down first)\n        block (->> (util\/get-blocks-noncollapse)\n                   (f))]\n    (when block\n      (.scrollIntoView block #js {:behavior \"smooth\" :block \"center\"})\n      (exit-editing-and-set-selected-blocks! [block]))))\n\n(defn- select-up-down [direction]\n  (let [selected (first (state\/get-selection-blocks))\n        f (case direction\n                :up get-prev-block-non-collapsed\n                :down get-next-block-non-collapsed)\n        sibling-block (f selected)]\n    (when (and sibling-block (dom\/attr sibling-block \"blockid\"))\n      (clear-selection! nil)\n      (.scrollIntoView sibling-block #js {:behavior \"smooth\" :block \"center\"})\n      (exit-editing-and-set-selected-blocks! [sibling-block]))))\n\n(defn- move-cross-boundrary-up-down\n  [direction]\n  (let [input (state\/get-input)\n        line-pos (util\/get-first-or-last-line-pos input)\n        repo (state\/get-current-repo)\n        f (case direction\n                :up get-prev-block-non-collapsed\n                :down get-next-block-non-collapsed)\n        sibling-block (f (gdom\/getElement (state\/get-editing-block-dom-id)))\n        {:block\/keys [uuid content format]} (state\/get-edit-block)]\n    (when sibling-block\n      (when-let [sibling-block-id (dom\/attr sibling-block \"blockid\")]\n        (let [value (state\/get-edit-content)]\n          (when (not= (clean-content! format content)\n                      (string\/trim value))\n            (save-block! repo uuid value)))\n\n        (let [new-id (cljs.core\/uuid sibling-block-id)\n              block (db\/pull repo '[*] [:block\/uuid new-id])]\n          (edit-block! block\n                       [direction line-pos]\n                       format\n                       new-id))))))\n\n(defn keydown-up-down-handler\n  [direction]\n  (let [input (state\/get-input)\n        line-height (util\/get-textarea-line-height input)\n        selected-start (.-selectionStart input)\n        selected-end (.-selectionEnd input)\n        up? (= direction :up)\n        down? (= direction :down)]\n    (cond\n      (not= selected-start selected-end)\n      (if up?\n        (util\/set-caret-pos! input selected-start)\n        (util\/set-caret-pos! input selected-end))\n\n      (or (and up? (util\/textarea-cursor-first-row? input line-height))\n          (and down? (util\/textarea-cursor-end-row? input line-height)))\n      (move-cross-boundrary-up-down direction)\n\n      :else\n      (if up?\n        (util\/move-cursor-up input)\n        (util\/move-cursor-down input)))))\n\n(defn- move-to-block-when-cross-boundrary\n  [direction]\n  (let [up? (= :left direction)\n        pos (if up? :max 0)\n        {:block\/keys [format uuid] :as block} (state\/get-edit-block)\n        id (state\/get-edit-input-id)\n        repo (state\/get-current-repo)]\n    (let [f (if up? get-prev-block-non-collapsed get-next-block-non-collapsed)\n          sibling-block (f (gdom\/getElement (state\/get-editing-block-dom-id)))]\n      (when sibling-block\n        (when-let [sibling-block-id (dom\/attr sibling-block \"blockid\")]\n          (let [content (:block\/content block)\n                value (state\/get-edit-content)]\n            (when (not= (clean-content! format content)\n                        (string\/trim value))\n              (save-block! repo uuid value)))\n          (let [block (db\/pull repo '[*] [:block\/uuid (cljs.core\/uuid sibling-block-id)])]\n            (edit-block! block pos format id)))))))\n\n(defn keydown-arrow-handler\n  [direction]\n  (let [input (state\/get-input)\n        element js\/document.activeElement\n        selected-start (.-selectionStart input)\n        selected-end (.-selectionEnd input)\n        left? (= direction :left)\n        right? (= direction :right)]\n    (when (= input element)\n      (cond\n        (not= selected-start selected-end)\n        (if left?\n          (util\/set-caret-pos! input selected-start)\n          (util\/set-caret-pos! input selected-end))\n\n        (or (and left? (util\/input-start? input))\n            (and right? (util\/input-end? input)))\n        (move-to-block-when-cross-boundrary direction)\n\n        :else\n        (if left?\n          (util\/cursor-move-back input 1)\n          (util\/cursor-move-forward input 1))))))\n\n(defn- delete-and-update [^js input start end]\n  (.setRangeText input \"\" start end)\n  (state\/set-edit-content! (state\/get-edit-input-id) (.-value input)))\n\n(defn- delete-concat [current-block]\n  (let [input-id (state\/get-edit-input-id)\n        ^js input (state\/get-input)\n        current-pos (util\/get-input-pos input)\n        value (gobj\/get input \"value\")\n        repo (state\/get-current-repo)\n        right (outliner-core\/get-right-node (outliner-core\/block current-block))\n        current-block-has-children? (db\/has-children? repo (:block\/uuid current-block))\n        collapsed? (:collapsed (:block\/properties current-block))\n        first-child (:data (tree\/-get-down (outliner-core\/block current-block)))\n        next-block (if (or collapsed? (not current-block-has-children?))\n                     (:data right)\n                     first-child)]\n    (cond\n      (and collapsed? right (db\/has-children? repo (tree\/-get-id right)))\n      nil\n\n      (and (not collapsed?) first-child (db\/has-children? repo (:block\/uuid first-child)))\n      nil\n\n      :else\n      (do\n        (delete-block-aux! next-block false false)\n        (state\/set-edit-content! input-id (str value \"\" (:block\/content next-block)))\n        (util\/move-cursor-to input current-pos)))))\n\n(defn keydown-delete-handler\n  [e]\n  (let [^js input (state\/get-input)\n        current-pos (util\/get-input-pos input)\n        value (gobj\/get input \"value\")\n        end? (= current-pos (count value))\n        current-block (state\/get-edit-block)\n        selected-start (gobj\/get input \"selectionStart\")\n        selected-end (gobj\/get input \"selectionEnd\")]\n    (when current-block\n      (cond\n        (not= selected-start selected-end)\n        (delete-and-update input selected-start selected-end)\n\n        (and end? current-block)\n        (delete-concat current-block)\n\n        :else\n        (delete-and-update input current-pos (inc current-pos))))))\n\n(defn keydown-backspace-handler\n  [cut? e]\n  (let [^js input (state\/get-input)\n        id (state\/get-edit-input-id)\n        current-pos (:pos (util\/get-caret-pos input))\n        value (gobj\/get input \"value\")\n        deleted (and (> current-pos 0)\n                     (util\/nth-safe value (dec current-pos)))\n        selected-start (gobj\/get input \"selectionStart\")\n        selected-end (gobj\/get input \"selectionEnd\")\n        block-id (:block\/uuid (state\/get-edit-block))\n        page (state\/get-current-page)\n        repo (state\/get-current-repo)]\n    (mark-last-input-time! repo)\n    (cond\n      (not= selected-start selected-end)\n      (do\n        (util\/stop e)\n        (when cut?\n          (js\/document.execCommand \"copy\"))\n        (delete-and-update input selected-start selected-end))\n\n      (and (zero? current-pos)\n           ;; not the top block in a block page\n           (not (and page\n                     (util\/uuid-string? page)\n                     (= (medley\/uuid page) block-id))))\n      (do\n        (util\/stop e)\n        (delete-block! repo e false))\n\n      (and (> current-pos 1)\n           (= (util\/nth-safe value (dec current-pos)) commands\/slash))\n      (do\n        (util\/stop e)\n        (reset! *slash-caret-pos nil)\n        (reset! *show-commands false)\n        (delete-and-update input (dec current-pos) current-pos))\n\n      (and (> current-pos 1)\n           (= (util\/nth-safe value (dec current-pos)) commands\/angle-bracket))\n      (do\n        (util\/stop e)\n        (reset! *angle-bracket-caret-pos nil)\n        (reset! *show-block-commands false)\n        (delete-and-update input (dec current-pos) current-pos))\n\n      ;; pair\n      (and\n       deleted\n       (contains?\n        (set (keys delete-map))\n        deleted)\n       (>= (count value) (inc current-pos))\n       (= (util\/nth-safe value current-pos)\n          (get delete-map deleted)))\n\n      (do\n        (util\/stop e)\n        (commands\/delete-pair! id)\n        (cond\n          (and (= deleted \"[\") (state\/get-editor-show-page-search?))\n          (state\/set-editor-show-page-search! false)\n\n          (and (= deleted \"(\") (state\/get-editor-show-block-search?))\n          (state\/set-editor-show-block-search! false)\n\n          :else\n          nil))\n\n      ;; deleting hashtag\n      (and (= deleted \"#\") (state\/get-editor-show-page-search-hashtag?))\n      (do\n        (state\/set-editor-show-page-search-hashtag! false)\n        (delete-and-update input (dec current-pos) current-pos))\n\n      ;; just delete\n      :else\n      (do\n        (util\/stop e)\n        (delete-and-update input (dec current-pos) current-pos)))))\n\n(defn indent-outdent\n  [state indent?]\n  (state\/set-editor-op! :indent-outdent)\n  (let [{:keys [block block-parent-id value config]} (get-state)]\n    (when block\n      (let [current-node (outliner-core\/block block)]\n        (outliner-core\/indent-outdent-nodes [current-node] indent?)\n        (let [repo (state\/get-current-repo)]\n          (db\/refresh! repo\n                       {:key :block\/change :data [(:data current-node)]}))))\n  (state\/set-editor-op! :nil)))\n\n(defn keydown-tab-handler\n  [direction]\n  (fn [state e]\n    (let [input (state\/get-input)\n          pos (:pos (util\/get-caret-pos input))]\n      (when (and (not (state\/get-editor-show-input))\n                 (not (state\/get-editor-show-date-picker?))\n                 (not (state\/get-editor-show-template-search?)))\n        (indent-outdent state (not (= :left direction)))\n        (and input pos\n             (when-let [input (state\/get-input)]\n               (util\/move-cursor-to input pos)))))))\n\n(defn keydown-not-matched-handler\n  [format]\n  (fn [e key-code]\n    (let [input-id (state\/get-edit-input-id)\n          input (state\/get-input)\n          key (gobj\/get e \"key\")\n          value (gobj\/get input \"value\")\n          ctrlKey (gobj\/get e \"ctrlKey\")\n          metaKey (gobj\/get e \"metaKey\")\n          pos (util\/get-input-pos input)]\n      (cond\n        (or ctrlKey metaKey)\n        nil\n\n        (and (= key \"#\")\n             (and\n              (> pos 0)\n              (= \"#\" (util\/nth-safe value (dec pos)))))\n        (state\/set-editor-show-page-search-hashtag! false)\n\n        (and\n         (contains? (set\/difference (set (keys reversed-autopair-map))\n                                    #{\"`\"})\n                    key)\n         (= (get-current-input-char input) key))\n        (do\n          (util\/stop e)\n          (util\/cursor-move-forward input 1))\n\n        (contains? (set (keys autopair-map)) key)\n        (do\n          (util\/stop e)\n          (autopair input-id key format nil)\n          (cond\n            (surround-by? input \"[[\" \"]]\")\n            (do\n              (commands\/handle-step [:editor\/search-page])\n              (reset! commands\/*slash-caret-pos (util\/get-caret-pos input)))\n            (surround-by? input \"((\" \"))\")\n            (do\n              (commands\/handle-step [:editor\/search-block :reference])\n              (reset! commands\/*slash-caret-pos (util\/get-caret-pos input)))\n            :else\n            nil))\n\n        (or\n         (surround-by? input \"#\" \" \")\n         (surround-by? input \"#\" :end)\n         (= key \"#\"))\n        (do\n          (commands\/handle-step [:editor\/search-page-hashtag])\n          (state\/set-last-pos! (:pos (util\/get-caret-pos input)))\n          (reset! commands\/*slash-caret-pos (util\/get-caret-pos input)))\n\n        (let [sym \"$\"]\n          (and (= key sym)\n               (>= (count value) 1)\n               (> pos 0)\n               (= (nth value (dec pos)) sym)\n               (if (> (count value) pos)\n                 (not= (nth value pos) sym)\n                 true)))\n        (commands\/simple-insert! input-id \"$$\" {:backward-pos 2})\n\n        (let [sym \"^\"]\n          (and (= key sym)\n               (>= (count value) 1)\n               (> pos 0)\n               (= (nth value (dec pos)) sym)\n               (if (> (count value) pos)\n                 (not= (nth value pos) sym)\n                 true)))\n        (commands\/simple-insert! input-id \"^^\" {:backward-pos 2})\n\n        :else\n        nil))))\n\n;; key up\n(defn keyup-handler\n  [state input input-id search-timeout]\n  (fn [e key-code]\n    (let [k (gobj\/get e \"key\")\n          format (:format (get-state))\n          current-pos (util\/get-input-pos input)\n          value (gobj\/get input \"value\")\n          c (util\/nth-safe value (dec current-pos))]\n      (when-not (state\/get-editor-show-input)\n        (when (= c \" \")\n          (when (or (= (util\/nth-safe value (dec (dec current-pos))) \"#\")\n                    (not (state\/get-editor-show-page-search?)))\n            (state\/set-editor-show-page-search-hashtag! false)))\n\n        (when (and @*show-commands (not= key-code 191)) ; not \/\n          (let [matched-commands (get-matched-commands input)]\n            (if (seq matched-commands)\n              (do\n                (reset! *show-commands true)\n                (reset! commands\/*matched-commands matched-commands))\n              (reset! *show-commands false))))\n        (when (and @*show-block-commands (not= key-code 188)) ; not <\n          (let [matched-block-commands (get-matched-block-commands input)]\n            (if (seq matched-block-commands)\n              (cond\n                (= key-code 9)       ;tab\n                (when @*show-block-commands\n                  (util\/stop e)\n                  (insert-command! input-id\n                                   (last (first matched-block-commands))\n                                   format\n                                   {:last-pattern commands\/angle-bracket}))\n\n                :else\n                (reset! commands\/*matched-block-commands matched-block-commands))\n              (reset! *show-block-commands false))))\n        (when (nil? @search-timeout)\n          (close-autocomplete-if-outside input))))))\n\n(defn editor-on-click!\n  [id]\n  (fn [_e]\n    (let [input (gdom\/getElement id)]\n      (close-autocomplete-if-outside input))))\n\n(defn editor-on-change!\n  [block id search-timeout]\n  (fn [e]\n    (if (state\/sub :editor\/show-block-search?)\n      (let [blocks-count (or (db\/blocks-count) 0)\n            timeout (if (> blocks-count 2000) 300 100)]\n        (when @search-timeout\n          (js\/clearTimeout @search-timeout))\n        (reset! search-timeout\n                (js\/setTimeout\n                 #(edit-box-on-change! e block id)\n                 timeout)))\n      (edit-box-on-change! e block id))))\n\n\n(defn- get-current-page-format\n  []\n  (when-let [page (state\/get-current-page)]\n    (db\/get-page-format page)))\n\n(defn- paste-text-parseable\n  [format text]\n  (let [tree (->>\n              (block\/extract-blocks\n               (mldoc\/->edn text (mldoc\/default-config format)) text true format))\n        min-level (apply min (mapv :block\/level tree))\n        prefix-level (if (> min-level 1) (- min-level 1) 0)\n        tree* (->> tree\n                   (mapv #(assoc % :level (- (:block\/level %) prefix-level)))\n                   (blocks-vec->tree))]\n    (paste-block-tree-at-point tree* [])))\n\n(defn- paste-segmented-text\n  [format text]\n  (let [paragraphs (string\/split text #\"(?:\\r?\\n){2,}\")\n        updated-paragraphs\n        (string\/join \"\\n\"\n                     (mapv (fn [p] (->> (string\/trim p)\n                                        ((fn [p]\n                                           (if (util\/safe-re-find (if (= format :org)\n                                                          #\"\\s*\\*+\\s+\"\n                                                          #\"\\s*-\\s+\") p)\n                                             p\n                                             (str (if (= format :org) \"* \" \"- \") p))))))\n                           paragraphs))]\n    (paste-text-parseable format updated-paragraphs)))\n\n(defn- paste-text\n  [text e]\n  (let [repo (state\/get-current-repo)\n        page (or (db\/entity [:block\/name (state\/get-current-page)])\n                 (db\/entity [:block\/original-name (state\/get-current-page)])\n                 (:block\/page (db\/entity (:db\/id (state\/get-edit-block)))))\n        file (:block\/file page)\n        copied-blocks (state\/get-copied-blocks)\n        copied-block-tree (:copy\/block-tree copied-blocks)]\n    (if (and\n         (:copy\/content copied-blocks)\n         (not (string\/blank? text))\n         (= (string\/trim text) (string\/trim (:copy\/content copied-blocks))))\n      (do\n        ;; copy from logseq internally\n        (paste-block-tree-at-point copied-block-tree [])\n        (util\/stop e))\n\n      (do\n        ;; from external\n        (let [format (or (db\/get-page-format (state\/get-current-page)) :markdown)]\n          (match [format\n                  (nil? (util\/safe-re-find #\"(?m)^\\s*(?:[-+*]|#+)\\s+\" text))\n                  (nil? (util\/safe-re-find #\"(?m)^\\s*\\*+\\s+\" text))\n                  (nil? (util\/safe-re-find #\"(?:\\r?\\n){2,}\" text))]\n            [:markdown false _ _]\n            (do\n              (paste-text-parseable format text)\n              (util\/stop e))\n\n            [:org _ false _]\n            (do\n              (paste-text-parseable format text)\n              (util\/stop e))\n\n            [:markdown true _ false]\n            (do\n              (paste-segmented-text format text)\n              (util\/stop e))\n\n            [:markdown true _ true]\n            (do)\n\n            [:org _ true false]\n            (do\n              (paste-segmented-text format text)\n              (util\/stop e))\n            [:org _ true true]\n            (do)))))))\n\n(defn editor-on-paste!\n  [id]\n  (fn [e]\n    (if-let [handled\n               (let [pick-one-allowed-item\n                     (fn [items]\n                       (if (util\/electron?)\n                         (let [existed-file-path (js\/window.apis.getFilePathFromClipboard)\n                               existed-file-path (if (and\n                                                      (string? existed-file-path)\n                                                      (not util\/mac?)\n                                                      (not util\/win32?)) ; FIXME: linux\n                                                   (when (util\/safe-re-find #\"^(\/[^\/ ]*)+\/?$\" existed-file-path)\n                                                     existed-file-path)\n                                                   existed-file-path)\n                               has-file-path? (not (string\/blank? existed-file-path))\n                               has-image? (js\/window.apis.isClipboardHasImage)]\n                           (if (or has-image? has-file-path?)\n                             [:asset (js\/File. #js[] (if has-file-path? existed-file-path \"image.png\"))]))\n\n                         (when (and items (.-length items))\n                           (let [files (. (js\/Array.from items) (filter #(= (.-kind %) \"file\")))\n                                 it (gobj\/get files 0) ;;; TODO: support multiple files\n                                 mime (and it (.-type it))]\n                             (cond\n                               (contains? #{\"image\/jpeg\" \"image\/png\" \"image\/jpg\" \"image\/gif\"} mime) [:asset (. it getAsFile)])))))\n                     clipboard-data (gobj\/get e \"clipboardData\")\n                     items (or (.-items clipboard-data)\n                               (.-files clipboard-data))\n                     picked (pick-one-allowed-item items)]\n                 (if (get picked 1)\n                   (match picked\n                     [:asset file] (set-asset-pending-file file))))]\n      (util\/stop e)\n      (paste-text (.getData (gobj\/get e \"clipboardData\") \"text\") e))))\n\n(defn- cut-blocks-and-clear-selections!\n  [copy?]\n  (cut-selection-blocks copy?)\n  (clear-selection! nil))\n\n(defn shortcut-copy-selection\n  [e]\n  (copy-selection-blocks))\n\n(defn shortcut-cut-selection\n  [e]\n  (util\/stop e)\n  (cut-blocks-and-clear-selections! true))\n\n(defn shortcut-delete-selection\n  [e]\n  (util\/stop e)\n  (cut-blocks-and-clear-selections! false))\n\n;; credits to @pengx17\n(defn- copy-current-block-ref\n  []\n  (when-let [current-block (state\/get-edit-block)]\n    (when-let [block-id (:block\/uuid current-block)]\n      (copy-block-ref! block-id #(str \"((\" % \"))\"))\n      (notification\/show!\n       [:div\n        [:span.mb-1.5 \"Block ref copied!\"]\n        [:div [:code.whitespace-nowrap (str \"((\" block-id \"))\")]]]\n       :success true\n       ;; use uuid to make sure there is only one toast a time\n       (str \"copied-block-ref:\" block-id)))))\n\n(defn shortcut-copy\n  \"shortcut copy action:\n  * when in selection mode, copy selected blocks\n  * when in edit mode but no text selected, copy current block ref\n  * when in edit mode with text selected, copy selected text as normal\"\n  [e]\n  (when-not (auto-complete?)\n    (cond\n      (state\/selection?)\n      (shortcut-copy-selection e)\n\n      (state\/editing?)\n      (let [input (state\/get-input)\n            selected-start (.-selectionStart input)\n            selected-end (.-selectionEnd input)]\n        (if (= selected-start selected-end)\n          (copy-current-block-ref)\n          (js\/document.execCommand \"copy\")))\n\n      :else\n      (js\/document.execCommand \"copy\"))))\n\n\n(defn shortcut-cut\n  \"shortcut cut action:\n  * when in selection mode, cut selected blocks\n  * when in edit mode with text selected, cut selected text\n  * otherwise same as delete shortcut\"\n  [e]\n  (cond\n    (state\/selection?)\n    (shortcut-cut-selection e)\n\n    (state\/editing?)\n    (keydown-backspace-handler true e)))\n\n(defn delete-selection\n  [e]\n  (when (state\/selection?)\n    (shortcut-delete-selection e)))\n\n(defn editor-delete\n  [_state e]\n  (when (state\/editing?)\n    (keydown-delete-handler e)))\n\n(defn editor-backspace\n  [_state e]\n  (when (state\/editing?)\n    (keydown-backspace-handler false e)))\n\n(defn shortcut-up-down [direction]\n  (fn [e]\n    (when-not (auto-complete?)\n      (util\/stop e)\n      (cond\n        (state\/editing?)\n        (keydown-up-down-handler direction)\n\n        (and (state\/selection?) (== 1 (count (state\/get-selection-blocks))))\n        (select-up-down direction)\n\n        :else\n        (select-first-last direction)))))\n\n(defn open-selected-block!\n  [direction e]\n  (when-let [block-id (some-> (state\/get-selection-blocks)\n                              first\n                              (dom\/attr \"blockid\")\n                              medley\/uuid)]\n    (util\/stop e)\n    (let [block {:block\/uuid block-id}\n          left? (= direction :left)]\n      (edit-block! block\n                   (if left? 0 :max)\n                   (:block\/format block)\n                   block-id))))\n\n(defn shortcut-left-right [direction]\n  (fn [e]\n    (when-not (auto-complete?)\n      (util\/stop e)\n      (cond\n        (state\/editing?)\n        (keydown-arrow-handler direction)\n\n        (and (state\/selection?) (== 1 (count (state\/get-selection-blocks))))\n        (open-selected-block! direction e)\n\n        :else\n        nil))))\n\n(defn clear-block-content! []\n  (save-current-block! {:force? true})\n  (state\/set-edit-content! (state\/get-edit-input-id) \"\"))\n\n(defn kill-line-before! []\n  (save-current-block! {:force? true})\n  (util\/kill-line-before! (state\/get-input)))\n\n(defn kill-line-after! []\n  (save-current-block! {:force? true})\n  (util\/kill-line-after! (state\/get-input)))\n\n(defn beginning-of-block []\n  (util\/move-cursor-to (state\/get-input) 0))\n\n(defn end-of-block []\n  (util\/move-cursor-to-end (state\/get-input)))\n\n(defn cursor-forward-word []\n  (util\/move-cursor-forward-by-word (state\/get-input)))\n\n(defn cursor-backward-word []\n  (util\/move-cursor-backward-by-word (state\/get-input)))\n\n(defn backward-kill-word []\n  (let [input (state\/get-input)]\n    (save-current-block! {:force? true})\n    (util\/backward-kill-word input)\n    (state\/set-edit-content! (state\/get-edit-input-id) (.-value input))))\n\n(defn forward-kill-word []\n  (let [input (state\/get-input)]\n    (save-current-block! {:force? true})\n    (util\/forward-kill-word input)\n    (state\/set-edit-content! (state\/get-edit-input-id) (.-value input))))\n","\/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n *\/\n\n\/**\n * @fileoverview Utilities for manipulating the browser's Document Object Model\n * Inspiration taken *heavily* from mochikit (http:\/\/mochikit.com\/).\n *\n * You can use {@link goog.dom.DomHelper} to create new dom helpers that refer\n * to a different document object.  This is useful if you are working with\n * frames or multiple windows.\n *\n * @suppress {strictMissingProperties}\n *\/\n\n\n\/\/ TODO(arv): Rename\/refactor getTextContent and getRawTextContent. The problem\n\/\/ is that getTextContent should mimic the DOM3 textContent. We should add a\n\/\/ getInnerText (or getText) which tries to return the visible text, innerText.\n\n\ngoog.provide('goog.dom');\ngoog.provide('goog.dom.Appendable');\ngoog.provide('goog.dom.DomHelper');\n\ngoog.require('goog.array');\ngoog.require('goog.asserts');\ngoog.require('goog.dom.BrowserFeature');\ngoog.require('goog.dom.NodeType');\ngoog.require('goog.dom.TagName');\ngoog.require('goog.dom.safe');\ngoog.require('goog.html.SafeHtml');\ngoog.require('goog.html.uncheckedconversions');\ngoog.require('goog.math.Coordinate');\ngoog.require('goog.math.Size');\ngoog.require('goog.object');\ngoog.require('goog.string');\ngoog.require('goog.string.Const');\ngoog.require('goog.string.Unicode');\ngoog.require('goog.userAgent');\n\n\n\/**\n * @define {boolean} Whether we know at compile time that the browser is in\n * quirks mode.\n *\/\ngoog.dom.ASSUME_QUIRKS_MODE = goog.define('goog.dom.ASSUME_QUIRKS_MODE', false);\n\n\n\/**\n * @define {boolean} Whether we know at compile time that the browser is in\n * standards compliance mode.\n *\/\ngoog.dom.ASSUME_STANDARDS_MODE =\n    goog.define('goog.dom.ASSUME_STANDARDS_MODE', false);\n\n\n\/**\n * Whether we know the compatibility mode at compile time.\n * @type {boolean}\n * @private\n *\/\ngoog.dom.COMPAT_MODE_KNOWN_ =\n    goog.dom.ASSUME_QUIRKS_MODE || goog.dom.ASSUME_STANDARDS_MODE;\n\n\n\/**\n * Gets the DomHelper object for the document where the element resides.\n * @param {(Node|Window)=} opt_element If present, gets the DomHelper for this\n *     element.\n * @return {!goog.dom.DomHelper} The DomHelper.\n *\/\ngoog.dom.getDomHelper = function(opt_element) {\n  'use strict';\n  return opt_element ?\n      new goog.dom.DomHelper(goog.dom.getOwnerDocument(opt_element)) :\n      (goog.dom.defaultDomHelper_ ||\n       (goog.dom.defaultDomHelper_ = new goog.dom.DomHelper()));\n};\n\n\n\/**\n * Cached default DOM helper.\n * @type {!goog.dom.DomHelper|undefined}\n * @private\n *\/\ngoog.dom.defaultDomHelper_;\n\n\n\/**\n * Gets the document object being used by the dom library.\n * @return {!Document} Document object.\n *\/\ngoog.dom.getDocument = function() {\n  'use strict';\n  return document;\n};\n\n\n\/**\n * Gets an element from the current document by element id.\n *\n * If an Element is passed in, it is returned.\n *\n * @param {string|Element} element Element ID or a DOM node.\n * @return {Element} The element with the given ID, or the node passed in.\n *\/\ngoog.dom.getElement = function(element) {\n  'use strict';\n  return goog.dom.getElementHelper_(document, element);\n};\n\n\n\/**\n * Gets an element by id from the given document (if present).\n * If an element is given, it is returned.\n * @param {!Document} doc\n * @param {string|Element} element Element ID or a DOM node.\n * @return {Element} The resulting element.\n * @private\n *\/\ngoog.dom.getElementHelper_ = function(doc, element) {\n  'use strict';\n  return typeof element === 'string' ? doc.getElementById(element) : element;\n};\n\n\n\/**\n * Gets an element by id, asserting that the element is found.\n *\n * This is used when an element is expected to exist, and should fail with\n * an assertion error if it does not (if assertions are enabled).\n *\n * @param {string} id Element ID.\n * @return {!Element} The element with the given ID, if it exists.\n *\/\ngoog.dom.getRequiredElement = function(id) {\n  'use strict';\n  return goog.dom.getRequiredElementHelper_(document, id);\n};\n\n\n\/**\n * Helper function for getRequiredElementHelper functions, both static and\n * on DomHelper.  Asserts the element with the given id exists.\n * @param {!Document} doc\n * @param {string} id\n * @return {!Element} The element with the given ID, if it exists.\n * @private\n *\/\ngoog.dom.getRequiredElementHelper_ = function(doc, id) {\n  'use strict';\n  \/\/ To prevent users passing in Elements as is permitted in getElement().\n  goog.asserts.assertString(id);\n  var element = goog.dom.getElementHelper_(doc, id);\n  element =\n      goog.asserts.assertElement(element, 'No element found with id: ' + id);\n  return element;\n};\n\n\n\/**\n * Alias for getElement.\n * @param {string|Element} element Element ID or a DOM node.\n * @return {Element} The element with the given ID, or the node passed in.\n * @deprecated Use {@link goog.dom.getElement} instead.\n *\/\ngoog.dom.$ = goog.dom.getElement;\n\n\n\/**\n * Gets elements by tag name.\n * @param {!goog.dom.TagName<T>} tagName\n * @param {(!Document|!Element)=} opt_parent Parent element or document where to\n *     look for elements. Defaults to document.\n * @return {!NodeList<R>} List of elements. The members of the list are\n *     {!Element} if tagName is not a member of goog.dom.TagName or more\n *     specific types if it is (e.g. {!HTMLAnchorElement} for\n *     goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n *\/\ngoog.dom.getElementsByTagName = function(tagName, opt_parent) {\n  'use strict';\n  var parent = opt_parent || document;\n  return parent.getElementsByTagName(String(tagName));\n};\n\n\n\/**\n * Looks up elements by both tag and class name, using browser native functions\n * (`querySelectorAll`, `getElementsByTagName` or\n * `getElementsByClassName`) where possible. This function\n * is a useful, if limited, way of collecting a list of DOM elements\n * with certain characteristics.  `querySelectorAll` offers a\n * more powerful and general solution which allows matching on CSS3\n * selector expressions.\n *\n * Note that tag names are case sensitive in the SVG namespace, and this\n * function converts opt_tag to uppercase for comparisons. For queries in the\n * SVG namespace you should use querySelector or querySelectorAll instead.\n * https:\/\/bugzilla.mozilla.org\/show_bug.cgi?id=963870\n * https:\/\/bugs.webkit.org\/show_bug.cgi?id=83438\n *\n * @see {https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/API\/Document\/querySelectorAll}\n *\n * @param {(string|?goog.dom.TagName<T>)=} opt_tag Element tag name.\n * @param {?string=} opt_class Optional class name.\n * @param {(Document|Element)=} opt_el Optional element to look in.\n * @return {!IArrayLike<R>} Array-like list of elements (only a length property\n *     and numerical indices are guaranteed to exist). The members of the array\n *     are {!Element} if opt_tag is not a member of goog.dom.TagName or more\n *     specific types if it is (e.g. {!HTMLAnchorElement} for\n *     goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n *\/\ngoog.dom.getElementsByTagNameAndClass = function(opt_tag, opt_class, opt_el) {\n  'use strict';\n  return goog.dom.getElementsByTagNameAndClass_(\n      document, opt_tag, opt_class, opt_el);\n};\n\n\n\/**\n * Gets the first element matching the tag and the class.\n *\n * @param {(string|?goog.dom.TagName<T>)=} opt_tag Element tag name.\n * @param {?string=} opt_class Optional class name.\n * @param {(Document|Element)=} opt_el Optional element to look in.\n * @return {?R} Reference to a DOM node. The return type is {?Element} if\n *     tagName is a string or a more specific type if it is a member of\n *     goog.dom.TagName (e.g. {?HTMLAnchorElement} for goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n *\/\ngoog.dom.getElementByTagNameAndClass = function(opt_tag, opt_class, opt_el) {\n  'use strict';\n  return goog.dom.getElementByTagNameAndClass_(\n      document, opt_tag, opt_class, opt_el);\n};\n\n\n\/**\n * Returns a static, array-like list of the elements with the provided\n * className.\n *\n * @param {string} className the name of the class to look for.\n * @param {(Document|Element)=} opt_el Optional element to look in.\n * @return {!IArrayLike<!Element>} The items found with the class name provided.\n *\/\ngoog.dom.getElementsByClass = function(className, opt_el) {\n  'use strict';\n  var parent = opt_el || document;\n  if (goog.dom.canUseQuerySelector_(parent)) {\n    return parent.querySelectorAll('.' + className);\n  }\n  return goog.dom.getElementsByTagNameAndClass_(\n      document, '*', className, opt_el);\n};\n\n\n\/**\n * Returns the first element with the provided className.\n *\n * @param {string} className the name of the class to look for.\n * @param {Element|Document=} opt_el Optional element to look in.\n * @return {Element} The first item with the class name provided.\n *\/\ngoog.dom.getElementByClass = function(className, opt_el) {\n  'use strict';\n  var parent = opt_el || document;\n  var retVal = null;\n  if (parent.getElementsByClassName) {\n    retVal = parent.getElementsByClassName(className)[0];\n  } else {\n    retVal =\n        goog.dom.getElementByTagNameAndClass_(document, '*', className, opt_el);\n  }\n  return retVal || null;\n};\n\n\n\/**\n * Ensures an element with the given className exists, and then returns the\n * first element with the provided className.\n *\n * @param {string} className the name of the class to look for.\n * @param {!Element|!Document=} opt_root Optional element or document to look\n *     in.\n * @return {!Element} The first item with the class name provided.\n * @throws {goog.asserts.AssertionError} Thrown if no element is found.\n *\/\ngoog.dom.getRequiredElementByClass = function(className, opt_root) {\n  'use strict';\n  var retValue = goog.dom.getElementByClass(className, opt_root);\n  return goog.asserts.assert(\n      retValue, 'No element found with className: ' + className);\n};\n\n\n\/**\n * Prefer the standardized (http:\/\/www.w3.org\/TR\/selectors-api\/), native and\n * fast W3C Selectors API.\n * @param {!(Element|Document)} parent The parent document object.\n * @return {boolean} whether or not we can use parent.querySelector* APIs.\n * @private\n *\/\ngoog.dom.canUseQuerySelector_ = function(parent) {\n  'use strict';\n  return !!(parent.querySelectorAll && parent.querySelector);\n};\n\n\n\/**\n * Helper for `getElementsByTagNameAndClass`.\n * @param {!Document} doc The document to get the elements in.\n * @param {(string|?goog.dom.TagName<T>)=} opt_tag Element tag name.\n * @param {?string=} opt_class Optional class name.\n * @param {(Document|Element)=} opt_el Optional element to look in.\n * @return {!IArrayLike<R>} Array-like list of elements (only a length property\n *     and numerical indices are guaranteed to exist). The members of the array\n *     are {!Element} if opt_tag is not a member of goog.dom.TagName or more\n *     specific types if it is (e.g. {!HTMLAnchorElement} for\n *     goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n * @private\n *\/\ngoog.dom.getElementsByTagNameAndClass_ = function(\n    doc, opt_tag, opt_class, opt_el) {\n  'use strict';\n  var parent = opt_el || doc;\n  var tagName =\n      (opt_tag && opt_tag != '*') ? String(opt_tag).toUpperCase() : '';\n\n  if (goog.dom.canUseQuerySelector_(parent) && (tagName || opt_class)) {\n    var query = tagName + (opt_class ? '.' + opt_class : '');\n    return parent.querySelectorAll(query);\n  }\n\n  \/\/ Use the native getElementsByClassName if available, under the assumption\n  \/\/ that even when the tag name is specified, there will be fewer elements to\n  \/\/ filter through when going by class than by tag name\n  if (opt_class && parent.getElementsByClassName) {\n    var els = parent.getElementsByClassName(opt_class);\n\n    if (tagName) {\n      var arrayLike = {};\n      var len = 0;\n\n      \/\/ Filter for specific tags if requested.\n      for (var i = 0, el; el = els[i]; i++) {\n        if (tagName == el.nodeName) {\n          arrayLike[len++] = el;\n        }\n      }\n      arrayLike.length = len;\n\n      return \/** @type {!IArrayLike<!Element>} *\/ (arrayLike);\n    } else {\n      return els;\n    }\n  }\n\n  var els = parent.getElementsByTagName(tagName || '*');\n\n  if (opt_class) {\n    var arrayLike = {};\n    var len = 0;\n    for (var i = 0, el; el = els[i]; i++) {\n      var className = el.className;\n      \/\/ Check if className has a split function since SVG className does not.\n      if (typeof className.split == 'function' &&\n          goog.array.contains(className.split(\/\\s+\/), opt_class)) {\n        arrayLike[len++] = el;\n      }\n    }\n    arrayLike.length = len;\n    return \/** @type {!IArrayLike<!Element>} *\/ (arrayLike);\n  } else {\n    return els;\n  }\n};\n\n\n\/**\n * Helper for goog.dom.getElementByTagNameAndClass.\n *\n * @param {!Document} doc The document to get the elements in.\n * @param {(string|?goog.dom.TagName<T>)=} opt_tag Element tag name.\n * @param {?string=} opt_class Optional class name.\n * @param {(Document|Element)=} opt_el Optional element to look in.\n * @return {?R} Reference to a DOM node. The return type is {?Element} if\n *     tagName is a string or a more specific type if it is a member of\n *     goog.dom.TagName (e.g. {?HTMLAnchorElement} for goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n * @private\n *\/\ngoog.dom.getElementByTagNameAndClass_ = function(\n    doc, opt_tag, opt_class, opt_el) {\n  'use strict';\n  var parent = opt_el || doc;\n  var tag = (opt_tag && opt_tag != '*') ? String(opt_tag).toUpperCase() : '';\n  if (goog.dom.canUseQuerySelector_(parent) && (tag || opt_class)) {\n    return parent.querySelector(tag + (opt_class ? '.' + opt_class : ''));\n  }\n  var elements =\n      goog.dom.getElementsByTagNameAndClass_(doc, opt_tag, opt_class, opt_el);\n  return elements[0] || null;\n};\n\n\n\n\/**\n * Alias for `getElementsByTagNameAndClass`.\n * @param {(string|?goog.dom.TagName<T>)=} opt_tag Element tag name.\n * @param {?string=} opt_class Optional class name.\n * @param {Element=} opt_el Optional element to look in.\n * @return {!IArrayLike<R>} Array-like list of elements (only a length property\n *     and numerical indices are guaranteed to exist). The members of the array\n *     are {!Element} if opt_tag is not a member of goog.dom.TagName or more\n *     specific types if it is (e.g. {!HTMLAnchorElement} for\n *     goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n * @deprecated Use {@link goog.dom.getElementsByTagNameAndClass} instead.\n *\/\ngoog.dom.$$ = goog.dom.getElementsByTagNameAndClass;\n\n\n\/**\n * Sets multiple properties, and sometimes attributes, on an element. Note that\n * properties are simply object properties on the element instance, while\n * attributes are visible in the DOM. Many properties map to attributes with the\n * same names, some with different names, and there are also unmappable cases.\n *\n * This method sets properties by default (which means that custom attributes\n * are not supported). These are the exeptions (some of which is legacy):\n * - \"style\": Even though this is an attribute name, it is translated to a\n *   property, \"style.cssText\". Note that this property sanitizes and formats\n *   its value, unlike the attribute.\n * - \"class\": This is an attribute name, it is translated to the \"className\"\n *   property.\n * - \"for\": This is an attribute name, it is translated to the \"htmlFor\"\n *   property.\n * - Entries in {@see goog.dom.DIRECT_ATTRIBUTE_MAP_} are set as attributes,\n *   this is probably due to browser quirks.\n * - \"aria-*\", \"data-*\": Always set as attributes, they have no property\n *   counterparts.\n *\n * @param {Element} element DOM node to set properties on.\n * @param {Object} properties Hash of property:value pairs.\n *     Property values can be strings or goog.string.TypedString values (such as\n *     goog.html.SafeUrl).\n *\/\ngoog.dom.setProperties = function(element, properties) {\n  'use strict';\n  goog.object.forEach(properties, function(val, key) {\n    'use strict';\n    if (val && typeof val == 'object' && val.implementsGoogStringTypedString) {\n      val = val.getTypedStringValue();\n    }\n    if (key == 'style') {\n      element.style.cssText = val;\n    } else if (key == 'class') {\n      element.className = val;\n    } else if (key == 'for') {\n      element.htmlFor = val;\n    } else if (goog.dom.DIRECT_ATTRIBUTE_MAP_.hasOwnProperty(key)) {\n      element.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[key], val);\n    } else if (\n        goog.string.startsWith(key, 'aria-') ||\n        goog.string.startsWith(key, 'data-')) {\n      element.setAttribute(key, val);\n    } else {\n      element[key] = val;\n    }\n  });\n};\n\n\n\/**\n * Map of attributes that should be set using\n * element.setAttribute(key, val) instead of element[key] = val.  Used\n * by goog.dom.setProperties.\n *\n * @private {!Object<string, string>}\n * @const\n *\/\ngoog.dom.DIRECT_ATTRIBUTE_MAP_ = {\n  'cellpadding': 'cellPadding',\n  'cellspacing': 'cellSpacing',\n  'colspan': 'colSpan',\n  'frameborder': 'frameBorder',\n  'height': 'height',\n  'maxlength': 'maxLength',\n  'nonce': 'nonce',\n  'role': 'role',\n  'rowspan': 'rowSpan',\n  'type': 'type',\n  'usemap': 'useMap',\n  'valign': 'vAlign',\n  'width': 'width'\n};\n\n\n\/**\n * Gets the dimensions of the viewport.\n *\n * Gecko Standards mode:\n * docEl.clientWidth  Width of viewport excluding scrollbar.\n * win.innerWidth     Width of viewport including scrollbar.\n * body.clientWidth   Width of body element.\n *\n * docEl.clientHeight Height of viewport excluding scrollbar.\n * win.innerHeight    Height of viewport including scrollbar.\n * body.clientHeight  Height of document.\n *\n * Gecko Backwards compatible mode:\n * docEl.clientWidth  Width of viewport excluding scrollbar.\n * win.innerWidth     Width of viewport including scrollbar.\n * body.clientWidth   Width of viewport excluding scrollbar.\n *\n * docEl.clientHeight Height of document.\n * win.innerHeight    Height of viewport including scrollbar.\n * body.clientHeight  Height of viewport excluding scrollbar.\n *\n * IE6\/7 Standards mode:\n * docEl.clientWidth  Width of viewport excluding scrollbar.\n * win.innerWidth     Undefined.\n * body.clientWidth   Width of body element.\n *\n * docEl.clientHeight Height of viewport excluding scrollbar.\n * win.innerHeight    Undefined.\n * body.clientHeight  Height of document element.\n *\n * IE5 + IE6\/7 Backwards compatible mode:\n * docEl.clientWidth  0.\n * win.innerWidth     Undefined.\n * body.clientWidth   Width of viewport excluding scrollbar.\n *\n * docEl.clientHeight 0.\n * win.innerHeight    Undefined.\n * body.clientHeight  Height of viewport excluding scrollbar.\n *\n * Opera 9 Standards and backwards compatible mode:\n * docEl.clientWidth  Width of viewport excluding scrollbar.\n * win.innerWidth     Width of viewport including scrollbar.\n * body.clientWidth   Width of viewport excluding scrollbar.\n *\n * docEl.clientHeight Height of document.\n * win.innerHeight    Height of viewport including scrollbar.\n * body.clientHeight  Height of viewport excluding scrollbar.\n *\n * WebKit:\n * Safari 2\n * docEl.clientHeight Same as scrollHeight.\n * docEl.clientWidth  Same as innerWidth.\n * win.innerWidth     Width of viewport excluding scrollbar.\n * win.innerHeight    Height of the viewport including scrollbar.\n * frame.innerHeight  Height of the viewport exluding scrollbar.\n *\n * Safari 3 (tested in 522)\n *\n * docEl.clientWidth  Width of viewport excluding scrollbar.\n * docEl.clientHeight Height of viewport excluding scrollbar in strict mode.\n * body.clientHeight  Height of viewport excluding scrollbar in quirks mode.\n *\n * @param {Window=} opt_window Optional window element to test.\n * @return {!goog.math.Size} Object with values 'width' and 'height'.\n *\/\ngoog.dom.getViewportSize = function(opt_window) {\n  'use strict';\n  \/\/ TODO(arv): This should not take an argument\n  return goog.dom.getViewportSize_(opt_window || window);\n};\n\n\n\/**\n * Helper for `getViewportSize`.\n * @param {Window} win The window to get the view port size for.\n * @return {!goog.math.Size} Object with values 'width' and 'height'.\n * @private\n *\/\ngoog.dom.getViewportSize_ = function(win) {\n  'use strict';\n  var doc = win.document;\n  var el = goog.dom.isCss1CompatMode_(doc) ? doc.documentElement : doc.body;\n  return new goog.math.Size(el.clientWidth, el.clientHeight);\n};\n\n\n\/**\n * Calculates the height of the document.\n *\n * @return {number} The height of the current document.\n *\/\ngoog.dom.getDocumentHeight = function() {\n  'use strict';\n  return goog.dom.getDocumentHeight_(window);\n};\n\n\/**\n * Calculates the height of the document of the given window.\n *\n * @param {!Window} win The window whose document height to retrieve.\n * @return {number} The height of the document of the given window.\n *\/\ngoog.dom.getDocumentHeightForWindow = function(win) {\n  'use strict';\n  return goog.dom.getDocumentHeight_(win);\n};\n\n\/**\n * Calculates the height of the document of the given window.\n *\n * Function code copied from the opensocial gadget api:\n *   gadgets.window.adjustHeight(opt_height)\n *\n * @private\n * @param {!Window} win The window whose document height to retrieve.\n * @return {number} The height of the document of the given window.\n *\/\ngoog.dom.getDocumentHeight_ = function(win) {\n  'use strict';\n  \/\/ NOTE(eae): This method will return the window size rather than the document\n  \/\/ size in webkit quirks mode.\n  var doc = win.document;\n  var height = 0;\n\n  if (doc) {\n    \/\/ Calculating inner content height is hard and different between\n    \/\/ browsers rendering in Strict vs. Quirks mode.  We use a combination of\n    \/\/ three properties within document.body and document.documentElement:\n    \/\/ - scrollHeight\n    \/\/ - offsetHeight\n    \/\/ - clientHeight\n    \/\/ These values differ significantly between browsers and rendering modes.\n    \/\/ But there are patterns.  It just takes a lot of time and persistence\n    \/\/ to figure out.\n\n    var body = doc.body;\n    var docEl = \/** @type {!HTMLElement} *\/ (doc.documentElement);\n    if (!(docEl && body)) {\n      return 0;\n    }\n\n    \/\/ Get the height of the viewport\n    var vh = goog.dom.getViewportSize_(win).height;\n    if (goog.dom.isCss1CompatMode_(doc) && docEl.scrollHeight) {\n      \/\/ In Strict mode:\n      \/\/ The inner content height is contained in either:\n      \/\/    document.documentElement.scrollHeight\n      \/\/    document.documentElement.offsetHeight\n      \/\/ Based on studying the values output by different browsers,\n      \/\/ use the value that's NOT equal to the viewport height found above.\n      height =\n          docEl.scrollHeight != vh ? docEl.scrollHeight : docEl.offsetHeight;\n    } else {\n      \/\/ In Quirks mode:\n      \/\/ documentElement.clientHeight is equal to documentElement.offsetHeight\n      \/\/ except in IE.  In most browsers, document.documentElement can be used\n      \/\/ to calculate the inner content height.\n      \/\/ However, in other browsers (e.g. IE), document.body must be used\n      \/\/ instead.  How do we know which one to use?\n      \/\/ If document.documentElement.clientHeight does NOT equal\n      \/\/ document.documentElement.offsetHeight, then use document.body.\n      var sh = docEl.scrollHeight;\n      var oh = docEl.offsetHeight;\n      if (docEl.clientHeight != oh) {\n        sh = body.scrollHeight;\n        oh = body.offsetHeight;\n      }\n\n      \/\/ Detect whether the inner content height is bigger or smaller\n      \/\/ than the bounding box (viewport).  If bigger, take the larger\n      \/\/ value.  If smaller, take the smaller value.\n      if (sh > vh) {\n        \/\/ Content is larger\n        height = sh > oh ? sh : oh;\n      } else {\n        \/\/ Content is smaller\n        height = sh < oh ? sh : oh;\n      }\n    }\n  }\n\n  return height;\n};\n\n\n\/**\n * Gets the page scroll distance as a coordinate object.\n *\n * @param {Window=} opt_window Optional window element to test.\n * @return {!goog.math.Coordinate} Object with values 'x' and 'y'.\n * @deprecated Use {@link goog.dom.getDocumentScroll} instead.\n *\/\ngoog.dom.getPageScroll = function(opt_window) {\n  'use strict';\n  var win = opt_window || goog.global || window;\n  return goog.dom.getDomHelper(win.document).getDocumentScroll();\n};\n\n\n\/**\n * Gets the document scroll distance as a coordinate object.\n *\n * @return {!goog.math.Coordinate} Object with values 'x' and 'y'.\n *\/\ngoog.dom.getDocumentScroll = function() {\n  'use strict';\n  return goog.dom.getDocumentScroll_(document);\n};\n\n\n\/**\n * Helper for `getDocumentScroll`.\n *\n * @param {!Document} doc The document to get the scroll for.\n * @return {!goog.math.Coordinate} Object with values 'x' and 'y'.\n * @private\n *\/\ngoog.dom.getDocumentScroll_ = function(doc) {\n  'use strict';\n  var el = goog.dom.getDocumentScrollElement_(doc);\n  var win = goog.dom.getWindow_(doc);\n  if (goog.userAgent.IE && goog.userAgent.isVersionOrHigher('10') &&\n      win.pageYOffset != el.scrollTop) {\n    \/\/ The keyboard on IE10 touch devices shifts the page using the pageYOffset\n    \/\/ without modifying scrollTop. For this case, we want the body scroll\n    \/\/ offsets.\n    return new goog.math.Coordinate(el.scrollLeft, el.scrollTop);\n  }\n  return new goog.math.Coordinate(\n      win.pageXOffset || el.scrollLeft, win.pageYOffset || el.scrollTop);\n};\n\n\n\/**\n * Gets the document scroll element.\n * @return {!Element} Scrolling element.\n *\/\ngoog.dom.getDocumentScrollElement = function() {\n  'use strict';\n  return goog.dom.getDocumentScrollElement_(document);\n};\n\n\n\/**\n * Helper for `getDocumentScrollElement`.\n * @param {!Document} doc The document to get the scroll element for.\n * @return {!Element} Scrolling element.\n * @private\n *\/\ngoog.dom.getDocumentScrollElement_ = function(doc) {\n  'use strict';\n  \/\/ Old WebKit needs body.scrollLeft in both quirks mode and strict mode. We\n  \/\/ also default to the documentElement if the document does not have a body\n  \/\/ (e.g. a SVG document).\n  \/\/ Uses http:\/\/dev.w3.org\/csswg\/cssom-view\/#dom-document-scrollingelement to\n  \/\/ avoid trying to guess about browser behavior from the UA string.\n  if (doc.scrollingElement) {\n    return doc.scrollingElement;\n  }\n  if (!goog.userAgent.WEBKIT && goog.dom.isCss1CompatMode_(doc)) {\n    return doc.documentElement;\n  }\n  return doc.body || doc.documentElement;\n};\n\n\n\/**\n * Gets the window object associated with the given document.\n *\n * @param {Document=} opt_doc  Document object to get window for.\n * @return {!Window} The window associated with the given document.\n *\/\ngoog.dom.getWindow = function(opt_doc) {\n  'use strict';\n  \/\/ TODO(arv): This should not take an argument.\n  return opt_doc ? goog.dom.getWindow_(opt_doc) : window;\n};\n\n\n\/**\n * Helper for `getWindow`.\n *\n * @param {!Document} doc  Document object to get window for.\n * @return {!Window} The window associated with the given document.\n * @private\n *\/\ngoog.dom.getWindow_ = function(doc) {\n  'use strict';\n  return \/** @type {!Window} *\/ (doc.parentWindow || doc.defaultView);\n};\n\n\n\/**\n * Returns a dom node with a set of attributes.  This function accepts varargs\n * for subsequent nodes to be added.  Subsequent nodes will be added to the\n * first node as childNodes.\n *\n * So:\n * <code>createDom(goog.dom.TagName.DIV, null, createDom(goog.dom.TagName.P),\n * createDom(goog.dom.TagName.P));<\/code> would return a div with two child\n * paragraphs\n *\n * This function uses {@link goog.dom.setProperties} to set attributes: the\n * `opt_attributes` parameter follows the same rules.\n *\n * @param {string|!goog.dom.TagName<T>} tagName Tag to create.\n * @param {?Object|?Array<string>|string=} opt_attributes If object, then a map\n *     of name-value pairs for attributes. If a string, then this is the\n *     className of the new element. If an array, the elements will be joined\n *     together as the className of the new element.\n * @param {...(Object|string|Array|NodeList|null|undefined)} var_args Further\n *     DOM nodes or strings for text nodes. If one of the var_args is an array\n *     or NodeList, its elements will be added as childNodes instead.\n * @return {R} Reference to a DOM node. The return type is {!Element} if tagName\n *     is a string or a more specific type if it is a member of\n *     goog.dom.TagName (e.g. {!HTMLAnchorElement} for goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n *\/\ngoog.dom.createDom = function(tagName, opt_attributes, var_args) {\n  'use strict';\n  return goog.dom.createDom_(document, arguments);\n};\n\n\n\/**\n * Helper for `createDom`.\n * @param {!Document} doc The document to create the DOM in.\n * @param {!Arguments} args Argument object passed from the callers. See\n *     `goog.dom.createDom` for details.\n * @return {!Element} Reference to a DOM node.\n * @private\n *\/\ngoog.dom.createDom_ = function(doc, args) {\n  'use strict';\n  var tagName = String(args[0]);\n  var attributes = args[1];\n\n  \/\/ Internet Explorer is dumb:\n  \/\/ name: https:\/\/msdn.microsoft.com\/en-us\/library\/ms534184(v=vs.85).aspx\n  \/\/ type: https:\/\/msdn.microsoft.com\/en-us\/library\/ms534700(v=vs.85).aspx\n  \/\/ Also does not allow setting of 'type' attribute on 'input' or 'button'.\n  if (!goog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES && attributes &&\n      (attributes.name || attributes.type)) {\n    var tagNameArr = ['<', tagName];\n    if (attributes.name) {\n      tagNameArr.push(' name=\"', goog.string.htmlEscape(attributes.name), '\"');\n    }\n    if (attributes.type) {\n      tagNameArr.push(' type=\"', goog.string.htmlEscape(attributes.type), '\"');\n\n      \/\/ Clone attributes map to remove 'type' without mutating the input.\n      var clone = {};\n      goog.object.extend(clone, attributes);\n\n      \/\/ JSCompiler can't see how goog.object.extend added this property,\n      \/\/ because it was essentially added by reflection.\n      \/\/ So it needs to be quoted.\n      delete clone['type'];\n\n      attributes = clone;\n    }\n    tagNameArr.push('>');\n    tagName = tagNameArr.join('');\n  }\n\n  var element = goog.dom.createElement_(doc, tagName);\n\n  if (attributes) {\n    if (typeof attributes === 'string') {\n      element.className = attributes;\n    } else if (Array.isArray(attributes)) {\n      element.className = attributes.join(' ');\n    } else {\n      goog.dom.setProperties(element, attributes);\n    }\n  }\n\n  if (args.length > 2) {\n    goog.dom.append_(doc, element, args, 2);\n  }\n\n  return element;\n};\n\n\n\/**\n * Appends a node with text or other nodes.\n * @param {!Document} doc The document to create new nodes in.\n * @param {!Node} parent The node to append nodes to.\n * @param {!Arguments} args The values to add. See `goog.dom.append`.\n * @param {number} startIndex The index of the array to start from.\n * @private\n *\/\ngoog.dom.append_ = function(doc, parent, args, startIndex) {\n  'use strict';\n  function childHandler(child) {\n    \/\/ TODO(user): More coercion, ala MochiKit?\n    if (child) {\n      parent.appendChild(\n          typeof child === 'string' ? doc.createTextNode(child) : child);\n    }\n  }\n\n  for (var i = startIndex; i < args.length; i++) {\n    var arg = args[i];\n    \/\/ TODO(attila): Fix isArrayLike to return false for a text node.\n    if (goog.isArrayLike(arg) && !goog.dom.isNodeLike(arg)) {\n      \/\/ If the argument is a node list, not a real array, use a clone,\n      \/\/ because forEach can't be used to mutate a NodeList.\n      goog.array.forEach(\n          goog.dom.isNodeList(arg) ? goog.array.toArray(arg) : arg,\n          childHandler);\n    } else {\n      childHandler(arg);\n    }\n  }\n};\n\n\n\/**\n * Alias for `createDom`.\n * @param {string|!goog.dom.TagName<T>} tagName Tag to create.\n * @param {?Object|?Array<string>|string=} opt_attributes If object, then a map\n *     of name-value pairs for attributes. If a string, then this is the\n *     className of the new element. If an array, the elements will be joined\n *     together as the className of the new element.\n * @param {...(Object|string|Array|NodeList|null|undefined)} var_args Further\n *     DOM nodes or strings for text nodes. If one of the var_args is an array,\n *     its children will be added as childNodes instead.\n * @return {R} Reference to a DOM node. The return type is {!Element} if tagName\n *     is a string or a more specific type if it is a member of\n *     goog.dom.TagName (e.g. {!HTMLAnchorElement} for goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n * @deprecated Use {@link goog.dom.createDom} instead.\n *\/\ngoog.dom.$dom = goog.dom.createDom;\n\n\n\/**\n * Creates a new element.\n * @param {string|!goog.dom.TagName<T>} name Tag to create.\n * @return {R} The new element. The return type is {!Element} if name is\n *     a string or a more specific type if it is a member of goog.dom.TagName\n *     (e.g. {!HTMLAnchorElement} for goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n *\/\ngoog.dom.createElement = function(name) {\n  'use strict';\n  return goog.dom.createElement_(document, name);\n};\n\n\n\/**\n * Creates a new element.\n * @param {!Document} doc The document to create the element in.\n * @param {string|!goog.dom.TagName<T>} name Tag to create.\n * @return {R} The new element. The return type is {!Element} if name is\n *     a string or a more specific type if it is a member of goog.dom.TagName\n *     (e.g. {!HTMLAnchorElement} for goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n * @private\n *\/\ngoog.dom.createElement_ = function(doc, name) {\n  'use strict';\n  name = String(name);\n  if (doc.contentType === 'application\/xhtml+xml') name = name.toLowerCase();\n  return doc.createElement(name);\n};\n\n\n\/**\n * Creates a new text node.\n * @param {number|string} content Content.\n * @return {!Text} The new text node.\n *\/\ngoog.dom.createTextNode = function(content) {\n  'use strict';\n  return document.createTextNode(String(content));\n};\n\n\n\/**\n * Create a table.\n * @param {number} rows The number of rows in the table.  Must be >= 1.\n * @param {number} columns The number of columns in the table.  Must be >= 1.\n * @param {boolean=} opt_fillWithNbsp If true, fills table entries with\n *     `goog.string.Unicode.NBSP` characters.\n * @return {!Element} The created table.\n *\/\ngoog.dom.createTable = function(rows, columns, opt_fillWithNbsp) {\n  'use strict';\n  \/\/ TODO(mlourenco): Return HTMLTableElement, also in prototype function.\n  \/\/ Callers need to be updated to e.g. not assign numbers to table.cellSpacing.\n  return goog.dom.createTable_(document, rows, columns, !!opt_fillWithNbsp);\n};\n\n\n\/**\n * Create a table.\n * @param {!Document} doc Document object to use to create the table.\n * @param {number} rows The number of rows in the table.  Must be >= 1.\n * @param {number} columns The number of columns in the table.  Must be >= 1.\n * @param {boolean} fillWithNbsp If true, fills table entries with\n *     `goog.string.Unicode.NBSP` characters.\n * @return {!HTMLTableElement} The created table.\n * @private\n *\/\ngoog.dom.createTable_ = function(doc, rows, columns, fillWithNbsp) {\n  'use strict';\n  var table = goog.dom.createElement_(doc, goog.dom.TagName.TABLE);\n  var tbody =\n      table.appendChild(goog.dom.createElement_(doc, goog.dom.TagName.TBODY));\n  for (var i = 0; i < rows; i++) {\n    var tr = goog.dom.createElement_(doc, goog.dom.TagName.TR);\n    for (var j = 0; j < columns; j++) {\n      var td = goog.dom.createElement_(doc, goog.dom.TagName.TD);\n      \/\/ IE <= 9 will create a text node if we set text content to the empty\n      \/\/ string, so we avoid doing it unless necessary. This ensures that the\n      \/\/ same DOM tree is returned on all browsers.\n      if (fillWithNbsp) {\n        goog.dom.setTextContent(td, goog.string.Unicode.NBSP);\n      }\n      tr.appendChild(td);\n    }\n    tbody.appendChild(tr);\n  }\n  return table;\n};\n\n\n\n\/**\n * Creates a new Node from constant strings of HTML markup.\n * @param {...!goog.string.Const} var_args The HTML strings to concatenate then\n *     convert into a node.\n * @return {!Node}\n *\/\ngoog.dom.constHtmlToNode = function(var_args) {\n  'use strict';\n  var stringArray = goog.array.map(arguments, goog.string.Const.unwrap);\n  var safeHtml =\n      goog.html.uncheckedconversions\n          .safeHtmlFromStringKnownToSatisfyTypeContract(\n              goog.string.Const.from(\n                  'Constant HTML string, that gets turned into a ' +\n                  'Node later, so it will be automatically balanced.'),\n              stringArray.join(''));\n  return goog.dom.safeHtmlToNode(safeHtml);\n};\n\n\n\/**\n * Converts HTML markup into a node. This is a safe version of\n * `goog.dom.htmlToDocumentFragment` which is now deleted.\n * @param {!goog.html.SafeHtml} html The HTML markup to convert.\n * @return {!Node} The resulting node.\n *\/\ngoog.dom.safeHtmlToNode = function(html) {\n  'use strict';\n  return goog.dom.safeHtmlToNode_(document, html);\n};\n\n\n\/**\n * Helper for `safeHtmlToNode`.\n * @param {!Document} doc The document.\n * @param {!goog.html.SafeHtml} html The HTML markup to convert.\n * @return {!Node} The resulting node.\n * @private\n *\/\ngoog.dom.safeHtmlToNode_ = function(doc, html) {\n  'use strict';\n  var tempDiv = goog.dom.createElement_(doc, goog.dom.TagName.DIV);\n  if (goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT) {\n    goog.dom.safe.setInnerHtml(\n        tempDiv, goog.html.SafeHtml.concat(goog.html.SafeHtml.BR, html));\n    tempDiv.removeChild(goog.asserts.assert(tempDiv.firstChild));\n  } else {\n    goog.dom.safe.setInnerHtml(tempDiv, html);\n  }\n  return goog.dom.childrenToNode_(doc, tempDiv);\n};\n\n\n\/**\n * Helper for `safeHtmlToNode_`.\n * @param {!Document} doc The document.\n * @param {!Node} tempDiv The input node.\n * @return {!Node} The resulting node.\n * @private\n *\/\ngoog.dom.childrenToNode_ = function(doc, tempDiv) {\n  'use strict';\n  if (tempDiv.childNodes.length == 1) {\n    return tempDiv.removeChild(goog.asserts.assert(tempDiv.firstChild));\n  } else {\n    var fragment = doc.createDocumentFragment();\n    while (tempDiv.firstChild) {\n      fragment.appendChild(tempDiv.firstChild);\n    }\n    return fragment;\n  }\n};\n\n\n\/**\n * Returns true if the browser is in \"CSS1-compatible\" (standards-compliant)\n * mode, false otherwise.\n * @return {boolean} True if in CSS1-compatible mode.\n *\/\ngoog.dom.isCss1CompatMode = function() {\n  'use strict';\n  return goog.dom.isCss1CompatMode_(document);\n};\n\n\n\/**\n * Returns true if the browser is in \"CSS1-compatible\" (standards-compliant)\n * mode, false otherwise.\n * @param {!Document} doc The document to check.\n * @return {boolean} True if in CSS1-compatible mode.\n * @private\n *\/\ngoog.dom.isCss1CompatMode_ = function(doc) {\n  'use strict';\n  if (goog.dom.COMPAT_MODE_KNOWN_) {\n    return goog.dom.ASSUME_STANDARDS_MODE;\n  }\n\n  return doc.compatMode == 'CSS1Compat';\n};\n\n\n\/**\n * Determines if the given node can contain children, intended to be used for\n * HTML generation.\n *\n * IE natively supports node.canHaveChildren but has inconsistent behavior.\n * Prior to IE8 the base tag allows children and in IE9 all nodes return true\n * for canHaveChildren.\n *\n * In practice all non-IE browsers allow you to add children to any node, but\n * the behavior is inconsistent:\n *\n * <pre>\n *   var a = goog.dom.createElement(goog.dom.TagName.BR);\n *   a.appendChild(document.createTextNode('foo'));\n *   a.appendChild(document.createTextNode('bar'));\n *   console.log(a.childNodes.length);  \/\/ 2\n *   console.log(a.innerHTML);  \/\/ Chrome: \"\", IE9: \"foobar\", FF3.5: \"foobar\"\n * <\/pre>\n *\n * For more information, see:\n * http:\/\/dev.w3.org\/html5\/markup\/syntax.html#syntax-elements\n *\n * TODO(user): Rename shouldAllowChildren() ?\n *\n * @param {Node} node The node to check.\n * @return {boolean} Whether the node can contain children.\n *\/\ngoog.dom.canHaveChildren = function(node) {\n  'use strict';\n  if (node.nodeType != goog.dom.NodeType.ELEMENT) {\n    return false;\n  }\n  switch (\/** @type {!Element} *\/ (node).tagName) {\n    case String(goog.dom.TagName.APPLET):\n    case String(goog.dom.TagName.AREA):\n    case String(goog.dom.TagName.BASE):\n    case String(goog.dom.TagName.BR):\n    case String(goog.dom.TagName.COL):\n    case String(goog.dom.TagName.COMMAND):\n    case String(goog.dom.TagName.EMBED):\n    case String(goog.dom.TagName.FRAME):\n    case String(goog.dom.TagName.HR):\n    case String(goog.dom.TagName.IMG):\n    case String(goog.dom.TagName.INPUT):\n    case String(goog.dom.TagName.IFRAME):\n    case String(goog.dom.TagName.ISINDEX):\n    case String(goog.dom.TagName.KEYGEN):\n    case String(goog.dom.TagName.LINK):\n    case String(goog.dom.TagName.NOFRAMES):\n    case String(goog.dom.TagName.NOSCRIPT):\n    case String(goog.dom.TagName.META):\n    case String(goog.dom.TagName.OBJECT):\n    case String(goog.dom.TagName.PARAM):\n    case String(goog.dom.TagName.SCRIPT):\n    case String(goog.dom.TagName.SOURCE):\n    case String(goog.dom.TagName.STYLE):\n    case String(goog.dom.TagName.TRACK):\n    case String(goog.dom.TagName.WBR):\n      return false;\n  }\n  return true;\n};\n\n\n\/**\n * Appends a child to a node.\n * @param {Node} parent Parent.\n * @param {Node} child Child.\n *\/\ngoog.dom.appendChild = function(parent, child) {\n  'use strict';\n  goog.asserts.assert(\n      parent != null && child != null,\n      'goog.dom.appendChild expects non-null arguments');\n  parent.appendChild(child);\n};\n\n\n\/**\n * Appends a node with text or other nodes.\n * @param {!Node} parent The node to append nodes to.\n * @param {...goog.dom.Appendable} var_args The things to append to the node.\n *     If this is a Node it is appended as is.\n *     If this is a string then a text node is appended.\n *     If this is an array like object then fields 0 to length - 1 are appended.\n *\/\ngoog.dom.append = function(parent, var_args) {\n  'use strict';\n  goog.dom.append_(goog.dom.getOwnerDocument(parent), parent, arguments, 1);\n};\n\n\n\/**\n * Removes all the child nodes on a DOM node.\n * @param {Node} node Node to remove children from.\n *\/\ngoog.dom.removeChildren = function(node) {\n  'use strict';\n  \/\/ Note: Iterations over live collections can be slow, this is the fastest\n  \/\/ we could find. The double parenthesis are used to prevent JsCompiler and\n  \/\/ strict warnings.\n  var child;\n  while ((child = node.firstChild)) {\n    node.removeChild(child);\n  }\n};\n\n\n\/**\n * Inserts a new node before an existing reference node (i.e. as the previous\n * sibling). If the reference node has no parent, then does nothing.\n * @param {Node} newNode Node to insert.\n * @param {Node} refNode Reference node to insert before.\n *\/\ngoog.dom.insertSiblingBefore = function(newNode, refNode) {\n  'use strict';\n  goog.asserts.assert(\n      newNode != null && refNode != null,\n      'goog.dom.insertSiblingBefore expects non-null arguments');\n  if (refNode.parentNode) {\n    refNode.parentNode.insertBefore(newNode, refNode);\n  }\n};\n\n\n\/**\n * Inserts a new node after an existing reference node (i.e. as the next\n * sibling). If the reference node has no parent, then does nothing.\n * @param {Node} newNode Node to insert.\n * @param {Node} refNode Reference node to insert after.\n *\/\ngoog.dom.insertSiblingAfter = function(newNode, refNode) {\n  'use strict';\n  goog.asserts.assert(\n      newNode != null && refNode != null,\n      'goog.dom.insertSiblingAfter expects non-null arguments');\n  if (refNode.parentNode) {\n    refNode.parentNode.insertBefore(newNode, refNode.nextSibling);\n  }\n};\n\n\n\/**\n * Insert a child at a given index. If index is larger than the number of child\n * nodes that the parent currently has, the node is inserted as the last child\n * node.\n * @param {Element} parent The element into which to insert the child.\n * @param {Node} child The element to insert.\n * @param {number} index The index at which to insert the new child node. Must\n *     not be negative.\n *\/\ngoog.dom.insertChildAt = function(parent, child, index) {\n  'use strict';\n  \/\/ Note that if the second argument is null, insertBefore\n  \/\/ will append the child at the end of the list of children.\n  goog.asserts.assert(\n      parent != null, 'goog.dom.insertChildAt expects a non-null parent');\n  parent.insertBefore(\n      \/** @type {!Node} *\/ (child), parent.childNodes[index] || null);\n};\n\n\n\/**\n * Removes a node from its parent.\n * @param {Node} node The node to remove.\n * @return {Node} The node removed if removed; else, null.\n *\/\ngoog.dom.removeNode = function(node) {\n  'use strict';\n  return node && node.parentNode ? node.parentNode.removeChild(node) : null;\n};\n\n\n\/**\n * Replaces a node in the DOM tree. Will do nothing if `oldNode` has no\n * parent.\n * @param {Node} newNode Node to insert.\n * @param {Node} oldNode Node to replace.\n *\/\ngoog.dom.replaceNode = function(newNode, oldNode) {\n  'use strict';\n  goog.asserts.assert(\n      newNode != null && oldNode != null,\n      'goog.dom.replaceNode expects non-null arguments');\n  var parent = oldNode.parentNode;\n  if (parent) {\n    parent.replaceChild(newNode, oldNode);\n  }\n};\n\n\n\/**\n * Replaces child nodes of `target` with child nodes of `source`. This is\n * roughly equivalent to `target.innerHTML = source.innerHTML` which is not\n * compatible with Trusted Types.\n * @param {?Node} target Node to clean and replace its children.\n * @param {?Node} source Node to get the children from. The nodes will be cloned\n *     so they will stay in source.\n *\/\ngoog.dom.copyContents = function(target, source) {\n  'use strict';\n  goog.asserts.assert(\n      target != null && source != null,\n      'goog.dom.copyContents expects non-null arguments');\n  var childNodes = source.cloneNode(\/* deep= *\/ true).childNodes;\n  goog.dom.removeChildren(target);\n  while (childNodes.length) {\n    target.appendChild(childNodes[0]);\n  }\n};\n\n\n\/**\n * Flattens an element. That is, removes it and replace it with its children.\n * Does nothing if the element is not in the document.\n * @param {Element} element The element to flatten.\n * @return {Element|undefined} The original element, detached from the document\n *     tree, sans children; or undefined, if the element was not in the document\n *     to begin with.\n *\/\ngoog.dom.flattenElement = function(element) {\n  'use strict';\n  var child, parent = element.parentNode;\n  if (parent && parent.nodeType != goog.dom.NodeType.DOCUMENT_FRAGMENT) {\n    \/\/ Use IE DOM method (supported by Opera too) if available\n    if (element.removeNode) {\n      return \/** @type {Element} *\/ (element.removeNode(false));\n    } else {\n      \/\/ Move all children of the original node up one level.\n      while ((child = element.firstChild)) {\n        parent.insertBefore(child, element);\n      }\n\n      \/\/ Detach the original element.\n      return \/** @type {Element} *\/ (goog.dom.removeNode(element));\n    }\n  }\n};\n\n\n\/**\n * Returns an array containing just the element children of the given element.\n * @param {Element} element The element whose element children we want.\n * @return {!(Array<!Element>|NodeList<!Element>)} An array or array-like list\n *     of just the element children of the given element.\n *\/\ngoog.dom.getChildren = function(element) {\n  'use strict';\n  \/\/ We check if the children attribute is supported for child elements\n  \/\/ since IE8 misuses the attribute by also including comments.\n  if (goog.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE &&\n      element.children != undefined) {\n    return element.children;\n  }\n  \/\/ Fall back to manually filtering the element's child nodes.\n  return goog.array.filter(element.childNodes, function(node) {\n    'use strict';\n    return node.nodeType == goog.dom.NodeType.ELEMENT;\n  });\n};\n\n\n\/**\n * Returns the first child node that is an element.\n * @param {Node} node The node to get the first child element of.\n * @return {Element} The first child node of `node` that is an element.\n *\/\ngoog.dom.getFirstElementChild = function(node) {\n  'use strict';\n  if (node.firstElementChild !== undefined) {\n    return \/** @type {!Element} *\/ (node).firstElementChild;\n  }\n  return goog.dom.getNextElementNode_(node.firstChild, true);\n};\n\n\n\/**\n * Returns the last child node that is an element.\n * @param {Node} node The node to get the last child element of.\n * @return {Element} The last child node of `node` that is an element.\n *\/\ngoog.dom.getLastElementChild = function(node) {\n  'use strict';\n  if (node.lastElementChild !== undefined) {\n    return \/** @type {!Element} *\/ (node).lastElementChild;\n  }\n  return goog.dom.getNextElementNode_(node.lastChild, false);\n};\n\n\n\/**\n * Returns the first next sibling that is an element.\n * @param {Node} node The node to get the next sibling element of.\n * @return {Element} The next sibling of `node` that is an element.\n *\/\ngoog.dom.getNextElementSibling = function(node) {\n  'use strict';\n  if (node.nextElementSibling !== undefined) {\n    return \/** @type {!Element} *\/ (node).nextElementSibling;\n  }\n  return goog.dom.getNextElementNode_(node.nextSibling, true);\n};\n\n\n\/**\n * Returns the first previous sibling that is an element.\n * @param {Node} node The node to get the previous sibling element of.\n * @return {Element} The first previous sibling of `node` that is\n *     an element.\n *\/\ngoog.dom.getPreviousElementSibling = function(node) {\n  'use strict';\n  if (node.previousElementSibling !== undefined) {\n    return \/** @type {!Element} *\/ (node).previousElementSibling;\n  }\n  return goog.dom.getNextElementNode_(node.previousSibling, false);\n};\n\n\n\/**\n * Returns the first node that is an element in the specified direction,\n * starting with `node`.\n * @param {Node} node The node to get the next element from.\n * @param {boolean} forward Whether to look forwards or backwards.\n * @return {Element} The first element.\n * @private\n *\/\ngoog.dom.getNextElementNode_ = function(node, forward) {\n  'use strict';\n  while (node && node.nodeType != goog.dom.NodeType.ELEMENT) {\n    node = forward ? node.nextSibling : node.previousSibling;\n  }\n\n  return \/** @type {Element} *\/ (node);\n};\n\n\n\/**\n * Returns the next node in source order from the given node.\n * @param {Node} node The node.\n * @return {Node} The next node in the DOM tree, or null if this was the last\n *     node.\n *\/\ngoog.dom.getNextNode = function(node) {\n  'use strict';\n  if (!node) {\n    return null;\n  }\n\n  if (node.firstChild) {\n    return node.firstChild;\n  }\n\n  while (node && !node.nextSibling) {\n    node = node.parentNode;\n  }\n\n  return node ? node.nextSibling : null;\n};\n\n\n\/**\n * Returns the previous node in source order from the given node.\n * @param {Node} node The node.\n * @return {Node} The previous node in the DOM tree, or null if this was the\n *     first node.\n *\/\ngoog.dom.getPreviousNode = function(node) {\n  'use strict';\n  if (!node) {\n    return null;\n  }\n\n  if (!node.previousSibling) {\n    return node.parentNode;\n  }\n\n  node = node.previousSibling;\n  while (node && node.lastChild) {\n    node = node.lastChild;\n  }\n\n  return node;\n};\n\n\n\/**\n * Whether the object looks like a DOM node.\n * @param {?} obj The object being tested for node likeness.\n * @return {boolean} Whether the object looks like a DOM node.\n *\/\ngoog.dom.isNodeLike = function(obj) {\n  'use strict';\n  return goog.isObject(obj) && obj.nodeType > 0;\n};\n\n\n\/**\n * Whether the object looks like an Element.\n * @param {?} obj The object being tested for Element likeness.\n * @return {boolean} Whether the object looks like an Element.\n *\/\ngoog.dom.isElement = function(obj) {\n  'use strict';\n  return goog.isObject(obj) && obj.nodeType == goog.dom.NodeType.ELEMENT;\n};\n\n\n\/**\n * Returns true if the specified value is a Window object. This includes the\n * global window for HTML pages, and iframe windows.\n * @param {?} obj Variable to test.\n * @return {boolean} Whether the variable is a window.\n *\/\ngoog.dom.isWindow = function(obj) {\n  'use strict';\n  return goog.isObject(obj) && obj['window'] == obj;\n};\n\n\n\/**\n * Returns an element's parent, if it's an Element.\n * @param {Element} element The DOM element.\n * @return {Element} The parent, or null if not an Element.\n *\/\ngoog.dom.getParentElement = function(element) {\n  'use strict';\n  var parent;\n  if (goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY) {\n    var isIe9 = goog.userAgent.IE && goog.userAgent.isVersionOrHigher('9') &&\n        !goog.userAgent.isVersionOrHigher('10');\n    \/\/ SVG elements in IE9 can't use the parentElement property.\n    \/\/ goog.global['SVGElement'] is not defined in IE9 quirks mode.\n    if (!(isIe9 && goog.global['SVGElement'] &&\n          element instanceof goog.global['SVGElement'])) {\n      parent = element.parentElement;\n      if (parent) {\n        return parent;\n      }\n    }\n  }\n  parent = element.parentNode;\n  return goog.dom.isElement(parent) ? \/** @type {!Element} *\/ (parent) : null;\n};\n\n\n\/**\n * Whether a node contains another node.\n * @param {?Node|undefined} parent The node that should contain the other node.\n * @param {?Node|undefined} descendant The node to test presence of.\n * @return {boolean} Whether the parent node contains the descendant node.\n *\/\ngoog.dom.contains = function(parent, descendant) {\n  'use strict';\n  if (!parent || !descendant) {\n    return false;\n  }\n  \/\/ We use browser specific methods for this if available since it is faster\n  \/\/ that way.\n\n  \/\/ IE DOM\n  if (parent.contains && descendant.nodeType == goog.dom.NodeType.ELEMENT) {\n    return parent == descendant || parent.contains(descendant);\n  }\n\n  \/\/ W3C DOM Level 3\n  if (typeof parent.compareDocumentPosition != 'undefined') {\n    return parent == descendant ||\n        Boolean(parent.compareDocumentPosition(descendant) & 16);\n  }\n\n  \/\/ W3C DOM Level 1\n  while (descendant && parent != descendant) {\n    descendant = descendant.parentNode;\n  }\n  return descendant == parent;\n};\n\n\n\/**\n * Compares the document order of two nodes, returning 0 if they are the same\n * node, a negative number if node1 is before node2, and a positive number if\n * node2 is before node1.  Note that we compare the order the tags appear in the\n * document so in the tree <b><i>text<\/i><\/b> the B node is considered to be\n * before the I node.\n *\n * @param {Node} node1 The first node to compare.\n * @param {Node} node2 The second node to compare.\n * @return {number} 0 if the nodes are the same node, a negative number if node1\n *     is before node2, and a positive number if node2 is before node1.\n *\/\ngoog.dom.compareNodeOrder = function(node1, node2) {\n  'use strict';\n  \/\/ Fall out quickly for equality.\n  if (node1 == node2) {\n    return 0;\n  }\n\n  \/\/ Use compareDocumentPosition where available\n  if (node1.compareDocumentPosition) {\n    \/\/ 4 is the bitmask for FOLLOWS.\n    return node1.compareDocumentPosition(node2) & 2 ? 1 : -1;\n  }\n\n  \/\/ Special case for document nodes on IE 7 and 8.\n  if (goog.userAgent.IE && !goog.userAgent.isDocumentModeOrHigher(9)) {\n    if (node1.nodeType == goog.dom.NodeType.DOCUMENT) {\n      return -1;\n    }\n    if (node2.nodeType == goog.dom.NodeType.DOCUMENT) {\n      return 1;\n    }\n  }\n\n  \/\/ Process in IE using sourceIndex - we check to see if the first node has\n  \/\/ a source index or if its parent has one.\n  if ('sourceIndex' in node1 ||\n      (node1.parentNode && 'sourceIndex' in node1.parentNode)) {\n    var isElement1 = node1.nodeType == goog.dom.NodeType.ELEMENT;\n    var isElement2 = node2.nodeType == goog.dom.NodeType.ELEMENT;\n\n    if (isElement1 && isElement2) {\n      return node1.sourceIndex - node2.sourceIndex;\n    } else {\n      var parent1 = node1.parentNode;\n      var parent2 = node2.parentNode;\n\n      if (parent1 == parent2) {\n        return goog.dom.compareSiblingOrder_(node1, node2);\n      }\n\n      if (!isElement1 && goog.dom.contains(parent1, node2)) {\n        return -1 * goog.dom.compareParentsDescendantNodeIe_(node1, node2);\n      }\n\n\n      if (!isElement2 && goog.dom.contains(parent2, node1)) {\n        return goog.dom.compareParentsDescendantNodeIe_(node2, node1);\n      }\n\n      return (isElement1 ? node1.sourceIndex : parent1.sourceIndex) -\n          (isElement2 ? node2.sourceIndex : parent2.sourceIndex);\n    }\n  }\n\n  \/\/ For Safari, we compare ranges.\n  var doc = goog.dom.getOwnerDocument(node1);\n\n  var range1, range2;\n  range1 = doc.createRange();\n  range1.selectNode(node1);\n  range1.collapse(true);\n\n  range2 = doc.createRange();\n  range2.selectNode(node2);\n  range2.collapse(true);\n\n  return range1.compareBoundaryPoints(\n      goog.global['Range'].START_TO_END, range2);\n};\n\n\n\/**\n * Utility function to compare the position of two nodes, when\n * `textNode`'s parent is an ancestor of `node`.  If this entry\n * condition is not met, this function will attempt to reference a null object.\n * @param {!Node} textNode The textNode to compare.\n * @param {Node} node The node to compare.\n * @return {number} -1 if node is before textNode, +1 otherwise.\n * @private\n *\/\ngoog.dom.compareParentsDescendantNodeIe_ = function(textNode, node) {\n  'use strict';\n  var parent = textNode.parentNode;\n  if (parent == node) {\n    \/\/ If textNode is a child of node, then node comes first.\n    return -1;\n  }\n  var sibling = node;\n  while (sibling.parentNode != parent) {\n    sibling = sibling.parentNode;\n  }\n  return goog.dom.compareSiblingOrder_(sibling, textNode);\n};\n\n\n\/**\n * Utility function to compare the position of two nodes known to be non-equal\n * siblings.\n * @param {Node} node1 The first node to compare.\n * @param {!Node} node2 The second node to compare.\n * @return {number} -1 if node1 is before node2, +1 otherwise.\n * @private\n *\/\ngoog.dom.compareSiblingOrder_ = function(node1, node2) {\n  'use strict';\n  var s = node2;\n  while ((s = s.previousSibling)) {\n    if (s == node1) {\n      \/\/ We just found node1 before node2.\n      return -1;\n    }\n  }\n\n  \/\/ Since we didn't find it, node1 must be after node2.\n  return 1;\n};\n\n\n\/**\n * Find the deepest common ancestor of the given nodes.\n * @param {...Node} var_args The nodes to find a common ancestor of.\n * @return {Node} The common ancestor of the nodes, or null if there is none.\n *     null will only be returned if two or more of the nodes are from different\n *     documents.\n *\/\ngoog.dom.findCommonAncestor = function(var_args) {\n  'use strict';\n  var i, count = arguments.length;\n  if (!count) {\n    return null;\n  } else if (count == 1) {\n    return arguments[0];\n  }\n\n  var paths = [];\n  var minLength = Infinity;\n  for (i = 0; i < count; i++) {\n    \/\/ Compute the list of ancestors.\n    var ancestors = [];\n    var node = arguments[i];\n    while (node) {\n      ancestors.unshift(node);\n      node = node.parentNode;\n    }\n\n    \/\/ Save the list for comparison.\n    paths.push(ancestors);\n    minLength = Math.min(minLength, ancestors.length);\n  }\n  var output = null;\n  for (i = 0; i < minLength; i++) {\n    var first = paths[0][i];\n    for (var j = 1; j < count; j++) {\n      if (first != paths[j][i]) {\n        return output;\n      }\n    }\n    output = first;\n  }\n  return output;\n};\n\n\n\/**\n * Returns whether node is in a document or detached. Throws an error if node\n * itself is a document. This specifically handles two cases beyond naive use of\n * builtins: (1) it works correctly in IE, and (2) it works for elements from\n * different documents\/iframes. If neither of these considerations are relevant\n * then a simple `document.contains(node)` may be used instead.\n * @param {!Node} node\n * @return {boolean}\n *\/\ngoog.dom.isInDocument = function(node) {\n  'use strict';\n  return (node.ownerDocument.compareDocumentPosition(node) & 16) == 16;\n};\n\n\n\/**\n * Returns the owner document for a node.\n * @param {Node|Window} node The node to get the document for.\n * @return {!Document} The document owning the node.\n *\/\ngoog.dom.getOwnerDocument = function(node) {\n  'use strict';\n  \/\/ TODO(nnaze): Update param signature to be non-nullable.\n  goog.asserts.assert(node, 'Node cannot be null or undefined.');\n  return \/** @type {!Document} *\/ (\n      node.nodeType == goog.dom.NodeType.DOCUMENT ? node : node.ownerDocument ||\n              node.document);\n};\n\n\n\/**\n * Cross-browser function for getting the document element of a frame or iframe.\n * @param {Element} frame Frame element.\n * @return {!Document} The frame content document.\n *\/\ngoog.dom.getFrameContentDocument = function(frame) {\n  'use strict';\n  return frame.contentDocument ||\n      \/** @type {!HTMLFrameElement} *\/ (frame).contentWindow.document;\n};\n\n\n\/**\n * Cross-browser function for getting the window of a frame or iframe.\n * @param {Element} frame Frame element.\n * @return {Window} The window associated with the given frame, or null if none\n *     exists.\n *\/\ngoog.dom.getFrameContentWindow = function(frame) {\n  'use strict';\n  try {\n    return frame.contentWindow ||\n        (frame.contentDocument ? goog.dom.getWindow(frame.contentDocument) :\n                                 null);\n  } catch (e) {\n    \/\/ NOTE(user): In IE8, checking the contentWindow or contentDocument\n    \/\/ properties will throw a \"Unspecified Error\" exception if the iframe is\n    \/\/ not inserted in the DOM. If we get this we can be sure that no window\n    \/\/ exists, so return null.\n  }\n  return null;\n};\n\n\n\/**\n * Sets the text content of a node, with cross-browser support.\n * @param {Node} node The node to change the text content of.\n * @param {string|number} text The value that should replace the node's content.\n *\/\ngoog.dom.setTextContent = function(node, text) {\n  'use strict';\n  goog.asserts.assert(\n      node != null,\n      'goog.dom.setTextContent expects a non-null value for node');\n\n  if ('textContent' in node) {\n    node.textContent = text;\n  } else if (node.nodeType == goog.dom.NodeType.TEXT) {\n    \/** @type {!Text} *\/ (node).data = String(text);\n  } else if (\n      node.firstChild && node.firstChild.nodeType == goog.dom.NodeType.TEXT) {\n    \/\/ If the first child is a text node we just change its data and remove the\n    \/\/ rest of the children.\n    while (node.lastChild != node.firstChild) {\n      node.removeChild(goog.asserts.assert(node.lastChild));\n    }\n    \/** @type {!Text} *\/ (node.firstChild).data = String(text);\n  } else {\n    goog.dom.removeChildren(node);\n    var doc = goog.dom.getOwnerDocument(node);\n    node.appendChild(doc.createTextNode(String(text)));\n  }\n};\n\n\n\/**\n * Gets the outerHTML of a node, which is like innerHTML, except that it\n * actually contains the HTML of the node itself.\n * @param {Element} element The element to get the HTML of.\n * @return {string} The outerHTML of the given element.\n *\/\ngoog.dom.getOuterHtml = function(element) {\n  'use strict';\n  goog.asserts.assert(\n      element !== null,\n      'goog.dom.getOuterHtml expects a non-null value for element');\n  \/\/ IE, Opera and WebKit all have outerHTML.\n  if ('outerHTML' in element) {\n    return element.outerHTML;\n  } else {\n    var doc = goog.dom.getOwnerDocument(element);\n    var div = goog.dom.createElement_(doc, goog.dom.TagName.DIV);\n    div.appendChild(element.cloneNode(true));\n    return div.innerHTML;\n  }\n};\n\n\n\/**\n * Finds the first descendant node that matches the filter function, using depth\n * first search. This function offers the most general purpose way of finding a\n * matching element.\n *\n * Prefer using `querySelector` if the matching criteria can be expressed as a\n * CSS selector, or `goog.dom.findElement` if you would filter for `nodeType ==\n * Node.ELEMENT_NODE`.\n *\n * @param {Node} root The root of the tree to search.\n * @param {function(Node) : boolean} p The filter function.\n * @return {Node|undefined} The found node or undefined if none is found.\n *\/\ngoog.dom.findNode = function(root, p) {\n  'use strict';\n  var rv = [];\n  var found = goog.dom.findNodes_(root, p, rv, true);\n  return found ? rv[0] : undefined;\n};\n\n\n\/**\n * Finds all the descendant nodes that match the filter function, using depth\n * first search. This function offers the most general-purpose way\n * of finding a set of matching elements.\n *\n * Prefer using `querySelectorAll` if the matching criteria can be expressed as\n * a CSS selector, or `goog.dom.findElements` if you would filter for\n * `nodeType == Node.ELEMENT_NODE`.\n *\n * @param {Node} root The root of the tree to search.\n * @param {function(Node) : boolean} p The filter function.\n * @return {!Array<!Node>} The found nodes or an empty array if none are found.\n *\/\ngoog.dom.findNodes = function(root, p) {\n  'use strict';\n  var rv = [];\n  goog.dom.findNodes_(root, p, rv, false);\n  return rv;\n};\n\n\n\/**\n * Finds the first or all the descendant nodes that match the filter function,\n * using a depth first search.\n * @param {Node} root The root of the tree to search.\n * @param {function(Node) : boolean} p The filter function.\n * @param {!Array<!Node>} rv The found nodes are added to this array.\n * @param {boolean} findOne If true we exit after the first found node.\n * @return {boolean} Whether the search is complete or not. True in case findOne\n *     is true and the node is found. False otherwise.\n * @private\n *\/\ngoog.dom.findNodes_ = function(root, p, rv, findOne) {\n  'use strict';\n  if (root != null) {\n    var child = root.firstChild;\n    while (child) {\n      if (p(child)) {\n        rv.push(child);\n        if (findOne) {\n          return true;\n        }\n      }\n      if (goog.dom.findNodes_(child, p, rv, findOne)) {\n        return true;\n      }\n      child = child.nextSibling;\n    }\n  }\n  return false;\n};\n\n\n\/**\n * Finds the first descendant element (excluding `root`) that matches the filter\n * function, using depth first search. Prefer using `querySelector` if the\n * matching criteria can be expressed as a CSS selector.\n *\n * @param {!Element | !Document} root\n * @param {function(!Element): boolean} pred Filter function.\n * @return {?Element} First matching element or null if there is none.\n *\/\ngoog.dom.findElement = function(root, pred) {\n  'use strict';\n  var stack = goog.dom.getChildrenReverse_(root);\n  while (stack.length > 0) {\n    var next = stack.pop();\n    if (pred(next)) return next;\n    for (var c = next.lastElementChild; c; c = c.previousElementSibling) {\n      stack.push(c);\n    }\n  }\n  return null;\n};\n\n\n\/**\n * Finds all the descendant elements (excluding `root`) that match the filter\n * function, using depth first search. Prefer using `querySelectorAll` if the\n * matching criteria can be expressed as a CSS selector.\n *\n * @param {!Element | !Document} root\n * @param {function(!Element): boolean} pred Filter function.\n * @return {!Array<!Element>}\n *\/\ngoog.dom.findElements = function(root, pred) {\n  'use strict';\n  var result = [], stack = goog.dom.getChildrenReverse_(root);\n  while (stack.length > 0) {\n    var next = stack.pop();\n    if (pred(next)) result.push(next);\n    for (var c = next.lastElementChild; c; c = c.previousElementSibling) {\n      stack.push(c);\n    }\n  }\n  return result;\n};\n\n\n\/**\n * @param {!Element | !Document} node\n * @return {!Array<!Element>} node's child elements in reverse order.\n * @private\n *\/\ngoog.dom.getChildrenReverse_ = function(node) {\n  'use strict';\n  \/\/ document.lastElementChild doesn't exist in IE9; fall back to\n  \/\/ documentElement.\n  if (node.nodeType == goog.dom.NodeType.DOCUMENT) {\n    return [node.documentElement];\n  } else {\n    var children = [];\n    for (var c = node.lastElementChild; c; c = c.previousElementSibling) {\n      children.push(c);\n    }\n    return children;\n  }\n};\n\n\n\/**\n * Map of tags whose content to ignore when calculating text length.\n * @private {!Object<string, number>}\n * @const\n *\/\ngoog.dom.TAGS_TO_IGNORE_ = {\n  'SCRIPT': 1,\n  'STYLE': 1,\n  'HEAD': 1,\n  'IFRAME': 1,\n  'OBJECT': 1\n};\n\n\n\/**\n * Map of tags which have predefined values with regard to whitespace.\n * @private {!Object<string, string>}\n * @const\n *\/\ngoog.dom.PREDEFINED_TAG_VALUES_ = {\n  'IMG': ' ',\n  'BR': '\\n'\n};\n\n\n\/**\n * Returns true if the element has a tab index that allows it to receive\n * keyboard focus (tabIndex >= 0), false otherwise.  Note that some elements\n * natively support keyboard focus, even if they have no tab index.\n * @param {!Element} element Element to check.\n * @return {boolean} Whether the element has a tab index that allows keyboard\n *     focus.\n *\/\ngoog.dom.isFocusableTabIndex = function(element) {\n  'use strict';\n  return goog.dom.hasSpecifiedTabIndex_(element) &&\n      goog.dom.isTabIndexFocusable_(element);\n};\n\n\n\/**\n * Enables or disables keyboard focus support on the element via its tab index.\n * Only elements for which {@link goog.dom.isFocusableTabIndex} returns true\n * (or elements that natively support keyboard focus, like form elements) can\n * receive keyboard focus.  See http:\/\/go\/tabindex for more info.\n * @param {Element} element Element whose tab index is to be changed.\n * @param {boolean} enable Whether to set or remove a tab index on the element\n *     that supports keyboard focus.\n *\/\ngoog.dom.setFocusableTabIndex = function(element, enable) {\n  'use strict';\n  if (enable) {\n    element.tabIndex = 0;\n  } else {\n    \/\/ Set tabIndex to -1 first, then remove it. This is a workaround for\n    \/\/ Safari (confirmed in version 4 on Windows). When removing the attribute\n    \/\/ without setting it to -1 first, the element remains keyboard focusable\n    \/\/ despite not having a tabIndex attribute anymore.\n    element.tabIndex = -1;\n    element.removeAttribute('tabIndex');  \/\/ Must be camelCase!\n  }\n};\n\n\n\/**\n * Returns true if the element can be focused, i.e. it has a tab index that\n * allows it to receive keyboard focus (tabIndex >= 0), or it is an element\n * that natively supports keyboard focus.\n * @param {!Element} element Element to check.\n * @return {boolean} Whether the element allows keyboard focus.\n *\/\ngoog.dom.isFocusable = function(element) {\n  'use strict';\n  var focusable;\n  \/\/ Some elements can have unspecified tab index and still receive focus.\n  if (goog.dom.nativelySupportsFocus_(element)) {\n    \/\/ Make sure the element is not disabled ...\n    focusable = !element.disabled &&\n        \/\/ ... and if a tab index is specified, it allows focus.\n        (!goog.dom.hasSpecifiedTabIndex_(element) ||\n         goog.dom.isTabIndexFocusable_(element));\n  } else {\n    focusable = goog.dom.isFocusableTabIndex(element);\n  }\n\n  \/\/ IE requires elements to be visible in order to focus them.\n  return focusable && goog.userAgent.IE ?\n      goog.dom.hasNonZeroBoundingRect_(\/** @type {!HTMLElement} *\/ (element)) :\n      focusable;\n};\n\n\n\/**\n * Returns true if the element has a specified tab index.\n * @param {!Element} element Element to check.\n * @return {boolean} Whether the element has a specified tab index.\n * @private\n *\/\ngoog.dom.hasSpecifiedTabIndex_ = function(element) {\n  'use strict';\n  \/\/ IE8 and below don't support hasAttribute(), instead check whether the\n  \/\/ 'tabindex' attributeNode is specified. Otherwise check hasAttribute().\n  if (goog.userAgent.IE && !goog.userAgent.isVersionOrHigher('9')) {\n    var attrNode = element.getAttributeNode('tabindex');  \/\/ Must be lowercase!\n    return attrNode != null && attrNode.specified;\n  } else {\n    return element.hasAttribute('tabindex');\n  }\n};\n\n\n\/**\n * Returns true if the element's tab index allows the element to be focused.\n * @param {!Element} element Element to check.\n * @return {boolean} Whether the element's tab index allows focus.\n * @private\n *\/\ngoog.dom.isTabIndexFocusable_ = function(element) {\n  'use strict';\n  var index = \/** @type {!HTMLElement} *\/ (element).tabIndex;\n  \/\/ NOTE: IE9 puts tabIndex in 16-bit int, e.g. -2 is 65534.\n  return typeof (index) === 'number' && index >= 0 && index < 32768;\n};\n\n\n\/**\n * Returns true if the element is focusable even when tabIndex is not set.\n * @param {!Element} element Element to check.\n * @return {boolean} Whether the element natively supports focus.\n * @private\n *\/\ngoog.dom.nativelySupportsFocus_ = function(element) {\n  'use strict';\n  return (\n      element.tagName == goog.dom.TagName.A && element.hasAttribute('href') ||\n      element.tagName == goog.dom.TagName.INPUT ||\n      element.tagName == goog.dom.TagName.TEXTAREA ||\n      element.tagName == goog.dom.TagName.SELECT ||\n      element.tagName == goog.dom.TagName.BUTTON);\n};\n\n\n\/**\n * Returns true if the element has a bounding rectangle that would be visible\n * (i.e. its width and height are greater than zero).\n * @param {!HTMLElement} element Element to check.\n * @return {boolean} Whether the element has a non-zero bounding rectangle.\n * @private\n *\/\ngoog.dom.hasNonZeroBoundingRect_ = function(element) {\n  'use strict';\n  var rect;\n  if (typeof element['getBoundingClientRect'] !== 'function' ||\n      \/\/ In IE, getBoundingClientRect throws on detached nodes.\n      (goog.userAgent.IE && element.parentElement == null)) {\n    rect = {'height': element.offsetHeight, 'width': element.offsetWidth};\n  } else {\n    rect = element.getBoundingClientRect();\n  }\n  return rect != null && rect.height > 0 && rect.width > 0;\n};\n\n\n\/**\n * Returns the text content of the current node, without markup and invisible\n * symbols. New lines are stripped and whitespace is collapsed,\n * such that each character would be visible.\n *\n * In browsers that support it, innerText is used.  Other browsers attempt to\n * simulate it via node traversal.  Line breaks are canonicalized in IE.\n *\n * @param {Node} node The node from which we are getting content.\n * @return {string} The text content.\n *\/\ngoog.dom.getTextContent = function(node) {\n  'use strict';\n  var textContent;\n  \/\/ Note(arv): IE9, Opera, and Safari 3 support innerText but they include\n  \/\/ text nodes in script tags. So we revert to use a user agent test here.\n  if (goog.dom.BrowserFeature.CAN_USE_INNER_TEXT && node !== null &&\n      ('innerText' in node)) {\n    textContent = goog.string.canonicalizeNewlines(node.innerText);\n    \/\/ Unfortunately .innerText() returns text with &shy; symbols\n    \/\/ We need to filter it out and then remove duplicate whitespaces\n  } else {\n    var buf = [];\n    goog.dom.getTextContent_(node, buf, true);\n    textContent = buf.join('');\n  }\n\n  \/\/ Strip &shy; entities. goog.format.insertWordBreaks inserts them in Opera.\n  textContent = textContent.replace(\/ \\xAD \/g, ' ').replace(\/\\xAD\/g, '');\n  \/\/ Strip &#8203; entities. goog.format.insertWordBreaks inserts them in IE8.\n  textContent = textContent.replace(\/\\u200B\/g, '');\n\n  \/\/ Skip this replacement on old browsers with working innerText, which\n  \/\/ automatically turns &nbsp; into ' ' and \/ +\/ into ' ' when reading\n  \/\/ innerText.\n  if (!goog.dom.BrowserFeature.CAN_USE_INNER_TEXT) {\n    textContent = textContent.replace(\/ +\/g, ' ');\n  }\n  if (textContent != ' ') {\n    textContent = textContent.replace(\/^\\s*\/, '');\n  }\n\n  return textContent;\n};\n\n\n\/**\n * Returns the text content of the current node, without markup.\n *\n * Unlike `getTextContent` this method does not collapse whitespaces\n * or normalize lines breaks.\n *\n * @param {Node} node The node from which we are getting content.\n * @return {string} The raw text content.\n *\/\ngoog.dom.getRawTextContent = function(node) {\n  'use strict';\n  var buf = [];\n  goog.dom.getTextContent_(node, buf, false);\n\n  return buf.join('');\n};\n\n\n\/**\n * Recursive support function for text content retrieval.\n *\n * @param {Node} node The node from which we are getting content.\n * @param {Array<string>} buf string buffer.\n * @param {boolean} normalizeWhitespace Whether to normalize whitespace.\n * @private\n *\/\ngoog.dom.getTextContent_ = function(node, buf, normalizeWhitespace) {\n  'use strict';\n  if (node.nodeName in goog.dom.TAGS_TO_IGNORE_) {\n    \/\/ ignore certain tags\n  } else if (node.nodeType == goog.dom.NodeType.TEXT) {\n    if (normalizeWhitespace) {\n      buf.push(String(node.nodeValue).replace(\/(\\r\\n|\\r|\\n)\/g, ''));\n    } else {\n      buf.push(node.nodeValue);\n    }\n  } else if (node.nodeName in goog.dom.PREDEFINED_TAG_VALUES_) {\n    buf.push(goog.dom.PREDEFINED_TAG_VALUES_[node.nodeName]);\n  } else {\n    var child = node.firstChild;\n    while (child) {\n      goog.dom.getTextContent_(child, buf, normalizeWhitespace);\n      child = child.nextSibling;\n    }\n  }\n};\n\n\n\/**\n * Returns the text length of the text contained in a node, without markup. This\n * is equivalent to the selection length if the node was selected, or the number\n * of cursor movements to traverse the node. Images & BRs take one space.  New\n * lines are ignored.\n *\n * @param {Node} node The node whose text content length is being calculated.\n * @return {number} The length of `node`'s text content.\n *\/\ngoog.dom.getNodeTextLength = function(node) {\n  'use strict';\n  return goog.dom.getTextContent(node).length;\n};\n\n\n\/**\n * Returns the text offset of a node relative to one of its ancestors. The text\n * length is the same as the length calculated by goog.dom.getNodeTextLength.\n *\n * @param {Node} node The node whose offset is being calculated.\n * @param {Node=} opt_offsetParent The node relative to which the offset will\n *     be calculated. Defaults to the node's owner document's body.\n * @return {number} The text offset.\n *\/\ngoog.dom.getNodeTextOffset = function(node, opt_offsetParent) {\n  'use strict';\n  var root = opt_offsetParent || goog.dom.getOwnerDocument(node).body;\n  var buf = [];\n  while (node && node != root) {\n    var cur = node;\n    while ((cur = cur.previousSibling)) {\n      buf.unshift(goog.dom.getTextContent(cur));\n    }\n    node = node.parentNode;\n  }\n  \/\/ Trim left to deal with FF cases when there might be line breaks and empty\n  \/\/ nodes at the front of the text\n  return goog.string.trimLeft(buf.join('')).replace(\/ +\/g, ' ').length;\n};\n\n\n\/**\n * Returns the node at a given offset in a parent node.  If an object is\n * provided for the optional third parameter, the node and the remainder of the\n * offset will stored as properties of this object.\n * @param {Node} parent The parent node.\n * @param {number} offset The offset into the parent node.\n * @param {Object=} opt_result Object to be used to store the return value. The\n *     return value will be stored in the form {node: Node, remainder: number}\n *     if this object is provided.\n * @return {Node} The node at the given offset.\n *\/\ngoog.dom.getNodeAtOffset = function(parent, offset, opt_result) {\n  'use strict';\n  var stack = [parent], pos = 0, cur = null;\n  while (stack.length > 0 && pos < offset) {\n    cur = stack.pop();\n    if (cur.nodeName in goog.dom.TAGS_TO_IGNORE_) {\n      \/\/ ignore certain tags\n    } else if (cur.nodeType == goog.dom.NodeType.TEXT) {\n      var text = cur.nodeValue.replace(\/(\\r\\n|\\r|\\n)\/g, '').replace(\/ +\/g, ' ');\n      pos += text.length;\n    } else if (cur.nodeName in goog.dom.PREDEFINED_TAG_VALUES_) {\n      pos += goog.dom.PREDEFINED_TAG_VALUES_[cur.nodeName].length;\n    } else {\n      for (var i = cur.childNodes.length - 1; i >= 0; i--) {\n        stack.push(cur.childNodes[i]);\n      }\n    }\n  }\n  if (goog.isObject(opt_result)) {\n    opt_result.remainder = cur ? cur.nodeValue.length + offset - pos - 1 : 0;\n    opt_result.node = cur;\n  }\n\n  return cur;\n};\n\n\n\/**\n * Returns true if the object is a `NodeList`.  To qualify as a NodeList,\n * the object must have a numeric length property and an item function (which\n * has type 'string' on IE for some reason).\n * @param {Object} val Object to test.\n * @return {boolean} Whether the object is a NodeList.\n *\/\ngoog.dom.isNodeList = function(val) {\n  'use strict';\n  \/\/ TODO(attila): Now the isNodeList is part of goog.dom we can use\n  \/\/ goog.userAgent to make this simpler.\n  \/\/ A NodeList must have a length property of type 'number' on all platforms.\n  if (val && typeof val.length == 'number') {\n    \/\/ A NodeList is an object everywhere except Safari, where it's a function.\n    if (goog.isObject(val)) {\n      \/\/ A NodeList must have an item function (on non-IE platforms) or an item\n      \/\/ property of type 'string' (on IE).\n      return typeof val.item == 'function' || typeof val.item == 'string';\n    } else if (typeof val === 'function') {\n      \/\/ On Safari, a NodeList is a function with an item property that is also\n      \/\/ a function.\n      return typeof \/** @type {?} *\/ (val.item) == 'function';\n    }\n  }\n\n  \/\/ Not a NodeList.\n  return false;\n};\n\n\n\/**\n * Walks up the DOM hierarchy returning the first ancestor that has the passed\n * tag name and\/or class name. If the passed element matches the specified\n * criteria, the element itself is returned.\n * @param {Node} element The DOM node to start with.\n * @param {?(goog.dom.TagName<T>|string)=} opt_tag The tag name to match (or\n *     null\/undefined to match only based on class name).\n * @param {?string=} opt_class The class name to match (or null\/undefined to\n *     match only based on tag name).\n * @param {number=} opt_maxSearchSteps Maximum number of levels to search up the\n *     dom.\n * @return {?R} The first ancestor that matches the passed criteria, or\n *     null if no match is found. The return type is {?Element} if opt_tag is\n *     not a member of goog.dom.TagName or a more specific type if it is (e.g.\n *     {?HTMLAnchorElement} for goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n *\/\ngoog.dom.getAncestorByTagNameAndClass = function(\n    element, opt_tag, opt_class, opt_maxSearchSteps) {\n  'use strict';\n  if (!opt_tag && !opt_class) {\n    return null;\n  }\n  var tagName = opt_tag ? String(opt_tag).toUpperCase() : null;\n  return \/** @type {Element} *\/ (goog.dom.getAncestor(element, function(node) {\n    'use strict';\n    return (!tagName || node.nodeName == tagName) &&\n        (!opt_class ||\n         typeof node.className === 'string' &&\n             goog.array.contains(node.className.split(\/\\s+\/), opt_class));\n  }, true, opt_maxSearchSteps));\n};\n\n\n\/**\n * Walks up the DOM hierarchy returning the first ancestor that has the passed\n * class name. If the passed element matches the specified criteria, the\n * element itself is returned.\n * @param {Node} element The DOM node to start with.\n * @param {string} className The class name to match.\n * @param {number=} opt_maxSearchSteps Maximum number of levels to search up the\n *     dom.\n * @return {Element} The first ancestor that matches the passed criteria, or\n *     null if none match.\n *\/\ngoog.dom.getAncestorByClass = function(element, className, opt_maxSearchSteps) {\n  'use strict';\n  return goog.dom.getAncestorByTagNameAndClass(\n      element, null, className, opt_maxSearchSteps);\n};\n\n\n\/**\n * Walks up the DOM hierarchy returning the first ancestor that passes the\n * matcher function.\n * @param {Node} element The DOM node to start with.\n * @param {function(!Node) : boolean} matcher A function that returns true if\n *     the passed node matches the desired criteria.\n * @param {boolean=} opt_includeNode If true, the node itself is included in\n *     the search (the first call to the matcher will pass startElement as\n *     the node to test).\n * @param {number=} opt_maxSearchSteps Maximum number of levels to search up the\n *     dom.\n * @return {Node} DOM node that matched the matcher, or null if there was\n *     no match.\n *\/\ngoog.dom.getAncestor = function(\n    element, matcher, opt_includeNode, opt_maxSearchSteps) {\n  'use strict';\n  if (element && !opt_includeNode) {\n    element = element.parentNode;\n  }\n  var steps = 0;\n  while (element &&\n         (opt_maxSearchSteps == null || steps <= opt_maxSearchSteps)) {\n    goog.asserts.assert(element.name != 'parentNode');\n    if (matcher(element)) {\n      return element;\n    }\n    element = element.parentNode;\n    steps++;\n  }\n  \/\/ Reached the root of the DOM without a match\n  return null;\n};\n\n\n\/**\n * Determines the active element in the given document.\n * @param {Document} doc The document to look in.\n * @return {Element} The active element.\n *\/\ngoog.dom.getActiveElement = function(doc) {\n  'use strict';\n  \/\/ While in an iframe, IE9 will throw \"Unspecified error\" when accessing\n  \/\/ activeElement.\n  try {\n    var activeElement = doc && doc.activeElement;\n    \/\/ While not in an iframe, IE9-11 sometimes gives null.\n    \/\/ While in an iframe, IE11 sometimes returns an empty object.\n    return activeElement && activeElement.nodeName ? activeElement : null;\n  } catch (e) {\n    return null;\n  }\n};\n\n\n\/**\n * Gives the current devicePixelRatio.\n *\n * By default, this is the value of window.devicePixelRatio (which should be\n * preferred if present).\n *\n * If window.devicePixelRatio is not present, the ratio is calculated with\n * window.matchMedia, if present. Otherwise, gives 1.0.\n *\n * Some browsers (including Chrome) consider the browser zoom level in the pixel\n * ratio, so the value may change across multiple calls.\n *\n * @return {number} The number of actual pixels per virtual pixel.\n *\/\ngoog.dom.getPixelRatio = function() {\n  'use strict';\n  var win = goog.dom.getWindow();\n  if (win.devicePixelRatio !== undefined) {\n    return win.devicePixelRatio;\n  } else if (win.matchMedia) {\n    \/\/ Should be for IE10 and FF6-17 (this basically clamps to lower)\n    \/\/ Note that the order of these statements is important\n    return goog.dom.matchesPixelRatio_(3) || goog.dom.matchesPixelRatio_(2) ||\n           goog.dom.matchesPixelRatio_(1.5) || goog.dom.matchesPixelRatio_(1) ||\n           .75;\n  }\n  return 1;\n};\n\n\n\/**\n * Calculates a mediaQuery to check if the current device supports the\n * given actual to virtual pixel ratio.\n * @param {number} pixelRatio The ratio of actual pixels to virtual pixels.\n * @return {number} pixelRatio if applicable, otherwise 0.\n * @private\n *\/\ngoog.dom.matchesPixelRatio_ = function(pixelRatio) {\n  'use strict';\n  var win = goog.dom.getWindow();\n  \/**\n   * Due to the 1:96 fixed ratio of CSS in to CSS px, 1dppx is equivalent to\n   * 96dpi.\n   * @const {number}\n   *\/\n  var dpiPerDppx = 96;\n  var query =\n      \/\/ FF16-17\n      '(min-resolution: ' + pixelRatio + 'dppx),' +\n      \/\/ FF6-15\n      '(min--moz-device-pixel-ratio: ' + pixelRatio + '),' +\n      \/\/ IE10 (this works for the two browsers above too but I don't want to\n      \/\/ trust the 1:96 fixed ratio magic)\n      '(min-resolution: ' + (pixelRatio * dpiPerDppx) + 'dpi)';\n  return win.matchMedia(query).matches ? pixelRatio : 0;\n};\n\n\n\/**\n * Gets '2d' context of a canvas. Shortcut for canvas.getContext('2d') with a\n * type information.\n * @param {!HTMLCanvasElement|!OffscreenCanvas} canvas\n * @return {!CanvasRenderingContext2D}\n *\/\ngoog.dom.getCanvasContext2D = function(canvas) {\n  'use strict';\n  return \/** @type {!CanvasRenderingContext2D} *\/ (canvas.getContext('2d'));\n};\n\n\n\n\/**\n * Create an instance of a DOM helper with a new document object.\n * @param {Document=} opt_document Document object to associate with this\n *     DOM helper.\n * @constructor\n *\/\ngoog.dom.DomHelper = function(opt_document) {\n  'use strict';\n  \/**\n   * Reference to the document object to use\n   * @type {!Document}\n   * @private\n   *\/\n  this.document_ = opt_document || goog.global.document || document;\n};\n\n\n\/**\n * Gets the dom helper object for the document where the element resides.\n * @param {Node=} opt_node If present, gets the DomHelper for this node.\n * @return {!goog.dom.DomHelper} The DomHelper.\n *\/\ngoog.dom.DomHelper.prototype.getDomHelper = goog.dom.getDomHelper;\n\n\n\/**\n * Sets the document object.\n * @param {!Document} document Document object.\n *\/\ngoog.dom.DomHelper.prototype.setDocument = function(document) {\n  'use strict';\n  this.document_ = document;\n};\n\n\n\/**\n * Gets the document object being used by the dom library.\n * @return {!Document} Document object.\n *\/\ngoog.dom.DomHelper.prototype.getDocument = function() {\n  'use strict';\n  return this.document_;\n};\n\n\n\/**\n * Alias for `getElementById`. If a DOM node is passed in then we just\n * return that.\n * @param {string|Element} element Element ID or a DOM node.\n * @return {Element} The element with the given ID, or the node passed in.\n *\/\ngoog.dom.DomHelper.prototype.getElement = function(element) {\n  'use strict';\n  return goog.dom.getElementHelper_(this.document_, element);\n};\n\n\n\/**\n * Gets an element by id, asserting that the element is found.\n *\n * This is used when an element is expected to exist, and should fail with\n * an assertion error if it does not (if assertions are enabled).\n *\n * @param {string} id Element ID.\n * @return {!Element} The element with the given ID, if it exists.\n *\/\ngoog.dom.DomHelper.prototype.getRequiredElement = function(id) {\n  'use strict';\n  return goog.dom.getRequiredElementHelper_(this.document_, id);\n};\n\n\n\/**\n * Alias for `getElement`.\n * @param {string|Element} element Element ID or a DOM node.\n * @return {Element} The element with the given ID, or the node passed in.\n * @deprecated Use {@link goog.dom.DomHelper.prototype.getElement} instead.\n *\/\ngoog.dom.DomHelper.prototype.$ = goog.dom.DomHelper.prototype.getElement;\n\n\n\/**\n * Gets elements by tag name.\n * @param {!goog.dom.TagName<T>} tagName\n * @param {(!Document|!Element)=} opt_parent Parent element or document where to\n *     look for elements. Defaults to document of this DomHelper.\n * @return {!NodeList<R>} List of elements. The members of the list are\n *     {!Element} if tagName is not a member of goog.dom.TagName or more\n *     specific types if it is (e.g. {!HTMLAnchorElement} for\n *     goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n *\/\ngoog.dom.DomHelper.prototype.getElementsByTagName = function(\n    tagName, opt_parent) {\n  'use strict';\n  var parent = opt_parent || this.document_;\n  return parent.getElementsByTagName(String(tagName));\n};\n\n\n\/**\n * Looks up elements by both tag and class name, using browser native functions\n * (`querySelectorAll`, `getElementsByTagName` or\n * `getElementsByClassName`) where possible. The returned array is a live\n * NodeList or a static list depending on the code path taken.\n *\n * @param {(string|?goog.dom.TagName<T>)=} opt_tag Element tag name or * for all\n *     tags.\n * @param {?string=} opt_class Optional class name.\n * @param {(Document|Element)=} opt_el Optional element to look in.\n * @return {!IArrayLike<R>} Array-like list of elements (only a length property\n *     and numerical indices are guaranteed to exist). The members of the array\n *     are {!Element} if opt_tag is not a member of goog.dom.TagName or more\n *     specific types if it is (e.g. {!HTMLAnchorElement} for\n *     goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n *\/\ngoog.dom.DomHelper.prototype.getElementsByTagNameAndClass = function(\n    opt_tag, opt_class, opt_el) {\n  'use strict';\n  return goog.dom.getElementsByTagNameAndClass_(\n      this.document_, opt_tag, opt_class, opt_el);\n};\n\n\n\/**\n * Gets the first element matching the tag and the class.\n *\n * @param {(string|?goog.dom.TagName<T>)=} opt_tag Element tag name.\n * @param {?string=} opt_class Optional class name.\n * @param {(Document|Element)=} opt_el Optional element to look in.\n * @return {?R} Reference to a DOM node. The return type is {?Element} if\n *     tagName is a string or a more specific type if it is a member of\n *     goog.dom.TagName (e.g. {?HTMLAnchorElement} for goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n *\/\ngoog.dom.DomHelper.prototype.getElementByTagNameAndClass = function(\n    opt_tag, opt_class, opt_el) {\n  'use strict';\n  return goog.dom.getElementByTagNameAndClass_(\n      this.document_, opt_tag, opt_class, opt_el);\n};\n\n\n\/**\n * Returns an array of all the elements with the provided className.\n * @param {string} className the name of the class to look for.\n * @param {Element|Document=} opt_el Optional element to look in.\n * @return {!IArrayLike<!Element>} The items found with the class name provided.\n *\/\ngoog.dom.DomHelper.prototype.getElementsByClass = function(className, opt_el) {\n  'use strict';\n  var doc = opt_el || this.document_;\n  return goog.dom.getElementsByClass(className, doc);\n};\n\n\n\/**\n * Returns the first element we find matching the provided class name.\n * @param {string} className the name of the class to look for.\n * @param {(Element|Document)=} opt_el Optional element to look in.\n * @return {Element} The first item found with the class name provided.\n *\/\ngoog.dom.DomHelper.prototype.getElementByClass = function(className, opt_el) {\n  'use strict';\n  var doc = opt_el || this.document_;\n  return goog.dom.getElementByClass(className, doc);\n};\n\n\n\/**\n * Ensures an element with the given className exists, and then returns the\n * first element with the provided className.\n * @param {string} className the name of the class to look for.\n * @param {(!Element|!Document)=} opt_root Optional element or document to look\n *     in.\n * @return {!Element} The first item found with the class name provided.\n * @throws {goog.asserts.AssertionError} Thrown if no element is found.\n *\/\ngoog.dom.DomHelper.prototype.getRequiredElementByClass = function(\n    className, opt_root) {\n  'use strict';\n  var root = opt_root || this.document_;\n  return goog.dom.getRequiredElementByClass(className, root);\n};\n\n\n\/**\n * Alias for `getElementsByTagNameAndClass`.\n * @deprecated Use DomHelper getElementsByTagNameAndClass.\n *\n * @param {(string|?goog.dom.TagName<T>)=} opt_tag Element tag name.\n * @param {?string=} opt_class Optional class name.\n * @param {Element=} opt_el Optional element to look in.\n * @return {!IArrayLike<R>} Array-like list of elements (only a length property\n *     and numerical indices are guaranteed to exist). The members of the array\n *     are {!Element} if opt_tag is a string or more specific types if it is\n *     a member of goog.dom.TagName (e.g. {!HTMLAnchorElement} for\n *     goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n *\/\ngoog.dom.DomHelper.prototype.$$ =\n    goog.dom.DomHelper.prototype.getElementsByTagNameAndClass;\n\n\n\/**\n * Sets a number of properties on a node.\n * @param {Element} element DOM node to set properties on.\n * @param {Object} properties Hash of property:value pairs.\n *\/\ngoog.dom.DomHelper.prototype.setProperties = goog.dom.setProperties;\n\n\n\/**\n * Gets the dimensions of the viewport.\n * @param {Window=} opt_window Optional window element to test. Defaults to\n *     the window of the Dom Helper.\n * @return {!goog.math.Size} Object with values 'width' and 'height'.\n *\/\ngoog.dom.DomHelper.prototype.getViewportSize = function(opt_window) {\n  'use strict';\n  \/\/ TODO(arv): This should not take an argument. That breaks the rule of a\n  \/\/ a DomHelper representing a single frame\/window\/document.\n  return goog.dom.getViewportSize(opt_window || this.getWindow());\n};\n\n\n\/**\n * Calculates the height of the document.\n *\n * @return {number} The height of the document.\n *\/\ngoog.dom.DomHelper.prototype.getDocumentHeight = function() {\n  'use strict';\n  return goog.dom.getDocumentHeight_(this.getWindow());\n};\n\n\n\/**\n * Typedef for use with goog.dom.createDom and goog.dom.append.\n * @typedef {Object|string|Array|NodeList}\n *\/\ngoog.dom.Appendable;\n\n\n\/**\n * Returns a dom node with a set of attributes.  This function accepts varargs\n * for subsequent nodes to be added.  Subsequent nodes will be added to the\n * first node as childNodes.\n *\n * So:\n * <code>createDom(goog.dom.TagName.DIV, null, createDom(goog.dom.TagName.P),\n * createDom(goog.dom.TagName.P));<\/code> would return a div with two child\n * paragraphs\n *\n * An easy way to move all child nodes of an existing element to a new parent\n * element is:\n * <code>createDom(goog.dom.TagName.DIV, null, oldElement.childNodes);<\/code>\n * which will remove all child nodes from the old element and add them as\n * child nodes of the new DIV.\n *\n * @param {string|!goog.dom.TagName<T>} tagName Tag to create.\n * @param {?Object|?Array<string>|string=} opt_attributes If object, then a map\n *     of name-value pairs for attributes. If a string, then this is the\n *     className of the new element. If an array, the elements will be joined\n *     together as the className of the new element.\n * @param {...(goog.dom.Appendable|undefined)} var_args Further DOM nodes or\n *     strings for text nodes. If one of the var_args is an array or\n *     NodeList, its elements will be added as childNodes instead.\n * @return {R} Reference to a DOM node. The return type is {!Element} if tagName\n *     is a string or a more specific type if it is a member of\n *     goog.dom.TagName (e.g. {!HTMLAnchorElement} for goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n *\/\ngoog.dom.DomHelper.prototype.createDom = function(\n    tagName, opt_attributes, var_args) {\n  'use strict';\n  return goog.dom.createDom_(this.document_, arguments);\n};\n\n\n\/**\n * Alias for `createDom`.\n * @param {string|!goog.dom.TagName<T>} tagName Tag to create.\n * @param {?Object|?Array<string>|string=} opt_attributes If object, then a map\n *     of name-value pairs for attributes. If a string, then this is the\n *     className of the new element. If an array, the elements will be joined\n *     together as the className of the new element.\n * @param {...(goog.dom.Appendable|undefined)} var_args Further DOM nodes or\n *     strings for text nodes.  If one of the var_args is an array, its children\n *     will be added as childNodes instead.\n * @return {R} Reference to a DOM node. The return type is {!Element} if tagName\n *     is a string or a more specific type if it is a member of\n *     goog.dom.TagName (e.g. {!HTMLAnchorElement} for goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n * @deprecated Use {@link goog.dom.DomHelper.prototype.createDom} instead.\n *\/\ngoog.dom.DomHelper.prototype.$dom = goog.dom.DomHelper.prototype.createDom;\n\n\n\/**\n * Creates a new element.\n * @param {string|!goog.dom.TagName<T>} name Tag to create.\n * @return {R} The new element. The return type is {!Element} if name is\n *     a string or a more specific type if it is a member of goog.dom.TagName\n *     (e.g. {!HTMLAnchorElement} for goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n *\/\ngoog.dom.DomHelper.prototype.createElement = function(name) {\n  'use strict';\n  return goog.dom.createElement_(this.document_, name);\n};\n\n\n\/**\n * Creates a new text node.\n * @param {number|string} content Content.\n * @return {!Text} The new text node.\n *\/\ngoog.dom.DomHelper.prototype.createTextNode = function(content) {\n  'use strict';\n  return this.document_.createTextNode(String(content));\n};\n\n\n\/**\n * Create a table.\n * @param {number} rows The number of rows in the table.  Must be >= 1.\n * @param {number} columns The number of columns in the table.  Must be >= 1.\n * @param {boolean=} opt_fillWithNbsp If true, fills table entries with\n *     `goog.string.Unicode.NBSP` characters.\n * @return {!HTMLElement} The created table.\n *\/\ngoog.dom.DomHelper.prototype.createTable = function(\n    rows, columns, opt_fillWithNbsp) {\n  'use strict';\n  return goog.dom.createTable_(\n      this.document_, rows, columns, !!opt_fillWithNbsp);\n};\n\n\n\/**\n * Converts an HTML into a node or a document fragment. A single Node is used if\n * `html` only generates a single node. If `html` generates multiple\n * nodes then these are put inside a `DocumentFragment`. This is a safe\n * version of `goog.dom.DomHelper#htmlToDocumentFragment` which is now\n * deleted.\n * @param {!goog.html.SafeHtml} html The HTML markup to convert.\n * @return {!Node} The resulting node.\n *\/\ngoog.dom.DomHelper.prototype.safeHtmlToNode = function(html) {\n  'use strict';\n  return goog.dom.safeHtmlToNode_(this.document_, html);\n};\n\n\n\/**\n * Returns true if the browser is in \"CSS1-compatible\" (standards-compliant)\n * mode, false otherwise.\n * @return {boolean} True if in CSS1-compatible mode.\n *\/\ngoog.dom.DomHelper.prototype.isCss1CompatMode = function() {\n  'use strict';\n  return goog.dom.isCss1CompatMode_(this.document_);\n};\n\n\n\/**\n * Gets the window object associated with the document.\n * @return {!Window} The window associated with the given document.\n *\/\ngoog.dom.DomHelper.prototype.getWindow = function() {\n  'use strict';\n  return goog.dom.getWindow_(this.document_);\n};\n\n\n\/**\n * Gets the document scroll element.\n * @return {!Element} Scrolling element.\n *\/\ngoog.dom.DomHelper.prototype.getDocumentScrollElement = function() {\n  'use strict';\n  return goog.dom.getDocumentScrollElement_(this.document_);\n};\n\n\n\/**\n * Gets the document scroll distance as a coordinate object.\n * @return {!goog.math.Coordinate} Object with properties 'x' and 'y'.\n *\/\ngoog.dom.DomHelper.prototype.getDocumentScroll = function() {\n  'use strict';\n  return goog.dom.getDocumentScroll_(this.document_);\n};\n\n\n\/**\n * Determines the active element in the given document.\n * @param {Document=} opt_doc The document to look in.\n * @return {Element} The active element.\n *\/\ngoog.dom.DomHelper.prototype.getActiveElement = function(opt_doc) {\n  'use strict';\n  return goog.dom.getActiveElement(opt_doc || this.document_);\n};\n\n\n\/**\n * Appends a child to a node.\n * @param {Node} parent Parent.\n * @param {Node} child Child.\n *\/\ngoog.dom.DomHelper.prototype.appendChild = goog.dom.appendChild;\n\n\n\/**\n * Appends a node with text or other nodes.\n * @param {!Node} parent The node to append nodes to.\n * @param {...goog.dom.Appendable} var_args The things to append to the node.\n *     If this is a Node it is appended as is.\n *     If this is a string then a text node is appended.\n *     If this is an array like object then fields 0 to length - 1 are appended.\n *\/\ngoog.dom.DomHelper.prototype.append = goog.dom.append;\n\n\n\/**\n * Determines if the given node can contain children, intended to be used for\n * HTML generation.\n *\n * @param {Node} node The node to check.\n * @return {boolean} Whether the node can contain children.\n *\/\ngoog.dom.DomHelper.prototype.canHaveChildren = goog.dom.canHaveChildren;\n\n\n\/**\n * Removes all the child nodes on a DOM node.\n * @param {Node} node Node to remove children from.\n *\/\ngoog.dom.DomHelper.prototype.removeChildren = goog.dom.removeChildren;\n\n\n\/**\n * Inserts a new node before an existing reference node (i.e., as the previous\n * sibling). If the reference node has no parent, then does nothing.\n * @param {Node} newNode Node to insert.\n * @param {Node} refNode Reference node to insert before.\n *\/\ngoog.dom.DomHelper.prototype.insertSiblingBefore = goog.dom.insertSiblingBefore;\n\n\n\/**\n * Inserts a new node after an existing reference node (i.e., as the next\n * sibling). If the reference node has no parent, then does nothing.\n * @param {Node} newNode Node to insert.\n * @param {Node} refNode Reference node to insert after.\n *\/\ngoog.dom.DomHelper.prototype.insertSiblingAfter = goog.dom.insertSiblingAfter;\n\n\n\/**\n * Insert a child at a given index. If index is larger than the number of child\n * nodes that the parent currently has, the node is inserted as the last child\n * node.\n * @param {Element} parent The element into which to insert the child.\n * @param {Node} child The element to insert.\n * @param {number} index The index at which to insert the new child node. Must\n *     not be negative.\n *\/\ngoog.dom.DomHelper.prototype.insertChildAt = goog.dom.insertChildAt;\n\n\n\/**\n * Removes a node from its parent.\n * @param {Node} node The node to remove.\n * @return {Node} The node removed if removed; else, null.\n *\/\ngoog.dom.DomHelper.prototype.removeNode = goog.dom.removeNode;\n\n\n\/**\n * Replaces a node in the DOM tree. Will do nothing if `oldNode` has no\n * parent.\n * @param {Node} newNode Node to insert.\n * @param {Node} oldNode Node to replace.\n *\/\ngoog.dom.DomHelper.prototype.replaceNode = goog.dom.replaceNode;\n\n\n\/**\n * Replaces child nodes of `target` with child nodes of `source`. This is\n * roughly equivalent to `target.innerHTML = source.innerHTML` which is not\n * compatible with Trusted Types.\n * @param {?Node} target Node to clean and replace its children.\n * @param {?Node} source Node to get the children from. The nodes will be cloned\n *     so they will stay in source.\n *\/\ngoog.dom.DomHelper.prototype.copyContents = goog.dom.copyContents;\n\n\n\/**\n * Flattens an element. That is, removes it and replace it with its children.\n * @param {Element} element The element to flatten.\n * @return {Element|undefined} The original element, detached from the document\n *     tree, sans children, or undefined if the element was already not in the\n *     document.\n *\/\ngoog.dom.DomHelper.prototype.flattenElement = goog.dom.flattenElement;\n\n\n\/**\n * Returns an array containing just the element children of the given element.\n * @param {Element} element The element whose element children we want.\n * @return {!(Array<!Element>|NodeList<!Element>)} An array or array-like list\n *     of just the element children of the given element.\n *\/\ngoog.dom.DomHelper.prototype.getChildren = goog.dom.getChildren;\n\n\n\/**\n * Returns the first child node that is an element.\n * @param {Node} node The node to get the first child element of.\n * @return {Element} The first child node of `node` that is an element.\n *\/\ngoog.dom.DomHelper.prototype.getFirstElementChild =\n    goog.dom.getFirstElementChild;\n\n\n\/**\n * Returns the last child node that is an element.\n * @param {Node} node The node to get the last child element of.\n * @return {Element} The last child node of `node` that is an element.\n *\/\ngoog.dom.DomHelper.prototype.getLastElementChild = goog.dom.getLastElementChild;\n\n\n\/**\n * Returns the first next sibling that is an element.\n * @param {Node} node The node to get the next sibling element of.\n * @return {Element} The next sibling of `node` that is an element.\n *\/\ngoog.dom.DomHelper.prototype.getNextElementSibling =\n    goog.dom.getNextElementSibling;\n\n\n\/**\n * Returns the first previous sibling that is an element.\n * @param {Node} node The node to get the previous sibling element of.\n * @return {Element} The first previous sibling of `node` that is\n *     an element.\n *\/\ngoog.dom.DomHelper.prototype.getPreviousElementSibling =\n    goog.dom.getPreviousElementSibling;\n\n\n\/**\n * Returns the next node in source order from the given node.\n * @param {Node} node The node.\n * @return {Node} The next node in the DOM tree, or null if this was the last\n *     node.\n *\/\ngoog.dom.DomHelper.prototype.getNextNode = goog.dom.getNextNode;\n\n\n\/**\n * Returns the previous node in source order from the given node.\n * @param {Node} node The node.\n * @return {Node} The previous node in the DOM tree, or null if this was the\n *     first node.\n *\/\ngoog.dom.DomHelper.prototype.getPreviousNode = goog.dom.getPreviousNode;\n\n\n\/**\n * Whether the object looks like a DOM node.\n * @param {?} obj The object being tested for node likeness.\n * @return {boolean} Whether the object looks like a DOM node.\n *\/\ngoog.dom.DomHelper.prototype.isNodeLike = goog.dom.isNodeLike;\n\n\n\/**\n * Whether the object looks like an Element.\n * @param {?} obj The object being tested for Element likeness.\n * @return {boolean} Whether the object looks like an Element.\n *\/\ngoog.dom.DomHelper.prototype.isElement = goog.dom.isElement;\n\n\n\/**\n * Returns true if the specified value is a Window object. This includes the\n * global window for HTML pages, and iframe windows.\n * @param {?} obj Variable to test.\n * @return {boolean} Whether the variable is a window.\n *\/\ngoog.dom.DomHelper.prototype.isWindow = goog.dom.isWindow;\n\n\n\/**\n * Returns an element's parent, if it's an Element.\n * @param {Element} element The DOM element.\n * @return {Element} The parent, or null if not an Element.\n *\/\ngoog.dom.DomHelper.prototype.getParentElement = goog.dom.getParentElement;\n\n\n\/**\n * Whether a node contains another node.\n * @param {Node} parent The node that should contain the other node.\n * @param {Node} descendant The node to test presence of.\n * @return {boolean} Whether the parent node contains the descendant node.\n *\/\ngoog.dom.DomHelper.prototype.contains = goog.dom.contains;\n\n\n\/**\n * Compares the document order of two nodes, returning 0 if they are the same\n * node, a negative number if node1 is before node2, and a positive number if\n * node2 is before node1.  Note that we compare the order the tags appear in the\n * document so in the tree <b><i>text<\/i><\/b> the B node is considered to be\n * before the I node.\n *\n * @param {Node} node1 The first node to compare.\n * @param {Node} node2 The second node to compare.\n * @return {number} 0 if the nodes are the same node, a negative number if node1\n *     is before node2, and a positive number if node2 is before node1.\n *\/\ngoog.dom.DomHelper.prototype.compareNodeOrder = goog.dom.compareNodeOrder;\n\n\n\/**\n * Find the deepest common ancestor of the given nodes.\n * @param {...Node} var_args The nodes to find a common ancestor of.\n * @return {Node} The common ancestor of the nodes, or null if there is none.\n *     null will only be returned if two or more of the nodes are from different\n *     documents.\n *\/\ngoog.dom.DomHelper.prototype.findCommonAncestor = goog.dom.findCommonAncestor;\n\n\n\/**\n * Returns the owner document for a node.\n * @param {Node} node The node to get the document for.\n * @return {!Document} The document owning the node.\n *\/\ngoog.dom.DomHelper.prototype.getOwnerDocument = goog.dom.getOwnerDocument;\n\n\n\/**\n * Cross browser function for getting the document element of an iframe.\n * @param {Element} iframe Iframe element.\n * @return {!Document} The frame content document.\n *\/\ngoog.dom.DomHelper.prototype.getFrameContentDocument =\n    goog.dom.getFrameContentDocument;\n\n\n\/**\n * Cross browser function for getting the window of a frame or iframe.\n * @param {Element} frame Frame element.\n * @return {Window} The window associated with the given frame.\n *\/\ngoog.dom.DomHelper.prototype.getFrameContentWindow =\n    goog.dom.getFrameContentWindow;\n\n\n\/**\n * Sets the text content of a node, with cross-browser support.\n * @param {Node} node The node to change the text content of.\n * @param {string|number} text The value that should replace the node's content.\n *\/\ngoog.dom.DomHelper.prototype.setTextContent = goog.dom.setTextContent;\n\n\n\/**\n * Gets the outerHTML of a node, which islike innerHTML, except that it\n * actually contains the HTML of the node itself.\n * @param {Element} element The element to get the HTML of.\n * @return {string} The outerHTML of the given element.\n *\/\ngoog.dom.DomHelper.prototype.getOuterHtml = goog.dom.getOuterHtml;\n\n\n\/**\n * Finds the first descendant node that matches the filter function. This does\n * a depth first search.\n * @param {Node} root The root of the tree to search.\n * @param {function(Node) : boolean} p The filter function.\n * @return {Node|undefined} The found node or undefined if none is found.\n *\/\ngoog.dom.DomHelper.prototype.findNode = goog.dom.findNode;\n\n\n\/**\n * Finds all the descendant nodes that matches the filter function. This does a\n * depth first search.\n * @param {Node} root The root of the tree to search.\n * @param {function(Node) : boolean} p The filter function.\n * @return {Array<Node>} The found nodes or an empty array if none are found.\n *\/\ngoog.dom.DomHelper.prototype.findNodes = goog.dom.findNodes;\n\n\n\/**\n * Returns true if the element has a tab index that allows it to receive\n * keyboard focus (tabIndex >= 0), false otherwise.  Note that some elements\n * natively support keyboard focus, even if they have no tab index.\n * @param {!Element} element Element to check.\n * @return {boolean} Whether the element has a tab index that allows keyboard\n *     focus.\n *\/\ngoog.dom.DomHelper.prototype.isFocusableTabIndex = goog.dom.isFocusableTabIndex;\n\n\n\/**\n * Enables or disables keyboard focus support on the element via its tab index.\n * Only elements for which {@link goog.dom.isFocusableTabIndex} returns true\n * (or elements that natively support keyboard focus, like form elements) can\n * receive keyboard focus.  See http:\/\/go\/tabindex for more info.\n * @param {Element} element Element whose tab index is to be changed.\n * @param {boolean} enable Whether to set or remove a tab index on the element\n *     that supports keyboard focus.\n *\/\ngoog.dom.DomHelper.prototype.setFocusableTabIndex =\n    goog.dom.setFocusableTabIndex;\n\n\n\/**\n * Returns true if the element can be focused, i.e. it has a tab index that\n * allows it to receive keyboard focus (tabIndex >= 0), or it is an element\n * that natively supports keyboard focus.\n * @param {!Element} element Element to check.\n * @return {boolean} Whether the element allows keyboard focus.\n *\/\ngoog.dom.DomHelper.prototype.isFocusable = goog.dom.isFocusable;\n\n\n\/**\n * Returns the text contents of the current node, without markup. New lines are\n * stripped and whitespace is collapsed, such that each character would be\n * visible.\n *\n * In browsers that support it, innerText is used.  Other browsers attempt to\n * simulate it via node traversal.  Line breaks are canonicalized in IE.\n *\n * @param {Node} node The node from which we are getting content.\n * @return {string} The text content.\n *\/\ngoog.dom.DomHelper.prototype.getTextContent = goog.dom.getTextContent;\n\n\n\/**\n * Returns the text length of the text contained in a node, without markup. This\n * is equivalent to the selection length if the node was selected, or the number\n * of cursor movements to traverse the node. Images & BRs take one space.  New\n * lines are ignored.\n *\n * @param {Node} node The node whose text content length is being calculated.\n * @return {number} The length of `node`'s text content.\n *\/\ngoog.dom.DomHelper.prototype.getNodeTextLength = goog.dom.getNodeTextLength;\n\n\n\/**\n * Returns the text offset of a node relative to one of its ancestors. The text\n * length is the same as the length calculated by\n * `goog.dom.getNodeTextLength`.\n *\n * @param {Node} node The node whose offset is being calculated.\n * @param {Node=} opt_offsetParent Defaults to the node's owner document's body.\n * @return {number} The text offset.\n *\/\ngoog.dom.DomHelper.prototype.getNodeTextOffset = goog.dom.getNodeTextOffset;\n\n\n\/**\n * Returns the node at a given offset in a parent node.  If an object is\n * provided for the optional third parameter, the node and the remainder of the\n * offset will stored as properties of this object.\n * @param {Node} parent The parent node.\n * @param {number} offset The offset into the parent node.\n * @param {Object=} opt_result Object to be used to store the return value. The\n *     return value will be stored in the form {node: Node, remainder: number}\n *     if this object is provided.\n * @return {Node} The node at the given offset.\n *\/\ngoog.dom.DomHelper.prototype.getNodeAtOffset = goog.dom.getNodeAtOffset;\n\n\n\/**\n * Returns true if the object is a `NodeList`.  To qualify as a NodeList,\n * the object must have a numeric length property and an item function (which\n * has type 'string' on IE for some reason).\n * @param {Object} val Object to test.\n * @return {boolean} Whether the object is a NodeList.\n *\/\ngoog.dom.DomHelper.prototype.isNodeList = goog.dom.isNodeList;\n\n\n\/**\n * Walks up the DOM hierarchy returning the first ancestor that has the passed\n * tag name and\/or class name. If the passed element matches the specified\n * criteria, the element itself is returned.\n * @param {Node} element The DOM node to start with.\n * @param {?(goog.dom.TagName<T>|string)=} opt_tag The tag name to match (or\n *     null\/undefined to match only based on class name).\n * @param {?string=} opt_class The class name to match (or null\/undefined to\n *     match only based on tag name).\n * @param {number=} opt_maxSearchSteps Maximum number of levels to search up the\n *     dom.\n * @return {?R} The first ancestor that matches the passed criteria, or\n *     null if no match is found. The return type is {?Element} if opt_tag is\n *     not a member of goog.dom.TagName or a more specific type if it is (e.g.\n *     {?HTMLAnchorElement} for goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n *\/\ngoog.dom.DomHelper.prototype.getAncestorByTagNameAndClass =\n    goog.dom.getAncestorByTagNameAndClass;\n\n\n\/**\n * Walks up the DOM hierarchy returning the first ancestor that has the passed\n * class name. If the passed element matches the specified criteria, the\n * element itself is returned.\n * @param {Node} element The DOM node to start with.\n * @param {string} class The class name to match.\n * @param {number=} opt_maxSearchSteps Maximum number of levels to search up the\n *     dom.\n * @return {Element} The first ancestor that matches the passed criteria, or\n *     null if none match.\n *\/\ngoog.dom.DomHelper.prototype.getAncestorByClass = goog.dom.getAncestorByClass;\n\n\n\/**\n * Walks up the DOM hierarchy returning the first ancestor that passes the\n * matcher function.\n * @param {Node} element The DOM node to start with.\n * @param {function(Node) : boolean} matcher A function that returns true if the\n *     passed node matches the desired criteria.\n * @param {boolean=} opt_includeNode If true, the node itself is included in\n *     the search (the first call to the matcher will pass startElement as\n *     the node to test).\n * @param {number=} opt_maxSearchSteps Maximum number of levels to search up the\n *     dom.\n * @return {Node} DOM node that matched the matcher, or null if there was\n *     no match.\n *\/\ngoog.dom.DomHelper.prototype.getAncestor = goog.dom.getAncestor;\n\n\n\/**\n * Gets '2d' context of a canvas. Shortcut for canvas.getContext('2d') with a\n * type information.\n * @param {!HTMLCanvasElement} canvas\n * @return {!CanvasRenderingContext2D}\n *\/\ngoog.dom.DomHelper.prototype.getCanvasContext2D = goog.dom.getCanvasContext2D;\n",";   Copyright (c) Rich Hickey. All rights reserved.\n;   The use and distribution terms for this software are covered by the\n;   Eclipse Public License 1.0 (http:\/\/opensource.org\/licenses\/eclipse-1.0.php)\n;   which can be found in the file epl-v10.html at the root of this distribution.\n;   By using this software in any fashion, you are agreeing to be bound by\n;   the terms of this license.\n;   You must not remove this notice, or any other, from this software.\n\n(ns cljs.core\n  (:require goog.math.Long\n            goog.math.Integer\n            [goog.string :as gstring]\n            [goog.object :as gobject]\n            [goog.array :as garray]\n            [goog.Uri])\n  (:import [goog.string StringBuffer]))\n\n;; next line is auto-generated by the build-script - Do not edit!\n(def *clojurescript-version* \"1.10.844\")\n\n;; Setting of these Vars is in ClojureScript code is associated with intrinsics\n;; that affect compilation state, but otherwise turn into no-ops in the emitted\n;; JavaScript.\n\n;; The scope of *unchecked-if* is controlled by balanced pairs of set! calls.\n(def *unchecked-if* false)\n;; The scope of *unchecked-arrays* is file-scope: In JVM ClojureScript its side-\n;; effect is to set same-named analyzer dynamic Var, which is unset via binding\n;; scopes. In self-hosted it is cleared via cljs.js\/post-file-side-effects.\n(def *unchecked-arrays* false)\n;; The scope of *warn-on-infer* is file-scope: Its side effect is to set the\n;; cljs.analyzer\/*cljs-warnings* dynamic Var, which is unset via binding scopes.\n(def *warn-on-infer* false)\n\n(set! *unchecked-arrays* true)\n\n(defonce PROTOCOL_SENTINEL #js {})\n\n(def MODULE_URIS nil) ;; set by compiler\n(def MODULE_INFOS nil) ;; set by compiler\n\n(goog-define\n  ^{:dynamic true\n    :doc \"Var bound to the name value of the compiler build :target option.\n  For example, if the compiler build :target is :nodejs, *target* will be bound\n  to \\\"nodejs\\\". *target* is a Google Closure define and can be set by compiler\n  :closure-defines option.\"}\n  *target* \"default\")\n\n(goog-define\n  ^{:dynamic true\n    :doc \"Manually set the JavaScript global context. Only \\\"window\\\", \\\"self\\\"\n  , and \\\"global\\\" supported. \"}\n  *global* \"default\")\n\n(def\n  ^{:dynamic true\n    :doc \"Var bound to the current namespace. Only used for bootstrapping.\"\n    :jsdoc [\"@type {*}\"]}\n  *ns* nil)\n\n(def\n  ^{:dynamic true\n    :jsdoc [\"@type {*}\"]}\n  *out* nil)\n\n(def\n  ^{:dynamic true}\n  *assert* true)\n\n(defonce\n  ^{:doc \"Each runtime environment provides a different way to print output.\n  Whatever function *print-fn* is bound to will be passed any\n  Strings which should be printed.\" :dynamic true}\n  *print-fn* nil)\n\n(declare boolean)\n\n(defn ^{:doc \"Arranges to have tap functions executed via the supplied f, a\n  function of no arguments. Returns true if successful, false otherwise.\" :dynamic true}\n  *exec-tap-fn*\n  [f]\n  (and\n    (exists? js\/setTimeout)\n    ;; See CLJS-3274 - workaround for recent WebKit releases\n    (boolean (js\/setTimeout f 0))))\n\n(defonce\n  ^{:doc \"Each runtime environment provides a different way to print error output.\n  Whatever function *print-err-fn* is bound to will be passed any\n  Strings which should be printed.\" :dynamic true}\n  *print-err-fn* nil)\n\n(defn set-print-fn!\n  \"Set *print-fn* to f.\"\n  [f] (set! *print-fn* f))\n\n(defn set-print-err-fn!\n  \"Set *print-err-fn* to f.\"\n  [f] (set! *print-err-fn* f))\n\n(def\n  ^{:dynamic true\n    :doc \"When set to true, output will be flushed whenever a newline is printed.\n\n  Defaults to true.\"}\n  *flush-on-newline* true)\n\n(def\n  ^{:dynamic true\n    :doc \"When set to logical false will drop newlines from printing calls.\n  This is to work around the implicit newlines emitted by standard JavaScript\n  console objects.\"}\n  *print-newline* true)\n\n(def\n  ^{:dynamic true\n    :doc \"When set to logical false, strings and characters will be printed with\n  non-alphanumeric characters converted to the appropriate escape sequences.\n\n  Defaults to true\"}\n  *print-readably* true)\n\n(def\n  ^{:dynamic true\n    :doc \"If set to logical true, when printing an object, its metadata will also\n  be printed in a form that can be read back by the reader.\n\n  Defaults to false.\"}\n  *print-meta* false)\n\n(def\n  ^{:dynamic true\n    :doc \"When set to logical true, objects will be printed in a way that preserves\n  their type when read in later.\n\n  Defaults to false.\"}\n  *print-dup* false)\n\n(def\n  ^{:dynamic true\n    :doc \"*print-namespace-maps* controls whether the printer will print\n  namespace map literal syntax.\n\n  Defaults to false, but the REPL binds it to true.\"}\n  *print-namespace-maps* false)\n\n(def\n  ^{:dynamic true\n    :doc \"*print-length* controls how many items of each collection the\n  printer will print. If it is bound to logical false, there is no\n  limit. Otherwise, it must be bound to an integer indicating the maximum\n  number of items of each collection to print. If a collection contains\n  more items, the printer will print items up to the limit followed by\n  '...' to represent the remaining items. The root binding is nil\n  indicating no limit.\"\n    :jsdoc [\"@type {null|number}\"]}\n  *print-length* nil)\n\n(def\n  ^{:dynamic true\n    :doc \"*print-level* controls how many levels deep the printer will\n  print nested objects. If it is bound to logical false, there is no\n  limit. Otherwise, it must be bound to an integer indicating the maximum\n  level to print. Each argument to print is at level 0; if an argument is a\n  collection, its items are at level 1; and so on. If an object is a\n  collection and is at a level greater than or equal to the value bound to\n  *print-level*, the printer prints '#' to represent it. The root binding\n  is nil indicating no limit.\"\n    :jsdoc [\"@type {null|number}\"]}\n  *print-level* nil)\n\n(def\n  ^{:dynamic true\n    :doc \"*print-fns-bodies* controls whether functions print their source or\n    only their names.\"}\n  *print-fn-bodies* false)\n\n(defonce\n  ^{:dynamic true\n    :jsdoc [\"@type {*}\"]}\n  *loaded-libs* nil)\n\n(defn- pr-opts []\n  {:flush-on-newline *flush-on-newline*\n   :readably *print-readably*\n   :meta *print-meta*\n   :dup *print-dup*\n   :print-length *print-length*})\n\n(declare into-array)\n\n(defn enable-console-print!\n  \"Set *print-fn* to console.log\"\n  []\n  (set! *print-newline* false)\n  (set-print-fn!\n    (fn []\n      (let [xs (js-arguments)]\n        (.apply (.-log js\/console) js\/console (garray\/clone xs)))))\n  (set-print-err-fn!\n    (fn []\n      (let [xs (js-arguments)]\n        (.apply (.-error js\/console) js\/console (garray\/clone xs)))))\n  nil)\n\n(def\n  ^{:doc \"bound in a repl thread to the most recent value printed\"}\n  *1)\n\n(def\n  ^{:doc \"bound in a repl thread to the second most recent value printed\"}\n  *2)\n\n(def\n  ^{:doc \"bound in a repl thread to the third most recent value printed\"}\n  *3)\n\n(def\n  ^{:doc \"bound in a repl thread to the most recent exception caught by the repl\"}\n  *e)\n\n(defn truth_\n  \"Internal - do not use!\"\n  [x]\n  (cljs.core\/truth_ x))\n\n(def not-native nil)\n\n(declare instance? Keyword)\n\n(defn ^boolean identical?\n  \"Tests if 2 arguments are the same object\"\n  [x y]\n  (cljs.core\/identical? x y))\n\n(defn ^boolean nil?\n  \"Returns true if x is nil, false otherwise.\"\n  [x]\n  (coercive-= x nil))\n\n(defn ^boolean array?\n  \"Returns true if x is a JavaScript array.\"\n  [x]\n  (if (identical? *target* \"nodejs\")\n    (.isArray js\/Array x)\n    (instance? js\/Array x)))\n\n(defn ^boolean number?\n  \"Returns true if x is a JavaScript number.\"\n  [x]\n  (cljs.core\/number? x))\n\n(defn not\n  \"Returns true if x is logical false, false otherwise.\"\n  [x]\n  (cond\n    (nil? x) true\n    (false? x) true\n    :else false))\n\n(defn ^boolean some?\n  \"Returns true if x is not nil, false otherwise.\"\n  [x] (not (nil? x)))\n\n(defn object?\n  \"Returns true if x's constructor is Object\"\n  [x]\n  (if-not (nil? x)\n    (identical? (.-constructor x) js\/Object)\n    false))\n\n(defn ^boolean string?\n  \"Returns true if x is a JavaScript string.\"\n  [x]\n  (identical? \"string\" (goog\/typeOf x)))\n\n(defn char?\n  \"Returns true if x is a JavaScript string of length one.\"\n  [x]\n  (and (string? x) (== 1 (.-length x))))\n\n(defn any?\n  \"Returns true if given any argument.\"\n  [x] true)\n\n(set! *unchecked-if* true)\n(defn native-satisfies?\n  \"Internal - do not use!\"\n  [p x]\n  (let [x (if (nil? x) nil x)]\n    (cond\n     (unchecked-get p (goog\/typeOf x)) true\n     (unchecked-get p \"_\") true\n     :else false)))\n(set! *unchecked-if* false)\n\n(defn is_proto_\n  [x]\n  (identical? (.-prototype (.-constructor x)) x))\n\n(def\n  ^{:doc \"When compiled for a command-line target, whatever function\n  *main-cli-fn* is set to will be called with the command-line\n  argv as arguments\"}\n  *main-cli-fn* nil)\n\n(def\n  ^{:doc \"A sequence of the supplied command line arguments, or nil if\n  none were supplied\"}\n  *command-line-args* nil)\n\n(defn type\n  \"Return x's constructor.\"\n  [x]\n  (when-not (nil? x)\n    (.-constructor x)))\n\n(defn missing-protocol [proto obj]\n  (let [ty (type obj)\n        ty (if (and ty (.-cljs$lang$type ty))\n             (.-cljs$lang$ctorStr ty)\n             (goog\/typeOf obj))]\n   (js\/Error.\n     (.join (array \"No protocol method \" proto\n                   \" defined for type \" ty \": \" obj) \"\"))))\n\n(defn type->str [ty]\n  (if-let [s (.-cljs$lang$ctorStr ty)]\n    s\n    (str ty)))\n\n;; INTERNAL - do not use, only for Node.js\n(defn load-file [file]\n  (when-not js\/COMPILED\n    (cljs.core\/load-file* file)))\n\n(if (and (exists? js\/Symbol)\n         (identical? (goog\/typeOf js\/Symbol) \"function\"))\n  (def ITER_SYMBOL (.-iterator js\/Symbol))\n  (def ITER_SYMBOL \"@@iterator\"))\n\n(def ^{:jsdoc [\"@enum {string}\"]}\n  CHAR_MAP\n  #js {\"-\"    \"_\"\n       \":\"    \"_COLON_\"\n       \"+\"    \"_PLUS_\"\n       \">\"    \"_GT_\"\n       \"<\"    \"_LT_\"\n       \"=\"    \"_EQ_\"\n       \"~\"    \"_TILDE_\"\n       \"!\"    \"_BANG_\"\n       \"@\"    \"_CIRCA_\"\n       \"#\"    \"_SHARP_\"\n       \"'\"    \"_SINGLEQUOTE_\"\n       \"\\\\\\\"\" \"_DOUBLEQUOTE_\"\n       \"%\"    \"_PERCENT_\"\n       \"^\"    \"_CARET_\"\n       \"&\"    \"_AMPERSAND_\"\n       \"*\"    \"_STAR_\"\n       \"|\"    \"_BAR_\"\n       \"{\"    \"_LBRACE_\"\n       \"}\"    \"_RBRACE_\"\n       \"[\"    \"_LBRACK_\"\n       \"]\"    \"_RBRACK_\"\n       \"\/\"    \"_SLASH_\"\n       \"\\\\\\\\\" \"_BSLASH_\"\n       \"?\"    \"_QMARK_\"})\n\n(def ^{:jsdoc [\"@enum {string}\"]}\n  DEMUNGE_MAP\n  #js {\"_\"             \"-\"\n       \"_COLON_\"       \":\"\n       \"_PLUS_\"        \"+\"\n       \"_GT_\"          \">\"\n       \"_LT_\"          \"<\"\n       \"_EQ_\"          \"=\"\n       \"_TILDE_\"       \"~\"\n       \"_BANG_\"        \"!\"\n       \"_CIRCA_\"       \"@\"\n       \"_SHARP_\"       \"#\"\n       \"_SINGLEQUOTE_\" \"'\"\n       \"_DOUBLEQUOTE_\" \"\\\\\\\"\"\n       \"_PERCENT_\"     \"%\"\n       \"_CARET_\"       \"^\"\n       \"_AMPERSAND_\"   \"&\"\n       \"_STAR_\"        \"*\"\n       \"_BAR_\"         \"|\"\n       \"_LBRACE_\"      \"{\"\n       \"_RBRACE_\"      \"}\"\n       \"_LBRACK_\"      \"[\"\n       \"_RBRACK_\"      \"]\"\n       \"_SLASH_\"       \"\/\"\n       \"_BSLASH_\"      \"\\\\\\\\\"\n       \"_QMARK_\"       \"?\"})\n\n(def DEMUNGE_PATTERN nil)\n\n(defn system-time\n  \"Returns highest resolution time offered by host in milliseconds.\"\n  []\n  (cond\n    (and (exists? js\/performance)\n         (not (nil? (. js\/performance -now))))\n    (.now js\/performance)\n\n    (and (exists? js\/process)\n         (not (nil? (. js\/process -hrtime))))\n    (let [t (.hrtime js\/process)]\n      (\/ (+ (* (aget t 0) 1e9) (aget t 1)) 1e6))\n\n    :else (.getTime (js\/Date.))))\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; arrays ;;;;;;;;;;;;;;;;\n\n(declare apply)\n\n(defn ^array make-array\n  \"Construct a JavaScript array of the specified dimensions. Accepts ignored\n  type argument for compatibility with Clojure. Note that there is no efficient\n  way to allocate multi-dimensional arrays in JavaScript; as such, this function\n  will run in polynomial time when called with 3 or more arguments.\"\n  ([size]\n     (js\/Array. size))\n  ([type size]\n     (make-array size))\n  ([type size & more-sizes]\n    (let [dims more-sizes\n          dimarray (make-array size)]\n      (dotimes [i (alength dimarray)]\n        (aset dimarray i (apply make-array nil dims)))\n      dimarray)))\n\n(defn aclone\n  \"Returns a javascript array, cloned from the passed in array\"\n  [arr]\n  (let [len (alength arr)\n        new-arr (make-array len)]\n    (dotimes [i len]\n      (aset new-arr i (aget arr i)))\n    new-arr))\n\n(defn ^array array\n  \"Creates a new javascript array.\n@param {...*} var_args\" ;;array is a special case, don't emulate this doc string\n  [var-args]            ;; [& items]\n  (let [a (js\/Array. (alength (cljs.core\/js-arguments)))]\n    (loop [i 0]\n      (if (< i (alength a))\n        (do\n          (aset a i (aget (cljs.core\/js-arguments) i))\n          (recur (inc i)))\n        a))))\n\n(defn- maybe-warn\n  [e]\n  (when *print-err-fn*\n    (*print-err-fn* e)))\n\n(defn- checked-aget\n  ([array idx]\n   (when-assert\n     (try\n       (assert (or (array? array) (goog\/isArrayLike array)))\n       (assert (number? idx))\n       (assert (not (neg? idx)))\n       (assert (< idx (alength array)))\n       (catch :default e\n         (maybe-warn e))))\n   (unchecked-get array idx))\n  ([array idx & idxs]\n   (apply checked-aget (checked-aget array idx) idxs)))\n\n(defn- checked-aset\n  ([array idx val]\n   (when-assert\n     (try\n       (assert (or (array? array) (goog\/isArrayLike array)))\n       (assert (number? idx))\n       (assert (not (neg? idx)))\n       (assert (< idx (alength array)))\n       (catch :default e\n         (maybe-warn e))))\n   (unchecked-set array idx val))\n  ([array idx idx2 & idxv]\n   (apply checked-aset (checked-aget array idx) idx2 idxv)))\n\n(defn- checked-aget'\n  ([array idx]\n   {:pre [(or (array? array) (goog\/isArrayLike array))\n          (number? idx) (not (neg? idx)) (< idx (alength array))]}\n   (unchecked-get array idx))\n  ([array idx & idxs]\n   (apply checked-aget' (checked-aget' array idx) idxs)))\n\n(defn- checked-aset'\n  ([array idx val]\n   {:pre [(or (array? array) (goog\/isArrayLike array))\n          (number? idx) (not (neg? idx)) (< idx (alength array))]}\n   (unchecked-set array idx val))\n  ([array idx idx2 & idxv]\n   (apply checked-aset' (checked-aget' array idx) idx2 idxv)))\n\n(defn aget\n  \"Returns the value at the index\/indices. Works on JavaScript arrays.\"\n  ([array idx]\n     (cljs.core\/aget array idx))\n  ([array idx & idxs]\n     (apply aget (aget array idx) idxs)))\n\n(defn aset\n  \"Sets the value at the index\/indices. Works on JavaScript arrays.\n  Returns val.\"\n  ([array idx val]\n    (cljs.core\/aset array idx val))\n  ([array idx idx2 & idxv]\n    (apply aset (aget array idx) idx2 idxv)))\n\n(defn ^number alength\n  \"Returns the length of the array. Works on arrays of all types.\"\n  [array]\n  (cljs.core\/alength array))\n\n(declare reduce)\n\n(defn ^array into-array\n  \"Returns an array with components set to the values in aseq. Optional type\n  argument accepted for compatibility with Clojure.\"\n  ([aseq]\n     (into-array nil aseq))\n  ([type aseq]\n     (reduce (fn [a x] (.push a x) a) (array) aseq)))\n\n(defn js-invoke\n  \"Invoke JavaScript object method via string. Needed when the\n  string is not a valid unquoted property name.\"\n  [obj s & args]\n  (.apply (unchecked-get obj s) obj (into-array args)))\n\n(defn js-symbol?\n  \"Returns true if x is an instance of Symbol\"\n  [x]\n  (or (identical? (goog\/typeOf x) \"symbol\")\n      (and (exists? js\/Symbol)\n           (instance? js\/Symbol x))))\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;; core protocols ;;;;;;;;;;;;;\n\n(defprotocol Fn\n  \"Marker protocol\")\n\n(defprotocol IFn\n  \"Protocol for adding the ability to invoke an object as a function.\n  For example, a vector can also be used to look up a value:\n  ([1 2 3 4] 1) => 2\"\n  (-invoke\n    [this]\n    [this a]\n    [this a b]\n    [this a b c]\n    [this a b c d]\n    [this a b c d e]\n    [this a b c d e f]\n    [this a b c d e f g]\n    [this a b c d e f g h]\n    [this a b c d e f g h i]\n    [this a b c d e f g h i j]\n    [this a b c d e f g h i j k]\n    [this a b c d e f g h i j k l]\n    [this a b c d e f g h i j k l m]\n    [this a b c d e f g h i j k l m n]\n    [this a b c d e f g h i j k l m n o]\n    [this a b c d e f g h i j k l m n o p]\n    [this a b c d e f g h i j k l m n o p q]\n    [this a b c d e f g h i j k l m n o p q r]\n    [this a b c d e f g h i j k l m n o p q r s]\n    [this a b c d e f g h i j k l m n o p q r s t]\n    [this a b c d e f g h i j k l m n o p q r s t rest]))\n\n(defprotocol ICloneable\n  \"Protocol for cloning a value.\"\n  (^clj -clone [value]\n    \"Creates a clone of value.\"))\n\n(defprotocol ICounted\n  \"Protocol for adding the ability to count a collection in constant time.\"\n  (^number -count [coll]\n    \"Calculates the count of coll in constant time. Used by cljs.core\/count.\"))\n\n(defprotocol IEmptyableCollection\n  \"Protocol for creating an empty collection.\"\n  (-empty [coll]\n    \"Returns an empty collection of the same category as coll. Used\n     by cljs.core\/empty.\"))\n\n(defprotocol ICollection\n  \"Protocol for adding to a collection.\"\n  (^clj -conj [coll o]\n    \"Returns a new collection of coll with o added to it. The new item\n     should be added to the most efficient place, e.g.\n     (conj [1 2 3 4] 5) => [1 2 3 4 5]\n     (conj '(2 3 4 5) 1) => '(1 2 3 4 5)\"))\n\n#_(defprotocol IOrdinal\n    (-index [coll]))\n\n(defprotocol IIndexed\n  \"Protocol for collections to provide indexed-based access to their items.\"\n  (-nth [coll n] [coll n not-found]\n    \"Returns the value at the index n in the collection coll.\n     Returns not-found if index n is out of bounds and not-found is supplied.\"))\n\n(defprotocol ASeq\n  \"Marker protocol indicating an array sequence.\")\n\n(defprotocol ISeq\n  \"Protocol for collections to provide access to their items as sequences.\"\n  (-first [coll]\n    \"Returns the first item in the collection coll. Used by cljs.core\/first.\")\n  (^clj -rest [coll]\n    \"Returns a new collection of coll without the first item. It should\n     always return a seq, e.g.\n     (rest []) => ()\n     (rest nil) => ()\"))\n\n(defprotocol INext\n  \"Protocol for accessing the next items of a collection.\"\n  (^clj-or-nil -next [coll]\n    \"Returns a new collection of coll without the first item. In contrast to\n     rest, it should return nil if there are no more items, e.g.\n     (next []) => nil\n     (next nil) => nil\"))\n\n(defprotocol ILookup\n  \"Protocol for looking up a value in a data structure.\"\n  (-lookup [o k] [o k not-found]\n    \"Use k to look up a value in o. If not-found is supplied and k is not\n     a valid value that can be used for look up, not-found is returned.\"))\n\n(defprotocol IAssociative\n  \"Protocol for adding associativity to collections.\"\n  (^boolean -contains-key? [coll k]\n    \"Returns true if k is a key in coll.\")\n  #_(-entry-at [coll k])\n  (^clj -assoc [coll k v]\n    \"Returns a new collection of coll with a mapping from key k to\n     value v added to it.\"))\n\n(defprotocol IFind\n  \"Protocol for implementing entry finding in collections.\"\n  (-find [coll k] \"Returns the map entry for key, or nil if key not present.\"))\n\n(defprotocol IMap\n  \"Protocol for adding mapping functionality to collections.\"\n  #_(-assoc-ex [coll k v])\n  (^clj -dissoc [coll k]\n    \"Returns a new collection of coll without the mapping for key k.\"))\n\n(defprotocol IMapEntry\n  \"Protocol for examining a map entry.\"\n  (-key [coll]\n    \"Returns the key of the map entry.\")\n  (-val [coll]\n    \"Returns the value of the map entry.\"))\n\n(defprotocol ISet\n  \"Protocol for adding set functionality to a collection.\"\n  (^clj -disjoin [coll v]\n    \"Returns a new collection of coll that does not contain v.\"))\n\n(defprotocol IStack\n  \"Protocol for collections to provide access to their items as stacks. The top\n  of the stack should be accessed in the most efficient way for the different\n  data structures.\"\n  (-peek [coll]\n    \"Returns the item from the top of the stack. Is used by cljs.core\/peek.\")\n  (^clj -pop [coll]\n    \"Returns a new stack without the item on top of the stack. Is used\n     by cljs.core\/pop.\"))\n\n(defprotocol IVector\n  \"Protocol for adding vector functionality to collections.\"\n  (^clj -assoc-n [coll n val]\n    \"Returns a new vector with value val added at position n.\"))\n\n(defprotocol IDeref\n  \"Protocol for adding dereference functionality to a reference.\"\n  (-deref [o]\n    \"Returns the value of the reference o.\"))\n\n(defprotocol IDerefWithTimeout\n  (-deref-with-timeout [o msec timeout-val]))\n\n(defprotocol IMeta\n  \"Protocol for accessing the metadata of an object.\"\n  (^clj-or-nil -meta [o]\n    \"Returns the metadata of object o.\"))\n\n(defprotocol IWithMeta\n  \"Protocol for adding metadata to an object.\"\n  (^clj -with-meta [o meta]\n    \"Returns a new object with value of o and metadata meta added to it.\"))\n\n(defprotocol IReduce\n  \"Protocol for seq types that can reduce themselves.\n  Called by cljs.core\/reduce.\"\n  (-reduce [coll f] [coll f start]\n    \"f should be a function of 2 arguments. If start is not supplied,\n     returns the result of applying f to the first 2 items in coll, then\n     applying f to that result and the 3rd item, etc.\"))\n\n(defprotocol IKVReduce\n  \"Protocol for associative types that can reduce themselves\n  via a function of key and val. Called by cljs.core\/reduce-kv.\"\n  (-kv-reduce [coll f init]\n    \"Reduces an associative collection and returns the result. f should be\n     a function that takes three arguments.\"))\n\n(defprotocol IEquiv\n  \"Protocol for adding value comparison functionality to a type.\"\n  (^boolean -equiv [o other]\n    \"Returns true if o and other are equal, false otherwise.\"))\n\n(defprotocol IHash\n  \"Protocol for adding hashing functionality to a type.\"\n  (-hash [o]\n    \"Returns the hash code of o.\"))\n\n(defprotocol ISeqable\n  \"Protocol for adding the ability to a type to be transformed into a sequence.\"\n  (^clj-or-nil -seq [o]\n    \"Returns a seq of o, or nil if o is empty.\"))\n\n(defprotocol ISequential\n  \"Marker interface indicating a persistent collection of sequential items\")\n\n(defprotocol IList\n  \"Marker interface indicating a persistent list\")\n\n(defprotocol IRecord\n  \"Marker interface indicating a record object\")\n\n(defprotocol IReversible\n  \"Protocol for reversing a seq.\"\n  (^clj -rseq [coll]\n    \"Returns a seq of the items in coll in reversed order.\"))\n\n(defprotocol ISorted\n  \"Protocol for a collection which can represent their items\n  in a sorted manner. \"\n  (^clj -sorted-seq [coll ascending?]\n    \"Returns a sorted seq from coll in either ascending or descending order.\")\n  (^clj -sorted-seq-from [coll k ascending?]\n    \"Returns a sorted seq from coll in either ascending or descending order.\n     If ascending is true, the result should contain all items which are > or >=\n     than k. If ascending is false, the result should contain all items which\n     are < or <= than k, e.g.\n     (-sorted-seq-from (sorted-set 1 2 3 4 5) 3 true) => (3 4 5)\n     (-sorted-seq-from (sorted-set 1 2 3 4 5) 3 false) => (3 2 1)\")\n  (-entry-key [coll entry]\n    \"Returns the key for entry.\")\n  (-comparator [coll]\n    \"Returns the comparator for coll.\"))\n\n(defprotocol IWriter\n  \"Protocol for writing. Currently only implemented by StringBufferWriter.\"\n  (-write [writer s]\n    \"Writes s with writer and returns the result.\")\n  (-flush [writer]\n    \"Flush writer.\"))\n\n(defprotocol IPrintWithWriter\n  \"The old IPrintable protocol's implementation consisted of building a giant\n   list of strings to concatenate.  This involved lots of concat calls,\n   intermediate vectors, and lazy-seqs, and was very slow in some older JS\n   engines.  IPrintWithWriter implements printing via the IWriter protocol, so it\n   be implemented efficiently in terms of e.g. a StringBuffer append.\"\n  (-pr-writer [o writer opts]))\n\n(defprotocol IPending\n  \"Protocol for types which can have a deferred realization. Currently only\n  implemented by Delay and LazySeq.\"\n  (^boolean -realized? [x]\n    \"Returns true if a value for x has been produced, false otherwise.\"))\n\n(defprotocol IWatchable\n  \"Protocol for types that can be watched. Currently only implemented by Atom.\"\n  (-notify-watches [this oldval newval]\n    \"Calls all watchers with this, oldval and newval.\")\n  (-add-watch [this key f]\n    \"Adds a watcher function f to this. Keys must be unique per reference,\n     and can be used to remove the watch with -remove-watch.\")\n  (-remove-watch [this key]\n    \"Removes watcher that corresponds to key from this.\"))\n\n(defprotocol IEditableCollection\n  \"Protocol for collections which can transformed to transients.\"\n  (^clj -as-transient [coll]\n    \"Returns a new, transient version of the collection, in constant time.\"))\n\n(defprotocol ITransientCollection\n  \"Protocol for adding basic functionality to transient collections.\"\n  (^clj -conj! [tcoll val]\n    \"Adds value val to tcoll and returns tcoll.\")\n  (^clj -persistent! [tcoll]\n    \"Creates a persistent data structure from tcoll and returns it.\"))\n\n(defprotocol ITransientAssociative\n  \"Protocol for adding associativity to transient collections.\"\n  (^clj -assoc! [tcoll key val]\n    \"Returns a new transient collection of tcoll with a mapping from key to\n     val added to it.\"))\n\n(defprotocol ITransientMap\n  \"Protocol for adding mapping functionality to transient collections.\"\n  (^clj -dissoc! [tcoll key]\n    \"Returns a new transient collection of tcoll without the mapping for key.\"))\n\n(defprotocol ITransientVector\n  \"Protocol for adding vector functionality to transient collections.\"\n  (^clj -assoc-n! [tcoll n val]\n    \"Returns tcoll with value val added at position n.\")\n  (^clj -pop! [tcoll]\n    \"Returns tcoll with the last item removed from it.\"))\n\n(defprotocol ITransientSet\n  \"Protocol for adding set functionality to a transient collection.\"\n  (^clj -disjoin! [tcoll v]\n    \"Returns tcoll without v.\"))\n\n(defprotocol IComparable\n  \"Protocol for values that can be compared.\"\n  (^number -compare [x y]\n    \"Returns a negative number, zero, or a positive number when x is logically\n     'less than', 'equal to', or 'greater than' y.\"))\n\n(defprotocol IChunk\n  \"Protocol for accessing the items of a chunk.\"\n  (-drop-first [coll]\n    \"Return a new chunk of coll with the first item removed.\"))\n\n(defprotocol IChunkedSeq\n  \"Protocol for accessing a collection as sequential chunks.\"\n  (-chunked-first [coll]\n    \"Returns the first chunk in coll.\")\n  (-chunked-rest [coll]\n    \"Return a new collection of coll with the first chunk removed.\"))\n\n(defprotocol IChunkedNext\n  \"Protocol for accessing the chunks of a collection.\"\n  (-chunked-next [coll]\n    \"Returns a new collection of coll without the first chunk.\"))\n\n(defprotocol INamed\n  \"Protocol for adding a name.\"\n  (^string -name [x]\n    \"Returns the name String of x.\")\n  ( ^{:tag #{string clj-nil}}-namespace [x]\n    \"Returns the namespace String of x.\"))\n\n(defprotocol IAtom\n  \"Marker protocol indicating an atom.\")\n\n(defprotocol IReset\n  \"Protocol for adding resetting functionality.\"\n  (-reset! [o new-value]\n    \"Sets the value of o to new-value.\"))\n\n(defprotocol ISwap\n  \"Protocol for adding swapping functionality.\"\n  (-swap! [o f] [o f a] [o f a b] [o f a b xs]\n    \"Swaps the value of o to be (apply f current-value-of-atom args).\"))\n\n(defprotocol IVolatile\n  \"Protocol for adding volatile functionality.\"\n  (-vreset! [o new-value]\n    \"Sets the value of volatile o to new-value without regard for the\n     current value. Returns new-value.\"))\n\n(defprotocol IIterable\n  \"Protocol for iterating over a collection.\"\n  (-iterator [coll]\n    \"Returns an iterator for coll.\"))\n\n;; Printing support\n\n(deftype StringBufferWriter [sb]\n  IWriter\n  (-write [_ s] (.append sb s))\n  (-flush [_] nil))\n\n(defn pr-str*\n  \"Support so that collections can implement toString without\n   loading all the printing machinery.\"\n  [^not-native obj]\n  (let [sb (StringBuffer.)\n        writer (StringBufferWriter. sb)]\n    (-pr-writer obj writer (pr-opts))\n    (-flush writer)\n    (str sb)))\n\n;;;;;;;;;;;;;;;;;;; Murmur3 ;;;;;;;;;;;;;;;\n\n;;http:\/\/hg.openjdk.java.net\/jdk7u\/jdk7u6\/jdk\/file\/8c2c5d63a17e\/src\/share\/classes\/java\/lang\/Integer.java\n(defn ^number int-rotate-left [x n]\n  (bit-or\n    (bit-shift-left x n)\n    (unsigned-bit-shift-right x (- n))))\n\n;; http:\/\/developer.mozilla.org\/en-US\/docs\/Web\/JavaScript\/Reference\/Global_Objects\/Math\/imul\n(if (and (exists? Math\/imul)\n         (not (zero? (Math\/imul 0xffffffff 5))))\n  (defn ^number imul [a b] (Math\/imul a b))\n  (defn ^number imul [a b]\n    (let [ah (bit-and (unsigned-bit-shift-right a 16) 0xffff)\n          al (bit-and a 0xffff)\n          bh (bit-and (unsigned-bit-shift-right b 16) 0xffff)\n          bl (bit-and b 0xffff)]\n      (bit-or\n        (+ (* al bl)\n           (unsigned-bit-shift-right\n             (bit-shift-left (+ (* ah bl) (* al bh)) 16) 0)) 0))))\n\n;; http:\/\/smhasher.googlecode.com\/svn\/trunk\/MurmurHash3.cpp\n(def m3-seed 0)\n(def m3-C1 (int 0xcc9e2d51))\n(def m3-C2 (int 0x1b873593))\n\n(defn ^number m3-mix-K1 [k1]\n  (-> (int k1) (imul m3-C1) (int-rotate-left 15) (imul m3-C2)))\n\n(defn ^number m3-mix-H1 [h1 k1]\n  (int (-> (int h1) (bit-xor (int k1)) (int-rotate-left 13) (imul 5) (+ (int 0xe6546b64)))))\n\n(defn ^number m3-fmix [h1 len]\n  (as-> (int h1) h1\n    (bit-xor h1 len)\n    (bit-xor h1 (unsigned-bit-shift-right h1 16))\n    (imul h1 (int 0x85ebca6b))\n    (bit-xor h1 (unsigned-bit-shift-right h1 13))\n    (imul h1 (int 0xc2b2ae35))\n    (bit-xor h1 (unsigned-bit-shift-right h1 16))))\n\n(defn ^number m3-hash-int [in]\n  (if (zero? in)\n    in\n    (let [k1 (m3-mix-K1 in)\n          h1 (m3-mix-H1 m3-seed k1)]\n      (m3-fmix h1 4))))\n\n(defn ^number m3-hash-unencoded-chars [in]\n  (let [h1 (loop [i 1 h1 m3-seed]\n             (if (< i (.-length in))\n               (recur (+ i 2)\n                 (m3-mix-H1 h1\n                   (m3-mix-K1\n                     (bit-or (.charCodeAt in (dec i))\n                       (bit-shift-left (.charCodeAt in i) 16)))))\n               h1))\n        h1 (if (== (bit-and (.-length in) 1) 1)\n             (bit-xor h1 (m3-mix-K1 (.charCodeAt in (dec (.-length in)))))\n             h1)]\n    (m3-fmix h1 (imul 2 (.-length in)))))\n\n;;;;;;;;;;;;;;;;;;; symbols ;;;;;;;;;;;;;;;\n\n(declare list Symbol = compare)\n\n;; Simple caching of string hashcode\n(def string-hash-cache (js-obj))\n(def string-hash-cache-count 0)\n\n;;http:\/\/hg.openjdk.java.net\/jdk7u\/jdk7u6\/jdk\/file\/8c2c5d63a17e\/src\/share\/classes\/java\/lang\/String.java\n(defn hash-string* [s]\n  (if-not (nil? s)\n    (let [len (.-length s)]\n      (if (pos? len)\n        (loop [i 0 hash 0]\n          (if (< i len)\n            (recur (inc i) (+ (imul 31 hash) (.charCodeAt s i)))\n            hash))\n        0))\n    0))\n\n(defn add-to-string-hash-cache [k]\n  (let [h (hash-string* k)]\n    (gobject\/set string-hash-cache k h)\n    (set! string-hash-cache-count (inc string-hash-cache-count))\n    h))\n\n(defn hash-string [k]\n  (when (> string-hash-cache-count 255)\n    (set! string-hash-cache (js-obj))\n    (set! string-hash-cache-count 0))\n  (if (nil? k)\n    0\n    (let [h (unchecked-get string-hash-cache k)]\n      (if (number? h)\n        h\n        (add-to-string-hash-cache k)))))\n\n(defn hash\n  \"Returns the hash code of its argument. Note this is the hash code\n   consistent with =.\"\n  [o]\n  (cond\n    (implements? IHash o)\n    (bit-xor (-hash o) 0)\n\n    (number? o)\n    (if (js\/isFinite o)\n      (js-mod (Math\/floor o) 2147483647)\n      (case o\n        ##Inf\n        2146435072\n        ##-Inf\n        -1048576\n        2146959360))\n\n    ;; note: mirrors Clojure's behavior on the JVM, where the hashCode is\n    ;; 1231 for true and 1237 for false\n    ;; http:\/\/docs.oracle.com\/javase\/7\/docs\/api\/java\/lang\/Boolean.html#hashCode%28%29\n    (true? o) 1231\n\n    (false? o) 1237\n\n    (string? o)\n    (m3-hash-int (hash-string o))\n\n    (instance? js\/Date o)\n    (bit-xor (.valueOf o) 0)\n\n    (nil? o) 0\n\n    :else\n    (bit-xor (-hash o) 0)))\n\n(defn hash-combine [seed hash]\n  ; a la boost\n  (bit-xor seed\n    (+ hash 0x9e3779b9\n      (bit-shift-left seed 6)\n      (bit-shift-right seed 2))))\n\n(defn ^boolean instance?\n  \"Evaluates x and tests if it is an instance of the type\n  c. Returns true or false\"\n  [c x]\n  (cljs.core\/instance? c x))\n\n(defn ^boolean symbol?\n  \"Return true if x is a Symbol\"\n  [x]\n  (instance? Symbol x))\n\n(defn- hash-symbol [sym]\n  (hash-combine\n    (m3-hash-unencoded-chars (.-name sym))\n    (hash-string (.-ns sym))))\n\n(defn- compare-symbols [a b]\n  (cond\n   (identical? (.-str a) (.-str b)) 0\n   (and (not (.-ns a)) (.-ns b)) -1\n   (.-ns a) (if-not (.-ns b)\n              1\n              (let [nsc (garray\/defaultCompare (.-ns a) (.-ns b))]\n                (if (== 0 nsc)\n                  (garray\/defaultCompare (.-name a) (.-name b))\n                  nsc)))\n   :default (garray\/defaultCompare (.-name a) (.-name b))))\n\n(declare get)\n\n(deftype Symbol [ns name str ^:mutable _hash _meta]\n  Object\n  (toString [_] str)\n  (equiv [this other] (-equiv this other))\n\n  IEquiv\n  (-equiv [_ other]\n    (if (instance? Symbol other)\n      (identical? str (.-str other))\n      false))\n\n  IFn\n  (-invoke [sym coll]\n    (get coll sym))\n  (-invoke [sym coll not-found]\n    (get coll sym not-found))\n\n  IMeta\n  (-meta [_] _meta)\n\n  IWithMeta\n  (-with-meta [_ new-meta] (Symbol. ns name str _hash new-meta))\n\n  IHash\n  (-hash [sym]\n    (caching-hash sym hash-symbol _hash))\n\n  INamed\n  (-name [_] name)\n  (-namespace [_] ns)\n\n  IPrintWithWriter\n  (-pr-writer [o writer _] (-write writer str)))\n\n(defn var?\n  \"Returns true if v is of type cljs.core.Var\"\n  [v]\n  (instance? cljs.core.Var v))\n\n(defn symbol\n  \"Returns a Symbol with the given namespace and name. Arity-1 works\n  on strings, keywords, and vars.\"\n  ([name]\n   (cond (symbol? name) name\n         (string? name) (let [idx (.indexOf name \"\/\")]\n                          (if (< idx 1)\n                            (symbol nil name)\n                            (symbol (.substring name 0 idx)\n                                    (.substring name (inc idx) (. name -length)))))\n         (var? name) (.-sym name)\n         (keyword? name) (recur (.-fqn name))\n         :else (throw (new js\/Error \"no conversion to symbol\"))))\n  ([ns name]\n   (let [sym-str (if-not (nil? ns)\n                   (str ns \"\/\" name)\n                   name)]\n     (Symbol. ns name sym-str nil nil))))\n\n(deftype Var [val sym _meta]\n  Object\n  (isMacro [_]\n    (. (val) -cljs$lang$macro))\n  (toString [_]\n    (str \"#'\" sym))\n  IDeref\n  (-deref [_] (val))\n  IMeta\n  (-meta [_] _meta)\n  IWithMeta\n  (-with-meta [_ new-meta]\n    (Var. val sym new-meta))\n  IEquiv\n  (-equiv [this other]\n    (if (instance? Var other)\n      (= (.-sym this) (.-sym other))\n      false))\n  IHash\n  (-hash [_]\n    (hash-symbol sym))\n  Fn\n  IFn\n  (-invoke [_]\n    ((val)))\n  (-invoke [_ a]\n    ((val) a))\n  (-invoke [_ a b]\n    ((val) a b))\n  (-invoke [_ a b c]\n    ((val) a b c))\n  (-invoke [_ a b c d]\n    ((val) a b c d))\n  (-invoke [_ a b c d e]\n    ((val) a b c d e))\n  (-invoke [_ a b c d e f]\n    ((val) a b c d e f))\n  (-invoke [_ a b c d e f g]\n    ((val) a b c d e f g))\n  (-invoke [_ a b c d e f g h]\n    ((val) a b c d e f g h))\n  (-invoke [_ a b c d e f g h i]\n    ((val) a b c d e f g h i))\n  (-invoke [_ a b c d e f g h i j]\n    ((val) a b c d e f g h i j))\n  (-invoke [_ a b c d e f g h i j k]\n    ((val) a b c d e f g h i j k))\n  (-invoke [_ a b c d e f g h i j k l]\n    ((val) a b c d e f g h i j k l))\n  (-invoke [_ a b c d e f g h i j k l m]\n    ((val) a b c d e f g h i j k l m))\n  (-invoke [_ a b c d e f g h i j k l m n]\n    ((val) a b c d e f g h i j k l m n))\n  (-invoke [_ a b c d e f g h i j k l m n o]\n    ((val) a b c d e f g h i j k l m n o))\n  (-invoke [_ a b c d e f g h i j k l m n o p]\n    ((val) a b c d e f g h i j k l m n o p))\n  (-invoke [_ a b c d e f g h i j k l m n o p q]\n    ((val) a b c d e f g h i j k l m n o p q))\n  (-invoke [_ a b c d e f g h i j k l m n o p q r]\n    ((val) a b c d e f g h i j k l m n o p q r))\n  (-invoke [_ a b c d e f g h i j k l m n o p q r s]\n    ((val) a b c d e f g h i j k l m n o p q r s))\n  (-invoke [_ a b c d e f g h i j k l m n o p q r s t]\n    ((val) a b c d e f g h i j k l m n o p q r s t))\n  (-invoke [_ a b c d e f g h i j k l m n o p q r s t rest]\n    (apply (val) a b c d e f g h i j k l m n o p q r s t rest)))\n\n;;;;;;;;;;;;;;;;;;; fundamentals ;;;;;;;;;;;;;;;\n\n(declare array-seq prim-seq IndexedSeq)\n\n(defn iterable?\n  \"Return true if x implements IIterable protocol.\"\n  [x]\n  (satisfies? IIterable x))\n\n(defn js-iterable?\n  \"Return true if x has a JavaScript iterator property\"\n  [x]\n  (and (not (nil? x))\n       (not (nil? (js* \"~{}[~{}]\" x ITER_SYMBOL)))))\n\n(defn clone\n  \"Clone the supplied value which must implement ICloneable.\"\n  [value]\n  (-clone value))\n\n(defn cloneable?\n  \"Return true if x implements ICloneable protocol.\"\n  [value]\n  (satisfies? ICloneable value))\n\n(declare es6-iterator-seq)\n\n(defn ^seq seq\n  \"Returns a seq on the collection. If the collection is\n  empty, returns nil.  (seq nil) returns nil. seq also works on\n  Strings.\"\n  [coll]\n  (when-not (nil? coll)\n    (cond\n      (implements? ISeqable coll)\n      (-seq coll)\n\n      (array? coll)\n      (when-not (zero? (alength coll))\n        (IndexedSeq. coll 0 nil))\n\n      (string? coll)\n      (when-not (zero? (.-length coll))\n        (IndexedSeq. coll 0 nil))\n\n      (js-iterable? coll)\n      (es6-iterator-seq\n        (.call (gobject\/get coll ITER_SYMBOL) coll))\n\n      (native-satisfies? ISeqable coll)\n      (-seq coll)\n\n      :else (throw (js\/Error. (str coll \" is not ISeqable\"))))))\n\n(defn first\n  \"Returns the first item in the collection. Calls seq on its\n  argument. If coll is nil, returns nil.\"\n  [coll]\n  (when-not (nil? coll)\n    (if (implements? ISeq coll)\n      (-first coll)\n      (let [s (seq coll)]\n        (when-not (nil? s)\n          (-first s))))))\n\n(defn ^seq rest\n  \"Returns a possibly empty seq of the items after the first. Calls seq on its\n  argument.\"\n  [coll]\n  (if-not (nil? coll)\n    (if (implements? ISeq coll)\n      (-rest coll)\n      (let [s (seq coll)]\n        (if s\n          (-rest ^not-native s)\n          ())))\n    ()))\n\n(defn ^seq next\n  \"Returns a seq of the items after the first. Calls seq on its\n  argument.  If there are no more items, returns nil\"\n  [coll]\n  (when-not (nil? coll)\n    (if (implements? INext coll)\n      (-next coll)\n      (seq (rest coll)))))\n\n(defn ^boolean =\n  \"Equality. Returns true if x equals y, false if not. Compares\n  numbers and collections in a type-independent manner.  Clojure's immutable data\n  structures define -equiv (and thus =) as a value, not an identity,\n  comparison.\"\n  ([x] true)\n  ([x y]\n    (if (nil? x)\n      (nil? y)\n      (or (identical? x y)\n        ^boolean (-equiv x y))))\n  ([x y & more]\n     (if (= x y)\n       (if (next more)\n         (recur y (first more) (next more))\n         (= y (first more)))\n       false)))\n\n;; EXPERIMENTAL: subject to change\n(deftype ES6Iterator [^:mutable s]\n  Object\n  (next [_]\n    (if-not (nil? s)\n      (let [x (first s)]\n        (set! s (next s))\n        #js {:value x :done false})\n      #js {:value nil :done true})))\n\n(defn es6-iterator\n  \"EXPERIMENTAL: Return a ES2015 compatible iterator for coll.\"\n  [coll]\n  (ES6Iterator. (seq coll)))\n\n(deftype ES6IteratorSeq [value iter ^:mutable _rest]\n  ISeqable\n  (-seq [this] this)\n  ISeq\n  (-first [_] value)\n  (-rest [_]\n    (when (nil? _rest)\n      (set! _rest (es6-iterator-seq iter)))\n    _rest))\n\n(defn es6-iterator-seq\n  \"EXPERIMENTAL: Given an ES2015 compatible iterator return a seq.\"\n  [iter]\n  (let [v (.next iter)]\n    (if (.-done v)\n      nil\n      (ES6IteratorSeq. (.-value v) iter nil))))\n\n;;;;;;;;;;;;;;;;;;; Murmur3 Helpers ;;;;;;;;;;;;;;;;\n\n(defn ^number mix-collection-hash\n  \"Mix final collection hash for ordered or unordered collections.\n   hash-basis is the combined collection hash, count is the number\n   of elements included in the basis. Note this is the hash code\n   consistent with =, different from .hashCode.\n   See http:\/\/clojure.org\/data_structures#hash for full algorithms.\"\n  [hash-basis count]\n  (let [h1 m3-seed\n        k1 (m3-mix-K1 hash-basis)\n        h1 (m3-mix-H1 h1 k1)]\n    (m3-fmix h1 count)))\n\n(defn ^number hash-ordered-coll\n  \"Returns the hash code, consistent with =, for an external ordered\n   collection implementing Iterable.\n   See http:\/\/clojure.org\/data_structures#hash for full algorithms.\"\n  [coll]\n  (loop [n 0 hash-code 1 coll (seq coll)]\n    (if-not (nil? coll)\n      (recur (inc n) (bit-or (+ (imul 31 hash-code) (hash (first coll))) 0)\n        (next coll))\n      (mix-collection-hash hash-code n))))\n\n(def ^:private empty-ordered-hash\n  (mix-collection-hash 1 0))\n\n(defn ^number hash-unordered-coll\n  \"Returns the hash code, consistent with =, for an external unordered\n   collection implementing Iterable. For maps, the iterator should\n   return map entries whose hash is computed as\n     (hash-ordered-coll [k v]).\n   See http:\/\/clojure.org\/data_structures#hash for full algorithms.\"\n  [coll]\n  (loop [n 0 hash-code 0 coll (seq coll)]\n    (if-not (nil? coll)\n      (recur (inc n) (bit-or (+ hash-code (hash (first coll))) 0) (next coll))\n      (mix-collection-hash hash-code n))))\n\n(def ^:private empty-unordered-hash\n  (mix-collection-hash 0 0))\n\n;;;;;;;;;;;;;;;;;;; protocols on primitives ;;;;;;;;\n(declare hash-map list equiv-sequential)\n\n(extend-type nil\n  ICounted\n  (-count [_] 0))\n\n;; TODO: we should remove this and handle date equality checking\n;; by some other means, probably by adding a new primitive type\n;; case to the hash table lookup - David\n\n(extend-type js\/Date\n  IEquiv\n  (-equiv [o other]\n    (and (instance? js\/Date other)\n         (== (.valueOf o) (.valueOf other))))\n\n  IComparable\n  (-compare [this other]\n    (if (instance? js\/Date other)\n      (garray\/defaultCompare (.valueOf this) (.valueOf other))\n      (throw (js\/Error. (str \"Cannot compare \" this \" to \" other))))))\n\n(defprotocol Inst\n  (inst-ms* [inst]))\n\n(extend-protocol Inst\n  js\/Date\n  (inst-ms* [inst] (.getTime inst)))\n\n(defn inst-ms\n  \"Return the number of milliseconds since January 1, 1970, 00:00:00 GMT\"\n  [inst]\n  (inst-ms* inst))\n\n(defn inst?\n  \"Return true if x satisfies Inst\"\n  [x]\n  (satisfies? Inst x))\n\n(extend-type number\n  IEquiv\n  (-equiv [x o] (identical? x o)))\n\n(declare with-meta)\n\n(extend-type function\n  Fn\n  IMeta\n  (-meta [_] nil))\n\n(extend-type default\n  IHash\n  (-hash [o]\n    (goog\/getUid o)))\n\n;;this is primitive because & emits call to array-seq\n(defn inc\n  \"Returns a number one greater than num.\"\n  [x] (cljs.core\/+ x 1))\n\n(declare deref)\n\n(deftype Reduced [val]\n  IDeref\n  (-deref [o] val))\n\n(defn reduced\n  \"Wraps x in a way such that a reduce will terminate with the value x\"\n  [x]\n  (Reduced. x))\n\n(defn reduced?\n  \"Returns true if x is the result of a call to reduced\"\n  [r]\n  (instance? Reduced r))\n\n(defn ensure-reduced\n  \"If x is already reduced?, returns it, else returns (reduced x)\"\n  [x]\n  (if (reduced? x) x (reduced x)))\n\n(defn unreduced\n  \"If x is reduced?, returns (deref x), else returns x\"\n  [x]\n  (if (reduced? x) (deref x) x))\n\n;; generic to all refs\n;; (but currently hard-coded to atom!)\n(defn deref\n  \"Also reader macro: @var\/@atom\/@delay. Returns the\n   most-recently-committed value of ref. When applied to a var\n   or atom, returns its current state. When applied to a delay, forces\n   it if not already forced. See also - realized?.\"\n  [o]\n  (-deref o))\n\n(defn- ci-reduce\n  \"Accepts any collection which satisfies the ICount and IIndexed protocols and\nreduces them without incurring seq initialization\"\n  ([^not-native cicoll f]\n     (let [cnt (-count cicoll)]\n       (if (zero? cnt)\n         (f)\n         (loop [val (-nth cicoll 0), n 1]\n           (if (< n cnt)\n             (let [nval (f val (-nth cicoll n))]\n               (if (reduced? nval)\n                 @nval\n                 (recur nval (inc n))))\n             val)))))\n  ([^not-native cicoll f val]\n     (let [cnt (-count cicoll)]\n       (loop [val val, n 0]\n         (if (< n cnt)\n           (let [nval (f val (-nth cicoll n))]\n             (if (reduced? nval)\n               @nval\n               (recur nval (inc n))))\n           val)))))\n\n(defn- array-reduce\n  ([arr f]\n     (let [cnt (alength arr)]\n       (if (zero? (alength arr))\n         (f)\n         (loop [val (aget arr 0), n 1]\n           (if (< n cnt)\n             (let [nval (f val (aget arr n))]\n               (if (reduced? nval)\n                 @nval\n                 (recur nval (inc n))))\n             val)))))\n  ([arr f val]\n     (let [cnt (alength arr)]\n       (loop [val val, n 0]\n         (if (< n cnt)\n           (let [nval (f val (aget arr n))]\n             (if (reduced? nval)\n               @nval\n               (recur nval (inc n))))\n           val))))\n  ([arr f val idx]\n     (let [cnt (alength arr)]\n       (loop [val val, n idx]\n         (if (< n cnt)\n           (let [nval (f val (aget arr n))]\n             (if (reduced? nval)\n               @nval\n               (recur nval (inc n))))\n           val)))))\n\n(declare hash-coll cons drop count nth RSeq List)\n\n(defn counted?\n  \"Returns true if coll implements count in constant time\"\n  [x] (satisfies? ICounted x))\n\n(defn indexed?\n  \"Returns true if coll implements nth in constant time\"\n  [x] (satisfies? IIndexed x))\n\n(defn- -indexOf\n  ([coll x]\n   (-indexOf coll x 0))\n  ([coll x start]\n   (let [len (count coll)]\n     (if (>= start len)\n       -1\n       (loop [idx (cond\n                    (pos? start) start\n                    (neg? start) (max 0 (+ start len))\n                    :else start)]\n         (if (< idx len)\n           (if (= (nth coll idx) x)\n             idx\n             (recur (inc idx)))\n           -1))))))\n\n(defn- -lastIndexOf\n  ([coll x]\n   (-lastIndexOf coll x (count coll)))\n  ([coll x start]\n   (let [len (count coll)]\n    (if (zero? len)\n      -1\n      (loop [idx (cond\n                   (pos? start) (min (dec len) start)\n                   (neg? start) (+ len start)\n                   :else start)]\n        (if (>= idx 0)\n          (if (= (nth coll idx) x)\n            idx\n            (recur (dec idx)))\n          -1))))))\n\n(deftype IndexedSeqIterator [arr ^:mutable i]\n  Object\n  (hasNext [_]\n    (< i (alength arr)))\n  (next [_]\n    (let [ret (aget arr i)]\n      (set! i (inc i))\n      ret)))\n\n(deftype IndexedSeq [arr i meta]\n  Object\n  (toString [coll]\n   (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  ICloneable\n  (-clone [_] (IndexedSeq. arr i meta))\n\n  ISeqable\n  (-seq [this]\n    (when (< i (alength arr))\n      this))\n\n  IMeta\n  (-meta [coll] meta)\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (IndexedSeq. arr i new-meta)))\n\n  ASeq\n  ISeq\n  (-first [_] (aget arr i))\n  (-rest [_] (if (< (inc i) (alength arr))\n               (IndexedSeq. arr (inc i) nil)\n               (list)))\n\n  INext\n  (-next [_] (if (< (inc i) (alength arr))\n               (IndexedSeq. arr (inc i) nil)\n               nil))\n\n  ICounted\n  (-count [_]\n    (max 0 (- (alength arr) i)))\n\n  IIndexed\n  (-nth [coll n]\n    (let [i (+ n i)]\n      (if (and (<= 0 i) (< i (alength arr)))\n        (aget arr i)\n        (throw (js\/Error. \"Index out of bounds\")))))\n  (-nth [coll n not-found]\n    (let [i (+ n i)]\n      (if (and (<= 0 i) (< i (alength arr)))\n        (aget arr i)\n        not-found)))\n\n  ISequential\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  IIterable\n  (-iterator [coll]\n    (IndexedSeqIterator. arr i))\n\n  ICollection\n  (-conj [coll o] (cons o coll))\n\n  IEmptyableCollection\n  (-empty [coll] (.-EMPTY List))\n\n  IReduce\n  (-reduce [coll f]\n    (array-reduce arr f (aget arr i) (inc i)))\n  (-reduce [coll f start]\n    (array-reduce arr f start i))\n\n  IHash\n  (-hash [coll] (hash-ordered-coll coll))\n\n  IReversible\n  (-rseq [coll]\n    (let [c (-count coll)]\n      (if (pos? c)\n        (RSeq. coll (dec c) nil)))))\n\n(es6-iterable IndexedSeq)\n\n(defn prim-seq\n  \"Create seq from a primitive JavaScript Array-like.\"\n  ([prim]\n     (prim-seq prim 0))\n  ([prim i]\n     (when (< i (alength prim))\n       (IndexedSeq. prim i nil))))\n\n(defn array-seq\n  \"Create a seq from a JavaScript array.\"\n  ([array]\n     (prim-seq array 0))\n  ([array i]\n     (prim-seq array i)))\n\n(declare with-meta seq-reduce)\n\n(deftype RSeq [ci i meta]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  ICloneable\n  (-clone [_] (RSeq. ci i meta))\n\n  IMeta\n  (-meta [coll] meta)\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (RSeq. ci i new-meta)))\n\n  ISeqable\n  (-seq [coll] coll)\n\n  ISequential\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  ISeq\n  (-first [coll]\n    (-nth ci i))\n  (-rest [coll]\n    (if (pos? i)\n      (RSeq. ci (dec i) nil)\n      ()))\n\n  INext\n  (-next [coll]\n    (when (pos? i)\n      (RSeq. ci (dec i) nil)))\n\n  ICounted\n  (-count [coll] (inc i))\n\n  ICollection\n  (-conj [coll o]\n    (cons o coll))\n\n  IEmptyableCollection\n  (-empty [coll] (.-EMPTY List))\n\n  IHash\n  (-hash [coll] (hash-ordered-coll coll))\n\n  IReduce\n  (-reduce [col f] (seq-reduce f col))\n  (-reduce [col f start] (seq-reduce f start col)))\n\n(es6-iterable RSeq)\n\n(defn second\n  \"Same as (first (next x))\"\n  [coll]\n  (first (next coll)))\n\n(defn ffirst\n  \"Same as (first (first x))\"\n  [coll]\n  (first (first coll)))\n\n(defn nfirst\n  \"Same as (next (first x))\"\n  [coll]\n  (next (first coll)))\n\n(defn fnext\n  \"Same as (first (next x))\"\n  [coll]\n  (first (next coll)))\n\n(defn nnext\n  \"Same as (next (next x))\"\n  [coll]\n  (next (next coll)))\n\n(defn last\n  \"Return the last item in coll, in linear time\"\n  [s]\n  (let [sn (next s)]\n    (if-not (nil? sn)\n      (recur sn)\n      (first s))))\n\n(extend-type default\n  IEquiv\n  (-equiv [x o] (identical? x o)))\n\n(defn conj\n  \"conj[oin]. Returns a new collection with the xs\n  'added'. (conj nil item) returns (item).  The 'addition' may\n  happen at different 'places' depending on the concrete type.\"\n  ([] [])\n  ([coll] coll)\n  ([coll x]\n    (if-not (nil? coll)\n      (-conj coll x)\n      (list x)))\n  ([coll x & xs]\n    (if xs\n      (recur (conj coll x) (first xs) (next xs))\n      (conj coll x))))\n\n(defn empty\n  \"Returns an empty collection of the same category as coll, or nil\"\n  [coll]\n  (when-not (nil? coll)\n    (cond\n      (implements? IEmptyableCollection coll)\n      (-empty coll)\n\n      (satisfies? IEmptyableCollection coll)\n      (-empty coll)\n\n      :else nil)))\n\n(defn- accumulating-seq-count [coll]\n  (loop [s (seq coll) acc 0]\n    (if (counted? s) ; assumes nil is counted, which it currently is\n      (+ acc (-count s))\n      (recur (next s) (inc acc)))))\n\n(defn count\n  \"Returns the number of items in the collection. (count nil) returns\n  0.  Also works on strings, arrays, and Maps\"\n  [coll]\n  (if-not (nil? coll)\n    (cond\n      (implements? ICounted coll)\n      (-count coll)\n\n      (array? coll)\n      (alength coll)\n\n      (string? coll)\n      ^number (.-length coll)\n\n      (implements? ISeqable coll)\n      (accumulating-seq-count coll)\n\n      :else (-count coll))\n    0))\n\n(defn- linear-traversal-nth\n  ([coll n]\n     (cond\n       (nil? coll)     (throw (js\/Error. \"Index out of bounds\"))\n       (zero? n)       (if (seq coll)\n                         (first coll)\n                         (throw (js\/Error. \"Index out of bounds\")))\n       (indexed? coll) (-nth coll n)\n       (seq coll)      (recur (next coll) (dec n))\n       :else           (throw (js\/Error. \"Index out of bounds\"))))\n  ([coll n not-found]\n     (cond\n       (nil? coll)     not-found\n       (zero? n)       (if (seq coll)\n                         (first coll)\n                         not-found)\n       (indexed? coll) (-nth coll n not-found)\n       (seq coll)      (recur (next coll) (dec n) not-found)\n       :else           not-found)))\n\n(defn nth\n  \"Returns the value at the index. get returns nil if index out of\n  bounds, nth throws an exception unless not-found is supplied.  nth\n  also works for strings, arrays, regex Matchers and Lists, and,\n  in O(n) time, for sequences.\"\n  ([coll n]\n    (cond\n      (not (number? n))\n      (throw (js\/Error. \"Index argument to nth must be a number\"))\n\n      (nil? coll)\n      coll\n\n      (implements? IIndexed coll)\n      (-nth coll n)\n\n      (array? coll)\n      (if (and (< -1 n (.-length coll)))\n        (aget coll (int n))\n        (throw (js\/Error. \"Index out of bounds\")))\n\n      (string? coll)\n      (if (and (< -1 n (.-length coll)))\n        (.charAt coll (int n))\n        (throw (js\/Error. \"Index out of bounds\")))\n\n      (or (implements? ISeq coll)\n          (implements? ISequential coll))\n      (if (neg? n)\n        (throw (js\/Error. \"Index out of bounds\"))\n        (linear-traversal-nth coll n))\n\n      (native-satisfies? IIndexed coll)\n      (-nth coll n)\n\n      :else\n      (throw (js\/Error. (str \"nth not supported on this type \"\n                          (type->str (type coll)))))))\n  ([coll n not-found]\n    (cond\n      (not (number? n))\n      (throw (js\/Error. \"Index argument to nth must be a number.\"))\n\n      (nil? coll)\n      not-found\n\n      (implements? IIndexed coll)\n      (-nth coll n not-found)\n\n      (array? coll)\n      (if (and (< -1 n (.-length coll)))\n        (aget coll (int n))\n        not-found)\n\n      (string? coll)\n      (if (and (< -1 n (.-length coll)))\n        (.charAt coll (int n))\n        not-found)\n\n      (or (implements? ISeq coll)\n          (implements? ISequential coll))\n      (if (neg? n)\n        not-found\n        (linear-traversal-nth coll n not-found))\n\n      (native-satisfies? IIndexed coll)\n      (-nth coll n not-found)\n\n      :else\n      (throw (js\/Error. (str \"nth not supported on this type \"\n                          (type->str (type coll))))))))\n\n(defn nthrest\n  \"Returns the nth rest of coll, coll when n is 0.\"\n  [coll n]\n    (loop [n n xs coll]\n      (if-let [xs (and (pos? n) (seq xs))]\n        (recur (dec n) (rest xs))\n        xs)))\n\n(defn get\n  \"Returns the value mapped to key, not-found or nil if key not present.\"\n  ([o k]\n    (when-not (nil? o)\n      (cond\n        (implements? ILookup o)\n        (-lookup o k)\n\n        (array? o)\n        (when (and (some? k) (< k (.-length o)))\n          (aget o (int k)))\n\n        (string? o)\n        (when (and (some? k) (< -1 k (.-length o)))\n          (.charAt o (int k)))\n\n        (native-satisfies? ILookup o)\n        (-lookup o k)\n\n        :else nil)))\n  ([o k not-found]\n    (if-not (nil? o)\n      (cond\n        (implements? ILookup o)\n        (-lookup o k not-found)\n\n        (array? o)\n        (if (and (some? k) (< -1 k (.-length o)))\n          (aget o (int k))\n          not-found)\n\n        (string? o)\n        (if (and (some? k) (< -1 k (.-length o)))\n          (.charAt o (int k))\n          not-found)\n\n        (native-satisfies? ILookup o)\n        (-lookup o k not-found)\n\n        :else not-found)\n      not-found)))\n\n(declare PersistentHashMap PersistentArrayMap MapEntry)\n\n(defn assoc\n  \"assoc[iate]. When applied to a map, returns a new map of the\n   same (hashed\/sorted) type, that contains the mapping of key(s) to\n   val(s). When applied to a vector, returns a new vector that\n   contains val at index. Note - index must be <= (count vector).\"\n  ([coll k v]\n   (if (implements? IAssociative coll)\n     (-assoc coll k v)\n     (if-not (nil? coll)\n       (-assoc coll k v)\n       (array-map k v))))\n  ([coll k v & kvs]\n     (let [ret (assoc coll k v)]\n       (if kvs\n         (recur ret (first kvs) (second kvs) (nnext kvs))\n         ret))))\n\n(defn dissoc\n  \"dissoc[iate]. Returns a new map of the same (hashed\/sorted) type,\n  that does not contain a mapping for key(s).\"\n  ([coll] coll)\n  ([coll k]\n    (when-not (nil? coll)\n      (-dissoc coll k)))\n  ([coll k & ks]\n    (when-not (nil? coll)\n      (let [ret (dissoc coll k)]\n        (if ks\n          (recur ret (first ks) (next ks))\n          ret)))))\n\n(defn fn?\n  \"Return true if f is a JavaScript function or satisfies the Fn protocol.\"\n  [f]\n  (or (js-fn? f) (satisfies? Fn f)))\n\n(deftype MetaFn [afn meta]\n  IMeta\n  (-meta [_] meta)\n  IWithMeta\n  (-with-meta [_ new-meta]\n    (MetaFn. afn new-meta))\n  Fn\n  IFn\n  (-invoke [_]\n    (afn))\n  (-invoke [_ a]\n    (afn a))\n  (-invoke [_ a b]\n    (afn a b))\n  (-invoke [_ a b c]\n    (afn a b c))\n  (-invoke [_ a b c d]\n    (afn a b c d))\n  (-invoke [_ a b c d e]\n    (afn a b c d e))\n  (-invoke [_ a b c d e f]\n    (afn a b c d e f))\n  (-invoke [_ a b c d e f g]\n    (afn a b c d e f g))\n  (-invoke [_ a b c d e f g h]\n    (afn a b c d e f g h))\n  (-invoke [_ a b c d e f g h i]\n    (afn a b c d e f g h i))\n  (-invoke [_ a b c d e f g h i j]\n    (afn a b c d e f g h i j))\n  (-invoke [_ a b c d e f g h i j k]\n    (afn a b c d e f g h i j k))\n  (-invoke [_ a b c d e f g h i j k l]\n    (afn a b c d e f g h i j k l))\n  (-invoke [_ a b c d e f g h i j k l m]\n    (afn a b c d e f g h i j k l m))\n  (-invoke [_ a b c d e f g h i j k l m n]\n    (afn a b c d e f g h i j k l m n))\n  (-invoke [_ a b c d e f g h i j k l m n o]\n    (afn a b c d e f g h i j k l m n o))\n  (-invoke [_ a b c d e f g h i j k l m n o p]\n    (afn a b c d e f g h i j k l m n o p))\n  (-invoke [_ a b c d e f g h i j k l m n o p q]\n    (afn a b c d e f g h i j k l m n o p q))\n  (-invoke [_ a b c d e f g h i j k l m n o p q r]\n    (afn a b c d e f g h i j k l m n o p q r))\n  (-invoke [_ a b c d e f g h i j k l m n o p q r s]\n    (afn a b c d e f g h i j k l m n o p q r s))\n  (-invoke [_ a b c d e f g h i j k l m n o p q r s t]\n    (afn a b c d e f g h i j k l m n o p q r s t))\n  (-invoke [_ a b c d e f g h i j k l m n o p q r s t rest]\n    (apply afn a b c d e f g h i j k l m n o p q r s t rest)))\n\n(defn with-meta\n  \"Returns an object of the same type and value as obj, with\n  map m as its metadata.\"\n  [o meta]\n  (if (js-fn? o)\n    (MetaFn. o meta)\n    (when-not (nil? o)\n      (-with-meta o meta))))\n\n(defn meta\n  \"Returns the metadata of obj, returns nil if there is no metadata.\"\n  [o]\n  (when (and (not (nil? o))\n             (satisfies? IMeta o))\n    (-meta o)))\n\n(defn peek\n  \"For a list or queue, same as first, for a vector, same as, but much\n  more efficient than, last. If the collection is empty, returns nil.\"\n  [coll]\n  (when-not (nil? coll)\n    (-peek coll)))\n\n(defn pop\n  \"For a list or queue, returns a new list\/queue without the first\n  item, for a vector, returns a new vector without the last item.\n  Note - not the same as next\/butlast.\"\n  [coll]\n  (when-not (nil? coll)\n    (-pop coll)))\n\n(defn disj\n  \"disj[oin]. Returns a new set of the same (hashed\/sorted) type, that\n  does not contain key(s).\"\n  ([coll] coll)\n  ([coll k]\n    (when-not (nil? coll)\n      (-disjoin coll k)))\n  ([coll k & ks]\n    (when-not (nil? coll)\n      (let [ret (disj coll k)]\n        (if ks\n          (recur ret (first ks) (next ks))\n          ret)))))\n\n(defn empty?\n  \"Returns true if coll has no items - same as (not (seq coll)).\n  Please use the idiom (seq x) rather than (not (empty? x))\"\n  [coll] (or (nil? coll)\n             (not (seq coll))))\n\n(defn coll?\n  \"Returns true if x satisfies ICollection\"\n  [x]\n  (if (nil? x)\n    false\n    (satisfies? ICollection x)))\n\n(defn set?\n  \"Returns true if x satisfies ISet\"\n  [x]\n  (if (nil? x)\n    false\n    (satisfies? ISet x)))\n\n(defn associative?\n \"Returns true if coll implements IAssociative\"\n  [x] (satisfies? IAssociative x))\n\n(defn ifind?\n \"Returns true if coll implements IFind\"\n  [x] (satisfies? IFind x))\n\n(defn sequential?\n  \"Returns true if coll satisfies ISequential\"\n  [x] (satisfies? ISequential x))\n\n(defn sorted?\n  \"Returns true if coll satisfies ISorted\"\n  [x] (satisfies? ISorted x))\n\n(defn reduceable?\n  \"Returns true if coll satisfies IReduce\"\n  [x] (satisfies? IReduce x))\n\n(defn map?\n  \"Return true if x satisfies IMap\"\n  [x]\n  (if (nil? x)\n    false\n    (satisfies? IMap x)))\n\n(defn record?\n  \"Return true if x satisfies IRecord\"\n  [x]\n  (satisfies? IRecord x))\n\n(defn vector?\n  \"Return true if x satisfies IVector\"\n  [x] (satisfies? IVector x))\n\n(declare ChunkedCons ChunkedSeq)\n\n(defn chunked-seq?\n  \"Return true if x satisfies IChunkedSeq.\"\n  [x] (implements? IChunkedSeq x))\n\n;;;;;;;;;;;;;;;;;;;; js primitives ;;;;;;;;;;;;\n(defn js-obj\n  \"Create JavaSript object from an even number arguments representing\n  interleaved keys and values.\"\n  ([]\n     (cljs.core\/js-obj))\n  ([& keyvals]\n     (apply gobject\/create keyvals)))\n\n(defn js-keys\n  \"Return the JavaScript keys for an object.\"\n  [obj]\n  (gobject\/getKeys obj))\n\n(defn js-delete\n  \"Delete a property from a JavaScript object.\n  Returns true upon success, false otherwise.\"\n  [obj key]\n  (cljs.core\/js-delete obj key))\n\n(defn- array-copy\n  ([from i to j len]\n    (loop [i i j j len len]\n       (if (zero? len)\n         to\n         (do (aset to j (aget from i))\n             (recur (inc i) (inc j) (dec len)))))))\n\n(defn- array-copy-downward\n  ([from i to j len]\n     (loop [i (+ i (dec len)) j (+ j (dec len)) len len]\n       (if (zero? len)\n         to\n         (do (aset to j (aget from i))\n             (recur (dec i) (dec j) (dec len)))))))\n\n;;;;;;;;;;;;;;;; preds ;;;;;;;;;;;;;;;;;;\n\n(def ^:private lookup-sentinel (js-obj))\n\n(defn ^boolean false?\n  \"Returns true if x is the value false, false otherwise.\"\n  [x] (cljs.core\/false? x))\n\n(defn ^boolean true?\n  \"Returns true if x is the value true, false otherwise.\"\n  [x] (cljs.core\/true? x))\n\n(defn boolean?\n  \"Return true if x is a Boolean\"\n  [x] (or (cljs.core\/true? x) (cljs.core\/false? x)))\n\n(defn ^boolean undefined?\n  \"Returns true if x identical to the JavaScript undefined value.\"\n  [x]\n  (cljs.core\/undefined? x))\n\n(defn seq?\n  \"Return true if s satisfies ISeq\"\n  [s]\n  (if (nil? s)\n    false\n    (satisfies? ISeq s)))\n\n(defn seqable?\n  \"Return true if the seq function is supported for s\"\n  [s]\n  (or\n   (nil? s)\n   (satisfies? ISeqable s)\n   (array? s)\n   (string? s)))\n\n(defn boolean\n  \"Coerce to boolean\"\n  [x]\n  (cond\n    (nil? x) false\n    (false? x) false\n    :else true))\n\n(defn ifn?\n  \"Returns true if f returns true for fn? or satisfies IFn.\"\n  [f]\n  (or (fn? f) (satisfies? IFn f)))\n\n(defn integer?\n  \"Returns true if n is a JavaScript number with no decimal part.\"\n  [n]\n  (and (number? n)\n       (not ^boolean (js\/isNaN n))\n       (not (identical? n js\/Infinity))\n       (== (js\/parseFloat n) (js\/parseInt n 10))))\n\n(defn int?\n  \"Return true if x satisfies integer? or is an instance of goog.math.Integer\n   or goog.math.Long.\"\n  [x]\n  (or (integer? x)\n      (instance? goog.math.Integer x)\n      (instance? goog.math.Long x)))\n\n(defn pos-int?\n  \"Return true if x satisfies int? and is positive.\"\n  [x]\n  (cond\n    (integer? x) (pos? x)\n\n    (instance? goog.math.Integer x)\n    (and (not (.isNegative x))\n         (not (.isZero x)))\n\n    (instance? goog.math.Long x)\n    (and (not (.isNegative x))\n         (not (.isZero x)))\n\n    :else false))\n\n(defn ^boolean neg-int?\n  \"Return true if x satisfies int? and is negative.\"\n  [x]\n  (cond\n    (integer? x) (neg? x)\n\n    (instance? goog.math.Integer x)\n    (.isNegative x)\n\n    (instance? goog.math.Long x)\n    (.isNegative x)\n\n    :else false))\n\n(defn nat-int?\n  \"Return true if x satisfies int? and is a natural integer value.\"\n  [x]\n  (cond\n    (integer? x)\n    (not (neg? x))\n\n    (instance? goog.math.Integer x)\n    (not (.isNegative x))\n\n    (instance? goog.math.Long x)\n    (not (.isNegative x))\n\n    :else false))\n\n(defn float?\n  \"Returns true for JavaScript numbers, false otherwise.\"\n  [x]\n  (number? x))\n\n(defn double?\n  \"Returns true for JavaScript numbers, false otherwise.\"\n  [x]\n  (number? x))\n\n(defn infinite?\n  \"Returns true for Infinity and -Infinity values.\"\n  [x]\n  (or (identical? x js\/Number.POSITIVE_INFINITY)\n      (identical? x js\/Number.NEGATIVE_INFINITY)))\n\n(defn contains?\n  \"Returns true if key is present in the given collection, otherwise\n  returns false.  Note that for numerically indexed collections like\n  vectors and arrays, this tests if the numeric key is within the\n  range of indexes. 'contains?' operates constant or logarithmic time;\n  it will not perform a linear search for a value.  See also 'some'.\"\n  [coll v]\n  (if (identical? (get coll v lookup-sentinel) lookup-sentinel)\n    false\n    true))\n\n(defn find\n  \"Returns the map entry for key, or nil if key not present.\"\n  [coll k]\n  (if (ifind? coll)\n    (-find coll k)\n    (when (and (not (nil? coll))\n            (associative? coll)\n            (contains? coll k))\n      (MapEntry. k (get coll k) nil))))\n\n(defn ^boolean distinct?\n  \"Returns true if no two of the arguments are =\"\n  ([x] true)\n  ([x y] (not (= x y)))\n  ([x y & more]\n     (if (not (= x y))\n     (loop [s #{x y} xs more]\n       (let [x (first xs)\n             etc (next xs)]\n         (if xs\n           (if (contains? s x)\n             false\n             (recur (conj s x) etc))\n           true)))\n     false)))\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; Seq fns ;;;;;;;;;;;;;;;;\n\n(defn ^number compare\n  \"Comparator. Returns a negative number, zero, or a positive number\n  when x is logically 'less than', 'equal to', or 'greater than'\n  y. Uses IComparable if available and google.array.defaultCompare for objects\n of the same type and special-cases nil to be less than any other object.\"\n  [x y]\n  (cond\n   (identical? x y) 0\n\n   (nil? x) -1\n\n   (nil? y) 1\n\n   (number? x) (if (number? y)\n                 (garray\/defaultCompare x y)\n                 (throw (js\/Error. (str \"Cannot compare \" x \" to \" y))))\n\n   (satisfies? IComparable x)\n   (-compare x y)\n\n   :else\n   (if (and (or (string? x) (array? x) (true? x) (false? x))\n            (identical? (type x) (type y)))\n     (garray\/defaultCompare x y)\n     (throw (js\/Error. (str \"Cannot compare \" x \" to \" y))))))\n\n(defn ^:private compare-indexed\n  \"Compare indexed collection.\"\n  ([xs ys]\n     (let [xl (count xs)\n           yl (count ys)]\n       (cond\n        (< xl yl) -1\n        (> xl yl) 1\n        (== xl 0) 0\n        :else (compare-indexed xs ys xl 0))))\n  ([xs ys len n]\n     (let [d (compare (nth xs n) (nth ys n))]\n       (if (and (zero? d) (< (+ n 1) len))\n         (recur xs ys len (inc n))\n         d))))\n\n(defn ^:private fn->comparator\n  \"Given a fn that might be boolean valued or a comparator,\n   return a fn that is a comparator.\"\n  [f]\n  (if (= f compare)\n    compare\n    (fn [x y]\n      (let [r (f x y)]\n        (if (number? r)\n          r\n          (if r\n            -1\n            (if (f y x) 1 0)))))))\n\n(declare to-array)\n\n(defn sort\n  \"Returns a sorted sequence of the items in coll. Comp can be\n   boolean-valued comparison function, or a -\/0\/+ valued comparator.\n   Comp defaults to compare.\"\n  ([coll]\n   (sort compare coll))\n  ([comp coll]\n   (if (seq coll)\n     (let [a (to-array coll)]\n       ;; matching Clojure's stable sort, though docs don't promise it\n       (garray\/stableSort a (fn->comparator comp))\n       (with-meta (seq a) (meta coll)))\n     ())))\n\n(defn sort-by\n  \"Returns a sorted sequence of the items in coll, where the sort\n   order is determined by comparing (keyfn item).  Comp can be\n   boolean-valued comparison function, or a -\/0\/+ valued comparator.\n   Comp defaults to compare.\"\n  ([keyfn coll]\n   (sort-by keyfn compare coll))\n  ([keyfn comp coll]\n     (sort (fn [x y] ((fn->comparator comp) (keyfn x) (keyfn y))) coll)))\n\n; simple reduce based on seqs, used as default\n(defn- seq-reduce\n  ([f coll]\n    (if-let [s (seq coll)]\n      (reduce f (first s) (next s))\n      (f)))\n  ([f val coll]\n    (loop [val val, coll (seq coll)]\n      (if coll\n        (let [nval (f val (first coll))]\n          (if (reduced? nval)\n            @nval\n            (recur nval (next coll))))\n        val))))\n\n(declare vec)\n\n(defn shuffle\n  \"Return a random permutation of coll\"\n  [coll]\n  (let [a (to-array coll)]\n    (garray\/shuffle a)\n    (vec a)))\n\n(defn- iter-reduce\n  ([coll f]\n   (let [iter (-iterator coll)]\n     (if (.hasNext iter)\n       (let [init (.next iter)]\n         (loop [acc init]\n           (if ^boolean (.hasNext iter)\n             (let [nacc (f acc (.next iter))]\n               (if (reduced? nacc)\n                 @nacc\n                 (recur nacc)))\n             acc)))\n       (f))))\n  ([coll f init]\n   (let [iter (-iterator coll)]\n     (loop [acc init]\n       (if ^boolean (.hasNext iter)\n         (let [nacc (f acc (.next iter))]\n           (if (reduced? nacc)\n             @nacc\n             (recur nacc)))\n         acc)))))\n\n(defn reduce\n  \"f should be a function of 2 arguments. If val is not supplied,\n  returns the result of applying f to the first 2 items in coll, then\n  applying f to that result and the 3rd item, etc. If coll contains no\n  items, f must accept no arguments as well, and reduce returns the\n  result of calling f with no arguments.  If coll has only 1 item, it\n  is returned and f is not called.  If val is supplied, returns the\n  result of applying f to val and the first item in coll, then\n  applying f to that result and the 2nd item, etc. If coll contains no\n  items, returns val and f is not called.\"\n  ([f coll]\n     (cond\n       (implements? IReduce coll)\n       (-reduce coll f)\n\n       (array? coll)\n       (array-reduce coll f)\n\n       (string? coll)\n       (array-reduce coll f)\n\n       (native-satisfies? IReduce coll)\n       (-reduce coll f)\n\n       (iterable? coll)\n       (iter-reduce coll f)\n\n       :else\n       (seq-reduce f coll)))\n  ([f val coll]\n     (cond\n       (implements? IReduce coll)\n       (-reduce coll f val)\n\n       (array? coll)\n       (array-reduce coll f val)\n\n       (string? coll)\n       (array-reduce coll f val)\n\n       (native-satisfies? IReduce coll)\n       (-reduce coll f val)\n\n       (iterable? coll)\n       (iter-reduce coll f val)\n\n       :else\n       (seq-reduce f val coll))))\n\n(defn reduce-kv\n  \"Reduces an associative collection. f should be a function of 3\n  arguments. Returns the result of applying f to init, the first key\n  and the first value in coll, then applying f to that result and the\n  2nd key and value, etc. If coll contains no entries, returns init\n  and f is not called. Note that reduce-kv is supported on vectors,\n  where the keys will be the ordinals.\"\n  ([f init coll]\n    (if-not (nil? coll)\n      (-kv-reduce coll f init)\n      init)))\n\n(defn identity\n  \"Returns its argument.\"\n  [x] x)\n\n(defn completing\n  \"Takes a reducing function f of 2 args and returns a fn suitable for\n  transduce by adding an arity-1 signature that calls cf (default -\n  identity) on the result argument.\"\n  ([f] (completing f identity))\n  ([f cf]\n    (fn\n      ([] (f))\n      ([x] (cf x))\n      ([x y] (f x y)))))\n\n(defn transduce\n  \"reduce with a transformation of f (xf). If init is not\n  supplied, (f) will be called to produce it. f should be a reducing\n  step function that accepts both 1 and 2 arguments, if it accepts\n  only 2 you can add the arity-1 with 'completing'. Returns the result\n  of applying (the transformed) xf to init and the first item in coll,\n  then applying xf to that result and the 2nd item, etc. If coll\n  contains no items, returns init and f is not called. Note that\n  certain transforms may inject or skip items.\"\n  ([xform f coll] (transduce xform f (f) coll))\n  ([xform f init coll]\n     (let [f (xform f)\n           ret (reduce f init coll)]\n       (f ret))))\n\n;;; Math - variadic forms will not work until the following implemented:\n;;; first, next, reduce\n\n(defn ^number +\n  \"Returns the sum of nums. (+) returns 0.\"\n  ([] 0)\n  ([x] x)\n  ([x y] (cljs.core\/+ x y))\n  ([x y & more]\n    (reduce + (cljs.core\/+ x y) more)))\n\n(defn ^number -\n  \"If no ys are supplied, returns the negation of x, else subtracts\n  the ys from x and returns the result.\"\n  ([x] (cljs.core\/- x))\n  ([x y] (cljs.core\/- x y))\n  ([x y & more] (reduce - (cljs.core\/- x y) more)))\n\n(defn ^number *\n  \"Returns the product of nums. (*) returns 1.\"\n  ([] 1)\n  ([x] x)\n  ([x y] (cljs.core\/* x y))\n  ([x y & more] (reduce * (cljs.core\/* x y) more)))\n\n(declare divide)\n\n(defn ^number \/\n  \"If no denominators are supplied, returns 1\/numerator,\n  else returns numerator divided by all of the denominators.\"\n  ([x] (\/ 1 x))\n  ([x y] (cljs.core\/divide x y)) ;; FIXME: waiting on cljs.core\/\/\n  ([x y & more] (reduce \/ (\/ x y) more)))\n\n(defn ^boolean <\n  \"Returns non-nil if nums are in monotonically increasing order,\n  otherwise false.\"\n  ([x] true)\n  ([x y] (cljs.core\/< x y))\n  ([x y & more]\n     (if (cljs.core\/< x y)\n       (if (next more)\n         (recur y (first more) (next more))\n         (cljs.core\/< y (first more)))\n       false)))\n\n(defn ^boolean <=\n  \"Returns non-nil if nums are in monotonically non-decreasing order,\n  otherwise false.\"\n  ([x] true)\n  ([x y] (cljs.core\/<= x y))\n  ([x y & more]\n   (if (cljs.core\/<= x y)\n     (if (next more)\n       (recur y (first more) (next more))\n       (cljs.core\/<= y (first more)))\n     false)))\n\n(defn ^boolean >\n  \"Returns non-nil if nums are in monotonically decreasing order,\n  otherwise false.\"\n  ([x] true)\n  ([x y] (cljs.core\/> x y))\n  ([x y & more]\n   (if (cljs.core\/> x y)\n     (if (next more)\n       (recur y (first more) (next more))\n       (cljs.core\/> y (first more)))\n     false)))\n\n(defn ^boolean >=\n  \"Returns non-nil if nums are in monotonically non-increasing order,\n  otherwise false.\"\n  ([x] true)\n  ([x y] (cljs.core\/>= x y))\n  ([x y & more]\n   (if (cljs.core\/>= x y)\n     (if (next more)\n       (recur y (first more) (next more))\n       (cljs.core\/>= y (first more)))\n     false)))\n\n(defn dec\n  \"Returns a number one less than num.\"\n  [x] (- x 1))\n\n(defn ^number max\n  \"Returns the greatest of the nums.\"\n  ([x] x)\n  ([x y] (cljs.core\/max x y))\n  ([x y & more]\n   (reduce max (cljs.core\/max x y) more)))\n\n(defn ^number min\n  \"Returns the least of the nums.\"\n  ([x] x)\n  ([x y] (cljs.core\/min x y))\n  ([x y & more]\n   (reduce min (cljs.core\/min x y) more)))\n\n(defn ^number byte [x] x)\n\n(defn char\n  \"Coerce to char\"\n  [x]\n  (cond\n    (number? x) (.fromCharCode js\/String x)\n    (and (string? x) (== (.-length x) 1)) x\n    :else (throw (js\/Error. \"Argument to char must be a character or number\"))))\n\n(defn ^number short [x] x)\n(defn ^number float [x] x)\n(defn ^number double [x] x)\n\n(defn ^number unchecked-byte [x] x)\n(defn ^number unchecked-char [x] x)\n(defn ^number unchecked-short [x] x)\n(defn ^number unchecked-float [x] x)\n(defn ^number unchecked-double [x] x)\n\n(defn ^number unchecked-add\n  \"Returns the sum of nums. (+) returns 0.\"\n  ([] 0)\n  ([x] x)\n  ([x y] (cljs.core\/unchecked-add x y))\n  ([x y & more] (reduce unchecked-add (cljs.core\/unchecked-add x y) more)))\n\n(defn ^number unchecked-add-int\n  \"Returns the sum of nums. (+) returns 0.\"\n  ([] 0)\n  ([x] x)\n  ([x y] (cljs.core\/unchecked-add-int x y))\n  ([x y & more] (reduce unchecked-add-int (cljs.core\/unchecked-add-int x y) more)))\n\n(defn unchecked-dec\n  \"Returns a number one less than x, an int.\"\n  [x]\n  (cljs.core\/unchecked-dec x))\n\n(defn unchecked-dec-int\n  \"Returns a number one less than x, an int.\"\n  [x]\n  (cljs.core\/unchecked-dec-int x))\n\n(defn ^number unchecked-divide-int\n  \"If no denominators are supplied, returns 1\/numerator,\n  else returns numerator divided by all of the denominators.\"\n  ([x] (unchecked-divide-int 1 x))\n  ([x y] (cljs.core\/divide x y)) ;; FIXME: waiting on cljs.core\/\/\n  ([x y & more] (reduce unchecked-divide-int (unchecked-divide-int x y) more)))\n\n(defn unchecked-inc [x]\n  (cljs.core\/unchecked-inc x))\n\n(defn unchecked-inc-int [x]\n  (cljs.core\/unchecked-inc-int x))\n\n(defn ^number unchecked-multiply\n  \"Returns the product of nums. (*) returns 1.\"\n  ([] 1)\n  ([x] x)\n  ([x y] (cljs.core\/unchecked-multiply x y))\n  ([x y & more] (reduce unchecked-multiply (cljs.core\/unchecked-multiply x y) more)))\n\n(defn ^number unchecked-multiply-int\n  \"Returns the product of nums. (*) returns 1.\"\n  ([] 1)\n  ([x] x)\n  ([x y] (cljs.core\/unchecked-multiply-int x y))\n  ([x y & more] (reduce unchecked-multiply-int (cljs.core\/unchecked-multiply-int x y) more)))\n\n(defn unchecked-negate [x]\n  (cljs.core\/unchecked-negate x))\n\n(defn unchecked-negate-int [x]\n  (cljs.core\/unchecked-negate-int x))\n\n(declare mod)\n\n(defn unchecked-remainder-int [x n]\n  (cljs.core\/unchecked-remainder-int x n))\n\n(defn ^number unchecked-subtract\n  \"If no ys are supplied, returns the negation of x, else subtracts\n  the ys from x and returns the result.\"\n  ([x] (cljs.core\/unchecked-subtract x))\n  ([x y] (cljs.core\/unchecked-subtract x y))\n  ([x y & more] (reduce unchecked-subtract (cljs.core\/unchecked-subtract x y) more)))\n\n(defn ^number unchecked-subtract-int\n  \"If no ys are supplied, returns the negation of x, else subtracts\n  the ys from x and returns the result.\"\n  ([x] (cljs.core\/unchecked-subtract-int x))\n  ([x y] (cljs.core\/unchecked-subtract-int x y))\n  ([x y & more] (reduce unchecked-subtract-int (cljs.core\/unchecked-subtract-int x y) more)))\n\n(defn- ^number fix [q]\n  (if (>= q 0)\n    (Math\/floor q)\n    (Math\/ceil q)))\n\n(defn int\n  \"Coerce to int by stripping decimal places.\"\n  [x]\n  (bit-or x 0))\n\n(defn unchecked-int\n  \"Coerce to int by stripping decimal places.\"\n  [x]\n  (fix x))\n\n(defn long\n  \"Coerce to long by stripping decimal places. Identical to `int'.\"\n  [x]\n  (fix x))\n\n(defn unchecked-long\n  \"Coerce to long by stripping decimal places. Identical to `int'.\"\n  [x]\n  (fix x))\n\n(defn booleans [x] x)\n(defn bytes [x] x)\n(defn chars [x] x)\n(defn shorts [x] x)\n(defn ints [x] x)\n(defn floats [x] x)\n(defn doubles [x] x)\n(defn longs [x] x)\n\n(defn js-mod\n  \"Modulus of num and div with original javascript behavior. i.e. bug for negative numbers\"\n  [n d]\n  (cljs.core\/js-mod n d))\n\n(defn mod\n  \"Modulus of num and div. Truncates toward negative infinity.\"\n  [n d]\n  (js-mod (+ (js-mod n d) d) d))\n\n(defn quot\n  \"quot[ient] of dividing numerator by denominator.\"\n  [n d]\n  (let [rem (js-mod n d)]\n    (fix (\/ (- n rem) d))))\n\n(defn rem\n  \"remainder of dividing numerator by denominator.\"\n  [n d]\n  (let [q (quot n d)]\n    (- n (* d q))))\n\n(defn bit-xor\n  \"Bitwise exclusive or\"\n  ([x y] (cljs.core\/bit-xor x y))\n  ([x y & more]\n     (reduce bit-xor (cljs.core\/bit-xor x y) more)))\n\n(defn bit-and\n  \"Bitwise and\"\n  ([x y] (cljs.core\/bit-and x y))\n  ([x y & more]\n     (reduce bit-and (cljs.core\/bit-and x y) more)))\n\n(defn bit-or\n  \"Bitwise or\"\n  ([x y] (cljs.core\/bit-or x y))\n  ([x y & more]\n     (reduce bit-or (cljs.core\/bit-or x y) more)))\n\n(defn bit-and-not\n  \"Bitwise and with complement\"\n  ([x y] (cljs.core\/bit-and-not x y))\n  ([x y & more]\n     (reduce bit-and-not (cljs.core\/bit-and-not x y) more)))\n\n(defn bit-clear\n  \"Clear bit at index n\"\n  [x n]\n  (cljs.core\/bit-clear x n))\n\n(defn bit-flip\n  \"Flip bit at index n\"\n  [x n]\n  (cljs.core\/bit-flip x n))\n\n(defn bit-not\n  \"Bitwise complement\"\n  [x] (cljs.core\/bit-not x))\n\n(defn bit-set\n  \"Set bit at index n\"\n  [x n]\n  (cljs.core\/bit-set x n))\n\n(defn ^boolean bit-test\n  \"Test bit at index n\"\n  [x n]\n  (cljs.core\/bit-test x n))\n\n(defn bit-shift-left\n  \"Bitwise shift left\"\n  [x n] (cljs.core\/bit-shift-left x n))\n\n(defn bit-shift-right\n  \"Bitwise shift right\"\n  [x n] (cljs.core\/bit-shift-right x n))\n\n(defn bit-shift-right-zero-fill\n  \"DEPRECATED: Bitwise shift right with zero fill\"\n  [x n] (cljs.core\/bit-shift-right-zero-fill x n))\n\n(defn unsigned-bit-shift-right\n  \"Bitwise shift right with zero fill\"\n  [x n] (cljs.core\/unsigned-bit-shift-right x n))\n\n(defn bit-count\n  \"Counts the number of bits set in n\"\n  [v]\n  (let [v (- v (bit-and (bit-shift-right v 1) 0x55555555))\n        v (+ (bit-and v 0x33333333) (bit-and (bit-shift-right v 2) 0x33333333))]\n    (bit-shift-right (* (bit-and (+ v (bit-shift-right v 4)) 0xF0F0F0F) 0x1010101) 24)))\n\n(defn ^boolean ==\n  \"Returns non-nil if nums all have the equivalent\n  value, otherwise false. Behavior on non nums is\n  undefined.\"\n  ([x] true)\n  ([x y] (-equiv x y))\n  ([x y & more]\n   (if (== x y)\n     (if (next more)\n       (recur y (first more) (next more))\n       (== y (first more)))\n     false)))\n\n(defn ^boolean pos?\n  \"Returns true if num is greater than zero, else false\"\n  [x] (cljs.core\/pos? x))\n\n(defn ^boolean zero?\n  \"Returns true if num is zero, else false\"\n  [x]\n  (cljs.core\/zero? x))\n\n(defn ^boolean neg?\n  \"Returns true if num is less than zero, else false\"\n  [x] (cljs.core\/neg? x))\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; protocols for host types ;;;;;;\n\n(defn nthnext\n  \"Returns the nth next of coll, (seq coll) when n is 0.\"\n  [coll n]\n  (loop [n n xs (seq coll)]\n    (if (and xs (pos? n))\n      (recur (dec n) (next xs))\n      xs)))\n\n;;;;;;;;;;;;;;;;;;;;;;;;;; basics ;;;;;;;;;;;;;;;;;;\n\n(defn str\n  \"With no args, returns the empty string. With one arg x, returns\n  x.toString().  (str nil) returns the empty string. With more than\n  one arg, returns the concatenation of the str values of the args.\"\n  ([] \"\")\n  ([x] (if (nil? x)\n         \"\"\n         (.join #js [x] \"\")))\n  ([x & ys]\n    (loop [sb (StringBuffer. (str x)) more ys]\n      (if more\n        (recur (. sb  (append (str (first more)))) (next more))\n        (.toString sb)))))\n\n(defn subs\n  \"Returns the substring of s beginning at start inclusive, and ending\n  at end (defaults to length of string), exclusive.\"\n  ([s start] ^string (.substring s start))\n  ([s start end] ^string (.substring s start end)))\n\n(declare map name)\n\n(defn- equiv-sequential\n  \"Assumes x is sequential. Returns true if x equals y, otherwise\n  returns false.\"\n  [x y]\n  (boolean\n    (when (sequential? y)\n      (if (and (counted? x) (counted? y)\n               (not (== (count x) (count y))))\n        false\n        (loop [xs (seq x) ys (seq y)]\n          (cond (nil? xs) (nil? ys)\n            (nil? ys) false\n            (= (first xs) (first ys)) (recur (next xs) (next ys))\n            :else false))))))\n\n(defn- hash-coll [coll]\n  (if (seq coll)\n    (loop [res (hash (first coll)) s (next coll)]\n      (if (nil? s)\n        res\n        (recur (hash-combine res (hash (first s))) (next s))))\n    0))\n\n(declare key val)\n\n(defn- hash-imap [m]\n  ;; a la clojure.lang.APersistentMap\n  (loop [h 0 s (seq m)]\n    (if s\n      (let [e (first s)]\n        (recur (js-mod (+ h (bit-xor (hash (key e)) (hash (val e))))\n                    4503599627370496)\n               (next s)))\n      h)))\n\n(defn- hash-iset [s]\n  ;; a la clojure.lang.APersistentSet\n  (loop [h 0 s (seq s)]\n    (if s\n      (let [e (first s)]\n        (recur (js-mod (+ h (hash e)) 4503599627370496)\n               (next s)))\n      h)))\n\n(declare name chunk-first chunk-rest)\n\n(defn- extend-object!\n  \"Takes a JavaScript object and a map of names to functions and\n  attaches said functions as methods on the object.  Any references to\n  JavaScript's implicit this (via the this-as macro) will resolve to the\n  object that the function is attached.\"\n  [obj fn-map]\n  (doseq [[key-name f] fn-map]\n    (let [str-name (name key-name)]\n      (gobject\/set obj str-name f)))\n  obj)\n\n;;;;;;;;;;;;;;;; cons ;;;;;;;;;;;;;;;;\n(deftype List [meta first rest count ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x count))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  IList\n\n  ICloneable\n  (-clone [_] (List. meta first rest count __hash))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (List. new-meta first rest count __hash)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  ASeq\n  ISeq\n  (-first [coll] first)\n  (-rest [coll]\n    (if (== count 1)\n      ()\n      rest))\n\n  INext\n  (-next [coll]\n    (if (== count 1)\n      nil\n      rest))\n\n  IStack\n  (-peek [coll] first)\n  (-pop [coll] (-rest coll))\n\n  ICollection\n  (-conj [coll o] (List. meta o coll (inc count) nil))\n\n  IEmptyableCollection\n  (-empty [coll] (-with-meta (.-EMPTY List) meta))\n\n  ISequential\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-ordered-coll __hash))\n\n  ISeqable\n  (-seq [coll] coll)\n\n  ICounted\n  (-count [coll] count)\n\n  IReduce\n  (-reduce [coll f] (seq-reduce f coll))\n  (-reduce [coll f start] (seq-reduce f start coll)))\n\n(defn list?\n  \"Returns true if x implements IList\"\n  [x]\n  (satisfies? IList x))\n\n(es6-iterable List)\n\n(deftype EmptyList [meta]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  IList\n\n  ICloneable\n  (-clone [_] (EmptyList. meta))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (EmptyList. new-meta)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  ISeq\n  (-first [coll] nil)\n  (-rest [coll] ())\n\n  INext\n  (-next [coll] nil)\n\n  IStack\n  (-peek [coll] nil)\n  (-pop [coll] (throw (js\/Error. \"Can't pop empty list\")))\n\n  ICollection\n  (-conj [coll o] (List. meta o nil 1 nil))\n\n  IEmptyableCollection\n  (-empty [coll] coll)\n\n  ISequential\n  IEquiv\n  (-equiv [coll other]\n    (if (or (list? other)\n            (sequential? other))\n      (nil? (seq other))\n      false))\n\n  IHash\n  (-hash [coll] empty-ordered-hash)\n\n  ISeqable\n  (-seq [coll] nil)\n\n  ICounted\n  (-count [coll] 0)\n\n  IReduce\n  (-reduce [coll f] (seq-reduce f coll))\n  (-reduce [coll f start] (seq-reduce f start coll)))\n\n(set! (.-EMPTY List) (EmptyList. nil))\n\n(es6-iterable EmptyList)\n\n(defn reversible?\n  \"Returns true if coll satisfies? IReversible.\"\n  [coll]\n  (satisfies? IReversible coll))\n\n(defn ^seq rseq\n  \"Returns, in constant time, a seq of the items in rev (which\n  can be a vector or sorted-map), in reverse order. If rev is empty returns nil\"\n  [rev]\n  (-rseq rev))\n\n(defn reverse\n  \"Returns a seq of the items in coll in reverse order. Not lazy.\"\n  [coll]\n  (if (reversible? coll)\n    (or (rseq coll) ())\n    (reduce conj () coll)))\n\n(defn list\n  \"Creates a new list containing the items.\"\n  [& xs]\n  (let [arr (if (and (instance? IndexedSeq xs) (zero? (.-i xs)))\n              (.-arr xs)\n              (let [arr (array)]\n                (loop [^not-native xs xs]\n                  (if-not (nil? xs)\n                    (do\n                      (.push arr (-first xs))\n                      (recur (-next xs)))\n                    arr))))]\n    (loop [i (alength arr) r ()]\n      (if (> i 0)\n        (recur (dec i) (-conj r (aget arr (dec i))))\n        r))))\n\n(deftype Cons [meta first rest ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  IList\n\n  ICloneable\n  (-clone [_] (Cons. meta first rest __hash))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (Cons. new-meta first rest __hash)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  ASeq\n  ISeq\n  (-first [coll] first)\n  (-rest [coll] (if (nil? rest) () rest))\n\n  INext\n  (-next [coll]\n    (if (nil? rest) nil (seq rest)))\n\n  ICollection\n  (-conj [coll o] (Cons. nil o coll nil))\n\n  IEmptyableCollection\n  (-empty [coll] (.-EMPTY List))\n\n  ISequential\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-ordered-coll __hash))\n\n  ISeqable\n  (-seq [coll] coll)\n\n  IReduce\n  (-reduce [coll f] (seq-reduce f coll))\n  (-reduce [coll f start] (seq-reduce f start coll)))\n\n(es6-iterable Cons)\n\n(defn cons\n  \"Returns a new seq where x is the first element and coll is the rest.\"\n  [x coll]\n  (cond\n    (nil? coll)             (List. nil x nil 1 nil)\n    (implements? ISeq coll) (Cons. nil x coll nil)\n    :default                (Cons. nil x (seq coll) nil)))\n\n(defn hash-keyword [k]\n  (int (+ (hash-symbol k) 0x9e3779b9)))\n\n(defn- compare-keywords [a b]\n  (cond\n   (identical? (.-fqn a) (.-fqn b)) 0\n   (and (not (.-ns a)) (.-ns b)) -1\n   (.-ns a) (if-not (.-ns b)\n              1\n              (let [nsc (garray\/defaultCompare (.-ns a) (.-ns b))]\n                (if (== 0 nsc)\n                  (garray\/defaultCompare (.-name a) (.-name b))\n                  nsc)))\n   :default (garray\/defaultCompare (.-name a) (.-name b))))\n\n(deftype Keyword [ns name fqn ^:mutable _hash]\n  Object\n  (toString [_] (str \":\" fqn))\n  (equiv [this other]\n    (-equiv this other))\n\n  IEquiv\n  (-equiv [_ other]\n    (if (instance? Keyword other)\n      (identical? fqn (.-fqn other))\n      false))\n  IFn\n  (-invoke [kw coll]\n    (get coll kw))\n  (-invoke [kw coll not-found]\n    (get coll kw not-found))\n\n  IHash\n  (-hash [this]\n    (caching-hash this hash-keyword _hash))\n\n  INamed\n  (-name [_] name)\n  (-namespace [_] ns)\n\n  IPrintWithWriter\n  (-pr-writer [o writer _] (-write writer (str \":\" fqn))))\n\n(defn keyword?\n  \"Return true if x is a Keyword\"\n  [x]\n  (instance? Keyword x))\n\n(defn keyword-identical?\n  \"Efficient test to determine that two keywords are identical.\"\n  [x y]\n  (if (identical? x y)\n    true\n    (if (and (keyword? x) (keyword? y))\n      (identical? (.-fqn x) (.-fqn y))\n      false)))\n\n(defn symbol-identical?\n  \"Efficient test to determine that two symbols are identical.\"\n  [x y]\n  (if (identical? x y)\n    true\n    (if (and (symbol? x) (symbol? y))\n      (identical? (.-str x) (.-str y))\n      false)))\n\n(defn namespace\n  \"Returns the namespace String of a symbol or keyword, or nil if not present.\"\n  [x]\n  (if (implements? INamed x)\n    (-namespace x)\n    (throw (js\/Error. (str \"Doesn't support namespace: \" x)))))\n\n(defn ident?\n  \"Return true if x is a symbol or keyword\"\n  [x] (or (keyword? x) (symbol? x)))\n\n(defn simple-ident?\n  \"Return true if x is a symbol or keyword without a namespace\"\n  [x] (and (ident? x) (nil? (namespace x))))\n\n(defn qualified-ident?\n  \"Return true if x is a symbol or keyword with a namespace\"\n  [x] (boolean (and (ident? x) (namespace x) true)))\n\n(defn simple-symbol?\n  \"Return true if x is a symbol without a namespace\"\n  [x] (and (symbol? x) (nil? (namespace x))))\n\n(defn qualified-symbol?\n  \"Return true if x is a symbol with a namespace\"\n  [x] (boolean (and (symbol? x) (namespace x) true)))\n\n(defn simple-keyword?\n  \"Return true if x is a keyword without a namespace\"\n  [x] (and (keyword? x) (nil? (namespace x))))\n\n(defn qualified-keyword?\n  \"Return true if x is a keyword with a namespace\"\n  [x] (boolean (and (keyword? x) (namespace x) true)))\n\n(defn keyword\n  \"Returns a Keyword with the given namespace and name.  Do not use :\n  in the keyword strings, it will be added automatically.\"\n  ([name] (cond\n            (keyword? name) name\n            (symbol? name) (Keyword.\n                             (cljs.core\/namespace name)\n                             (cljs.core\/name name) (.-str name) nil)\n            (= \"\/\" name) (Keyword. nil name name nil)\n            (string? name) (let [parts (.split name \"\/\")]\n                             (if (== (alength parts) 2)\n                               (Keyword. (aget parts 0) (aget parts 1) name nil)\n                               (Keyword. nil (aget parts 0) name nil)))))\n  ([ns name]\n   (let [ns   (cond\n                (keyword? ns) (cljs.core\/name ns)\n                (symbol? ns)  (cljs.core\/name ns)\n                :else ns)\n         name (cond\n                (keyword? name) (cljs.core\/name name)\n                (symbol? name) (cljs.core\/name name)\n                :else name)]\n     (Keyword. ns name (str (when ns (str ns \"\/\")) name) nil))))\n\n\n(deftype LazySeq [meta ^:mutable fn ^:mutable s ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (sval [coll]\n    (if (nil? fn)\n      s\n      (do\n        (set! s (fn))\n        (set! fn nil)\n        s)))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  IPending\n  (-realized? [coll]\n    (not fn))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (LazySeq. new-meta #(-seq coll) nil __hash)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  ISeq\n  (-first [coll]\n    (-seq coll)\n    (when-not (nil? s)\n      (first s)))\n  (-rest [coll]\n    (-seq coll)\n    (if-not (nil? s)\n      (rest s)\n      ()))\n\n  INext\n  (-next [coll]\n    (-seq coll)\n    (when-not (nil? s)\n      (next s)))\n\n  ICollection\n  (-conj [coll o] (cons o coll))\n\n  IEmptyableCollection\n  (-empty [coll] (-with-meta (.-EMPTY List) meta))\n\n  ISequential\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-ordered-coll __hash))\n\n  ISeqable\n  (-seq [coll]\n    (.sval coll)\n    (when-not (nil? s)\n      (loop [ls s]\n        (if (instance? LazySeq ls)\n          (recur (.sval ls))\n          (do (set! s ls)\n            (seq s))))))\n\n  IReduce\n  (-reduce [coll f] (seq-reduce f coll))\n  (-reduce [coll f start] (seq-reduce f start coll)))\n\n(es6-iterable LazySeq)\n\n(declare ArrayChunk)\n\n(deftype ChunkBuffer [^:mutable buf ^:mutable end]\n  Object\n  (add [_ o]\n    (aset buf end o)\n    (set! end (inc end)))\n\n  (chunk [_]\n    (let [ret (ArrayChunk. buf 0 end)]\n      (set! buf nil)\n      ret))\n\n  ICounted\n  (-count [_] end))\n\n(defn chunk-buffer [capacity]\n  (ChunkBuffer. (make-array capacity) 0))\n\n(deftype ArrayChunk [arr off end]\n  ICounted\n  (-count [_] (- end off))\n\n  IIndexed\n  (-nth [coll i]\n    (aget arr (+ off i)))\n  (-nth [coll i not-found]\n    (if (and (>= i 0) (< i (- end off)))\n      (aget arr (+ off i))\n      not-found))\n\n  IChunk\n  (-drop-first [coll]\n    (if (== off end)\n      (throw (js\/Error. \"-drop-first of empty chunk\"))\n      (ArrayChunk. arr (inc off) end)))\n\n  IReduce\n  (-reduce [coll f]\n    (array-reduce arr f (aget arr off) (inc off)))\n  (-reduce [coll f start]\n    (array-reduce arr f start off)))\n\n(defn array-chunk\n  ([arr]\n     (ArrayChunk. arr 0 (alength arr)))\n  ([arr off]\n     (ArrayChunk. arr off (alength arr)))\n  ([arr off end]\n     (ArrayChunk. arr off end)))\n\n(deftype ChunkedCons [chunk more meta ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (ChunkedCons. chunk more new-meta __hash)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  ISequential\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  ISeqable\n  (-seq [coll] coll)\n\n  ASeq\n  ISeq\n  (-first [coll] (-nth chunk 0))\n  (-rest [coll]\n    (if (> (-count chunk) 1)\n      (ChunkedCons. (-drop-first chunk) more nil nil)\n      (if (nil? more)\n        ()\n        more)))\n\n  INext\n  (-next [coll]\n    (if (> (-count chunk) 1)\n      (ChunkedCons. (-drop-first chunk) more nil nil)\n      (when-not (nil? more)\n        (-seq more))))\n\n  IChunkedSeq\n  (-chunked-first [coll] chunk)\n  (-chunked-rest [coll]\n    (if (nil? more)\n      ()\n      more))\n\n  IChunkedNext\n  (-chunked-next [coll]\n    (if (nil? more)\n      nil\n      more))\n\n  ICollection\n  (-conj [this o]\n    (cons o this))\n\n  IEmptyableCollection\n  (-empty [coll] (.-EMPTY List))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-ordered-coll __hash)))\n\n(es6-iterable ChunkedCons)\n\n(defn chunk-cons [chunk rest]\n  (if (zero? (-count chunk))\n    rest\n    (ChunkedCons. chunk rest nil nil)))\n\n(defn chunk-append [b x]\n  (.add b x))\n\n(defn chunk [b]\n  (.chunk b))\n\n(defn chunk-first [s]\n  (-chunked-first s))\n\n(defn chunk-rest [s]\n  (-chunked-rest s))\n\n(defn chunk-next [s]\n  (if (implements? IChunkedNext s)\n    (-chunked-next s)\n    (seq (-chunked-rest s))))\n\n;;;;;;;;;;;;;;;;\n\n(defn to-array\n  \"Returns an array containing the contents of coll.\"\n  [coll]\n  (let [ary (array)]\n    (loop [s (seq coll)]\n      (if-not (nil? s)\n        (do (. ary push (first s))\n            (recur (next s)))\n        ary))))\n\n(defn to-array-2d\n  \"Returns a (potentially-ragged) 2-dimensional array\n  containing the contents of coll.\"\n  [coll]\n    (let [ret (make-array (count coll))]\n      (loop [i 0 xs (seq coll)]\n        (when-not (nil? xs)\n          (aset ret i (to-array (first xs)))\n          (recur (inc i) (next xs))))\n      ret))\n\n(defn int-array\n  \"Creates an array of ints. Does not coerce array, provided for compatibility\n  with Clojure.\"\n  ([size-or-seq]\n     (if (number? size-or-seq)\n       (int-array size-or-seq nil)\n       (into-array size-or-seq)))\n  ([size init-val-or-seq]\n     (let [a (make-array size)]\n       (if (seq? init-val-or-seq)\n         (let [s (seq init-val-or-seq)]\n           (loop [i 0 s s]\n             (if (and s (< i size))\n               (do\n                 (aset a i (first s))\n                 (recur (inc i) (next s)))\n               a)))\n         (do\n           (dotimes [i size]\n             (aset a i init-val-or-seq))\n           a)))))\n\n(defn long-array\n  \"Creates an array of longs. Does not coerce array, provided for compatibility\n  with Clojure.\"\n  ([size-or-seq]\n     (if (number? size-or-seq)\n       (long-array size-or-seq nil)\n       (into-array size-or-seq)))\n  ([size init-val-or-seq]\n     (let [a (make-array size)]\n       (if (seq? init-val-or-seq)\n         (let [s (seq init-val-or-seq)]\n           (loop [i 0 s s]\n             (if (and s (< i size))\n               (do\n                 (aset a i (first s))\n                 (recur (inc i) (next s)))\n               a)))\n         (do\n           (dotimes [i size]\n             (aset a i init-val-or-seq))\n           a)))))\n\n(defn double-array\n  \"Creates an array of doubles. Does not coerce array, provided for compatibility\n  with Clojure.\"\n  ([size-or-seq]\n     (if (number? size-or-seq)\n       (double-array size-or-seq nil)\n       (into-array size-or-seq)))\n  ([size init-val-or-seq]\n     (let [a (make-array size)]\n       (if (seq? init-val-or-seq)\n         (let [s (seq init-val-or-seq)]\n           (loop [i 0 s s]\n             (if (and s (< i size))\n               (do\n                 (aset a i (first s))\n                 (recur (inc i) (next s)))\n               a)))\n         (do\n           (dotimes [i size]\n             (aset a i init-val-or-seq))\n           a)))))\n\n(defn object-array\n  \"Creates an array of objects. Does not coerce array, provided for compatibility\n  with Clojure.\"\n  ([size-or-seq]\n     (if (number? size-or-seq)\n       (object-array size-or-seq nil)\n       (into-array size-or-seq)))\n  ([size init-val-or-seq]\n     (let [a (make-array size)]\n       (if (seq? init-val-or-seq)\n         (let [s (seq init-val-or-seq)]\n           (loop [i 0 s s]\n             (if (and s (< i size))\n               (do\n                 (aset a i (first s))\n                 (recur (inc i) (next s)))\n               a)))\n         (do\n           (dotimes [i size]\n             (aset a i init-val-or-seq))\n           a)))))\n\n(defn bounded-count\n  \"If coll is counted? returns its count, else will count at most the first n\n   elements of coll using its seq\"\n  {:added \"1.9\"}\n  [n coll]\n  (if (counted? coll)\n    (count coll)\n    (loop [i 0 s (seq coll)]\n      (if (and (not (nil? s)) (< i n))\n        (recur (inc i) (next s))\n        i))))\n\n(defn spread\n  [arglist]\n  (when-not (nil? arglist)\n    (let [n (next arglist)]\n      (if (nil? n)\n        (seq (first arglist))\n        (cons (first arglist)\n              (spread n))))))\n\n(defn concat\n  \"Returns a lazy seq representing the concatenation of the elements in the supplied colls.\"\n  ([] (lazy-seq nil))\n  ([x] (lazy-seq x))\n  ([x y]\n    (lazy-seq\n      (let [s (seq x)]\n        (if s\n          (if (chunked-seq? s)\n            (chunk-cons (chunk-first s) (concat (chunk-rest s) y))\n            (cons (first s) (concat (rest s) y)))\n          y))))\n  ([x y & zs]\n     (let [cat (fn cat [xys zs]\n                 (lazy-seq\n                   (let [xys (seq xys)]\n                     (if xys\n                       (if (chunked-seq? xys)\n                         (chunk-cons (chunk-first xys)\n                                     (cat (chunk-rest xys) zs))\n                         (cons (first xys) (cat (rest xys) zs)))\n                       (when zs\n                         (cat (first zs) (next zs)))))))]\n       (cat (concat x y) zs))))\n\n(defn list*\n  \"Creates a new list containing the items prepended to the rest, the\n  last of which will be treated as a sequence.\"\n  ([args] (seq args))\n  ([a args] (cons a args))\n  ([a b args] (cons a (cons b args)))\n  ([a b c args] (cons a (cons b (cons c args))))\n  ([a b c d & more]\n     (cons a (cons b (cons c (cons d (spread more)))))))\n\n\n;;; Transients\n\n(defn transient\n  \"Returns a new, transient version of the collection, in constant time.\"\n  [coll]\n  (-as-transient coll))\n\n(defn persistent!\n  \"Returns a new, persistent version of the transient collection, in\n  constant time. The transient collection cannot be used after this\n  call, any such use will throw an exception.\"\n  [tcoll]\n  (-persistent! tcoll))\n\n(defn conj!\n  \"Adds val to the transient collection, and return tcoll. The 'addition'\n  may happen at different 'places' depending on the concrete type.\"\n  ([] (transient []))\n  ([tcoll] tcoll)\n  ([tcoll val]\n    (-conj! tcoll val))\n  ([tcoll val & vals]\n    (let [ntcoll (-conj! tcoll val)]\n      (if vals\n        (recur ntcoll (first vals) (next vals))\n        ntcoll))))\n\n(defn assoc!\n  \"When applied to a transient map, adds mapping of key(s) to\n  val(s). When applied to a transient vector, sets the val at index.\n  Note - index must be <= (count vector). Returns coll.\"\n  ([tcoll key val]\n    (-assoc! tcoll key val))\n  ([tcoll key val & kvs]\n    (let [ntcoll (-assoc! tcoll key val)]\n      (if kvs\n        (recur ntcoll (first kvs) (second kvs) (nnext kvs))\n        ntcoll))))\n\n(defn dissoc!\n  \"Returns a transient map that doesn't contain a mapping for key(s).\"\n  ([tcoll key]\n    (-dissoc! tcoll key))\n  ([tcoll key & ks]\n    (let [ntcoll (-dissoc! tcoll key)]\n      (if ks\n        (recur ntcoll (first ks) (next ks))\n        ntcoll))))\n\n(defn pop!\n  \"Removes the last item from a transient vector. If\n  the collection is empty, throws an exception. Returns tcoll\"\n  [tcoll]\n  (-pop! tcoll))\n\n(defn disj!\n  \"disj[oin]. Returns a transient set of the same (hashed\/sorted) type, that\n  does not contain key(s).\"\n  ([tcoll val]\n    (-disjoin! tcoll val))\n  ([tcoll val & vals]\n    (let [ntcoll (-disjoin! tcoll val)]\n      (if vals\n        (recur ntcoll (first vals) (next vals))\n        ntcoll))))\n\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; apply ;;;;;;;;;;;;;;;;\n\n;; see core.clj\n(gen-apply-to)\n\n(set! *unchecked-if* true)\n\n(defn- ^seq next*\n  \"Internal. DO NOT USE! Next without the nil? check.\"\n  [coll]\n  (if (implements? INext coll)\n    (-next ^not-native coll)\n    (seq (rest coll))))\n\n(defn- apply-to-simple\n  \"Internal. DO NOT USE!\n  Assumes args was already called with seq beforehand!\"\n  ([f ^seq args]\n   (if (nil? args)\n     (if (.-cljs$core$IFn$_invoke$arity$0 f)\n       (.cljs$core$IFn$_invoke$arity$0 f)\n       (.call f f))\n     (apply-to-simple f (-first args) (next* args))))\n  ([f a0 ^seq args]\n   (if (nil? args)\n     (if (.-cljs$core$IFn$_invoke$arity$1 f)\n       (.cljs$core$IFn$_invoke$arity$1 f a0)\n       (.call f f a0))\n     (apply-to-simple f a0 (-first args) (next* args))))\n  ([f a0 a1 ^seq args]\n   (if (nil? args)\n     (if (.-cljs$core$IFn$_invoke$arity$2 f)\n       (.cljs$core$IFn$_invoke$arity$2 f a0 a1)\n       (.call f f a0 a1))\n     (apply-to-simple f a0 a1 (-first args) (next* args))))\n  ([f a0 a1 a2 ^seq args]\n   (if (nil? args)\n     (if (.-cljs$core$IFn$_invoke$arity$3 f)\n       (.cljs$core$IFn$_invoke$arity$3 f a0 a1 a2)\n       (.call f f a0 a1 a2))\n     (apply-to-simple f a0 a1 a2 (-first args) (next* args))))\n  ([f a0 a1 a2 a3 ^seq args]\n   (if (nil? args)\n     (if (.-cljs$core$IFn$_invoke$arity$4 f)\n       (.cljs$core$IFn$_invoke$arity$4 f a0 a1 a2 a3)\n       (.call f f a0 a1 a2 a3))\n     (gen-apply-to-simple f 4 args))))\n\n(defn apply\n  \"Applies fn f to the argument list formed by prepending intervening arguments to args.\"\n  ([f args]\n   (if (.-cljs$lang$applyTo f)\n     (let [fixed-arity (.-cljs$lang$maxFixedArity f)\n           bc (bounded-count (inc fixed-arity) args)]\n       (if (<= bc fixed-arity)\n         (apply-to f bc args)\n         (.cljs$lang$applyTo f args)))\n     (apply-to-simple f (seq args))))\n  ([f x args]\n   (if (.-cljs$lang$applyTo f)\n     (let [arglist (list* x args)\n           fixed-arity (.-cljs$lang$maxFixedArity f)\n           bc (inc (bounded-count fixed-arity args))]\n       (if (<= bc fixed-arity)\n         (apply-to f bc arglist)\n         (.cljs$lang$applyTo f arglist)))\n     (apply-to-simple f x (seq args))))\n  ([f x y args]\n   (if (.-cljs$lang$applyTo f)\n     (let [arglist (list* x y args)\n           fixed-arity (.-cljs$lang$maxFixedArity f)\n           bc (+ 2 (bounded-count (dec fixed-arity) args))]\n       (if (<= bc fixed-arity)\n         (apply-to f bc arglist)\n         (.cljs$lang$applyTo f arglist)))\n     (apply-to-simple f x y (seq args))))\n  ([f x y z args]\n   (if (.-cljs$lang$applyTo f)\n     (let [arglist (list* x y z args)\n           fixed-arity (.-cljs$lang$maxFixedArity f)\n           bc (+ 3 (bounded-count (- fixed-arity 2) args))]\n       (if (<= bc fixed-arity)\n         (apply-to f bc arglist)\n         (.cljs$lang$applyTo f arglist)))\n     (apply-to-simple f x y z (seq args))))\n  ([f a b c d & args]\n   (if (.-cljs$lang$applyTo f)\n     (let [spread-args (spread args)\n           arglist (cons a (cons b (cons c (cons d spread-args))))\n           fixed-arity (.-cljs$lang$maxFixedArity f)\n           bc (+ 4 (bounded-count (- fixed-arity 3) spread-args))]\n       (if (<= bc fixed-arity)\n         (apply-to f bc arglist)\n         (.cljs$lang$applyTo f arglist)))\n     (apply-to-simple f a b c d (spread args)))))\n\n(set! *unchecked-if* false)\n\n;; CLJS-3200: used by destructure macro for maps to reduce amount of repeated code\n;; placed here because it needs apply and hash-map (only declared at this point)\n(defn --destructure-map [x]\n  (if (implements? ISeq x) (apply cljs.core\/hash-map x) x))\n\n(defn vary-meta\n \"Returns an object of the same type and value as obj, with\n  (apply f (meta obj) args) as its metadata.\"\n  ([obj f]\n   (with-meta obj (f (meta obj))))\n  ([obj f a]\n   (with-meta obj (f (meta obj) a)))\n  ([obj f a b]\n   (with-meta obj (f (meta obj) a b)))\n  ([obj f a b c]\n   (with-meta obj (f (meta obj) a b c)))\n  ([obj f a b c d]\n   (with-meta obj (f (meta obj) a b c d)))\n  ([obj f a b c d & args]\n   (with-meta obj (apply f (meta obj) a b c d args))))\n\n(defn ^boolean not=\n  \"Same as (not (= obj1 obj2))\"\n  ([x] false)\n  ([x y] (not (= x y)))\n  ([x y & more]\n   (not (apply = x y more))))\n\n(defn not-empty\n  \"If coll is empty, returns nil, else coll\"\n  [coll] (when (seq coll) coll))\n\n(defn nil-iter []\n  (reify\n    Object\n    (hasNext [_] false)\n    (next [_] (js\/Error. \"No such element\"))\n    (remove [_] (js\/Error. \"Unsupported operation\"))))\n\n(deftype StringIter [s ^:mutable i]\n  Object\n  (hasNext [_] (< i (.-length s)))\n  (next [_]\n    (let [ret (.charAt s i)]\n      (set! i (inc i))\n      ret))\n  (remove [_] (js\/Error. \"Unsupported operation\")))\n\n(defn string-iter [x]\n  (StringIter. x 0))\n\n(deftype ArrayIter [arr ^:mutable i]\n  Object\n  (hasNext [_] (< i (alength arr)))\n  (next [_]\n    (let [ret (aget arr i)]\n      (set! i (inc i))\n      ret))\n  (remove [_] (js\/Error. \"Unsupported operation\")))\n\n(defn array-iter [x]\n  (ArrayIter. x 0))\n\n(def INIT #js {})\n(def START #js {})\n\n(deftype SeqIter [^:mutable _seq ^:mutable _next]\n  Object\n  (hasNext [_]\n    (if (identical? _seq INIT)\n      (do\n        (set! _seq START)\n        (set! _next (seq _next)))\n      (if (identical? _seq _next)\n        (set! _next (next _seq))))\n    (not (nil? _next)))\n  (next [this]\n    (if-not ^boolean (.hasNext this)\n      (throw (js\/Error. \"No such element\"))\n      (do\n        (set! _seq _next)\n        (first _next))))\n  (remove [_] (js\/Error. \"Unsupported operation\")))\n\n(defn seq-iter [coll]\n  (SeqIter. INIT coll))\n\n(defn iter [coll]\n  (cond\n    (iterable? coll) (-iterator coll)\n    (nil? coll) (nil-iter)\n    (string? coll) (string-iter coll)\n    (array? coll) (array-iter coll)\n    (seqable? coll) (seq-iter coll)\n    :else (throw (js\/Error. (str \"Cannot create iterator from \" coll)))))\n\n(deftype Many [vals]\n  Object\n  (add [this o]\n    (.push vals o)\n    this)\n  (remove [this]\n    (.shift vals))\n  (isEmpty [this]\n    (zero? (.-length vals)))\n  (toString [this]\n    (str \"Many: \" vals)))\n\n(def ^:private NONE #js {})\n\n(deftype Single [^:mutable val]\n  Object\n  (add [this o]\n    (if (identical? val NONE)\n      (do\n        (set! val o)\n        this)\n      (Many. #js [val o])))\n  (remove [this]\n    (if (identical? val NONE)\n      (throw (js\/Error. (str \"Removing object from empty buffer\")))\n      (let [ret val]\n        (set! val NONE)\n        ret)))\n  (isEmpty [this]\n    (identical? val NONE))\n  (toString [this]\n    (str \"Single: \" val)))\n\n(deftype Empty []\n  Object\n  (add [this o]\n    (Single. o))\n  (remove [this]\n    (throw (js\/Error. (str \"Removing object from empty buffer\"))))\n  (isEmpty [this]\n    true)\n  (toString [this]\n    \"Empty\"))\n\n(def ^:private EMPTY (Empty.))\n\n(deftype MultiIterator [iters]\n  Object\n  (hasNext [_]\n    (loop [iters (seq iters)]\n      (if-not (nil? iters)\n        (let [iter (first iters)]\n          (if-not ^boolean (.hasNext iter)\n            false\n            (recur (next iters))))\n        true)))\n  (next [_]\n    (let [nexts (array)]\n      (dotimes [i (alength iters)]\n        (aset nexts i (.next (aget iters i))))\n      (prim-seq nexts 0))))\n\n(defn- chunkIteratorSeq [iter]\n  (lazy-seq\n    (when ^boolean (.hasNext iter)\n      (let [arr (array)]\n        (loop [n 0]\n          (if (and (.hasNext iter) (< n 32))\n            (do\n              (aset arr n (.next iter))\n              (recur (inc n)))\n            (chunk-cons (array-chunk arr 0 n) (chunkIteratorSeq iter))))))))\n\n(deftype TransformerIterator [^:mutable buffer ^:mutable _next ^:mutable completed ^:mutable xf sourceIter multi]\n  Object\n  (step [this]\n    (if-not (identical? _next NONE)\n      true\n      (loop []\n        (if (identical? _next NONE)\n          (if ^boolean (.isEmpty buffer)\n            (if ^boolean completed\n              false\n              (if ^boolean (.hasNext sourceIter)\n                (let [iter (if ^boolean multi\n                             (apply xf (cons nil (.next sourceIter)))\n                             (xf nil (.next sourceIter)))]\n                  (when (reduced? iter)\n                    (xf nil)\n                    (set! completed true))\n                  (recur))\n                (do\n                  (xf nil)\n                  (set! completed true)\n                  (recur))))\n            (do\n              (set! _next (.remove buffer))\n              (recur)))\n          true))))\n  (hasNext [this]\n    (.step this))\n  (next [this]\n    (if ^boolean (.hasNext this)\n      (let [ret _next]\n        (set! _next NONE)\n        ret)\n      (throw (js\/Error. \"No such element\"))))\n  (remove [_]\n    (js\/Error. \"Unsupported operation\")))\n\n(es6-iterable TransformerIterator)\n\n(defn transformer-iterator\n  [xform sourceIter multi]\n  (let [iterator (TransformerIterator. EMPTY NONE false nil sourceIter multi)]\n    (set! (.-xf iterator)\n      (xform (fn\n               ([] nil)\n               ([acc] acc)\n               ([acc o]\n                (set! (.-buffer iterator) (.add (.-buffer iterator) o))\n                acc))))\n    iterator))\n\n(set! (.-create TransformerIterator)\n  (fn [xform source]\n    (transformer-iterator xform source false)))\n\n(set! (.-createMulti TransformerIterator)\n  (fn [xform sources]\n    (transformer-iterator xform (MultiIterator. (to-array sources)) true)))\n\n(defn sequence\n  \"Coerces coll to a (possibly empty) sequence, if it is not already\n  one. Will not force a lazy seq. (sequence nil) yields (), When a\n  transducer is supplied, returns a lazy sequence of applications of\n  the transform to the items in coll(s), i.e. to the set of first\n  items of each coll, followed by the set of second\n  items in each coll, until any one of the colls is exhausted.  Any\n  remaining items in other colls are ignored. The transform should accept\n  number-of-colls arguments\"\n  ([coll]\n     (if (seq? coll)\n       coll\n       (or (seq coll) ())))\n  ([xform coll]\n   (or (chunkIteratorSeq\n         (.create TransformerIterator xform (iter coll)))\n       ()))\n  ([xform coll & colls]\n   (or (chunkIteratorSeq\n         (.createMulti TransformerIterator xform (map iter (cons coll colls))))\n       ())))\n\n(defn every?\n  \"Returns true if (pred x) is logical true for every x in coll, else\n  false.\"\n  [pred coll]\n  (cond\n   (nil? (seq coll)) true\n   (pred (first coll)) (recur pred (next coll))\n   :else false))\n\n(defn not-every?\n  \"Returns false if (pred x) is logical true for every x in\n  coll, else true.\"\n  [pred coll] (not (every? pred coll)))\n\n(defn some\n  \"Returns the first logical true value of (pred x) for any x in coll,\n  else nil.  One common idiom is to use a set as pred, for example\n  this will return :fred if :fred is in the sequence, otherwise nil:\n  (some #{:fred} coll)\"\n  [pred coll]\n  (when-let [s (seq coll)]\n    (or (pred (first s)) (recur pred (next s)))))\n\n(defn not-any?\n  \"Returns false if (pred x) is logical true for any x in coll,\n  else true.\"\n  [pred coll] (not (some pred coll)))\n\n(defn even?\n  \"Returns true if n is even, throws an exception if n is not an integer\"\n   [n] (if (integer? n)\n        (zero? (bit-and n 1))\n        (throw (js\/Error. (str \"Argument must be an integer: \" n)))))\n\n(defn odd?\n  \"Returns true if n is odd, throws an exception if n is not an integer\"\n  [n] (not (even? n)))\n\n(defn complement\n  \"Takes a fn f and returns a fn that takes the same arguments as f,\n  has the same effects, if any, and returns the opposite truth value.\"\n  [f]\n  (fn\n    ([] (not (f)))\n    ([x] (not (f x)))\n    ([x y] (not (f x y)))\n    ([x y & zs] (not (apply f x y zs)))))\n\n(defn constantly\n  \"Returns a function that takes any number of arguments and returns x.\"\n  [x] (fn [& args] x))\n\n(defn comp\n  \"Takes a set of functions and returns a fn that is the composition\n  of those fns.  The returned fn takes a variable number of args,\n  applies the rightmost of fns to the args, the next\n  fn (right-to-left) to the result, etc.\"\n  ([] identity)\n  ([f] f)\n  ([f g]\n     (fn\n       ([] (f (g)))\n       ([x] (f (g x)))\n       ([x y] (f (g x y)))\n       ([x y z] (f (g x y z)))\n       ([x y z & args] (f (apply g x y z args)))))\n  ([f g h]\n     (fn\n       ([] (f (g (h))))\n       ([x] (f (g (h x))))\n       ([x y] (f (g (h x y))))\n       ([x y z] (f (g (h x y z))))\n       ([x y z & args] (f (g (apply h x y z args))))))\n  ([f1 f2 f3 & fs]\n    (let [fs (reverse (list* f1 f2 f3 fs))]\n      (fn [& args]\n        (loop [ret (apply (first fs) args) fs (next fs)]\n          (if fs\n            (recur ((first fs) ret) (next fs))\n            ret))))))\n\n(defn partial\n  \"Takes a function f and fewer than the normal arguments to f, and\n  returns a fn that takes a variable number of additional args. When\n  called, the returned function calls f with args + additional args.\"\n  ([f] f)\n  ([f arg1]\n   (fn\n     ([] (f arg1))\n     ([x] (f arg1 x))\n     ([x y] (f arg1 x y))\n     ([x y z] (f arg1 x y z))\n     ([x y z & args] (apply f arg1 x y z args))))\n  ([f arg1 arg2]\n   (fn\n     ([] (f arg1 arg2))\n     ([x] (f arg1 arg2 x))\n     ([x y] (f arg1 arg2 x y))\n     ([x y z] (f arg1 arg2 x y z))\n     ([x y z & args] (apply f arg1 arg2 x y z args))))\n  ([f arg1 arg2 arg3]\n   (fn\n     ([] (f arg1 arg2 arg3))\n     ([x] (f arg1 arg2 arg3 x))\n     ([x y] (f arg1 arg2 arg3 x y))\n     ([x y z] (f arg1 arg2 arg3 x y z))\n     ([x y z & args] (apply f arg1 arg2 arg3 x y z args))))\n  ([f arg1 arg2 arg3 & more]\n   (fn [& args] (apply f arg1 arg2 arg3 (concat more args)))))\n\n(defn fnil\n  \"Takes a function f, and returns a function that calls f, replacing\n  a nil first argument to f with the supplied value x. Higher arity\n  versions can replace arguments in the second and third\n  positions (y, z). Note that the function f can take any number of\n  arguments, not just the one(s) being nil-patched.\"\n  ([f x]\n   (fn\n     ([a] (f (if (nil? a) x a)))\n     ([a b] (f (if (nil? a) x a) b))\n     ([a b c] (f (if (nil? a) x a) b c))\n     ([a b c & ds] (apply f (if (nil? a) x a) b c ds))))\n  ([f x y]\n   (fn\n     ([a b] (f (if (nil? a) x a) (if (nil? b) y b)))\n     ([a b c] (f (if (nil? a) x a) (if (nil? b) y b) c))\n     ([a b c & ds] (apply f (if (nil? a) x a) (if (nil? b) y b) c ds))))\n  ([f x y z]\n   (fn\n     ([a b] (f (if (nil? a) x a) (if (nil? b) y b)))\n     ([a b c] (f (if (nil? a) x a) (if (nil? b) y b) (if (nil? c) z c)))\n     ([a b c & ds] (apply f (if (nil? a) x a) (if (nil? b) y b) (if (nil? c) z c) ds)))))\n\n(declare volatile!)\n\n(defn map-indexed\n  \"Returns a lazy sequence consisting of the result of applying f to 0\n  and the first item of coll, followed by applying f to 1 and the second\n  item in coll, etc, until coll is exhausted. Thus function f should\n  accept 2 arguments, index and item. Returns a stateful transducer when\n  no collection is provided.\"\n  ([f]\n    (fn [rf]\n      (let [i (volatile! -1)]\n        (fn\n          ([] (rf))\n          ([result] (rf result))\n          ([result input]\n            (rf result (f (vswap! i inc) input)))))))\n  ([f coll]\n    (letfn [(mapi [idx coll]\n              (lazy-seq\n                (when-let [s (seq coll)]\n                  (if (chunked-seq? s)\n                    (let [c (chunk-first s)\n                          size (count c)\n                          b (chunk-buffer size)]\n                      (dotimes [i size]\n                        (chunk-append b (f (+ idx i) (-nth c i))))\n                      (chunk-cons (chunk b) (mapi (+ idx size) (chunk-rest s))))\n                    (cons (f idx (first s)) (mapi (inc idx) (rest s)))))))]\n      (mapi 0 coll))))\n\n(defn keep\n  \"Returns a lazy sequence of the non-nil results of (f item). Note,\n  this means false return values will be included.  f must be free of\n  side-effects.  Returns a transducer when no collection is provided.\"\n  ([f]\n   (fn [rf]\n     (fn\n       ([] (rf))\n       ([result] (rf result))\n       ([result input]\n          (let [v (f input)]\n            (if (nil? v)\n              result\n              (rf result v)))))))\n  ([f coll]\n   (lazy-seq\n    (when-let [s (seq coll)]\n      (if (chunked-seq? s)\n        (let [c (chunk-first s)\n              size (count c)\n              b (chunk-buffer size)]\n          (dotimes [i size]\n            (let [x (f (-nth c i))]\n              (when-not (nil? x)\n                (chunk-append b x))))\n          (chunk-cons (chunk b) (keep f (chunk-rest s))))\n        (let [x (f (first s))]\n          (if (nil? x)\n            (keep f (rest s))\n            (cons x (keep f (rest s))))))))))\n\n;; =============================================================================\n;; Atom\n\n(deftype Atom [state meta validator watches]\n  Object\n  (equiv [this other]\n    (-equiv this other))\n\n  IAtom\n\n  IEquiv\n  (-equiv [o other] (identical? o other))\n\n  IDeref\n  (-deref [_] state)\n\n  IMeta\n  (-meta [_] meta)\n\n  IWatchable\n  (-notify-watches [this oldval newval]\n    (doseq [[key f] watches]\n      (f key this oldval newval)))\n  (-add-watch [this key f]\n    (set! (.-watches this) (assoc watches key f))\n    this)\n  (-remove-watch [this key]\n    (set! (.-watches this) (dissoc watches key)))\n\n  IHash\n  (-hash [this] (goog\/getUid this)))\n\n(defn atom\n  \"Creates and returns an Atom with an initial value of x and zero or\n  more options (in any order):\n\n  :meta metadata-map\n\n  :validator validate-fn\n\n  If metadata-map is supplied, it will become the metadata on the\n  atom. validate-fn must be nil or a side-effect-free fn of one\n  argument, which will be passed the intended new state on any state\n  change. If the new state is unacceptable, the validate-fn should\n  return false or throw an Error.  If either of these error conditions\n  occur, then the value of the atom will not change.\"\n  ([x] (Atom. x nil nil nil))\n  ([x & {:keys [meta validator]}] (Atom. x meta validator nil)))\n\n(declare pr-str)\n\n(defn reset!\n  \"Sets the value of atom to newval without regard for the\n  current value. Returns new-value.\"\n  [a new-value]\n  (if (instance? Atom a)\n    (let [validate (.-validator a)]\n      (when-not (nil? validate)\n        (when-not (validate new-value)\n          (throw (js\/Error. \"Validator rejected reference state\"))))\n      (let [old-value (.-state a)]\n        (set! (.-state a) new-value)\n        (when-not (nil? (.-watches a))\n          (-notify-watches a old-value new-value))\n        new-value))\n    (-reset! a new-value)))\n\n(defn reset-vals!\n  \"Sets the value of atom to newval. Returns [old new], the value of the\n   atom before and after the reset.\"\n  {:added \"1.9\"}\n  [a new-value]\n  (let [validate (.-validator a)]\n    (when-not (nil? validate)\n      (when-not (validate new-value)\n        (throw (js\/Error. \"Validator rejected reference state\"))))\n    (let [old-value (.-state a)]\n      (set! (.-state a) new-value)\n      (when-not (nil? (.-watches a))\n        (-notify-watches a old-value new-value))\n      [old-value new-value])))\n\n(defn swap!\n  \"Atomically swaps the value of atom to be:\n  (apply f current-value-of-atom args). Note that f may be called\n  multiple times, and thus should be free of side effects.  Returns\n  the value that was swapped in.\"\n  ([a f]\n   (if (instance? Atom a)\n     (reset! a (f (.-state a)))\n     (-swap! a f)))\n  ([a f x]\n   (if (instance? Atom a)\n     (reset! a (f (.-state a) x))\n     (-swap! a f x)))\n  ([a f x y]\n   (if (instance? Atom a)\n     (reset! a (f (.-state a) x y))\n     (-swap! a f x y)))\n  ([a f x y & more]\n   (if (instance? Atom a)\n     (reset! a (apply f (.-state a) x y more))\n     (-swap! a f x y more))))\n\n(defn swap-vals!\n  \"Atomically swaps the value of atom to be:\n  (apply f current-value-of-atom args). Note that f may be called\n  multiple times, and thus should be free of side effects.\n  Returns [old new], the value of the atom before and after the swap.\"\n  {:added \"1.9\"}\n  ([a f]\n   (reset-vals! a (f (.-state a))))\n  ([a f x]\n   (reset-vals! a (f (.-state a) x)))\n  ([a f x y]\n   (reset-vals! a (f (.-state a) x y)))\n  ([a f x y & more]\n   (reset-vals! a (apply f (.-state a) x y more))))\n\n(defn compare-and-set!\n  \"Atomically sets the value of atom to newval if and only if the\n  current value of the atom is equal to oldval. Returns true if\n  set happened, else false.\"\n  [^not-native a oldval newval]\n  (if (= (-deref a) oldval)\n    (do (reset! a newval) true)\n    false))\n\n(defn set-validator!\n  \"Sets the validator-fn for an atom. validator-fn must be nil or a\n  side-effect-free fn of one argument, which will be passed the intended\n  new state on any state change. If the new state is unacceptable, the\n  validator-fn should return false or throw an Error. If the current state\n  is not acceptable to the new validator, an Error will be thrown and the\n  validator will not be changed.\"\n  [iref val]\n  (when (and (some? val)\n             (not (val (-deref iref))))\n    (throw (js\/Error. \"Validator rejected reference state\")))\n  (set! (.-validator iref) val))\n\n(defn get-validator\n  \"Gets the validator-fn for a var\/ref\/agent\/atom.\"\n  [iref]\n  (.-validator iref))\n\n(deftype Volatile [^:mutable state]\n  IVolatile\n  (-vreset! [_ new-state]\n    (set! state new-state))\n\n  IDeref\n  (-deref [_] state))\n\n(defn volatile!\n  \"Creates and returns a Volatile with an initial value of val.\"\n  [val]\n  (Volatile. val))\n\n(defn volatile?\n  \"Returns true if x is a volatile.\"\n  [x] (instance? Volatile x))\n\n(defn vreset!\n  \"Sets the value of volatile to newval without regard for the\n   current value. Returns newval.\"\n  [vol newval]  (-vreset! vol newval))\n\n(defn keep-indexed\n  \"Returns a lazy sequence of the non-nil results of (f index item). Note,\n  this means false return values will be included.  f must be free of\n  side-effects.  Returns a stateful transducer when no collection is\n  provided.\"\n  ([f]\n   (fn [rf]\n     (let [ia (volatile! -1)]\n       (fn\n         ([] (rf))\n         ([result] (rf result))\n         ([result input]\n            (let [i (vswap! ia inc)\n                  v (f i input)]\n              (if (nil? v)\n                result\n                (rf result v))))))))\n  ([f coll]\n     (letfn [(keepi [idx coll]\n               (lazy-seq\n                (when-let [s (seq coll)]\n                  (if (chunked-seq? s)\n                    (let [c (chunk-first s)\n                          size (count c)\n                          b (chunk-buffer size)]\n                      (dotimes [i size]\n                        (let [x (f (+ idx i) (-nth c i))]\n                          (when-not (nil? x)\n                            (chunk-append b x))))\n                      (chunk-cons (chunk b) (keepi (+ idx size) (chunk-rest s))))\n                    (let [x (f idx (first s))]\n                      (if (nil? x)\n                        (keepi (inc idx) (rest s))\n                        (cons x (keepi (inc idx) (rest s)))))))))]\n       (keepi 0 coll))))\n\n(defn every-pred\n  \"Takes a set of predicates and returns a function f that returns true if all of its\n  composing predicates return a logical true value against all of its arguments, else it returns\n  false. Note that f is short-circuiting in that it will stop execution on the first\n  argument that triggers a logical false result against the original predicates.\"\n  ([p]\n     (fn ep1\n       ([] true)\n       ([x] (boolean (p x)))\n       ([x y] (boolean (and (p x) (p y))))\n       ([x y z] (boolean (and (p x) (p y) (p z))))\n       ([x y z & args] (boolean (and (ep1 x y z)\n                                     (every? p args))))))\n  ([p1 p2]\n     (fn ep2\n       ([] true)\n       ([x] (boolean (and (p1 x) (p2 x))))\n       ([x y] (boolean (and (p1 x) (p1 y) (p2 x) (p2 y))))\n       ([x y z] (boolean (and (p1 x) (p1 y) (p1 z) (p2 x) (p2 y) (p2 z))))\n       ([x y z & args] (boolean (and (ep2 x y z)\n                                     (every? #(and (p1 %) (p2 %)) args))))))\n  ([p1 p2 p3]\n     (fn ep3\n       ([] true)\n       ([x] (boolean (and (p1 x) (p2 x) (p3 x))))\n       ([x y] (boolean (and (p1 x) (p2 x) (p3 x) (p1 y) (p2 y) (p3 y))))\n       ([x y z] (boolean (and (p1 x) (p2 x) (p3 x) (p1 y) (p2 y) (p3 y) (p1 z) (p2 z) (p3 z))))\n       ([x y z & args] (boolean (and (ep3 x y z)\n                                     (every? #(and (p1 %) (p2 %) (p3 %)) args))))))\n  ([p1 p2 p3 & ps]\n     (let [ps (list* p1 p2 p3 ps)]\n       (fn epn\n         ([] true)\n         ([x] (every? #(% x) ps))\n         ([x y] (every? #(and (% x) (% y)) ps))\n         ([x y z] (every? #(and (% x) (% y) (% z)) ps))\n         ([x y z & args] (boolean (and (epn x y z)\n                                       (every? #(every? % args) ps))))))))\n\n(defn some-fn\n  \"Takes a set of predicates and returns a function f that returns the first logical true value\n  returned by one of its composing predicates against any of its arguments, else it returns\n  logical false. Note that f is short-circuiting in that it will stop execution on the first\n  argument that triggers a logical true result against the original predicates.\"\n  ([p]\n     (fn sp1\n       ([] nil)\n       ([x] (p x))\n       ([x y] (or (p x) (p y)))\n       ([x y z] (or (p x) (p y) (p z)))\n       ([x y z & args] (or (sp1 x y z)\n                           (some p args)))))\n  ([p1 p2]\n     (fn sp2\n       ([] nil)\n       ([x] (or (p1 x) (p2 x)))\n       ([x y] (or (p1 x) (p1 y) (p2 x) (p2 y)))\n       ([x y z] (or (p1 x) (p1 y) (p1 z) (p2 x) (p2 y) (p2 z)))\n       ([x y z & args] (or (sp2 x y z)\n                           (some #(or (p1 %) (p2 %)) args)))))\n  ([p1 p2 p3]\n     (fn sp3\n       ([] nil)\n       ([x] (or (p1 x) (p2 x) (p3 x)))\n       ([x y] (or (p1 x) (p2 x) (p3 x) (p1 y) (p2 y) (p3 y)))\n       ([x y z] (or (p1 x) (p2 x) (p3 x) (p1 y) (p2 y) (p3 y) (p1 z) (p2 z) (p3 z)))\n       ([x y z & args] (or (sp3 x y z)\n                           (some #(or (p1 %) (p2 %) (p3 %)) args)))))\n  ([p1 p2 p3 & ps]\n     (let [ps (list* p1 p2 p3 ps)]\n       (fn spn\n         ([] nil)\n         ([x] (some #(% x) ps))\n         ([x y] (some #(or (% x) (% y)) ps))\n         ([x y z] (some #(or (% x) (% y) (% z)) ps))\n         ([x y z & args] (or (spn x y z)\n                             (some #(some % args) ps)))))))\n\n(defn map\n  \"Returns a lazy sequence consisting of the result of applying f to\n  the set of first items of each coll, followed by applying f to the\n  set of second items in each coll, until any one of the colls is\n  exhausted.  Any remaining items in other colls are ignored. Function\n  f should accept number-of-colls arguments. Returns a transducer when\n  no collection is provided.\"\n  ([f]\n    (fn [rf]\n      (fn\n        ([] (rf))\n        ([result] (rf result))\n        ([result input]\n           (rf result (f input)))\n        ([result input & inputs]\n           (rf result (apply f input inputs))))))\n  ([f coll]\n   (lazy-seq\n    (when-let [s (seq coll)]\n      (if (chunked-seq? s)\n        (let [c (chunk-first s)\n              size (count c)\n              b (chunk-buffer size)]\n          (dotimes [i size]\n              (chunk-append b (f (-nth c i))))\n          (chunk-cons (chunk b) (map f (chunk-rest s))))\n        (cons (f (first s)) (map f (rest s)))))))\n  ([f c1 c2]\n   (lazy-seq\n    (let [s1 (seq c1) s2 (seq c2)]\n      (when (and s1 s2)\n        (cons (f (first s1) (first s2))\n              (map f (rest s1) (rest s2)))))))\n  ([f c1 c2 c3]\n   (lazy-seq\n    (let [s1 (seq c1) s2 (seq c2) s3 (seq c3)]\n      (when (and  s1 s2 s3)\n        (cons (f (first s1) (first s2) (first s3))\n              (map f (rest s1) (rest s2) (rest s3)))))))\n  ([f c1 c2 c3 & colls]\n   (let [step (fn step [cs]\n                 (lazy-seq\n                  (let [ss (map seq cs)]\n                    (when (every? identity ss)\n                      (cons (map first ss) (step (map rest ss)))))))]\n     (map #(apply f %) (step (conj colls c3 c2 c1))))))\n\n(defn take\n  \"Returns a lazy sequence of the first n items in coll, or all items if\n  there are fewer than n.  Returns a stateful transducer when\n  no collection is provided.\"\n  ([n]\n   {:pre [(number? n)]}\n     (fn [rf]\n       (let [na (volatile! n)]\n         (fn\n           ([] (rf))\n           ([result] (rf result))\n           ([result input]\n              (let [n @na\n                    nn (vswap! na dec)\n                    result (if (pos? n)\n                             (rf result input)\n                             result)]\n                (if (not (pos? nn))\n                  (ensure-reduced result)\n                  result)))))))\n  ([n coll]\n   {:pre [(number? n)]}\n     (lazy-seq\n       (when (pos? n)\n         (when-let [s (seq coll)]\n           (cons (first s) (take (dec n) (rest s))))))))\n\n(defn drop\n  \"Returns a lazy sequence of all but the first n items in coll.\n  Returns a stateful transducer when no collection is provided.\"\n  ([n]\n   {:pre [(number? n)]}\n     (fn [rf]\n       (let [na (volatile! n)]\n         (fn\n           ([] (rf))\n           ([result] (rf result))\n           ([result input]\n              (let [n @na]\n                (vswap! na dec)\n                (if (pos? n)\n                  result\n                  (rf result input))))))))\n  ([n coll]\n   {:pre [(number? n)]}\n     (let [step (fn [n coll]\n                  (let [s (seq coll)]\n                    (if (and (pos? n) s)\n                      (recur (dec n) (rest s))\n                      s)))]\n       (lazy-seq (step n coll)))))\n\n(defn drop-last\n  \"Return a lazy sequence of all but the last n (default 1) items in coll\"\n  ([s] (drop-last 1 s))\n  ([n s] (map (fn [x _] x) s (drop n s))))\n\n(defn take-last\n  \"Returns a seq of the last n items in coll.  Depending on the type\n  of coll may be no better than linear time.  For vectors, see also subvec.\"\n  [n coll]\n  (loop [s (seq coll), lead (seq (drop n coll))]\n    (if lead\n      (recur (next s) (next lead))\n      s)))\n\n(defn drop-while\n  \"Returns a lazy sequence of the items in coll starting from the\n  first item for which (pred item) returns logical false.  Returns a\n  stateful transducer when no collection is provided.\"\n  ([pred]\n     (fn [rf]\n       (let [da (volatile! true)]\n         (fn\n           ([] (rf))\n           ([result] (rf result))\n           ([result input]\n              (let [drop? @da]\n                (if (and drop? (pred input))\n                  result\n                  (do\n                    (vreset! da nil)\n                    (rf result input)))))))))\n  ([pred coll]\n     (let [step (fn [pred coll]\n                  (let [s (seq coll)]\n                    (if (and s (pred (first s)))\n                      (recur pred (rest s))\n                      s)))]\n       (lazy-seq (step pred coll)))))\n\n(deftype Cycle [meta all prev ^:mutable current ^:mutable _next]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (currentval [coll]\n    (when-not ^seq current\n      (if-let [c (next prev)]\n        (set! current c)\n        (set! current all)))\n    current)\n\n  IPending\n  (-realized? [coll]\n    (some? current))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (Cycle. new-meta all prev current _next)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  ISeq\n  (-first [coll]\n    (first (.currentval coll)))\n  (-rest [coll]\n    (when (nil? _next)\n      (set! _next (Cycle. nil all (.currentval coll) nil nil)))\n    _next)\n\n  INext\n  (-next [coll]\n    (-rest coll))\n\n  ICollection\n  (-conj [coll o] (cons o coll))\n\n  IEmptyableCollection\n  (-empty [coll] (.-EMPTY List))\n\n  ISequential\n  ISeqable\n  (-seq [coll] coll)\n\n  IReduce\n  (-reduce [coll f]\n    (loop [s (.currentval coll) ret (first s)]\n      (let [s   (or (next s) all)\n            ret (f ret (first s))]\n        (if (reduced? ret)\n          @ret\n          (recur s ret)))))\n  (-reduce [coll f start]\n    (loop [s (.currentval coll) ret start]\n      (let [ret (f ret (first s))]\n        (if (reduced? ret)\n          @ret\n          (recur (or (next s) all) ret))))))\n\n(defn cycle\n  \"Returns a lazy (infinite!) sequence of repetitions of the items in coll.\"\n  [coll] (if-let [vals (seq coll)]\n           (Cycle. nil vals nil vals nil)\n           (.-EMPTY List)))\n\n(defn split-at\n  \"Returns a vector of [(take n coll) (drop n coll)]\"\n  [n coll]\n  [(take n coll) (drop n coll)])\n\n(deftype Repeat [meta count val ^:mutable next ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x count))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  IPending\n  (-realized? [coll] false)\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (Repeat. new-meta count val next nil)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  ISeq\n  (-first [coll]\n    val)\n  (-rest [coll]\n    (if (nil? next)\n      (if (> count 1)\n        (do\n          (set! next (Repeat. nil (dec count) val nil nil))\n          next)\n        (if (== -1 count)\n          coll\n          ()))\n      next))\n\n  INext\n  (-next [coll]\n    (if (nil? next)\n      (if (> count 1)\n        (do\n          (set! next (Repeat. nil (dec count) val nil nil))\n          next)\n        (if (== -1 count)\n          coll\n          nil))\n      next))\n\n  ICollection\n  (-conj [coll o] (cons o coll))\n\n  IEmptyableCollection\n  (-empty [coll] (.-EMPTY List))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-ordered-coll __hash))\n\n  ISequential\n  ISeqable\n  (-seq [coll] coll)\n\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  IReduce\n  (-reduce [coll f]\n    (if (== count -1)\n      (loop [ret (f val val)]\n        (if (reduced? ret)\n          @ret\n          (recur (f ret val))))\n      (loop [i 1 ret val]\n        (if (< i count)\n          (let [ret (f ret val)]\n            (if (reduced? ret)\n              @ret\n              (recur (inc i) ret)))\n          ret))))\n  (-reduce [coll f start]\n    (if (== count -1)\n      (loop [ret (f start val)]\n        (if (reduced? ret)\n          @ret\n          (recur (f ret val))))\n      (loop [i 0 ret start]\n        (if (< i count)\n          (let [ret (f ret val)]\n            (if (reduced? ret)\n              @ret\n              (recur (inc i) ret)))\n          ret)))))\n\n(defn repeat\n  \"Returns a lazy (infinite!, or length n if supplied) sequence of xs.\"\n  ([x] (Repeat. nil -1 x nil nil))\n  ([n x] (if (pos? n)\n           (Repeat. nil n x nil nil)\n           (.-EMPTY List))))\n\n(defn replicate\n  \"DEPRECATED: Use 'repeat' instead.\n  Returns a lazy seq of n xs.\"\n  [n x] (take n (repeat x)))\n\n(defn repeatedly\n  \"Takes a function of no args, presumably with side effects, and\n  returns an infinite (or length n if supplied) lazy sequence of calls\n  to it\"\n  ([f] (lazy-seq (cons (f) (repeatedly f))))\n  ([n f] (take n (repeatedly f))))\n\n(def ^:private UNREALIZED-SEED #js {})\n\n(deftype Iterate [meta f prev-seed ^:mutable seed ^:mutable next]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n\n  IPending\n  (-realized? [coll]\n    (not (identical? seed UNREALIZED-SEED)))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (Iterate. new-meta f prev-seed seed next)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  ISeq\n  (-first [coll]\n    (when (identical? UNREALIZED-SEED seed)\n      (set! seed (f prev-seed)))\n    seed)\n  (-rest [coll]\n    (when (nil? next)\n      (set! next (Iterate. nil f (-first coll) UNREALIZED-SEED nil)))\n    next)\n\n  INext\n  (-next [coll]\n    (-rest coll))\n\n  ICollection\n  (-conj [coll o] (cons o coll))\n\n  IEmptyableCollection\n  (-empty [coll] (.-EMPTY List))\n\n  ISequential\n  ISeqable\n  (-seq [coll] coll)\n\n  IReduce\n  (-reduce [coll rf]\n    (let [first (-first coll)\n          v     (f first)]\n      (loop [ret (rf first v) v v]\n        (if (reduced? ret)\n          @ret\n          (let [v (f v)]\n            (recur (rf ret v) v))))))\n  (-reduce [coll rf start]\n    (let [v (-first coll)]\n      (loop [ret (rf start v) v v]\n        (if (reduced? ret)\n          @ret\n          (let [v (f v)]\n            (recur (rf ret v) v)))))))\n\n(defn iterate\n  \"Returns a lazy sequence of x, (f x), (f (f x)) etc. f must be free of side-effects\"\n  {:added \"1.0\"}\n  [f x] (Iterate. nil f nil x nil))\n\n(defn interleave\n  \"Returns a lazy seq of the first item in each coll, then the second etc.\"\n  ([] ())\n  ([c1] (lazy-seq c1))\n  ([c1 c2]\n     (lazy-seq\n      (let [s1 (seq c1) s2 (seq c2)]\n        (when (and s1 s2)\n          (cons (first s1) (cons (first s2)\n                                 (interleave (rest s1) (rest s2))))))))\n  ([c1 c2 & colls]\n     (lazy-seq\n      (let [ss (map seq (conj colls c2 c1))]\n        (when (every? identity ss)\n          (concat (map first ss) (apply interleave (map rest ss))))))))\n\n(defn interpose\n  \"Returns a lazy seq of the elements of coll separated by sep.\n  Returns a stateful transducer when no collection is provided.\"\n  ([sep]\n    (fn [rf]\n      (let [started (volatile! false)]\n        (fn\n          ([] (rf))\n          ([result] (rf result))\n          ([result input]\n            (if @started\n              (let [sepr (rf result sep)]\n                (if (reduced? sepr)\n                  sepr\n                  (rf sepr input)))\n              (do\n                (vreset! started true)\n                (rf result input))))))))\n  ([sep coll] (drop 1 (interleave (repeat sep) coll))))\n\n\n\n(defn- flatten1\n  \"Take a collection of collections, and return a lazy seq\n  of items from the inner collection\"\n  [colls]\n  (let [cat (fn cat [coll colls]\n              (lazy-seq\n                (if-let [coll (seq coll)]\n                  (cons (first coll) (cat (rest coll) colls))\n                  (when (seq colls)\n                    (cat (first colls) (rest colls))))))]\n    (cat nil colls)))\n\n(declare cat)\n\n(defn mapcat\n  \"Returns the result of applying concat to the result of applying map\n  to f and colls.  Thus function f should return a collection. Returns\n  a transducer when no collections are provided\"\n  {:added \"1.0\"\n   :static true}\n  ([f] (comp (map f) cat))\n  ([f & colls]\n     (apply concat (apply map f colls))))\n\n(defn filter\n  \"Returns a lazy sequence of the items in coll for which\n  (pred item) returns logical true. pred must be free of side-effects.\n  Returns a transducer when no collection is provided.\"\n  ([pred]\n    (fn [rf]\n      (fn\n        ([] (rf))\n        ([result] (rf result))\n        ([result input]\n           (if (pred input)\n             (rf result input)\n             result)))))\n  ([pred coll]\n   (lazy-seq\n    (when-let [s (seq coll)]\n      (if (chunked-seq? s)\n        (let [c (chunk-first s)\n              size (count c)\n              b (chunk-buffer size)]\n          (dotimes [i size]\n              (when (pred (-nth c i))\n                (chunk-append b (-nth c i))))\n          (chunk-cons (chunk b) (filter pred (chunk-rest s))))\n        (let [f (first s) r (rest s)]\n          (if (pred f)\n            (cons f (filter pred r))\n            (filter pred r))))))))\n\n(defn remove\n  \"Returns a lazy sequence of the items in coll for which\n  (pred item) returns logical false. pred must be free of side-effects.\n  Returns a transducer when no collection is provided.\"\n  ([pred] (filter (complement pred)))\n  ([pred coll]\n     (filter (complement pred) coll)))\n\n(defn tree-seq\n  \"Returns a lazy sequence of the nodes in a tree, via a depth-first walk.\n  branch? must be a fn of one arg that returns true if passed a node\n  that can have children (but may not).  children must be a fn of one\n  arg that returns a sequence of the children. Will only be called on\n  nodes for which branch? returns true. Root is the root node of the\n  tree.\"\n   [branch? children root]\n   (let [walk (fn walk [node]\n                (lazy-seq\n                 (cons node\n                  (when (branch? node)\n                    (mapcat walk (children node))))))]\n     (walk root)))\n\n(defn flatten\n  \"Takes any nested combination of sequential things (lists, vectors,\n  etc.) and returns their contents as a single, flat sequence.\n  (flatten nil) returns nil.\"\n  [x]\n  (filter #(not (sequential? %))\n          (rest (tree-seq sequential? seq x))))\n\n(defn into\n  \"Returns a new coll consisting of to-coll with all of the items of\n  from-coll conjoined. A transducer may be supplied.\"\n  ([] [])\n  ([to] to)\n  ([to from]\n     (if-not (nil? to)\n       (if (implements? IEditableCollection to)\n         (-with-meta (persistent! (reduce -conj! (transient to) from)) (meta to))\n         (reduce -conj to from))\n       (reduce conj to from)))\n  ([to xform from]\n     (if (implements? IEditableCollection to)\n       (-with-meta (persistent! (transduce xform conj! (transient to) from)) (meta to))\n       (transduce xform conj to from))))\n\n(defn mapv\n  \"Returns a vector consisting of the result of applying f to the\n  set of first items of each coll, followed by applying f to the set\n  of second items in each coll, until any one of the colls is\n  exhausted.  Any remaining items in other colls are ignored. Function\n  f should accept number-of-colls arguments.\"\n  ([f coll]\n     (-> (reduce (fn [v o] (conj! v (f o))) (transient []) coll)\n         persistent!))\n  ([f c1 c2]\n     (into [] (map f c1 c2)))\n  ([f c1 c2 c3]\n     (into [] (map f c1 c2 c3)))\n  ([f c1 c2 c3 & colls]\n     (into [] (apply map f c1 c2 c3 colls))))\n\n(defn filterv\n  \"Returns a vector of the items in coll for which\n  (pred item) returns logical true. pred must be free of side-effects.\"\n  [pred coll]\n  (-> (reduce (fn [v o] (if (pred o) (conj! v o) v))\n              (transient [])\n              coll)\n      persistent!))\n\n(defn partition\n  \"Returns a lazy sequence of lists of n items each, at offsets step\n  apart. If step is not supplied, defaults to n, i.e. the partitions\n  do not overlap. If a pad collection is supplied, use its elements as\n  necessary to complete last partition up to n items. In case there are\n  not enough padding elements, return a partition with less than n items.\"\n  ([n coll]\n     (partition n n coll))\n  ([n step coll]\n     (lazy-seq\n       (when-let [s (seq coll)]\n         (let [p (take n s)]\n           (when (== n (count p))\n             (cons p (partition n step (drop step s))))))))\n  ([n step pad coll]\n     (lazy-seq\n       (when-let [s (seq coll)]\n         (let [p (take n s)]\n           (if (== n (count p))\n             (cons p (partition n step pad (drop step s)))\n             (list (take n (concat p pad)))))))))\n\n(defn get-in\n  \"Returns the value in a nested associative structure,\n  where ks is a sequence of keys. Returns nil if the key is not present,\n  or the not-found value if supplied.\"\n  {:added \"1.2\"\n   :static true}\n  ([m ks]\n     (reduce get m ks))\n  ([m ks not-found]\n     (loop [sentinel lookup-sentinel\n            m m\n            ks (seq ks)]\n       (if-not (nil? ks)\n         (let [m (get m (first ks) sentinel)]\n           (if (identical? sentinel m)\n             not-found\n             (recur sentinel m (next ks))))\n         m))))\n\n(defn assoc-in\n  \"Associates a value in a nested associative structure, where ks is a\n  sequence of keys and v is the new value and returns a new nested structure.\n  If any levels do not exist, hash-maps will be created.\"\n  [m [k & ks] v]\n  (if ks\n    (assoc m k (assoc-in (get m k) ks v))\n    (assoc m k v)))\n\n(defn update-in\n  \"'Updates' a value in a nested associative structure, where ks is a\n  sequence of keys and f is a function that will take the old value\n  and any supplied args and return the new value, and returns a new\n  nested structure.  If any levels do not exist, hash-maps will be\n  created.\"\n  ([m [k & ks] f]\n   (if ks\n     (assoc m k (update-in (get m k) ks f))\n     (assoc m k (f (get m k)))))\n  ([m [k & ks] f a]\n   (if ks\n     (assoc m k (update-in (get m k) ks f a))\n     (assoc m k (f (get m k) a))))\n  ([m [k & ks] f a b]\n   (if ks\n     (assoc m k (update-in (get m k) ks f a b))\n     (assoc m k (f (get m k) a b))))\n  ([m [k & ks] f a b c]\n   (if ks\n     (assoc m k (update-in (get m k) ks f a b c))\n     (assoc m k (f (get m k) a b c))))\n  ([m [k & ks] f a b c & args]\n   (if ks\n     (assoc m k (apply update-in (get m k) ks f a b c args))\n     (assoc m k (apply f (get m k) a b c args)))))\n\n(defn update\n  \"'Updates' a value in an associative structure, where k is a\n  key and f is a function that will take the old value\n  and any supplied args and return the new value, and returns a new\n  structure.  If the key does not exist, nil is passed as the old value.\"\n  ([m k f]\n   (assoc m k (f (get m k))))\n  ([m k f x]\n   (assoc m k (f (get m k) x)))\n  ([m k f x y]\n   (assoc m k (f (get m k) x y)))\n  ([m k f x y z]\n   (assoc m k (f (get m k) x y z)))\n  ([m k f x y z & more]\n   (assoc m k (apply f (get m k) x y z more))))\n\n;;; PersistentVector\n\n(deftype VectorNode [edit arr])\n\n(defn- pv-fresh-node [edit]\n  (VectorNode. edit (make-array 32)))\n\n(defn- pv-aget [node idx]\n  (aget (.-arr node) idx))\n\n(defn- pv-aset [node idx val]\n  (aset (.-arr node) idx val))\n\n(defn- pv-clone-node [node]\n  (VectorNode. (.-edit node) (aclone (.-arr node))))\n\n(defn- tail-off [pv]\n  (let [cnt (.-cnt pv)]\n    (if (< cnt 32)\n      0\n      (bit-shift-left (bit-shift-right-zero-fill (dec cnt) 5) 5))))\n\n(defn- new-path [edit level node]\n  (loop [ll level\n         ret node]\n    (if (zero? ll)\n      ret\n      (let [embed ret\n            r (pv-fresh-node edit)\n            _ (pv-aset r 0 embed)]\n        (recur (- ll 5) r)))))\n\n(defn- push-tail [pv level parent tailnode]\n  (let [ret (pv-clone-node parent)\n        subidx (bit-and (bit-shift-right-zero-fill (dec (.-cnt pv)) level) 0x01f)]\n    (if (== 5 level)\n      (do\n        (pv-aset ret subidx tailnode)\n        ret)\n      (let [child (pv-aget parent subidx)]\n        (if-not (nil? child)\n          (let [node-to-insert (push-tail pv (- level 5) child tailnode)]\n            (pv-aset ret subidx node-to-insert)\n            ret)\n          (let [node-to-insert (new-path nil (- level 5) tailnode)]\n            (pv-aset ret subidx node-to-insert)\n            ret))))))\n\n(defn- vector-index-out-of-bounds [i cnt]\n  (throw (js\/Error. (str \"No item \" i \" in vector of length \" cnt))))\n\n(defn- first-array-for-longvec [pv]\n  ;; invariants: (count pv) > 32.\n  (loop [node (.-root pv)\n         level (.-shift pv)]\n    (if (pos? level)\n      (recur (pv-aget node 0) (- level 5))\n      (.-arr node))))\n\n(defn- unchecked-array-for [pv i]\n  ;; invariant: i is a valid index of pv (use array-for if unknown).\n  (if (>= i (tail-off pv))\n      (.-tail pv)\n      (loop [node (.-root pv)\n             level (.-shift pv)]\n        (if (pos? level)\n          (recur (pv-aget node (bit-and (bit-shift-right-zero-fill i level) 0x01f))\n                 (- level 5))\n          (.-arr node)))))\n\n(defn- array-for [pv i]\n  (if (and (<= 0 i) (< i (.-cnt pv)))\n    (unchecked-array-for pv i)\n    (vector-index-out-of-bounds i (.-cnt pv))))\n\n(defn- do-assoc [pv level node i val]\n  (let [ret (pv-clone-node node)]\n    (if (zero? level)\n      (do\n        (pv-aset ret (bit-and i 0x01f) val)\n        ret)\n      (let [subidx (bit-and (bit-shift-right-zero-fill i level) 0x01f)]\n        (pv-aset ret subidx (do-assoc pv (- level 5) (pv-aget node subidx) i val))\n        ret))))\n\n(defn- pop-tail [pv level node]\n  (let [subidx (bit-and (bit-shift-right-zero-fill (- (.-cnt pv) 2) level) 0x01f)]\n    (cond\n     (> level 5) (let [new-child (pop-tail pv (- level 5) (pv-aget node subidx))]\n                   (if (and (nil? new-child) (zero? subidx))\n                     nil\n                     (let [ret (pv-clone-node node)]\n                       (pv-aset ret subidx new-child)\n                       ret)))\n     (zero? subidx) nil\n     :else (let [ret (pv-clone-node node)]\n             (pv-aset ret subidx nil)\n             ret))))\n\n(deftype RangedIterator [^:mutable i ^:mutable base ^:mutable arr v start end]\n  Object\n  (hasNext [this]\n    (< i end))\n  (next [this]\n    (when (== (- i base) 32)\n      (set! arr (unchecked-array-for v i))\n      (set! base (+ base 32)))\n    (let [ret (aget arr (bit-and i 0x01f))]\n      (set! i (inc i))\n      ret)))\n\n(defn ranged-iterator [v start end]\n  (let [i start]\n    (RangedIterator. i (- i (js-mod i 32))\n      (when (< start (count v))\n        (unchecked-array-for v i))\n      v start end)))\n\n(defn- pv-reduce\n  ([pv f start end]\n   (if (< start end)\n     (pv-reduce pv f (nth pv start) (inc start) end)\n     (f)))\n  ([pv f init start end]\n   (loop [acc init i start arr (unchecked-array-for pv start)]\n     (if (< i end)\n       (let [j (bit-and i 0x01f)\n             arr (if (zero? j) (unchecked-array-for pv i) arr)\n             nacc (f acc (aget arr j))]\n         (if (reduced? nacc)\n           @nacc\n           (recur nacc (inc i) arr)))\n       acc))))\n\n(declare tv-editable-root tv-editable-tail TransientVector deref\n         pr-sequential-writer pr-writer chunked-seq)\n\n(defprotocol APersistentVector\n  \"Marker protocol\")\n\n(deftype PersistentVector [meta cnt shift root tail ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  ICloneable\n  (-clone [_] (PersistentVector. meta cnt shift root tail __hash))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (PersistentVector. new-meta cnt shift root tail __hash)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  IStack\n  (-peek [coll]\n    (when (> cnt 0)\n      (-nth coll (dec cnt))))\n  (-pop [coll]\n    (cond\n     (zero? cnt) (throw (js\/Error. \"Can't pop empty vector\"))\n     (== 1 cnt) (-with-meta (.-EMPTY PersistentVector) meta)\n     (< 1 (- cnt (tail-off coll)))\n      (PersistentVector. meta (dec cnt) shift root (.slice tail 0 -1) nil)\n      :else (let [new-tail (unchecked-array-for coll (- cnt 2))\n                  nr (pop-tail coll shift root)\n                  new-root (if (nil? nr) (.-EMPTY-NODE PersistentVector) nr)\n                  cnt-1 (dec cnt)]\n              (if (and (< 5 shift) (nil? (pv-aget new-root 1)))\n                (PersistentVector. meta cnt-1 (- shift 5) (pv-aget new-root 0) new-tail nil)\n                (PersistentVector. meta cnt-1 shift new-root new-tail nil)))))\n\n  ICollection\n  (-conj [coll o]\n    (if (< (- cnt (tail-off coll)) 32)\n      (let [len (alength tail)\n            new-tail (make-array (inc len))]\n        (dotimes [i len]\n          (aset new-tail i (aget tail i)))\n        (aset new-tail len o)\n        (PersistentVector. meta (inc cnt) shift root new-tail nil))\n      (let [root-overflow? (> (bit-shift-right-zero-fill cnt 5) (bit-shift-left 1 shift))\n            new-shift (if root-overflow? (+ shift 5) shift)\n            new-root (if root-overflow?\n                       (let [n-r (pv-fresh-node nil)]\n                           (pv-aset n-r 0 root)\n                           (pv-aset n-r 1 (new-path nil shift (VectorNode. nil tail)))\n                           n-r)\n                       (push-tail coll shift root (VectorNode. nil tail)))]\n        (PersistentVector. meta (inc cnt) new-shift new-root (array o) nil))))\n\n  IEmptyableCollection\n  (-empty [coll] (-with-meta (.-EMPTY PersistentVector) meta))\n\n  ISequential\n  IEquiv\n  (-equiv [coll other]\n    (if (instance? PersistentVector other)\n      (if (== cnt (count other))\n        (let [me-iter  (-iterator coll)\n              you-iter (-iterator other)]\n          (loop []\n            (if ^boolean (.hasNext me-iter)\n              (let [x (.next me-iter)\n                    y (.next you-iter)]\n                (if (= x y)\n                  (recur)\n                  false))\n              true)))\n        false)\n      (equiv-sequential coll other)))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-ordered-coll __hash))\n\n  ISeqable\n  (-seq [coll]\n    (cond\n      (zero? cnt) nil\n      (<= cnt 32) (IndexedSeq. tail 0 nil)\n      :else (chunked-seq coll (first-array-for-longvec coll) 0 0)))\n\n  ICounted\n  (-count [coll] cnt)\n\n  IIndexed\n  (-nth [coll n]\n    (aget (array-for coll n) (bit-and n 0x01f)))\n  (-nth [coll n not-found]\n    (if (and (<= 0 n) (< n cnt))\n      (aget (unchecked-array-for coll n) (bit-and n 0x01f))\n      not-found))\n\n  ILookup\n  (-lookup [coll k] (-lookup coll k nil))\n  (-lookup [coll k not-found] (if (number? k)\n                                (-nth coll k not-found)\n                                not-found))\n\n  IAssociative\n  (-assoc [coll k v]\n    (if (number? k)\n      (-assoc-n coll k v)\n      (throw (js\/Error. \"Vector's key for assoc must be a number.\"))))\n  (-contains-key? [coll k]\n    (if (integer? k)\n      (and (<= 0 k) (< k cnt))\n      false))\n\n  IFind\n  (-find [coll n]\n    (when (and (<= 0 n) (< n cnt))\n      (MapEntry. n (aget (unchecked-array-for coll n) (bit-and n 0x01f)) nil)))\n\n  APersistentVector\n  IVector\n  (-assoc-n [coll n val]\n    (cond\n       (and (<= 0 n) (< n cnt))\n       (if (<= (tail-off coll) n)\n         (let [new-tail (aclone tail)]\n           (aset new-tail (bit-and n 0x01f) val)\n           (PersistentVector. meta cnt shift root new-tail nil))\n         (PersistentVector. meta cnt shift (do-assoc coll shift root n val) tail nil))\n       (== n cnt) (-conj coll val)\n       :else (throw (js\/Error. (str \"Index \" n \" out of bounds  [0,\" cnt \"]\")))))\n\n  IReduce\n  (-reduce [v f]\n    (pv-reduce v f 0 cnt))\n  (-reduce [v f init]\n    (loop [i 0 init init]\n      (if (< i cnt)\n        (let [arr  (unchecked-array-for v i)\n              len  (alength arr)\n              init (loop [j 0 init init]\n                     (if (< j len)\n                       (let [init (f init (aget arr j))]\n                         (if (reduced? init)\n                           init\n                           (recur (inc j) init)))\n                       init))]\n          (if (reduced? init)\n            @init\n            (recur (+ i len) init)))\n        init)))\n\n  IKVReduce\n  (-kv-reduce [v f init]\n    (loop [i 0 init init]\n      (if (< i cnt)\n        (let [arr  (unchecked-array-for v i)\n              len  (alength arr)\n              init (loop [j 0 init init]\n                     (if (< j len)\n                       (let [init (f init (+ j i) (aget arr j))]\n                         (if (reduced? init)\n                           init\n                           (recur (inc j) init)))\n                       init))]\n          (if (reduced? init)\n            @init\n            (recur (+ i len) init)))\n        init)))\n\n  IFn\n  (-invoke [coll k]\n    (-nth coll k))\n  (-invoke [coll k not-found]\n    (-nth coll k not-found))\n\n  IEditableCollection\n  (-as-transient [coll]\n    (TransientVector. cnt shift (tv-editable-root root) (tv-editable-tail tail)))\n\n  IReversible\n  (-rseq [coll]\n    (when (pos? cnt)\n      (RSeq. coll (dec cnt) nil)))\n\n  IIterable\n  (-iterator [this]\n    (ranged-iterator this 0 cnt)))\n\n(set! (.-EMPTY-NODE PersistentVector) (VectorNode. nil (make-array 32)))\n\n(set! (.-EMPTY PersistentVector)\n  (PersistentVector. nil 0 5 (.-EMPTY-NODE PersistentVector) (array) empty-ordered-hash))\n\n(set! (.-fromArray PersistentVector)\n  (fn [xs ^boolean no-clone]\n    (let [l (alength xs)\n          xs (if no-clone xs (aclone xs))]\n      (if (< l 32)\n        (PersistentVector. nil l 5 (.-EMPTY-NODE PersistentVector) xs nil)\n        (let [node (.slice xs 0 32)\n              v (PersistentVector. nil 32 5 (.-EMPTY-NODE PersistentVector) node nil)]\n          (loop [i 32 out (-as-transient v)]\n            (if (< i l)\n              (recur (inc i) (conj! out (aget xs i)))\n              (persistent! out))))))))\n\n(es6-iterable PersistentVector)\n\n(declare map-entry?)\n\n(defn vec\n  \"Creates a new vector containing the contents of coll. JavaScript arrays\n  will be aliased and should not be modified.\"\n  [coll]\n  (cond\n    (map-entry? coll)\n    [(key coll) (val coll)]\n\n    (vector? coll)\n    (with-meta coll nil)\n\n    (array? coll)\n    (.fromArray PersistentVector coll true)\n\n    :else\n    (-persistent!\n      (reduce -conj!\n        (-as-transient (.-EMPTY PersistentVector))\n        coll))))\n\n(defn vector\n  \"Creates a new vector containing the args.\"\n  [& args]\n  (if (and (instance? IndexedSeq args) (zero? (.-i args)))\n    (.fromArray PersistentVector (.-arr args) (not (array? (.-arr args))))\n    (vec args)))\n\n(declare subvec)\n\n(deftype ChunkedSeq [vec node i off meta ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (chunked-seq vec node i off new-meta)))\n  IMeta\n  (-meta [coll] meta)\n\n  ISeqable\n  (-seq [coll] coll)\n\n  ISequential\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  ASeq\n  ISeq\n  (-first [coll]\n    (aget node off))\n  (-rest [coll]\n    (if (< (inc off) (alength node))\n      (let [s (chunked-seq vec node i (inc off))]\n        (if (nil? s)\n          ()\n          s))\n      (-chunked-rest coll)))\n\n  INext\n  (-next [coll]\n    (if (< (inc off) (alength node))\n      (let [s (chunked-seq vec node i (inc off))]\n        (if (nil? s)\n          nil\n          s))\n      (-chunked-next coll)))\n\n  ICollection\n  (-conj [coll o]\n    (cons o coll))\n\n  IEmptyableCollection\n  (-empty [coll]\n    ())\n\n  IChunkedSeq\n  (-chunked-first [coll]\n    (array-chunk node off))\n  (-chunked-rest [coll]\n    (let [end (+ i (alength node))]\n      (if (< end (-count vec))\n        (chunked-seq vec (unchecked-array-for vec end) end 0)\n        ())))\n\n  IChunkedNext\n  (-chunked-next [coll]\n    (let [end (+ i (alength node))]\n      (when (< end (-count vec))\n        (chunked-seq vec (unchecked-array-for vec end) end 0))))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-ordered-coll __hash))\n\n  IReduce\n  (-reduce [coll f]\n    (pv-reduce vec f (+ i off) (count vec)))\n\n  (-reduce [coll f start]\n    (pv-reduce vec f start (+ i off) (count vec))))\n\n(es6-iterable ChunkedSeq)\n\n(defn chunked-seq\n  ([vec i off] (ChunkedSeq. vec (array-for vec i) i off nil nil))\n  ([vec node i off] (ChunkedSeq. vec node i off nil nil))\n  ([vec node i off meta]\n     (ChunkedSeq. vec node i off meta nil)))\n\n(declare build-subvec)\n\n(deftype Subvec [meta v start end ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  ICloneable\n  (-clone [_] (Subvec. meta v start end __hash))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (build-subvec new-meta v start end __hash)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  IStack\n  (-peek [coll]\n    (when-not (== start end)\n      (-nth v (dec end))))\n  (-pop [coll]\n    (if (== start end)\n      (throw (js\/Error. \"Can't pop empty vector\"))\n      (build-subvec meta v start (dec end) nil)))\n\n  ICollection\n  (-conj [coll o]\n    (build-subvec meta (-assoc-n v end o) start (inc end) nil))\n\n  IEmptyableCollection\n  (-empty [coll] (-with-meta (.-EMPTY PersistentVector) meta))\n\n  ISequential\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-ordered-coll __hash))\n\n  ISeqable\n  (-seq [coll]\n    (let [subvec-seq (fn subvec-seq [i]\n                       (when-not (== i end)\n                         (cons (-nth v i)\n                               (lazy-seq\n                                (subvec-seq (inc i))))))]\n      (subvec-seq start)))\n\n  IReversible\n  (-rseq [coll]\n    (if-not (== start end)\n      (RSeq. coll (dec (- end start)) nil)))\n\n  ICounted\n  (-count [coll] (- end start))\n\n  IIndexed\n  (-nth [coll n]\n    (if (or (neg? n) (<= end (+ start n)))\n      (vector-index-out-of-bounds n (- end start))\n      (-nth v (+ start n))))\n  (-nth [coll n not-found]\n    (if (or (neg? n) (<= end (+ start n)))\n      not-found\n      (-nth v (+ start n) not-found)))\n\n  ILookup\n  (-lookup [coll k] (-lookup coll k nil))\n  (-lookup [coll k not-found] (if (number? k)\n                                (-nth coll k not-found)\n                                not-found))\n\n  IAssociative\n  (-assoc [coll key val]\n    (if (number? key)\n      (-assoc-n coll key val)\n      (throw (js\/Error. \"Subvec's key for assoc must be a number.\"))))\n\n  IFind\n  (-find [coll n]\n    (when-not (neg? n)\n      (let [idx (+ start n)]\n        (when (< idx end)\n          (MapEntry. n (-lookup v idx) nil)))))\n\n  IVector\n  (-assoc-n [coll n val]\n    (let [v-pos (+ start n)]\n      (if (or (neg? n) (<= (inc end) v-pos))\n        (throw (js\/Error. (str \"Index \" n \" out of bounds [0,\" (-count coll) \"]\")))\n        (build-subvec meta (assoc v v-pos val) start (max end (inc v-pos)) nil))))\n\n  IReduce\n  (-reduce [coll f]\n    (if (implements? APersistentVector v)\n      (pv-reduce v f start end)\n      (ci-reduce coll f)))\n  (-reduce [coll f init]\n    (if (implements? APersistentVector v)\n      (pv-reduce v f init start end)\n      (ci-reduce coll f init)))\n\n  IKVReduce\n  (-kv-reduce [coll f init]\n    (loop [i start j 0 init init]\n      (if (< i end)\n        (let [init (f init j (-nth v i))]\n          (if (reduced? init)\n            @init\n            (recur (inc i) (inc j) init)))\n        init)))\n\n  IFn\n  (-invoke [coll k]\n    (-nth coll k))\n  (-invoke [coll k not-found]\n    (-nth coll k not-found))\n\n  IIterable\n  (-iterator [coll]\n    (if (implements? APersistentVector v)\n      (ranged-iterator v start end)\n      (seq-iter coll))))\n\n(es6-iterable Subvec)\n\n(defn- build-subvec [meta v start end __hash]\n  (if (instance? Subvec v)\n    (recur meta (.-v v) (+ (.-start v) start) (+ (.-start v) end) __hash)\n    (do\n      (when-not (vector? v)\n        (throw (js\/Error. \"v must satisfy IVector\")))\n      (when (or (neg? start)\n                (< end start)\n                (> end (count v)))\n        (throw (js\/Error. \"Index out of bounds\")))\n      (Subvec. meta v start end __hash))))\n\n(defn subvec\n  \"Returns a persistent vector of the items in vector from\n  start (inclusive) to end (exclusive).  If end is not supplied,\n  defaults to (count vector). This operation is O(1) and very fast, as\n  the resulting vector shares structure with the original and no\n  trimming is done.\"\n  ([v start]\n   (subvec v start (count v)))\n  ([v start end]\n   (assert (and (not (nil? start)) (not (nil? end))))\n   (build-subvec nil v (int start) (int end) nil)))\n\n(defn- tv-ensure-editable [edit node]\n  (if (identical? edit (.-edit node))\n    node\n    (VectorNode. edit (aclone (.-arr node)))))\n\n(defn- tv-editable-root [node]\n  (VectorNode. (js-obj) (aclone (.-arr node))))\n\n(defn- tv-editable-tail [tl]\n  (let [ret (make-array 32)]\n    (array-copy tl 0 ret 0 (alength tl))\n    ret))\n\n(defn- tv-push-tail [tv level parent tail-node]\n  (let [ret    (tv-ensure-editable (.. tv -root -edit) parent)\n        subidx (bit-and (bit-shift-right-zero-fill (dec (.-cnt tv)) level) 0x01f)]\n    (pv-aset ret subidx\n             (if (== level 5)\n               tail-node\n               (let [child (pv-aget ret subidx)]\n                 (if-not (nil? child)\n                   (tv-push-tail tv (- level 5) child tail-node)\n                   (new-path (.. tv -root -edit) (- level 5) tail-node)))))\n    ret))\n\n(defn- tv-pop-tail [tv level node]\n  (let [node   (tv-ensure-editable (.. tv -root -edit) node)\n        subidx (bit-and (bit-shift-right-zero-fill (- (.-cnt tv) 2) level) 0x01f)]\n    (cond\n      (> level 5) (let [new-child (tv-pop-tail\n                                   tv (- level 5) (pv-aget node subidx))]\n                    (if (and (nil? new-child) (zero? subidx))\n                      nil\n                      (do (pv-aset node subidx new-child)\n                          node)))\n      (zero? subidx) nil\n      :else (do (pv-aset node subidx nil)\n                node))))\n\n(defn- unchecked-editable-array-for [tv i]\n  ;; invariant: i is a valid index of tv.\n  (if (>= i (tail-off tv))\n    (.-tail tv)\n    (let [root (.-root tv)]\n      (loop [node  root\n             level (.-shift tv)]\n        (if (pos? level)\n          (recur (tv-ensure-editable\n                   (.-edit root)\n                   (pv-aget node\n                            (bit-and (bit-shift-right-zero-fill i level)\n                                     0x01f)))\n                 (- level 5))\n          (.-arr node))))))\n\n(deftype TransientVector [^:mutable cnt\n                          ^:mutable shift\n                          ^:mutable root\n                          ^:mutable tail]\n  ITransientCollection\n  (-conj! [tcoll o]\n    (if ^boolean (.-edit root)\n      (if (< (- cnt (tail-off tcoll)) 32)\n        (do (aset tail (bit-and cnt 0x01f) o)\n            (set! cnt (inc cnt))\n            tcoll)\n        (let [tail-node (VectorNode. (.-edit root) tail)\n              new-tail  (make-array 32)]\n          (aset new-tail 0 o)\n          (set! tail new-tail)\n          (if (> (bit-shift-right-zero-fill cnt 5)\n                 (bit-shift-left 1 shift))\n            (let [new-root-array (make-array 32)\n                  new-shift      (+ shift 5)]\n              (aset new-root-array 0 root)\n              (aset new-root-array 1 (new-path (.-edit root) shift tail-node))\n              (set! root  (VectorNode. (.-edit root) new-root-array))\n              (set! shift new-shift)\n              (set! cnt   (inc cnt))\n              tcoll)\n            (let [new-root (tv-push-tail tcoll shift root tail-node)]\n              (set! root new-root)\n              (set! cnt  (inc cnt))\n              tcoll))))\n      (throw (js\/Error. \"conj! after persistent!\"))))\n\n  (-persistent! [tcoll]\n    (if ^boolean (.-edit root)\n      (do (set! (.-edit root) nil)\n          (let [len (- cnt (tail-off tcoll))\n                trimmed-tail (make-array len)]\n            (array-copy tail 0 trimmed-tail 0 len)\n            (PersistentVector. nil cnt shift root trimmed-tail nil)))\n      (throw (js\/Error. \"persistent! called twice\"))))\n\n  ITransientAssociative\n  (-assoc! [tcoll key val]\n    (if (number? key)\n      (-assoc-n! tcoll key val)\n      (throw (js\/Error. \"TransientVector's key for assoc! must be a number.\"))))\n\n  ITransientVector\n  (-assoc-n! [tcoll n val]\n    (if ^boolean (.-edit root)\n      (cond\n        (and (<= 0 n) (< n cnt))\n        (if (<= (tail-off tcoll) n)\n          (do (aset tail (bit-and n 0x01f) val)\n              tcoll)\n          (let [new-root\n                ((fn go [level node]\n                   (let [node (tv-ensure-editable (.-edit root) node)]\n                     (if (zero? level)\n                       (do (pv-aset node (bit-and n 0x01f) val)\n                           node)\n                       (let [subidx (bit-and (bit-shift-right-zero-fill n level)\n                                             0x01f)]\n                         (pv-aset node subidx\n                                  (go (- level 5) (pv-aget node subidx)))\n                         node))))\n                 shift root)]\n            (set! root new-root)\n            tcoll))\n        (== n cnt) (-conj! tcoll val)\n        :else\n        (throw\n         (js\/Error.\n          (str \"Index \" n \" out of bounds for TransientVector of length\" cnt))))\n      (throw (js\/Error. \"assoc! after persistent!\"))))\n\n  (-pop! [tcoll]\n    (if ^boolean (.-edit root)\n      (cond\n        (zero? cnt) (throw (js\/Error. \"Can't pop empty vector\"))\n        (== 1 cnt)                       (do (set! cnt 0) tcoll)\n        (pos? (bit-and (dec cnt) 0x01f)) (do (set! cnt (dec cnt)) tcoll)\n        :else\n        (let [new-tail (unchecked-editable-array-for tcoll (- cnt 2))\n              new-root (let [nr (tv-pop-tail tcoll shift root)]\n                         (if-not (nil? nr)\n                           nr\n                           (VectorNode. (.-edit root) (make-array 32))))]\n          (if (and (< 5 shift) (nil? (pv-aget new-root 1)))\n            (let [new-root (tv-ensure-editable (.-edit root) (pv-aget new-root 0))]\n              (set! root  new-root)\n              (set! shift (- shift 5))\n              (set! cnt   (dec cnt))\n              (set! tail  new-tail)\n              tcoll)\n            (do (set! root new-root)\n                (set! cnt  (dec cnt))\n                (set! tail new-tail)\n                tcoll))))\n      (throw (js\/Error. \"pop! after persistent!\"))))\n\n  ICounted\n  (-count [coll]\n    (if ^boolean (.-edit root)\n      cnt\n      (throw (js\/Error. \"count after persistent!\"))))\n\n  IIndexed\n  (-nth [coll n]\n    (if ^boolean (.-edit root)\n      (aget (array-for coll n) (bit-and n 0x01f))\n      (throw (js\/Error. \"nth after persistent!\"))))\n\n  (-nth [coll n not-found]\n    (if (and (<= 0 n) (< n cnt))\n      (-nth coll n)\n      not-found))\n\n  ILookup\n  (-lookup [coll k] (-lookup coll k nil))\n\n  (-lookup [coll k not-found]\n    (cond\n      (not ^boolean (.-edit root)) (throw (js\/Error. \"lookup after persistent!\"))\n      (number? k) (-nth coll k not-found)\n      :else not-found))\n\n  IFn\n  (-invoke [coll k]\n    (-lookup coll k))\n\n  (-invoke [coll k not-found]\n    (-lookup coll k not-found)))\n\n;;; PersistentQueue ;;;\n\n(deftype PersistentQueueIter [^:mutable fseq riter]\n  Object\n  (hasNext [_]\n    (or (and (some? fseq) (seq fseq)) (and (some? riter) (.hasNext riter))))\n  (next [_]\n    (cond\n      (some? fseq)\n      (let [ret (first fseq)]\n        (set! fseq (next fseq))\n        ret)\n      (and (some? riter) ^boolean (.hasNext riter))\n      (.next riter)\n      :else (throw (js\/Error. \"No such element\"))))\n  (remove [_] (js\/Error. \"Unsupported operation\")))\n\n(deftype PersistentQueueSeq [meta front rear ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (PersistentQueueSeq. new-meta front rear __hash)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  ISeq\n  (-first [coll] (first front))\n  (-rest  [coll]\n    (if-let [f1 (next front)]\n      (PersistentQueueSeq. meta f1 rear nil)\n      (if (nil? rear)\n        (-empty coll)\n        (PersistentQueueSeq. meta rear nil nil))))\n\n  INext\n  (-next [coll]\n    (if-let [f1 (next front)]\n      (PersistentQueueSeq. meta f1 rear nil)\n      (when (some? rear)\n        (PersistentQueueSeq. meta rear nil nil))))\n\n  ICollection\n  (-conj [coll o] (cons o coll))\n\n  IEmptyableCollection\n  (-empty [coll] (-with-meta (.-EMPTY List) meta))\n\n  ISequential\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-ordered-coll __hash))\n\n  ISeqable\n  (-seq [coll] coll))\n\n(es6-iterable PersistentQueueSeq)\n\n(deftype PersistentQueue [meta count front rear ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  ICloneable\n  (-clone [coll] (PersistentQueue. meta count front rear __hash))\n\n  IIterable\n  (-iterator [coll]\n    (PersistentQueueIter. front (-iterator rear)))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (PersistentQueue. new-meta count front rear __hash)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  ISeq\n  (-first [coll] (first front))\n  (-rest [coll] (rest (seq coll)))\n\n  IStack\n  (-peek [coll] (first front))\n  (-pop [coll]\n    (if front\n      (if-let [f1 (next front)]\n        (PersistentQueue. meta (dec count) f1 rear nil)\n        (PersistentQueue. meta (dec count) (seq rear) [] nil))\n      coll))\n\n  ICollection\n  (-conj [coll o]\n    (if front\n      (PersistentQueue. meta (inc count) front (conj (or rear []) o) nil)\n      (PersistentQueue. meta (inc count) (conj front o) [] nil)))\n\n  IEmptyableCollection\n  (-empty [coll] (-with-meta (.-EMPTY PersistentQueue) meta))\n\n  ISequential\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-ordered-coll __hash))\n\n  ISeqable\n  (-seq [coll]\n    (let [rear (seq rear)]\n      (if (or front rear)\n        (PersistentQueueSeq. nil front (seq rear) nil))))\n\n  ICounted\n  (-count [coll] count))\n\n(set! (.-EMPTY PersistentQueue) (PersistentQueue. nil 0 nil [] empty-ordered-hash))\n\n(es6-iterable PersistentQueue)\n\n(deftype NeverEquiv []\n  Object\n  (equiv [this other]\n    (-equiv this other))\n  IEquiv\n  (-equiv [o other] false))\n\n(def ^:private never-equiv (NeverEquiv.))\n\n(defn equiv-map\n  \"Test map equivalence. Returns true if x equals y, otherwise returns false.\"\n  [x y]\n  (boolean\n    (when (and (map? y) (not (record? y)))\n      ; assume all maps are counted\n      (when (== (count x) (count y))\n        (if (satisfies? IKVReduce x)\n          (reduce-kv\n            (fn [_ k v]\n              (if (= (get y k never-equiv) v)\n                true\n                (reduced false)))\n            true x)\n          (every?\n            (fn [xkv]\n              (= (get y (first xkv) never-equiv) (second xkv)))\n            x))))))\n\n\n(defn- scan-array [incr k array]\n  (let [len (alength array)]\n    (loop [i 0]\n      (when (< i len)\n        (if (identical? k (aget array i))\n          i\n          (recur (+ i incr)))))))\n\n; The keys field is an array of all keys of this map, in no particular\n; order. Any string, keyword, or symbol key is used as a property name\n; to store the value in strobj.  If a key is assoc'ed when that same\n; key already exists in strobj, the old value is overwritten. If a\n; non-string key is assoc'ed, return a HashMap object instead.\n\n(defn- obj-map-compare-keys [a b]\n  (let [a (hash a)\n        b (hash b)]\n    (cond\n     (< a b) -1\n     (> a b) 1\n     :else 0)))\n\n(defn- obj-map->hash-map [m k v]\n  (let [ks  (.-keys m)\n        len (alength ks)\n        so  (.-strobj m)\n        mm  (meta m)]\n    (loop [i   0\n           out (transient (.-EMPTY PersistentHashMap))]\n      (if (< i len)\n        (let [k (aget ks i)]\n          (recur (inc i) (assoc! out k (gobject\/get so k))))\n        (-with-meta (persistent! (assoc! out k v)) mm)))))\n\n;;; ObjMap - DEPRECATED\n\n(defn- obj-clone [obj ks]\n  (let [new-obj (js-obj)\n        l (alength ks)]\n    (loop [i 0]\n      (when (< i l)\n        (let [k (aget ks i)]\n          (gobject\/set new-obj k (gobject\/get obj k))\n          (recur (inc i)))))\n    new-obj))\n\n(deftype ObjMap [meta keys strobj update-count ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (ObjMap. new-meta keys strobj update-count __hash)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  ICollection\n  (-conj [coll entry]\n    (if (vector? entry)\n      (-assoc coll (-nth entry 0) (-nth entry 1))\n      (reduce -conj\n              coll\n              entry)))\n\n  IEmptyableCollection\n  (-empty [coll] (-with-meta (.-EMPTY ObjMap) meta))\n\n  IEquiv\n  (-equiv [coll other] (equiv-map coll other))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-unordered-coll __hash))\n\n  ISeqable\n  (-seq [coll]\n    (when (pos? (alength keys))\n      (map #(vector % (unchecked-get strobj %))\n           (.sort keys obj-map-compare-keys))))\n\n  ICounted\n  (-count [coll] (alength keys))\n\n  ILookup\n  (-lookup [coll k] (-lookup coll k nil))\n  (-lookup [coll k not-found]\n    (if (and (string? k)\n             (not (nil? (scan-array 1 k keys))))\n      (unchecked-get strobj k)\n      not-found))\n\n  IAssociative\n  (-assoc [coll k v]\n    (if (string? k)\n        (if (or (> update-count (.-HASHMAP_THRESHOLD ObjMap))\n                (>= (alength keys) (.-HASHMAP_THRESHOLD ObjMap)))\n          (obj-map->hash-map coll k v)\n          (if-not (nil? (scan-array 1 k keys))\n            (let [new-strobj (obj-clone strobj keys)]\n              (gobject\/set new-strobj k v)\n              (ObjMap. meta keys new-strobj (inc update-count) nil)) ; overwrite\n            (let [new-strobj (obj-clone strobj keys) ; append\n                  new-keys (aclone keys)]\n              (gobject\/set new-strobj k v)\n              (.push new-keys k)\n              (ObjMap. meta new-keys new-strobj (inc update-count) nil))))\n        ;; non-string key. game over.\n        (obj-map->hash-map coll k v)))\n  (-contains-key? [coll k]\n    (if (and (string? k)\n             (not (nil? (scan-array 1 k keys))))\n      true\n      false))\n\n  IFind\n  (-find [coll k]\n    (when (and (string? k)\n            (not (nil? (scan-array 1 k keys))))\n      (MapEntry. k (unchecked-get strobj k) nil)))\n\n  IKVReduce\n  (-kv-reduce [coll f init]\n    (let [len (alength keys)]\n      (loop [keys (.sort keys obj-map-compare-keys)\n             init init]\n        (if (seq keys)\n          (let [k (first keys)\n                init (f init k (unchecked-get strobj k))]\n            (if (reduced? init)\n              @init\n              (recur (rest keys) init)))\n          init))))\n\n  IMap\n  (-dissoc [coll k]\n    (if (and (string? k)\n             (not (nil? (scan-array 1 k keys))))\n      (let [new-keys (aclone keys)\n            new-strobj (obj-clone strobj keys)]\n        (.splice new-keys (scan-array 1 k new-keys) 1)\n        (js-delete new-strobj k)\n        (ObjMap. meta new-keys new-strobj (inc update-count) nil))\n      coll)) ; key not found, return coll unchanged\n\n  IFn\n  (-invoke [coll k]\n    (-lookup coll k))\n  (-invoke [coll k not-found]\n    (-lookup coll k not-found))\n\n  IEditableCollection\n  (-as-transient [coll]\n    (transient (into (hash-map) coll))))\n\n(set! (.-EMPTY ObjMap) (ObjMap. nil (array) (js-obj) 0 empty-unordered-hash))\n\n(set! (.-HASHMAP_THRESHOLD ObjMap) 8)\n\n(set! (.-fromObject ObjMap) (fn [ks obj] (ObjMap. nil ks obj 0 nil)))\n\n;; Record Iterator\n(deftype RecordIter [^:mutable i record base-count fields ext-map-iter]\n  Object\n  (hasNext [_]\n    (or (< i base-count) (.hasNext ext-map-iter)))\n  (next [_]\n    (if (< i base-count)\n      (let [k (nth fields i)]\n        (set! i (inc i))\n        (MapEntry. k (-lookup record k) nil))\n      (.next ext-map-iter)))\n  (remove [_] (js\/Error. \"Unsupported operation\")))\n\n;; EXPERIMENTAL: subject to change\n(deftype ES6EntriesIterator [^:mutable s]\n  Object\n  (next [_]\n    (if-not (nil? s)\n      (let [[k v] (first s)]\n        (set! s (next s))\n        #js {:value #js [k v] :done false})\n      #js {:value nil :done true})))\n\n(defn es6-entries-iterator [coll]\n  (ES6EntriesIterator. (seq coll)))\n\n;; EXPERIMENTAL: subject to change\n(deftype ES6SetEntriesIterator [^:mutable s]\n  Object\n  (next [_]\n    (if-not (nil? s)\n      (let [x (first s)]\n        (set! s (next s))\n        #js {:value #js [x x] :done false})\n      #js {:value nil :done true})))\n\n(defn es6-set-entries-iterator [coll]\n  (ES6SetEntriesIterator. (seq coll)))\n\n;;; PersistentArrayMap\n\n(defn- array-index-of-nil? [arr]\n  (let [len (alength arr)]\n    (loop [i 0]\n      (cond\n        (<= len i) -1\n        (nil? (aget arr i)) i\n        :else (recur (+ i 2))))))\n\n(defn- array-index-of-keyword? [arr k]\n  (let [len  (alength arr)\n        kstr (.-fqn k)]\n    (loop [i 0]\n      (cond\n        (<= len i) -1\n        (and (keyword? (aget arr i))\n             (identical? kstr (.-fqn (aget arr i)))) i\n        :else (recur (+ i 2))))))\n\n(defn- array-index-of-symbol? [arr k]\n  (let [len  (alength arr)\n        kstr (.-str k)]\n    (loop [i 0]\n      (cond\n        (<= len i) -1\n        (and (symbol? (aget arr i))\n             (identical? kstr (.-str (aget arr i)))) i\n        :else (recur (+ i 2))))))\n\n(defn- array-index-of-identical? [arr k]\n  (let [len (alength arr)]\n    (loop [i 0]\n      (cond\n        (<= len i) -1\n        (identical? k (aget arr i)) i\n        :else (recur (+ i 2))))))\n\n(defn- array-index-of-equiv? [arr k]\n  (let [len (alength arr)]\n    (loop [i 0]\n      (cond\n        (<= len i) -1\n        (= k (aget arr i)) i\n        :else (recur (+ i 2))))))\n\n(defn array-index-of [arr k]\n  (cond\n    (keyword? k) (array-index-of-keyword? arr k)\n\n    (or (string? k) (number? k))\n    (array-index-of-identical? arr k)\n\n    (symbol? k) (array-index-of-symbol? arr k)\n\n    (nil? k)\n    (array-index-of-nil? arr)\n\n    :else (array-index-of-equiv? arr k)))\n\n(defn- array-map-index-of [m k]\n  (array-index-of (.-arr m) k))\n\n(defn- array-extend-kv [arr k v]\n  (let [l (alength arr)\n        narr (make-array (+ l 2))]\n    (loop [i 0]\n      (when (< i l)\n        (aset narr i (aget arr i))\n        (recur (inc i))))\n    (aset narr l k)\n    (aset narr (inc l) v)\n    narr))\n\n(defn- array-map-extend-kv [m k v]\n  (array-extend-kv (.-arr m) k v))\n\n(declare TransientArrayMap)\n\n(deftype MapEntry [key val ^:mutable __hash]\n  Object\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  IMapEntry\n  (-key [node] key)\n  (-val [node] val)\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-ordered-coll __hash))\n\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  IMeta\n  (-meta [node] nil)\n\n  IWithMeta\n  (-with-meta [node meta]\n    (with-meta [key val] meta))\n\n  IStack\n  (-peek [node] val)\n\n  (-pop [node] [key])\n\n  ICollection\n  (-conj [node o] [key val o])\n\n  IEmptyableCollection\n  (-empty [node] nil)\n\n  ISequential\n  ISeqable\n  (-seq [node] (IndexedSeq. #js [key val] 0 nil))\n\n  IReversible\n  (-rseq [node] (IndexedSeq. #js [val key] 0 nil))\n\n  ICounted\n  (-count [node] 2)\n\n  IIndexed\n  (-nth [node n]\n    (cond (== n 0) key\n          (== n 1) val\n          :else    (throw (js\/Error. \"Index out of bounds\"))))\n\n  (-nth [node n not-found]\n    (cond (== n 0) key\n          (== n 1) val\n          :else    not-found))\n\n  ILookup\n  (-lookup [node k] (-nth node k nil))\n  (-lookup [node k not-found] (-nth node k not-found))\n\n  IAssociative\n  (-assoc [node k v]\n    (assoc [key val] k v))\n  (-contains-key? [node k]\n    (or (== k 0) (== k 1)))\n\n  IFind\n  (-find [node k]\n    (case k\n      0 (MapEntry. 0 key nil)\n      1 (MapEntry. 1 val nil)\n      nil))\n\n  IVector\n  (-assoc-n [node n v]\n    (-assoc-n [key val] n v))\n\n  IReduce\n  (-reduce [node f]\n    (ci-reduce node f))\n\n  (-reduce [node f start]\n    (ci-reduce node f start))\n\n  IFn\n  (-invoke [node k]\n    (-nth node k))\n\n  (-invoke [node k not-found]\n    (-nth node k not-found)))\n\n(defn map-entry?\n  \"Returns true if x satisfies IMapEntry\"\n  [x]\n  (implements? IMapEntry x))\n\n(deftype PersistentArrayMapSeq [arr i _meta]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  IMeta\n  (-meta [coll] _meta)\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta _meta)\n      coll\n      (PersistentArrayMapSeq. arr i new-meta)))\n\n  ICounted\n  (-count [coll]\n    (\/ (- (alength arr) i) 2))\n\n  ISeqable\n  (-seq [coll] coll)\n\n  ISequential\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  ICollection\n  (-conj [coll o]\n    (cons o coll))\n\n  IEmptyableCollection\n  (-empty [coll] (.-EMPTY List))\n\n  IHash\n  (-hash [coll] (hash-ordered-coll coll))\n\n  ISeq\n  (-first [coll]\n    (MapEntry. (aget arr i) (aget arr (inc i)) nil))\n\n  (-rest [coll]\n    (if (< i (- (alength arr) 2))\n      (PersistentArrayMapSeq. arr (+ i 2) nil)\n      ()))\n\n  INext\n  (-next [coll]\n    (when (< i (- (alength arr) 2))\n      (PersistentArrayMapSeq. arr (+ i 2) nil)))\n\n  IReduce\n  (-reduce [coll f] (seq-reduce f coll))\n  (-reduce [coll f start] (seq-reduce f start coll)))\n\n(es6-iterable PersistentArrayMapSeq)\n\n(defn persistent-array-map-seq [arr i _meta]\n  (when (<= i (- (alength arr) 2))\n    (PersistentArrayMapSeq. arr i _meta)))\n\n(declare keys vals)\n\n(deftype PersistentArrayMapIterator [arr ^:mutable i cnt]\n  Object\n  (hasNext [_]\n    (< i cnt))\n  (next [_]\n    (let [ret (MapEntry. (aget arr i) (aget arr (inc i)) nil)]\n      (set! i (+ i 2))\n      ret)))\n\n(deftype PersistentArrayMap [meta cnt arr ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n\n  ;; EXPERIMENTAL: subject to change\n  (keys [coll]\n    (es6-iterator (keys coll)))\n  (entries [coll]\n    (es6-entries-iterator (seq coll)))\n  (values [coll]\n    (es6-iterator (vals coll)))\n  (has [coll k]\n    (contains? coll k))\n  (get [coll k not-found]\n    (-lookup coll k not-found))\n  (forEach [coll f]\n    (doseq [[k v] coll]\n      (f v k)))\n\n  ICloneable\n  (-clone [_] (PersistentArrayMap. meta cnt arr __hash))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (PersistentArrayMap. new-meta cnt arr __hash)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  ICollection\n  (-conj [coll entry]\n    (if (vector? entry)\n      (-assoc coll (-nth entry 0) (-nth entry 1))\n      (loop [ret coll es (seq entry)]\n        (if (nil? es)\n          ret\n          (let [e (first es)]\n            (if (vector? e)\n              (recur (-assoc ret (-nth e 0) (-nth e 1))\n                     (next es))\n              (throw (js\/Error. \"conj on a map takes map entries or seqables of map entries\"))))))))\n\n  IEmptyableCollection\n  (-empty [coll] (-with-meta (.-EMPTY PersistentArrayMap) meta))\n\n  IEquiv\n  (-equiv [coll other]\n    (if (and (map? other) (not (record? other)))\n      (let [alen (alength arr)\n            ^not-native other other]\n        (if (== cnt (-count other))\n          (loop [i 0]\n            (if (< i alen)\n              (let [v (-lookup other (aget arr i) lookup-sentinel)]\n                (if-not (identical? v lookup-sentinel)\n                  (if (= (aget arr (inc i)) v)\n                    (recur (+ i 2))\n                    false)\n                  false))\n              true))\n          false))\n      false))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-unordered-coll __hash))\n\n  IIterable\n  (-iterator [this]\n    (PersistentArrayMapIterator. arr 0 (* cnt 2)))\n\n  ISeqable\n  (-seq [coll]\n    (persistent-array-map-seq arr 0 nil))\n\n  ICounted\n  (-count [coll] cnt)\n\n  ILookup\n  (-lookup [coll k]\n    (-lookup coll k nil))\n\n  (-lookup [coll k not-found]\n    (let [idx (array-map-index-of coll k)]\n      (if (== idx -1)\n        not-found\n        (aget arr (inc idx)))))\n\n  IAssociative\n  (-assoc [coll k v]\n    (let [idx (array-map-index-of coll k)]\n      (cond\n        (== idx -1)\n        (if (< cnt (.-HASHMAP-THRESHOLD PersistentArrayMap))\n          (let [arr (array-map-extend-kv coll k v)]\n            (PersistentArrayMap. meta (inc cnt) arr nil))\n          (-> (into (.-EMPTY PersistentHashMap) coll)\n            (-assoc k v)\n            (-with-meta meta)))\n\n        (identical? v (aget arr (inc idx)))\n        coll\n\n        :else\n        (let [arr (doto (aclone arr)\n                    (aset (inc idx) v))]\n          (PersistentArrayMap. meta cnt arr nil)))))\n\n  (-contains-key? [coll k]\n    (not (== (array-map-index-of coll k) -1)))\n\n  IFind\n  (-find [coll k]\n    (let [idx (array-map-index-of coll k)]\n      (when-not (== idx -1)\n        (MapEntry. (aget arr idx) (aget arr (inc idx)) nil))))\n\n  IMap\n  (-dissoc [coll k]\n    (let [idx (array-map-index-of coll k)]\n      (if (>= idx 0)\n        (let [len     (alength arr)\n              new-len (- len 2)]\n          (if (zero? new-len)\n            (-empty coll)\n            (let [new-arr (make-array new-len)]\n              (loop [s 0 d 0]\n                (cond\n                  (>= s len) (PersistentArrayMap. meta (dec cnt) new-arr nil)\n                  (= k (aget arr s)) (recur (+ s 2) d)\n                  :else (do (aset new-arr d (aget arr s))\n                            (aset new-arr (inc d) (aget arr (inc s)))\n                            (recur (+ s 2) (+ d 2))))))))\n        coll)))\n\n  IKVReduce\n  (-kv-reduce [coll f init]\n    (let [len (alength arr)]\n      (loop [i 0 init init]\n        (if (< i len)\n          (let [init (f init (aget arr i) (aget arr (inc i)))]\n            (if (reduced? init)\n              @init\n              (recur (+ i 2) init)))\n          init))))\n\n  IReduce\n  (-reduce [coll f]\n    (iter-reduce coll f))\n  (-reduce [coll f start]\n    (iter-reduce coll f start))\n\n  IFn\n  (-invoke [coll k]\n    (-lookup coll k))\n\n  (-invoke [coll k not-found]\n    (-lookup coll k not-found))\n\n  IEditableCollection\n  (-as-transient [coll]\n    (TransientArrayMap. (js-obj) (alength arr) (aclone arr))))\n\n(set! (.-EMPTY PersistentArrayMap) (PersistentArrayMap. nil 0 (array) empty-unordered-hash))\n\n(set! (.-HASHMAP-THRESHOLD PersistentArrayMap) 8)\n\n(set! (.-fromArray PersistentArrayMap)\n  (fn [arr ^boolean no-clone ^boolean no-check]\n    (as-> (if no-clone arr (aclone arr)) arr\n      (if no-check\n        arr\n        (let [ret (array)]\n          (loop [i 0]\n            (when (< i (alength arr))\n              (let [k (aget arr i)\n                    v (aget arr (inc i))\n                    idx (array-index-of ret k)]\n                (when (== idx -1)\n                  (.push ret k)\n                  (.push ret v)))\n              (recur (+ i 2))))\n          ret))\n      (let [cnt (\/ (alength arr) 2)]\n        (PersistentArrayMap. nil cnt arr nil)))))\n\n(set! (.-createWithCheck PersistentArrayMap)\n  (fn [arr]\n    (let [ret (array)]\n      (loop [i 0]\n        (when (< i (alength arr))\n          (let [k (aget arr i)\n                v (aget arr (inc i))\n                idx (array-index-of ret k)]\n            (if (== idx -1)\n              (doto ret (.push k) (.push v))\n              (throw (js\/Error. (str \"Duplicate key: \" k)))))\n          (recur (+ i 2))))\n      (let [cnt (\/ (alength arr) 2)]\n        (PersistentArrayMap. nil cnt arr nil)))))\n\n(set! (.-createAsIfByAssoc PersistentArrayMap)\n  (fn [arr]\n    (let [ret (array)]\n      (loop [i 0]\n        (when (< i (alength arr))\n          (let [k (aget arr i)\n                v (aget arr (inc i))\n                idx (array-index-of ret k)]\n            (if (== idx -1)\n              (doto ret (.push k) (.push v))\n              (aset ret (inc idx) v)))\n          (recur (+ i 2))))\n      (PersistentArrayMap. nil (\/ (alength ret) 2) ret nil))))\n\n(es6-iterable PersistentArrayMap)\n\n(declare array->transient-hash-map)\n\n(deftype TransientArrayMap [^:mutable ^boolean editable?\n                            ^:mutable len\n                            arr]\n  ICounted\n  (-count [tcoll]\n    (if editable?\n      (quot len 2)\n      (throw (js\/Error. \"count after persistent!\"))))\n\n  ILookup\n  (-lookup [tcoll k]\n    (-lookup tcoll k nil))\n\n  (-lookup [tcoll k not-found]\n    (if editable?\n      (let [idx (array-map-index-of tcoll k)]\n        (if (== idx -1)\n          not-found\n          (aget arr (inc idx))))\n      (throw (js\/Error. \"lookup after persistent!\"))))\n\n  ITransientCollection\n  (-conj! [tcoll o]\n    (if editable?\n      (cond\n        (map-entry? o)\n        (-assoc! tcoll (key o) (val o))\n\n        (vector? o)\n        (-assoc! tcoll (o 0) (o 1))\n\n        :else\n        (loop [es (seq o) tcoll tcoll]\n          (if-let [e (first es)]\n            (recur (next es)\n                   (-assoc! tcoll (key e) (val e)))\n            tcoll)))\n      (throw (js\/Error. \"conj! after persistent!\"))))\n\n  (-persistent! [tcoll]\n    (if editable?\n      (do (set! editable? false)\n          (PersistentArrayMap. nil (quot len 2) arr nil))\n      (throw (js\/Error. \"persistent! called twice\"))))\n\n  ITransientAssociative\n  (-assoc! [tcoll key val]\n    (if editable?\n      (let [idx (array-map-index-of tcoll key)]\n        (if (== idx -1)\n          (if (<= (+ len 2) (* 2 (.-HASHMAP-THRESHOLD PersistentArrayMap)))\n            (do (set! len (+ len 2))\n                (.push arr key)\n                (.push arr val)\n                tcoll)\n            (assoc! (array->transient-hash-map len arr) key val))\n          (if (identical? val (aget arr (inc idx)))\n            tcoll\n            (do (aset arr (inc idx) val)\n                tcoll))))\n      (throw (js\/Error. \"assoc! after persistent!\"))))\n\n  ITransientMap\n  (-dissoc! [tcoll key]\n    (if editable?\n      (let [idx (array-map-index-of tcoll key)]\n        (when (>= idx 0)\n          (aset arr idx (aget arr (- len 2)))\n          (aset arr (inc idx) (aget arr (dec len)))\n          (doto arr .pop .pop)\n          (set! len (- len 2)))\n        tcoll)\n      (throw (js\/Error. \"dissoc! after persistent!\"))))\n\n  IFn\n  (-invoke [tcoll key]\n    (-lookup tcoll key nil))\n  (-invoke [tcoll key not-found]\n    (-lookup tcoll key not-found)))\n\n(declare TransientHashMap)\n\n(defn- array->transient-hash-map [len arr]\n  (loop [out (transient (.-EMPTY PersistentHashMap))\n         i   0]\n    (if (< i len)\n      (recur (assoc! out (aget arr i) (aget arr (inc i))) (+ i 2))\n      out)))\n\n;;; PersistentHashMap\n\n(deftype Box [^:mutable val])\n\n(declare create-inode-seq create-array-node-seq reset! create-node atom deref)\n\n(defn key-test [key other]\n  (cond\n    (identical? key other) true\n    (keyword-identical? key other) true\n    :else (= key other)))\n\n(defn- mask [hash shift]\n  (bit-and (bit-shift-right-zero-fill hash shift) 0x01f))\n\n(defn- clone-and-set\n  ([arr i a]\n     (doto (aclone arr)\n       (aset i a)))\n  ([arr i a j b]\n     (doto (aclone arr)\n       (aset i a)\n       (aset j b))))\n\n(defn- remove-pair [arr i]\n  (let [new-arr (make-array (- (alength arr) 2))]\n    (array-copy arr 0 new-arr 0 (* 2 i))\n    (array-copy arr (* 2 (inc i)) new-arr (* 2 i) (- (alength new-arr) (* 2 i)))\n    new-arr))\n\n(defn- bitmap-indexed-node-index [bitmap bit]\n  (bit-count (bit-and bitmap (dec bit))))\n\n(defn- bitpos [hash shift]\n  (bit-shift-left 1 (mask hash shift)))\n\n(defn- edit-and-set\n  ([inode edit i a]\n     (let [editable (.ensure-editable inode edit)]\n       (aset (.-arr editable) i a)\n       editable))\n  ([inode edit i a j b]\n     (let [editable (.ensure-editable inode edit)]\n       (aset (.-arr editable) i a)\n       (aset (.-arr editable) j b)\n       editable)))\n\n(defn- inode-kv-reduce [arr f init]\n  (let [len (alength arr)]\n    (loop [i 0 init init]\n      (if (< i len)\n        (let [init (let [k (aget arr i)]\n                     (if-not (nil? k)\n                       (f init k (aget arr (inc i)))\n                       (let [node (aget arr (inc i))]\n                         (if-not (nil? node)\n                           (.kv-reduce node f init)\n                           init))))]\n          (if (reduced? init)\n            init\n            (recur (+ i 2) init)))\n        init))))\n\n(declare ArrayNode)\n\n (deftype NodeIterator [arr ^:mutable i ^:mutable next-entry ^:mutable next-iter]\n  Object\n  (advance [this]\n    (let [len (alength arr)]\n      (loop []\n        (if (< i len)\n          (let [key (aget arr i)\n                node-or-val (aget arr (inc i))\n                ^boolean found\n                (cond (some? key)\n                      (set! next-entry (MapEntry. key node-or-val nil))\n                      (some? node-or-val)\n                      (let [new-iter (-iterator node-or-val)]\n                        (if ^boolean (.hasNext new-iter)\n                          (set! next-iter new-iter)\n                          false))\n                      :else false)]\n            (set! i (+ i 2))\n            (if found true (recur)))\n          false))))\n  (hasNext [this]\n    (or (some? next-entry) (some? next-iter) (.advance this)))\n  (next [this]\n    (cond\n      (some? next-entry)\n      (let [ret next-entry]\n        (set! next-entry nil)\n        ret)\n      (some? next-iter)\n      (let [ret (.next next-iter)]\n        (when-not ^boolean (.hasNext next-iter)\n          (set! next-iter nil))\n        ret)\n      ^boolean (.advance this)\n      (.next this)\n      :else (throw (js\/Error. \"No such element\"))))\n  (remove [_] (js\/Error. \"Unsupported operation\")))\n\n(deftype BitmapIndexedNode [edit ^:mutable bitmap ^:mutable arr]\n  Object\n  (inode-assoc [inode shift hash key val added-leaf?]\n    (let [bit (bitpos hash shift)\n          idx (bitmap-indexed-node-index bitmap bit)]\n      (if (zero? (bit-and bitmap bit))\n        (let [n (bit-count bitmap)]\n          (if (>= n 16)\n            (let [nodes (make-array 32)\n                  jdx   (mask hash shift)]\n              (aset nodes jdx (.inode-assoc (.-EMPTY BitmapIndexedNode) (+ shift 5) hash key val added-leaf?))\n              (loop [i 0 j 0]\n                (if (< i 32)\n                  (if (zero? (bit-and (bit-shift-right-zero-fill bitmap i) 1))\n                    (recur (inc i) j)\n                    (do (aset nodes i\n                              (if-not (nil? (aget arr j))\n                                (.inode-assoc (.-EMPTY BitmapIndexedNode)\n                                              (+ shift 5) (cljs.core\/hash (aget arr j)) (aget arr j) (aget arr (inc j)) added-leaf?)\n                                (aget arr (inc j))))\n                        (recur (inc i) (+ j 2))))))\n              (ArrayNode. nil (inc n) nodes))\n            (let [new-arr (make-array (* 2 (inc n)))]\n              (array-copy arr 0 new-arr 0 (* 2 idx))\n              (aset new-arr (* 2 idx) key)\n              (aset new-arr (inc (* 2 idx)) val)\n              (array-copy arr (* 2 idx) new-arr (* 2 (inc idx)) (* 2 (- n idx)))\n              (set! (.-val added-leaf?) true)\n              (BitmapIndexedNode. nil (bit-or bitmap bit) new-arr))))\n        (let [key-or-nil  (aget arr (* 2 idx))\n              val-or-node (aget arr (inc (* 2 idx)))]\n          (cond (nil? key-or-nil)\n                (let [n (.inode-assoc val-or-node (+ shift 5) hash key val added-leaf?)]\n                  (if (identical? n val-or-node)\n                    inode\n                    (BitmapIndexedNode. nil bitmap (clone-and-set arr (inc (* 2 idx)) n))))\n\n                (key-test key key-or-nil)\n                (if (identical? val val-or-node)\n                  inode\n                  (BitmapIndexedNode. nil bitmap (clone-and-set arr (inc (* 2 idx)) val)))\n\n                :else\n                (do (set! (.-val added-leaf?) true)\n                    (BitmapIndexedNode. nil bitmap\n                                        (clone-and-set arr (* 2 idx) nil (inc (* 2 idx))\n                                                       (create-node (+ shift 5) key-or-nil val-or-node hash key val)))))))))\n\n  (inode-without [inode shift hash key]\n    (let [bit (bitpos hash shift)]\n      (if (zero? (bit-and bitmap bit))\n        inode\n        (let [idx         (bitmap-indexed-node-index bitmap bit)\n              key-or-nil  (aget arr (* 2 idx))\n              val-or-node (aget arr (inc (* 2 idx)))]\n          (cond (nil? key-or-nil)\n                (let [n (.inode-without val-or-node (+ shift 5) hash key)]\n                  (cond (identical? n val-or-node) inode\n                        (not (nil? n)) (BitmapIndexedNode. nil bitmap (clone-and-set arr (inc (* 2 idx)) n))\n                        (== bitmap bit) nil\n                        :else (BitmapIndexedNode. nil (bit-xor bitmap bit) (remove-pair arr idx))))\n                (key-test key key-or-nil)\n                (BitmapIndexedNode. nil (bit-xor bitmap bit) (remove-pair arr idx))\n                :else inode)))))\n\n  (inode-lookup [inode shift hash key not-found]\n    (let [bit (bitpos hash shift)]\n      (if (zero? (bit-and bitmap bit))\n        not-found\n        (let [idx         (bitmap-indexed-node-index bitmap bit)\n              key-or-nil  (aget arr (* 2 idx))\n              val-or-node (aget arr (inc (* 2 idx)))]\n          (cond (nil? key-or-nil)  (.inode-lookup val-or-node (+ shift 5) hash key not-found)\n                (key-test key key-or-nil) val-or-node\n                :else not-found)))))\n\n  (inode-find [inode shift hash key not-found]\n    (let [bit (bitpos hash shift)]\n      (if (zero? (bit-and bitmap bit))\n        not-found\n        (let [idx         (bitmap-indexed-node-index bitmap bit)\n              key-or-nil  (aget arr (* 2 idx))\n              val-or-node (aget arr (inc (* 2 idx)))]\n          (cond (nil? key-or-nil) (.inode-find val-or-node (+ shift 5) hash key not-found)\n                (key-test key key-or-nil)          (MapEntry. key-or-nil val-or-node nil)\n                :else not-found)))))\n\n  (inode-seq [inode]\n    (create-inode-seq arr))\n\n  (ensure-editable [inode e]\n    (if (identical? e edit)\n      inode\n      (let [n       (bit-count bitmap)\n            new-arr (make-array (if (neg? n) 4 (* 2 (inc n))))]\n        (array-copy arr 0 new-arr 0 (* 2 n))\n        (BitmapIndexedNode. e bitmap new-arr))))\n\n  (edit-and-remove-pair [inode e bit i]\n    (if (== bitmap bit)\n      nil\n      (let [editable (.ensure-editable inode e)\n            earr     (.-arr editable)\n            len      (alength earr)]\n        (set! (.-bitmap editable) (bit-xor bit (.-bitmap editable)))\n        (array-copy earr (* 2 (inc i))\n                    earr (* 2 i)\n                    (- len (* 2 (inc i))))\n        (aset earr (- len 2) nil)\n        (aset earr (dec len) nil)\n        editable)))\n\n  (inode-assoc! [inode edit shift hash key val added-leaf?]\n    (let [bit (bitpos hash shift)\n          idx (bitmap-indexed-node-index bitmap bit)]\n      (if (zero? (bit-and bitmap bit))\n        (let [n (bit-count bitmap)]\n          (cond\n            (< (* 2 n) (alength arr))\n            (let [editable (.ensure-editable inode edit)\n                  earr     (.-arr editable)]\n              (set! (.-val added-leaf?) true)\n              (array-copy-downward earr (* 2 idx)\n                                   earr (* 2 (inc idx))\n                                   (* 2 (- n idx)))\n              (aset earr (* 2 idx) key)\n              (aset earr (inc (* 2 idx)) val)\n              (set! (.-bitmap editable) (bit-or (.-bitmap editable) bit))\n              editable)\n\n            (>= n 16)\n            (let [nodes (make-array 32)\n                  jdx   (mask hash shift)]\n              (aset nodes jdx (.inode-assoc! (.-EMPTY BitmapIndexedNode) edit (+ shift 5) hash key val added-leaf?))\n              (loop [i 0 j 0]\n                (if (< i 32)\n                  (if (zero? (bit-and (bit-shift-right-zero-fill bitmap i) 1))\n                    (recur (inc i) j)\n                    (do (aset nodes i\n                              (if-not (nil? (aget arr j))\n                                (.inode-assoc! (.-EMPTY BitmapIndexedNode)\n                                               edit (+ shift 5) (cljs.core\/hash (aget arr j)) (aget arr j) (aget arr (inc j)) added-leaf?)\n                                (aget arr (inc j))))\n                        (recur (inc i) (+ j 2))))))\n              (ArrayNode. edit (inc n) nodes))\n\n            :else\n            (let [new-arr (make-array (* 2 (+ n 4)))]\n              (array-copy arr 0 new-arr 0 (* 2 idx))\n              (aset new-arr (* 2 idx) key)\n              (aset new-arr (inc (* 2 idx)) val)\n              (array-copy arr (* 2 idx) new-arr (* 2 (inc idx)) (* 2 (- n idx)))\n              (set! (.-val added-leaf?) true)\n              (let [editable (.ensure-editable inode edit)]\n                (set! (.-arr editable) new-arr)\n                (set! (.-bitmap editable) (bit-or (.-bitmap editable) bit))\n                editable))))\n        (let [key-or-nil  (aget arr (* 2 idx))\n              val-or-node (aget arr (inc (* 2 idx)))]\n          (cond (nil? key-or-nil)\n                (let [n (.inode-assoc! val-or-node edit (+ shift 5) hash key val added-leaf?)]\n                  (if (identical? n val-or-node)\n                    inode\n                    (edit-and-set inode edit (inc (* 2 idx)) n)))\n\n                (key-test key key-or-nil)\n                (if (identical? val val-or-node)\n                  inode\n                  (edit-and-set inode edit (inc (* 2 idx)) val))\n\n                :else\n                (do (set! (.-val added-leaf?) true)\n                    (edit-and-set inode edit (* 2 idx) nil (inc (* 2 idx))\n                                  (create-node edit (+ shift 5) key-or-nil val-or-node hash key val))))))))\n\n  (inode-without! [inode edit shift hash key removed-leaf?]\n    (let [bit (bitpos hash shift)]\n      (if (zero? (bit-and bitmap bit))\n        inode\n        (let [idx         (bitmap-indexed-node-index bitmap bit)\n              key-or-nil  (aget arr (* 2 idx))\n              val-or-node (aget arr (inc (* 2 idx)))]\n          (cond (nil? key-or-nil)\n                (let [n (.inode-without! val-or-node edit (+ shift 5) hash key removed-leaf?)]\n                  (cond (identical? n val-or-node) inode\n                        (not (nil? n)) (edit-and-set inode edit (inc (* 2 idx)) n)\n                        (== bitmap bit) nil\n                        :else (.edit-and-remove-pair inode edit bit idx)))\n                (key-test key key-or-nil)\n                (do (set! (.-val removed-leaf?) true)\n                    (.edit-and-remove-pair inode edit bit idx))\n                :else inode)))))\n\n  (kv-reduce [inode f init]\n    (inode-kv-reduce arr f init))\n\n  IIterable\n  (-iterator [coll]\n    (NodeIterator. arr 0 nil nil)))\n\n(set! (.-EMPTY BitmapIndexedNode) (BitmapIndexedNode. nil 0 (make-array 0)))\n\n(defn- pack-array-node [array-node edit idx]\n  (let [arr     (.-arr array-node)\n        len     (alength arr)\n        new-arr (make-array (* 2 (dec (.-cnt array-node))))]\n    (loop [i 0 j 1 bitmap 0]\n      (if (< i len)\n        (if (and (not (== i idx))\n                 (not (nil? (aget arr i))))\n          (do (aset new-arr j (aget arr i))\n              (recur (inc i) (+ j 2) (bit-or bitmap (bit-shift-left 1 i))))\n          (recur (inc i) j bitmap))\n        (BitmapIndexedNode. edit bitmap new-arr)))))\n\n(deftype ArrayNodeIterator [arr ^:mutable i ^:mutable next-iter]\n  Object\n  (hasNext [this]\n    (let [len (alength arr)]\n      (loop []\n        (if-not (and  (some? next-iter) ^boolean (.hasNext next-iter))\n          (if (< i len)\n            (let [node (aget arr i)]\n              (set! i (inc i))\n              (when (some? node)\n                (set! next-iter (-iterator node)))\n              (recur))\n            false)\n          true))))\n  (next [this]\n    (if ^boolean (.hasNext this)\n      (.next next-iter)\n      (throw (js\/Error. \"No such element\"))))\n  (remove [_] (js\/Error. \"Unsupported operation\")))\n\n(deftype ArrayNode [edit ^:mutable cnt ^:mutable arr]\n  Object\n  (inode-assoc [inode shift hash key val added-leaf?]\n    (let [idx  (mask hash shift)\n          node (aget arr idx)]\n      (if (nil? node)\n        (ArrayNode. nil (inc cnt) (clone-and-set arr idx (.inode-assoc (.-EMPTY BitmapIndexedNode) (+ shift 5) hash key val added-leaf?)))\n        (let [n (.inode-assoc node (+ shift 5) hash key val added-leaf?)]\n          (if (identical? n node)\n            inode\n            (ArrayNode. nil cnt (clone-and-set arr idx n)))))))\n\n  (inode-without [inode shift hash key]\n    (let [idx  (mask hash shift)\n          node (aget arr idx)]\n      (if-not (nil? node)\n        (let [n (.inode-without node (+ shift 5) hash key)]\n          (cond\n            (identical? n node)\n            inode\n\n            (nil? n)\n            (if (<= cnt 8)\n              (pack-array-node inode nil idx)\n              (ArrayNode. nil (dec cnt) (clone-and-set arr idx n)))\n\n            :else\n            (ArrayNode. nil cnt (clone-and-set arr idx n))))\n        inode)))\n\n  (inode-lookup [inode shift hash key not-found]\n    (let [idx  (mask hash shift)\n          node (aget arr idx)]\n      (if-not (nil? node)\n        (.inode-lookup node (+ shift 5) hash key not-found)\n        not-found)))\n\n  (inode-find [inode shift hash key not-found]\n    (let [idx  (mask hash shift)\n          node (aget arr idx)]\n      (if-not (nil? node)\n        (.inode-find node (+ shift 5) hash key not-found)\n        not-found)))\n\n  (inode-seq [inode]\n    (create-array-node-seq arr))\n\n  (ensure-editable [inode e]\n    (if (identical? e edit)\n      inode\n      (ArrayNode. e cnt (aclone arr))))\n\n  (inode-assoc! [inode edit shift hash key val added-leaf?]\n    (let [idx  (mask hash shift)\n          node (aget arr idx)]\n      (if (nil? node)\n        (let [editable (edit-and-set inode edit idx (.inode-assoc! (.-EMPTY BitmapIndexedNode) edit (+ shift 5) hash key val added-leaf?))]\n          (set! (.-cnt editable) (inc (.-cnt editable)))\n          editable)\n        (let [n (.inode-assoc! node edit (+ shift 5) hash key val added-leaf?)]\n          (if (identical? n node)\n            inode\n            (edit-and-set inode edit idx n))))))\n\n  (inode-without! [inode edit shift hash key removed-leaf?]\n    (let [idx  (mask hash shift)\n          node (aget arr idx)]\n      (if (nil? node)\n        inode\n        (let [n (.inode-without! node edit (+ shift 5) hash key removed-leaf?)]\n          (cond\n            (identical? n node)\n            inode\n\n            (nil? n)\n            (if (<= cnt 8)\n              (pack-array-node inode edit idx)\n              (let [editable (edit-and-set inode edit idx n)]\n                (set! (.-cnt editable) (dec (.-cnt editable)))\n                editable))\n\n            :else\n            (edit-and-set inode edit idx n))))))\n\n  (kv-reduce [inode f init]\n    (let [len (alength arr)]           ; actually 32\n      (loop [i 0 init init]\n        (if (< i len)\n          (let [node (aget arr i)]\n            (if-not (nil? node)\n              (let [init (.kv-reduce node f init)]\n                (if (reduced? init)\n                  init\n                  (recur (inc i) init)))\n              (recur (inc i) init)))\n          init))))\n\n IIterable\n (-iterator [coll]\n    (ArrayNodeIterator. arr 0 nil)))\n\n(defn- hash-collision-node-find-index [arr cnt key]\n  (let [lim (* 2 cnt)]\n    (loop [i 0]\n      (if (< i lim)\n        (if (key-test key (aget arr i))\n          i\n          (recur (+ i 2)))\n        -1))))\n\n(deftype HashCollisionNode [edit\n                            ^:mutable collision-hash\n                            ^:mutable cnt\n                            ^:mutable arr]\n  Object\n  (inode-assoc [inode shift hash key val added-leaf?]\n    (if (== hash collision-hash)\n      (let [idx (hash-collision-node-find-index arr cnt key)]\n        (if (== idx -1)\n          (let [len     (* 2 cnt)\n                new-arr (make-array (+ len 2))]\n            (array-copy arr 0 new-arr 0 len)\n            (aset new-arr len key)\n            (aset new-arr (inc len) val)\n            (set! (.-val added-leaf?) true)\n            (HashCollisionNode. nil collision-hash (inc cnt) new-arr))\n          (if (= (aget arr (inc idx)) val)\n            inode\n            (HashCollisionNode. nil collision-hash cnt (clone-and-set arr (inc idx) val)))))\n      (.inode-assoc (BitmapIndexedNode. nil (bitpos collision-hash shift) (array nil inode))\n                    shift hash key val added-leaf?)))\n\n  (inode-without [inode shift hash key]\n    (let [idx (hash-collision-node-find-index arr cnt key)]\n      (cond (== idx -1) inode\n            (== cnt 1)  nil\n            :else (HashCollisionNode. nil collision-hash (dec cnt) (remove-pair arr (quot idx 2))))))\n\n  (inode-lookup [inode shift hash key not-found]\n    (let [idx (hash-collision-node-find-index arr cnt key)]\n      (cond (< idx 0)              not-found\n            (key-test key (aget arr idx)) (aget arr (inc idx))\n            :else                  not-found)))\n\n  (inode-find [inode shift hash key not-found]\n    (let [idx (hash-collision-node-find-index arr cnt key)]\n      (cond (< idx 0)              not-found\n            (key-test key (aget arr idx)) (MapEntry. (aget arr idx) (aget arr (inc idx)) nil)\n            :else                  not-found)))\n\n  (inode-seq [inode]\n    (create-inode-seq arr))\n\n  (ensure-editable [inode e]\n    (if (identical? e edit)\n      inode\n      (let [new-arr (make-array (* 2 (inc cnt)))]\n        (array-copy arr 0 new-arr 0 (* 2 cnt))\n        (HashCollisionNode. e collision-hash cnt new-arr))))\n\n  (ensure-editable-array [inode e count array]\n    (if (identical? e edit)\n      (do (set! arr array)\n          (set! cnt count)\n          inode)\n      (HashCollisionNode. edit collision-hash count array)))\n\n  (inode-assoc! [inode edit shift hash key val added-leaf?]\n    (if (== hash collision-hash)\n      (let [idx (hash-collision-node-find-index arr cnt key)]\n        (if (== idx -1)\n          (if (> (alength arr) (* 2 cnt))\n            (let [editable (edit-and-set inode edit (* 2 cnt) key (inc (* 2 cnt)) val)]\n              (set! (.-val added-leaf?) true)\n              (set! (.-cnt editable) (inc (.-cnt editable)))\n              editable)\n            (let [len     (alength arr)\n                  new-arr (make-array (+ len 2))]\n              (array-copy arr 0 new-arr 0 len)\n              (aset new-arr len key)\n              (aset new-arr (inc len) val)\n              (set! (.-val added-leaf?) true)\n              (.ensure-editable-array inode edit (inc cnt) new-arr)))\n          (if (identical? (aget arr (inc idx)) val)\n            inode\n            (edit-and-set inode edit (inc idx) val))))\n      (.inode-assoc! (BitmapIndexedNode. edit (bitpos collision-hash shift) (array nil inode nil nil))\n                     edit shift hash key val added-leaf?)))\n\n  (inode-without! [inode edit shift hash key removed-leaf?]\n    (let [idx (hash-collision-node-find-index arr cnt key)]\n      (if (== idx -1)\n        inode\n        (do (set! (.-val removed-leaf?) true)\n            (if (== cnt 1)\n              nil\n              (let [editable (.ensure-editable inode edit)\n                    earr     (.-arr editable)]\n                (aset earr idx (aget earr (- (* 2 cnt) 2)))\n                (aset earr (inc idx) (aget earr (dec (* 2 cnt))))\n                (aset earr (dec (* 2 cnt)) nil)\n                (aset earr (- (* 2 cnt) 2) nil)\n                (set! (.-cnt editable) (dec (.-cnt editable)))\n                editable))))))\n\n  (kv-reduce [inode f init]\n    (inode-kv-reduce arr f init))\n\n  IIterable\n  (-iterator [coll]\n    (NodeIterator. arr 0 nil nil)))\n\n(defn- create-node\n  ([shift key1 val1 key2hash key2 val2]\n     (let [key1hash (hash key1)]\n       (if (== key1hash key2hash)\n         (HashCollisionNode. nil key1hash 2 (array key1 val1 key2 val2))\n         (let [added-leaf? (Box. false)]\n           (-> (.-EMPTY BitmapIndexedNode)\n               (.inode-assoc shift key1hash key1 val1 added-leaf?)\n               (.inode-assoc shift key2hash key2 val2 added-leaf?))))))\n  ([edit shift key1 val1 key2hash key2 val2]\n     (let [key1hash (hash key1)]\n       (if (== key1hash key2hash)\n         (HashCollisionNode. nil key1hash 2 (array key1 val1 key2 val2))\n         (let [added-leaf? (Box. false)]\n           (-> (.-EMPTY BitmapIndexedNode)\n               (.inode-assoc! edit shift key1hash key1 val1 added-leaf?)\n               (.inode-assoc! edit shift key2hash key2 val2 added-leaf?)))))))\n\n(deftype NodeSeq [meta nodes i s ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  IMeta\n  (-meta [coll] meta)\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (NodeSeq. new-meta nodes i s __hash)))\n\n  ICollection\n  (-conj [coll o] (cons o coll))\n\n  IEmptyableCollection\n  (-empty [coll] (.-EMPTY List))\n\n  ISequential\n  ISeq\n  (-first [coll]\n    (if (nil? s)\n      (MapEntry. (aget nodes i) (aget nodes (inc i)) nil)\n      (first s)))\n\n  (-rest [coll]\n    (let [ret (if (nil? s)\n                (create-inode-seq nodes (+ i 2) nil)\n                (create-inode-seq nodes i (next s)))]\n      (if-not (nil? ret) ret ())))\n\n  INext\n  (-next [coll]\n    (if (nil? s)\n      (create-inode-seq nodes (+ i 2) nil)\n      (create-inode-seq nodes i (next s))))\n\n  ISeqable\n  (-seq [this] this)\n\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-ordered-coll __hash))\n\n  IReduce\n  (-reduce [coll f] (seq-reduce f coll))\n  (-reduce [coll f start] (seq-reduce f start coll)))\n\n(es6-iterable NodeSeq)\n\n(defn- create-inode-seq\n  ([nodes]\n     (create-inode-seq nodes 0 nil))\n  ([nodes i s]\n     (if (nil? s)\n       (let [len (alength nodes)]\n         (loop [j i]\n           (if (< j len)\n             (if-not (nil? (aget nodes j))\n               (NodeSeq. nil nodes j nil nil)\n               (if-let [node (aget nodes (inc j))]\n                 (if-let [node-seq (.inode-seq node)]\n                   (NodeSeq. nil nodes (+ j 2) node-seq nil)\n                   (recur (+ j 2)))\n                 (recur (+ j 2)))))))\n       (NodeSeq. nil nodes i s nil))))\n\n(deftype ArrayNodeSeq [meta nodes i s ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  IMeta\n  (-meta [coll] meta)\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (ArrayNodeSeq. new-meta nodes i s __hash)))\n\n  ICollection\n  (-conj [coll o] (cons o coll))\n\n  IEmptyableCollection\n  (-empty [coll] (.-EMPTY List))\n\n  ISequential\n  ISeq\n  (-first [coll] (first s))\n  (-rest  [coll]\n    (let [ret (create-array-node-seq nodes i (next s))]\n      (if-not (nil? ret) ret ())))\n\n  INext\n  (-next [coll]\n    (create-array-node-seq nodes i (next s)))\n\n  ISeqable\n  (-seq [this] this)\n\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-ordered-coll __hash))\n\n  IReduce\n  (-reduce [coll f] (seq-reduce f coll))\n  (-reduce [coll f start] (seq-reduce f start coll)))\n\n(es6-iterable ArrayNodeSeq)\n\n(defn- create-array-node-seq\n  ([nodes] (create-array-node-seq nodes 0 nil))\n  ([nodes i s]\n     (if (nil? s)\n       (let [len (alength nodes)]\n         (loop [j i]\n           (if (< j len)\n             (if-let [nj (aget nodes j)]\n               (if-let [ns (.inode-seq nj)]\n                 (ArrayNodeSeq. nil nodes (inc j) ns nil)\n                 (recur (inc j)))\n               (recur (inc j))))))\n       (ArrayNodeSeq. nil nodes i s nil))))\n\n(deftype HashMapIter [nil-val root-iter ^:mutable seen]\n  Object\n  (hasNext [_]\n    (or (not ^boolean seen) ^boolean (.hasNext root-iter)))\n  (next [_]\n    (if-not ^boolean seen\n      (do\n        (set! seen true)\n        (MapEntry. nil nil-val nil))\n      (.next root-iter)))\n  (remove [_] (js\/Error. \"Unsupported operation\")))\n\n(deftype PersistentHashMap [meta cnt root ^boolean has-nil? nil-val ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n\n  ;; EXPERIMENTAL: subject to change\n  (keys [coll]\n    (es6-iterator (keys coll)))\n  (entries [coll]\n    (es6-entries-iterator (seq coll)))\n  (values [coll]\n    (es6-iterator (vals coll)))\n  (has [coll k]\n    (contains? coll k))\n  (get [coll k not-found]\n    (-lookup coll k not-found))\n  (forEach [coll f]\n    (doseq [[k v] coll]\n      (f v k)))\n\n  ICloneable\n  (-clone [_] (PersistentHashMap. meta cnt root has-nil? nil-val __hash))\n\n  IIterable\n  (-iterator [coll]\n    (let [root-iter (if ^boolean root (-iterator root) (nil-iter))]\n      (if has-nil?\n        (HashMapIter. nil-val root-iter false)\n        root-iter)))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (PersistentHashMap. new-meta cnt root has-nil? nil-val __hash)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  ICollection\n  (-conj [coll entry]\n    (if (vector? entry)\n      (-assoc coll (-nth entry 0) (-nth entry 1))\n      (loop [ret coll es (seq entry)]\n        (if (nil? es)\n          ret\n          (let [e (first es)]\n            (if (vector? e)\n              (recur (-assoc ret (-nth e 0) (-nth e 1))\n                     (next es))\n              (throw (js\/Error. \"conj on a map takes map entries or seqables of map entries\"))))))))\n\n  IEmptyableCollection\n  (-empty [coll] (-with-meta (.-EMPTY PersistentHashMap) meta))\n\n  IEquiv\n  (-equiv [coll other] (equiv-map coll other))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-unordered-coll __hash))\n\n  ISeqable\n  (-seq [coll]\n    (when (pos? cnt)\n      (let [s (if-not (nil? root) (.inode-seq root))]\n        (if has-nil?\n          (cons (MapEntry. nil nil-val nil) s)\n          s))))\n\n  ICounted\n  (-count [coll] cnt)\n\n  ILookup\n  (-lookup [coll k]\n    (-lookup coll k nil))\n\n  (-lookup [coll k not-found]\n    (cond (nil? k)    (if has-nil?\n                        nil-val\n                        not-found)\n          (nil? root) not-found\n          :else       (.inode-lookup root 0 (hash k) k not-found)))\n\n  IAssociative\n  (-assoc [coll k v]\n    (if (nil? k)\n      (if (and has-nil? (identical? v nil-val))\n        coll\n        (PersistentHashMap. meta (if has-nil? cnt (inc cnt)) root true v nil))\n      (let [added-leaf? (Box. false)\n            new-root    (-> (if (nil? root)\n                              (.-EMPTY BitmapIndexedNode)\n                              root)\n                            (.inode-assoc 0 (hash k) k v added-leaf?))]\n        (if (identical? new-root root)\n          coll\n          (PersistentHashMap. meta (if ^boolean (.-val added-leaf?) (inc cnt) cnt) new-root has-nil? nil-val nil)))))\n\n  (-contains-key? [coll k]\n    (cond (nil? k)    has-nil?\n          (nil? root) false\n          :else       (not (identical? (.inode-lookup root 0 (hash k) k lookup-sentinel)\n                                       lookup-sentinel))))\n\n  IFind\n  (-find [coll k]\n    (cond\n      (nil? k) (when has-nil? (MapEntry. nil nil-val nil))\n      (nil? root) nil\n      :else (.inode-find root 0 (hash k) k nil)))\n\n  IMap\n  (-dissoc [coll k]\n    (cond (nil? k)    (if has-nil?\n                        (PersistentHashMap. meta (dec cnt) root false nil nil)\n                        coll)\n          (nil? root) coll\n          :else\n          (let [new-root (.inode-without root 0 (hash k) k)]\n            (if (identical? new-root root)\n              coll\n              (PersistentHashMap. meta (dec cnt) new-root has-nil? nil-val nil)))))\n\n  IKVReduce\n  (-kv-reduce [coll f init]\n    (let [init (if has-nil? (f init nil nil-val) init)]\n      (cond\n        (reduced? init)          @init\n        (not (nil? root)) (unreduced (.kv-reduce root f init))\n        :else                    init)))\n\n  IFn\n  (-invoke [coll k]\n    (-lookup coll k))\n\n  (-invoke [coll k not-found]\n    (-lookup coll k not-found))\n\n  IEditableCollection\n  (-as-transient [coll]\n    (TransientHashMap. (js-obj) root cnt has-nil? nil-val)))\n\n(set! (.-EMPTY PersistentHashMap) (PersistentHashMap. nil 0 nil false nil empty-unordered-hash))\n\n(set! (.-fromArray PersistentHashMap)\n  (fn [arr ^boolean no-clone]\n    (let [arr (if no-clone arr (aclone arr))\n          len (alength arr)]\n      (loop [i 0 ret (transient (.-EMPTY PersistentHashMap))]\n        (if (< i len)\n          (recur (+ i 2)\n            (-assoc! ret (aget arr i) (aget arr (inc i))))\n          (-persistent! ret))))))\n\n(set! (.-fromArrays PersistentHashMap)\n  (fn [ks vs]\n    (let [len (alength ks)]\n      (loop [i 0 ^not-native out (transient (.-EMPTY PersistentHashMap))]\n        (if (< i len)\n          (recur (inc i) (-assoc! out (aget ks i) (aget vs i)))\n          (persistent! out))))))\n\n(set! (.-createWithCheck PersistentHashMap)\n  (fn [arr]\n    (let [len (alength arr)\n          ret (transient (.-EMPTY PersistentHashMap))]\n      (loop [i 0]\n        (when (< i len)\n          (-assoc! ret (aget arr i) (aget arr (inc i)))\n          (if (not= (-count ret) (inc (\/ i 2)))\n            (throw (js\/Error. (str \"Duplicate key: \" (aget arr i))))\n            (recur (+ i 2)))))\n      (-persistent! ret))))\n\n(es6-iterable PersistentHashMap)\n\n(deftype TransientHashMap [^:mutable ^boolean edit\n                           ^:mutable root\n                           ^:mutable count\n                           ^:mutable ^boolean has-nil?\n                           ^:mutable nil-val]\n  Object\n  (conj! [tcoll o]\n    (if edit\n      (cond\n        (map-entry? o)\n        (.assoc! tcoll (key o) (val o))\n\n        (vector? o)\n        (.assoc! tcoll (o 0) (o 1))\n\n        :else\n        (loop [es (seq o) tcoll tcoll]\n          (if-let [e (first es)]\n            (recur (next es)\n                   (.assoc! tcoll (key e) (val e)))\n            tcoll)))\n      (throw (js\/Error. \"conj! after persistent\"))))\n\n  (assoc! [tcoll k v]\n    (if edit\n      (if (nil? k)\n        (do (if (identical? nil-val v)\n              nil\n              (set! nil-val v))\n            (if has-nil?\n              nil\n              (do (set! count (inc count))\n                  (set! has-nil? true)))\n            tcoll)\n        (let [added-leaf? (Box. false)\n              node        (-> (if (nil? root)\n                                (.-EMPTY BitmapIndexedNode)\n                                root)\n                              (.inode-assoc! edit 0 (hash k) k v added-leaf?))]\n          (if (identical? node root)\n            nil\n            (set! root node))\n          (if ^boolean (.-val added-leaf?)\n            (set! count (inc count)))\n          tcoll))\n      (throw (js\/Error. \"assoc! after persistent!\"))))\n\n  (without! [tcoll k]\n    (if edit\n      (if (nil? k)\n        (if has-nil?\n          (do (set! has-nil? false)\n              (set! nil-val nil)\n              (set! count (dec count))\n              tcoll)\n          tcoll)\n        (if (nil? root)\n          tcoll\n          (let [removed-leaf? (Box. false)\n                node (.inode-without! root edit 0 (hash k) k removed-leaf?)]\n            (if (identical? node root)\n              nil\n              (set! root node))\n            (if ^boolean (.-val removed-leaf?)\n              (set! count (dec count)))\n            tcoll)))\n      (throw (js\/Error. \"dissoc! after persistent!\"))))\n\n  (persistent! [tcoll]\n    (if edit\n      (do (set! edit nil)\n          (PersistentHashMap. nil count root has-nil? nil-val nil))\n      (throw (js\/Error. \"persistent! called twice\"))))\n\n  ICounted\n  (-count [coll]\n    (if edit\n      count\n      (throw (js\/Error. \"count after persistent!\"))))\n\n  ILookup\n  (-lookup [tcoll k]\n    (if (nil? k)\n      (if has-nil?\n        nil-val)\n      (if (nil? root)\n        nil\n        (.inode-lookup root 0 (hash k) k))))\n\n  (-lookup [tcoll k not-found]\n    (if (nil? k)\n      (if has-nil?\n        nil-val\n        not-found)\n      (if (nil? root)\n        not-found\n        (.inode-lookup root 0 (hash k) k not-found))))\n\n  ITransientCollection\n  (-conj! [tcoll val] (.conj! tcoll val))\n\n  (-persistent! [tcoll] (.persistent! tcoll))\n\n  ITransientAssociative\n  (-assoc! [tcoll key val] (.assoc! tcoll key val))\n\n  ITransientMap\n  (-dissoc! [tcoll key] (.without! tcoll key))\n\n  IFn\n  (-invoke [tcoll key]\n    (-lookup tcoll key))\n  (-invoke [tcoll key not-found]\n    (-lookup tcoll key not-found)))\n\n;;; PersistentTreeMap\n\n(defn- tree-map-seq-push [node stack ^boolean ascending?]\n  (loop [t node stack stack]\n    (if-not (nil? t)\n      (recur (if ascending? (.-left t) (.-right t))\n             (conj stack t))\n      stack)))\n\n(deftype PersistentTreeMapSeq [meta stack ^boolean ascending? cnt ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  ISeqable\n  (-seq [this] this)\n\n  ISequential\n  ISeq\n  (-first [this] (peek stack))\n  (-rest [this]\n    (let [t (first stack)\n          next-stack (tree-map-seq-push (if ascending? (.-right t) (.-left t))\n                                        (next stack)\n                                        ascending?)]\n      (if-not (nil? next-stack)\n        (PersistentTreeMapSeq. nil next-stack ascending? (dec cnt) nil)\n        ())))\n  INext\n  (-next [this]\n    (let [t (first stack)\n          next-stack (tree-map-seq-push (if ascending? (.-right t) (.-left t))\n                                        (next stack)\n                                        ascending?)]\n      (when-not (nil? next-stack)\n        (PersistentTreeMapSeq. nil next-stack ascending? (dec cnt) nil))))\n\n  ICounted\n  (-count [coll]\n    (if (neg? cnt)\n      (inc (count (next coll)))\n      cnt))\n\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  ICollection\n  (-conj [coll o] (cons o coll))\n\n  IEmptyableCollection\n  (-empty [coll] (.-EMPTY List))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-ordered-coll __hash))\n\n  IMeta\n  (-meta [coll] meta)\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (PersistentTreeMapSeq. new-meta stack ascending? cnt __hash)))\n\n  IReduce\n  (-reduce [coll f] (seq-reduce f coll))\n  (-reduce [coll f start] (seq-reduce f start coll)))\n\n(es6-iterable PersistentTreeMapSeq)\n\n(defn- create-tree-map-seq [tree ascending? cnt]\n  (PersistentTreeMapSeq. nil (tree-map-seq-push tree nil ascending?) ascending? cnt nil))\n\n(declare RedNode BlackNode)\n\n(defn- balance-left [key val ins right]\n  (if (instance? RedNode ins)\n    (cond\n      (instance? RedNode (.-left ins))\n      (RedNode. (.-key ins) (.-val ins)\n              (.blacken (.-left ins))\n              (BlackNode. key val (.-right ins) right nil)\n              nil)\n\n      (instance? RedNode (.-right ins))\n      (RedNode. (.. ins -right -key) (.. ins -right -val)\n                (BlackNode. (.-key ins) (.-val ins)\n                            (.-left ins)\n                            (.. ins -right -left)\n                            nil)\n                (BlackNode. key val\n                            (.. ins -right -right)\n                            right\n                            nil)\n                nil)\n\n      :else\n      (BlackNode. key val ins right nil))\n    (BlackNode. key val ins right nil)))\n\n(defn- balance-right [key val left ins]\n  (if (instance? RedNode ins)\n    (cond\n      (instance? RedNode (.-right ins))\n      (RedNode. (.-key ins) (.-val ins)\n                (BlackNode. key val left (.-left ins) nil)\n                (.blacken (.-right ins))\n                nil)\n\n      (instance? RedNode (.-left ins))\n      (RedNode. (.. ins -left -key) (.. ins -left -val)\n                (BlackNode. key val left (.. ins -left -left) nil)\n                (BlackNode. (.-key ins) (.-val ins)\n                            (.. ins -left -right)\n                            (.-right ins)\n                            nil)\n                nil)\n\n      :else\n      (BlackNode. key val left ins nil))\n    (BlackNode. key val left ins nil)))\n\n(defn- balance-left-del [key val del right]\n  (cond\n    (instance? RedNode del)\n    (RedNode. key val (.blacken del) right nil)\n\n    (instance? BlackNode right)\n    (balance-right key val del (.redden right))\n\n    (and (instance? RedNode right) (instance? BlackNode (.-left right)))\n    (RedNode. (.. right -left -key) (.. right -left -val)\n              (BlackNode. key val del (.. right -left -left) nil)\n              (balance-right (.-key right) (.-val right)\n                             (.. right -left -right)\n                             (.redden (.-right right)))\n              nil)\n\n    :else\n    (throw (js\/Error. \"red-black tree invariant violation\"))))\n\n(defn- balance-right-del [key val left del]\n  (cond\n    (instance? RedNode del)\n    (RedNode. key val left (.blacken del) nil)\n\n    (instance? BlackNode left)\n    (balance-left key val (.redden left) del)\n\n    (and (instance? RedNode left) (instance? BlackNode (.-right left)))\n    (RedNode. (.. left -right -key) (.. left -right -val)\n              (balance-left (.-key left) (.-val left)\n                            (.redden (.-left left))\n                            (.. left -right -left))\n              (BlackNode. key val (.. left -right -right) del nil)\n              nil)\n\n    :else\n    (throw (js\/Error. \"red-black tree invariant violation\"))))\n\n(defn- tree-map-kv-reduce [node f init]\n  (let [init (if-not (nil? (.-left node))\n               (tree-map-kv-reduce (.-left node) f init)\n               init)]\n    (if (reduced? init)\n      init\n      (let [init (f init (.-key node) (.-val node))]\n        (if (reduced? init)\n          init\n          (if-not (nil? (.-right node))\n            (tree-map-kv-reduce (.-right node) f init)\n            init))))))\n\n(deftype BlackNode [key val left right ^:mutable __hash]\n  Object\n  (add-left [node ins]\n    (.balance-left ins node))\n\n  (add-right [node ins]\n    (.balance-right ins node))\n\n  (remove-left [node del]\n    (balance-left-del key val del right))\n\n  (remove-right [node del]\n    (balance-right-del key val left del))\n\n  (blacken [node] node)\n\n  (redden [node] (RedNode. key val left right nil))\n\n  (balance-left [node parent]\n    (BlackNode. (.-key parent) (.-val parent) node (.-right parent) nil))\n\n  (balance-right [node parent]\n    (BlackNode. (.-key parent) (.-val parent) (.-left parent) node nil))\n\n  (replace [node key val left right]\n    (BlackNode. key val left right nil))\n\n  (kv-reduce [node f init]\n    (tree-map-kv-reduce node f init))\n\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  IMapEntry\n  (-key [node] key)\n  (-val [node] val)\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-ordered-coll __hash))\n\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  IMeta\n  (-meta [node] nil)\n\n  IWithMeta\n  (-with-meta [node meta]\n    (-with-meta [key val] meta))\n\n  IStack\n  (-peek [node] val)\n\n  (-pop [node] [key])\n\n  ICollection\n  (-conj [node o] [key val o])\n\n  IEmptyableCollection\n  (-empty [node] nil)\n\n  ISequential\n  ISeqable\n  (-seq [node] (IndexedSeq. #js [key val] 0 nil))\n\n  IReversible\n  (-rseq [node] (IndexedSeq. #js [val key] 0 nil))\n\n  ICounted\n  (-count [node] 2)\n\n  IIndexed\n  (-nth [node n]\n    (cond (== n 0) key\n          (== n 1) val\n          :else    (throw (js\/Error. \"Index out of bounds\"))))\n\n  (-nth [node n not-found]\n    (cond (== n 0) key\n          (== n 1) val\n          :else    not-found))\n\n  ILookup\n  (-lookup [node k] (-nth node k nil))\n  (-lookup [node k not-found] (-nth node k not-found))\n\n  IAssociative\n  (-assoc [node k v]\n    (assoc [key val] k v))\n  (-contains-key? [node k]\n    (or (== k 0) (== k 1)))\n\n  IFind\n  (-find [node k]\n    (case k\n      0 (MapEntry. 0 key nil)\n      1 (MapEntry. 1 val nil)\n      nil))\n\n  IVector\n  (-assoc-n [node n v]\n    (-assoc-n [key val] n v))\n\n  IReduce\n  (-reduce [node f]\n    (ci-reduce node f))\n\n  (-reduce [node f start]\n    (ci-reduce node f start))\n\n  IFn\n  (-invoke [node k]\n    (-nth node k))\n\n  (-invoke [node k not-found]\n    (-nth node k not-found)))\n\n(es6-iterable BlackNode)\n\n(deftype RedNode [key val left right ^:mutable __hash]\n  Object\n  (add-left [node ins]\n    (RedNode. key val ins right nil))\n\n  (add-right [node ins]\n    (RedNode. key val left ins nil))\n\n  (remove-left [node del]\n    (RedNode. key val del right nil))\n\n  (remove-right [node del]\n    (RedNode. key val left del nil))\n\n  (blacken [node]\n    (BlackNode. key val left right nil))\n\n  (redden [node]\n    (throw (js\/Error. \"red-black tree invariant violation\")))\n\n  (balance-left [node parent]\n    (cond\n      (instance? RedNode left)\n      (RedNode. key val\n                (.blacken left)\n                (BlackNode. (.-key parent) (.-val parent) right (.-right parent) nil)\n                nil)\n\n      (instance? RedNode right)\n      (RedNode. (.-key right) (.-val right)\n                (BlackNode. key val left (.-left right) nil)\n                (BlackNode. (.-key parent) (.-val parent)\n                            (.-right right)\n                            (.-right parent)\n                            nil)\n                nil)\n\n      :else\n      (BlackNode. (.-key parent) (.-val parent) node (.-right parent) nil)))\n\n  (balance-right [node parent]\n    (cond\n      (instance? RedNode right)\n      (RedNode. key val\n                (BlackNode. (.-key parent) (.-val parent)\n                            (.-left parent)\n                            left\n                            nil)\n                (.blacken right)\n                nil)\n\n      (instance? RedNode left)\n      (RedNode. (.-key left) (.-val left)\n                (BlackNode. (.-key parent) (.-val parent)\n                            (.-left parent)\n                            (.-left left)\n                            nil)\n                (BlackNode. key val (.-right left) right nil)\n                nil)\n\n      :else\n      (BlackNode. (.-key parent) (.-val parent) (.-left parent) node nil)))\n\n  (replace [node key val left right]\n    (RedNode. key val left right nil))\n\n  (kv-reduce [node f init]\n    (tree-map-kv-reduce node f init))\n\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  IMapEntry\n  (-key [node] key)\n  (-val [node] val)\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-ordered-coll __hash))\n\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  IMeta\n  (-meta [node] nil)\n\n  IWithMeta\n  (-with-meta [node meta]\n    (-with-meta [key val] meta))\n\n  IStack\n  (-peek [node] val)\n\n  (-pop [node] [key])\n\n  ICollection\n  (-conj [node o] [key val o])\n\n  IEmptyableCollection\n  (-empty [node] nil)\n\n  ISequential\n  ISeqable\n  (-seq [node] (IndexedSeq. #js [key val] 0 nil))\n\n  IReversible\n  (-rseq [node] (IndexedSeq. #js [val key] 0 nil))\n\n  ICounted\n  (-count [node] 2)\n\n  IIndexed\n  (-nth [node n]\n    (cond (== n 0) key\n          (== n 1) val\n          :else    (throw (js\/Error. \"Index out of bounds\"))))\n\n  (-nth [node n not-found]\n    (cond (== n 0) key\n          (== n 1) val\n          :else    not-found))\n\n  ILookup\n  (-lookup [node k] (-nth node k nil))\n  (-lookup [node k not-found] (-nth node k not-found))\n\n  IAssociative\n  (-assoc [node k v]\n    (assoc [key val] k v))\n  (-contains-key? [node k]\n    (or (== k 0) (== k 1)))\n\n  IFind\n  (-find [node k]\n    (case k\n      0 (MapEntry. 0 key nil)\n      1 (MapEntry. 1 val nil)\n      nil))\n\n  IVector\n  (-assoc-n [node n v]\n    (-assoc-n [key val] n v))\n\n  IReduce\n  (-reduce [node f]\n    (ci-reduce node f))\n\n  (-reduce [node f start]\n    (ci-reduce node f start))\n\n  IFn\n  (-invoke [node k]\n    (-nth node k))\n\n  (-invoke [node k not-found]\n    (-nth node k not-found)))\n\n(es6-iterable RedNode)\n\n(defn- tree-map-add [comp tree k v found]\n  (if (nil? tree)\n    (RedNode. k v nil nil nil)\n    (let [c (comp k (.-key tree))]\n      (cond\n        (zero? c)\n        (do (aset found 0 tree)\n            nil)\n\n        (neg? c)\n        (let [ins (tree-map-add comp (.-left tree) k v found)]\n          (if-not (nil? ins)\n            (.add-left tree ins)))\n\n        :else\n        (let [ins (tree-map-add comp (.-right tree) k v found)]\n          (if-not (nil? ins)\n            (.add-right tree ins)))))))\n\n(defn- tree-map-append [left right]\n  (cond\n    (nil? left)\n    right\n\n    (nil? right)\n    left\n\n    (instance? RedNode left)\n    (if (instance? RedNode right)\n      (let [app (tree-map-append (.-right left) (.-left right))]\n        (if (instance? RedNode app)\n          (RedNode. (.-key app) (.-val app)\n                    (RedNode. (.-key left) (.-val left)\n                              (.-left left)\n                              (.-left app)\n                              nil)\n                    (RedNode. (.-key right) (.-val right)\n                              (.-right app)\n                              (.-right right)\n                              nil)\n                    nil)\n          (RedNode. (.-key left) (.-val left)\n                    (.-left left)\n                    (RedNode. (.-key right) (.-val right) app (.-right right) nil)\n                    nil)))\n      (RedNode. (.-key left) (.-val left)\n                (.-left left)\n                (tree-map-append (.-right left) right)\n                nil))\n\n    (instance? RedNode right)\n    (RedNode. (.-key right) (.-val right)\n              (tree-map-append left (.-left right))\n              (.-right right)\n              nil)\n\n    :else\n    (let [app (tree-map-append (.-right left) (.-left right))]\n      (if (instance? RedNode app)\n        (RedNode. (.-key app) (.-val app)\n                  (BlackNode. (.-key left) (.-val left)\n                              (.-left left)\n                              (.-left app)\n                              nil)\n                  (BlackNode. (.-key right) (.-val right)\n                              (.-right app)\n                              (.-right right)\n                              nil)\n                  nil)\n        (balance-left-del (.-key left) (.-val left)\n                          (.-left left)\n                          (BlackNode. (.-key right) (.-val right)\n                                      app\n                                      (.-right right)\n                                      nil))))))\n\n(defn- tree-map-remove [comp tree k found]\n  (if-not (nil? tree)\n    (let [c (comp k (.-key tree))]\n      (cond\n        (zero? c)\n        (do (aset found 0 tree)\n            (tree-map-append (.-left tree) (.-right tree)))\n\n        (neg? c)\n        (let [del (tree-map-remove comp (.-left tree) k found)]\n          (if (or (not (nil? del)) (not (nil? (aget found 0))))\n            (if (instance? BlackNode (.-left tree))\n              (balance-left-del (.-key tree) (.-val tree) del (.-right tree))\n              (RedNode. (.-key tree) (.-val tree) del (.-right tree) nil))))\n\n        :else\n        (let [del (tree-map-remove comp (.-right tree) k found)]\n          (if (or (not (nil? del)) (not (nil? (aget found 0))))\n            (if (instance? BlackNode (.-right tree))\n              (balance-right-del (.-key tree) (.-val tree) (.-left tree) del)\n              (RedNode. (.-key tree) (.-val tree) (.-left tree) del nil))))))))\n\n(defn- tree-map-replace [comp tree k v]\n  (let [tk (.-key tree)\n        c  (comp k tk)]\n    (cond (zero? c) (.replace tree tk v (.-left tree) (.-right tree))\n          (neg? c)  (.replace tree tk (.-val tree) (tree-map-replace comp (.-left tree) k v) (.-right tree))\n          :else     (.replace tree tk (.-val tree) (.-left tree) (tree-map-replace comp (.-right tree) k v)))))\n\n(declare key)\n\n(deftype PersistentTreeMap [comp tree cnt meta ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n\n  ;; EXPERIMENTAL: subject to change\n  (keys [coll]\n    (es6-iterator (keys coll)))\n  (entries [coll]\n    (es6-entries-iterator (seq coll)))\n  (values [coll]\n    (es6-iterator (vals coll)))\n  (has [coll k]\n    (contains? coll k))\n  (get [coll k not-found]\n    (-lookup coll k not-found))\n  (forEach [coll f]\n    (doseq [[k v] coll]\n      (f v k)))\n\n  (entry-at [coll k]\n    (loop [t tree]\n      (if-not (nil? t)\n        (let [c (comp k (.-key t))]\n          (cond (zero? c) t\n                (neg? c)  (recur (.-left t))\n                :else     (recur (.-right t)))))))\n\n  ICloneable\n  (-clone [_] (PersistentTreeMap. comp tree cnt meta __hash))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (PersistentTreeMap. comp tree cnt new-meta __hash)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  ICollection\n  (-conj [coll entry]\n    (if (vector? entry)\n      (-assoc coll (-nth entry 0) (-nth entry 1))\n      (loop [ret coll es (seq entry)]\n        (if (nil? es)\n          ret\n          (let [e (first es)]\n            (if (vector? e)\n              (recur (-assoc ret (-nth e 0) (-nth e 1))\n                     (next es))\n              (throw (js\/Error. \"conj on a map takes map entries or seqables of map entries\"))))))))\n\n  IEmptyableCollection\n  (-empty [coll] (PersistentTreeMap. comp nil 0 meta 0))\n\n  IEquiv\n  (-equiv [coll other] (equiv-map coll other))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-unordered-coll __hash))\n\n  ICounted\n  (-count [coll] cnt)\n\n  IKVReduce\n  (-kv-reduce [coll f init]\n    (if-not (nil? tree)\n      (unreduced (tree-map-kv-reduce tree f init))\n      init))\n\n  IFn\n  (-invoke [coll k]\n    (-lookup coll k))\n\n  (-invoke [coll k not-found]\n    (-lookup coll k not-found))\n\n  ISeqable\n  (-seq [coll]\n    (if (pos? cnt)\n      (create-tree-map-seq tree true cnt)))\n\n  IReversible\n  (-rseq [coll]\n    (if (pos? cnt)\n      (create-tree-map-seq tree false cnt)))\n\n  ILookup\n  (-lookup [coll k]\n    (-lookup coll k nil))\n\n  (-lookup [coll k not-found]\n    (let [n (.entry-at coll k)]\n      (if-not (nil? n)\n        (.-val n)\n        not-found)))\n\n  IAssociative\n  (-assoc [coll k v]\n    (let [found (array nil)\n          t     (tree-map-add comp tree k v found)]\n      (if (nil? t)\n        (let [found-node (nth found 0)]\n          (if (= v (.-val found-node))\n            coll\n            (PersistentTreeMap. comp (tree-map-replace comp tree k v) cnt meta nil)))\n        (PersistentTreeMap. comp (.blacken t) (inc cnt) meta nil))))\n\n  (-contains-key? [coll k]\n    (not (nil? (.entry-at coll k))))\n\n  IFind\n  (-find [coll k]\n    (.entry-at coll k))\n\n  IMap\n  (-dissoc [coll k]\n    (let [found (array nil)\n          t     (tree-map-remove comp tree k found)]\n      (if (nil? t)\n        (if (nil? (nth found 0))\n          coll\n          (PersistentTreeMap. comp nil 0 meta nil))\n        (PersistentTreeMap. comp (.blacken t) (dec cnt) meta nil))))\n\n  ISorted\n  (-sorted-seq [coll ascending?]\n    (if (pos? cnt)\n      (create-tree-map-seq tree ascending? cnt)))\n\n  (-sorted-seq-from [coll k ascending?]\n    (if (pos? cnt)\n      (loop [stack nil t tree]\n        (if-not (nil? t)\n          (let [c (comp k (.-key t))]\n            (cond\n              (zero? c)  (PersistentTreeMapSeq. nil (conj stack t) ascending? -1 nil)\n              ascending? (if (neg? c)\n                           (recur (conj stack t) (.-left t))\n                           (recur stack          (.-right t)))\n              :else      (if (pos? c)\n                           (recur (conj stack t) (.-right t))\n                           (recur stack          (.-left t)))))\n          (when-not (nil? stack)\n            (PersistentTreeMapSeq. nil stack ascending? -1 nil))))))\n\n  (-entry-key [coll entry] (key entry))\n\n  (-comparator [coll] comp))\n\n(set! (.-EMPTY PersistentTreeMap) (PersistentTreeMap. compare nil 0 nil empty-unordered-hash))\n\n(es6-iterable PersistentTreeMap)\n\n(defn hash-map\n  \"keyval => key val\n  Returns a new hash map with supplied mappings.\"\n  [& keyvals]\n  (loop [in (seq keyvals), out (transient (.-EMPTY PersistentHashMap))]\n    (if in\n      (recur (nnext in) (assoc! out (first in) (second in)))\n      (persistent! out))))\n\n(defn array-map\n  \"keyval => key val\n  Returns a new array map with supplied mappings.\"\n  [& keyvals]\n  (let [arr (if (and (instance? IndexedSeq keyvals) (zero? (.-i keyvals)))\n              (.-arr keyvals)\n              (into-array keyvals))]\n    (.createAsIfByAssoc PersistentArrayMap arr)))\n\n(defn obj-map\n  \"keyval => key val\n  Returns a new object map with supplied mappings.\"\n  [& keyvals]\n  (let [ks  (array)\n        obj (js-obj)]\n    (loop [kvs (seq keyvals)]\n      (if kvs\n        (do (.push ks (first kvs))\n            (gobject\/set obj (first kvs) (second kvs))\n            (recur (nnext kvs)))\n        (.fromObject ObjMap ks obj)))))\n\n(defn sorted-map\n  \"keyval => key val\n  Returns a new sorted map with supplied mappings.\"\n  ([& keyvals]\n     (loop [in (seq keyvals) out (.-EMPTY PersistentTreeMap)]\n       (if in\n         (recur (nnext in) (assoc out (first in) (second in)))\n         out))))\n\n(defn sorted-map-by\n  \"keyval => key val\n  Returns a new sorted map with supplied mappings, using the supplied comparator.\"\n  ([comparator & keyvals]\n     (loop [in (seq keyvals)\n            out (PersistentTreeMap. (fn->comparator comparator) nil 0 nil 0)]\n       (if in\n         (recur (nnext in) (assoc out (first in) (second in)))\n         out))))\n\n(deftype KeySeq [^not-native mseq _meta]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  IMeta\n  (-meta [coll] _meta)\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta _meta)\n      coll\n      (KeySeq. mseq new-meta)))\n\n  ISeqable\n  (-seq [coll] coll)\n\n  ISequential\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  ICollection\n  (-conj [coll o]\n    (cons o coll))\n\n  IEmptyableCollection\n  (-empty [coll] (.-EMPTY List))\n\n  IHash\n  (-hash [coll] (hash-ordered-coll coll))\n\n  ISeq\n  (-first [coll]\n    (let [^not-native me (-first mseq)]\n      (-key me)))\n\n  (-rest [coll]\n    (let [nseq (if (satisfies? INext mseq)\n                 (-next mseq)\n                 (next mseq))]\n      (if-not (nil? nseq)\n        (KeySeq. nseq nil)\n        ())))\n\n  INext\n  (-next [coll]\n    (let [nseq (if (satisfies? INext mseq)\n                 (-next mseq)\n                 (next mseq))]\n      (when-not (nil? nseq)\n        (KeySeq. nseq nil))))\n\n  IReduce\n  (-reduce [coll f] (seq-reduce f coll))\n  (-reduce [coll f start] (seq-reduce f start coll)))\n\n(es6-iterable KeySeq)\n\n(defn keys\n  \"Returns a sequence of the map's keys, in the same order as (seq map).\"\n  [map]\n  (when-let [mseq (seq map)]\n    (KeySeq. mseq nil)))\n\n(defn key\n  \"Returns the key of the map entry.\"\n  [map-entry]\n  (-key map-entry))\n\n(deftype ValSeq [^not-native mseq _meta]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  IMeta\n  (-meta [coll] _meta)\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta _meta)\n      coll\n      (ValSeq. mseq new-meta)))\n\n  ISeqable\n  (-seq [coll] coll)\n\n  ISequential\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  ICollection\n  (-conj [coll o]\n    (cons o coll))\n\n  IEmptyableCollection\n  (-empty [coll] (.-EMPTY List))\n\n  IHash\n  (-hash [coll] (hash-ordered-coll coll))\n\n  ISeq\n  (-first [coll]\n    (let [^not-native me (-first mseq)]\n      (-val me)))\n\n  (-rest [coll]\n    (let [nseq (if (satisfies? INext mseq)\n                 (-next mseq)\n                 (next mseq))]\n      (if-not (nil? nseq)\n        (ValSeq. nseq nil)\n        ())))\n\n  INext\n  (-next [coll]\n    (let [nseq (if (satisfies? INext mseq)\n                 (-next mseq)\n                 (next mseq))]\n      (when-not (nil? nseq)\n        (ValSeq. nseq nil))))\n\n  IReduce\n  (-reduce [coll f] (seq-reduce f coll))\n  (-reduce [coll f start] (seq-reduce f start coll)))\n\n(es6-iterable ValSeq)\n\n(defn vals\n  \"Returns a sequence of the map's values, in the same order as (seq map).\"\n  [map]\n  (when-let [mseq (seq map)]\n    (ValSeq. mseq nil)))\n\n(defn val\n  \"Returns the value in the map entry.\"\n  [map-entry]\n  (-val map-entry))\n\n(defn merge\n  \"Returns a map that consists of the rest of the maps conj-ed onto\n  the first.  If a key occurs in more than one map, the mapping from\n  the latter (left-to-right) will be the mapping in the result.\"\n  [& maps]\n  (when (some identity maps)\n    (reduce #(conj (or %1 {}) %2) maps)))\n\n(defn merge-with\n  \"Returns a map that consists of the rest of the maps conj-ed onto\n  the first.  If a key occurs in more than one map, the mapping(s)\n  from the latter (left-to-right) will be combined with the mapping in\n  the result by calling (f val-in-result val-in-latter).\"\n  [f & maps]\n  (when (some identity maps)\n    (let [merge-entry (fn [m e]\n                        (let [k (key e) v (val e)]\n                          (if (contains? m k)\n                            (assoc m k (f (get m k) v))\n                            (assoc m k v))))\n          merge2 (fn [m1 m2]\n                   (reduce merge-entry (or m1 {}) (seq m2)))]\n      (reduce merge2 maps))))\n\n(defn select-keys\n  \"Returns a map containing only those entries in map whose key is in keys\"\n  [map keyseq]\n    (loop [ret {} keys (seq keyseq)]\n      (if keys\n        (let [key   (first keys)\n              entry (get map key ::not-found)]\n          (recur\n           (if (not= entry ::not-found)\n             (assoc ret key entry)\n             ret)\n           (next keys)))\n        (-with-meta ret (meta map)))))\n\n;;; PersistentHashSet\n\n(declare TransientHashSet)\n\n(deftype HashSetIter [iter]\n  Object\n  (hasNext [_]\n    (.hasNext iter))\n  (next [_]\n    (if ^boolean (.hasNext iter)\n      (.-key (.next iter))\n      (throw (js\/Error. \"No such element\"))))\n  (remove [_] (js\/Error. \"Unsupported operation\")))\n\n(deftype PersistentHashSet [meta hash-map ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n\n  ;; EXPERIMENTAL: subject to change\n  (keys [coll]\n    (es6-iterator (seq coll)))\n  (entries [coll]\n    (es6-set-entries-iterator (seq coll)))\n  (values [coll]\n    (es6-iterator (seq coll)))\n  (has [coll k]\n    (contains? coll k))\n  (forEach [coll f]\n    (doseq [[k v] coll]\n      (f v k)))\n\n  ICloneable\n  (-clone [_] (PersistentHashSet. meta hash-map __hash))\n\n  IIterable\n  (-iterator [coll]\n    (HashSetIter. (-iterator hash-map)))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (PersistentHashSet. new-meta hash-map __hash)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  ICollection\n  (-conj [coll o]\n    (PersistentHashSet. meta (assoc hash-map o nil) nil))\n\n  IEmptyableCollection\n  (-empty [coll] (-with-meta (.-EMPTY PersistentHashSet) meta))\n\n  IEquiv\n  (-equiv [coll other]\n    (and\n     (set? other)\n     (== (count coll) (count other))\n     ^boolean\n     (try\n       (reduce-kv\n         #(or (contains? other %2) (reduced false))\n         true hash-map)\n       (catch js\/Error ex\n         false))))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-unordered-coll __hash))\n\n  ISeqable\n  (-seq [coll] (keys hash-map))\n\n  ICounted\n  (-count [coll] (-count hash-map))\n\n  ILookup\n  (-lookup [coll v]\n    (-lookup coll v nil))\n  (-lookup [coll v not-found]\n    (if-let [entry (-find hash-map v)]\n      (key entry)\n      not-found))\n\n  ISet\n  (-disjoin [coll v]\n    (PersistentHashSet. meta (-dissoc hash-map v) nil))\n\n  IFn\n  (-invoke [coll k]\n    (-lookup coll k))\n  (-invoke [coll k not-found]\n    (-lookup coll k not-found))\n\n  IEditableCollection\n  (-as-transient [coll] (TransientHashSet. (-as-transient hash-map))))\n\n(set! (.-EMPTY PersistentHashSet)\n  (PersistentHashSet. nil (.-EMPTY PersistentArrayMap) empty-unordered-hash))\n\n(set! (.-fromArray PersistentHashSet)\n  (fn [items ^boolean no-clone]\n    (let [len (alength items)]\n      (if (<= len (.-HASHMAP-THRESHOLD PersistentArrayMap))\n        (let [arr (if no-clone items (aclone items))]\n          (loop [i 0\n                 out (transient (.-EMPTY PersistentArrayMap))]\n            (if (< i len)\n              (recur (inc i) (-assoc! out (aget items i) nil))\n              (PersistentHashSet. nil (-persistent! out) nil))))\n       (loop [i 0\n              out (transient (.-EMPTY PersistentHashSet))]\n         (if (< i len)\n           (recur (inc i) (-conj! out (aget items i)))\n           (-persistent! out)))))))\n\n(set! (.-createWithCheck PersistentHashSet)\n      (fn [items]\n        (let [len (alength items)\n              t (-as-transient (.-EMPTY PersistentHashSet))]\n          (dotimes [i len]\n            (-conj! t (aget items i))\n            (when-not (= (count t) (inc i))\n              (throw (js\/Error. (str \"Duplicate key: \" (aget items i))))))\n          (-persistent! t))))\n\n(set! (.-createAsIfByAssoc PersistentHashSet)\n      (fn [items]\n        (let [len (alength items)\n              t (-as-transient (.-EMPTY PersistentHashSet))]\n          (dotimes [i len] (-conj! t (aget items i)))\n          (-persistent! t))))\n\n(es6-iterable PersistentHashSet)\n\n(deftype TransientHashSet [^:mutable transient-map]\n  ITransientCollection\n  (-conj! [tcoll o]\n    (set! transient-map (assoc! transient-map o nil))\n    tcoll)\n\n  (-persistent! [tcoll]\n    (PersistentHashSet. nil (persistent! transient-map) nil))\n\n  ITransientSet\n  (-disjoin! [tcoll v]\n    (set! transient-map (dissoc! transient-map v))\n    tcoll)\n\n  ICounted\n  (-count [tcoll] (count transient-map))\n\n  ILookup\n  (-lookup [tcoll v]\n    (-lookup tcoll v nil))\n\n  (-lookup [tcoll v not-found]\n    (if (identical? (-lookup transient-map v lookup-sentinel) lookup-sentinel)\n      not-found\n      v))\n\n  IFn\n  (-invoke [tcoll k]\n    (if (identical? (-lookup transient-map k lookup-sentinel) lookup-sentinel)\n      nil\n      k))\n\n  (-invoke [tcoll k not-found]\n    (if (identical? (-lookup transient-map k lookup-sentinel) lookup-sentinel)\n      not-found\n      k)))\n\n(deftype PersistentTreeSet [meta tree-map ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n\n  ;; EXPERIMENTAL: subject to change\n  (keys [coll]\n    (es6-iterator (seq coll)))\n  (entries [coll]\n    (es6-set-entries-iterator (seq coll)))\n  (values [coll]\n    (es6-iterator (seq coll)))\n  (has [coll k]\n    (contains? coll k))\n  (forEach [coll f]\n    (doseq [[k v] coll]\n      (f v k)))\n\n  ICloneable\n  (-clone [_] (PersistentTreeSet. meta tree-map __hash))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (PersistentTreeSet. new-meta tree-map __hash)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  ICollection\n  (-conj [coll o]\n    (PersistentTreeSet. meta (assoc tree-map o nil) nil))\n\n  IEmptyableCollection\n  (-empty [coll] (PersistentTreeSet. meta (-empty tree-map) 0))\n\n  IEquiv\n  (-equiv [coll other]\n    (and\n     (set? other)\n     (== (count coll) (count other))\n     ^boolean\n     (try\n       (reduce-kv\n         #(or (contains? other %2) (reduced false))\n         true tree-map)\n       (catch js\/Error ex\n         false))))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-unordered-coll __hash))\n\n  ISeqable\n  (-seq [coll] (keys tree-map))\n\n  ISorted\n  (-sorted-seq [coll ascending?]\n    (map key (-sorted-seq tree-map ascending?)))\n\n  (-sorted-seq-from [coll k ascending?]\n    (map key (-sorted-seq-from tree-map k ascending?)))\n\n  (-entry-key [coll entry] entry)\n\n  (-comparator [coll] (-comparator tree-map))\n\n  IReversible\n  (-rseq [coll]\n    (if (pos? (count tree-map))\n      (map key (rseq tree-map))))\n\n  ICounted\n  (-count [coll] (count tree-map))\n\n  ILookup\n  (-lookup [coll v]\n    (-lookup coll v nil))\n  (-lookup [coll v not-found]\n    (let [n (.entry-at tree-map v)]\n      (if-not (nil? n)\n        (.-key n)\n        not-found)))\n\n  ISet\n  (-disjoin [coll v]\n    (PersistentTreeSet. meta (dissoc tree-map v) nil))\n\n  IFn\n  (-invoke [coll k]\n    (-lookup coll k))\n  (-invoke [coll k not-found]\n    (-lookup coll k not-found)))\n\n(set! (.-EMPTY PersistentTreeSet)\n  (PersistentTreeSet. nil (.-EMPTY PersistentTreeMap) empty-unordered-hash))\n\n(es6-iterable PersistentTreeSet)\n\n(defn set-from-indexed-seq [iseq]\n  (let [arr (.-arr iseq)\n        ret (areduce arr i ^not-native res (-as-transient #{})\n              (-conj! res (aget arr i)))]\n    (-persistent! ^not-native ret)))\n\n(defn set\n  \"Returns a set of the distinct elements of coll.\"\n  [coll]\n  (if (set? coll)\n    (with-meta coll nil)\n    (let [in (seq coll)]\n      (cond\n        (nil? in) #{}\n\n        (and (instance? IndexedSeq in) (zero? (.-i in)))\n        (.createAsIfByAssoc PersistentHashSet (.-arr in))\n\n        :else\n        (loop [^not-native in  in\n               ^not-native out (-as-transient #{})]\n          (if-not (nil? in)\n            (recur (next in) (-conj! out (-first in)))\n            (persistent! out)))))))\n\n(defn hash-set\n  \"Returns a new hash set with supplied keys.  Any equal keys are\n  handled as if by repeated uses of conj.\"\n  ([] #{})\n  ([& keys] (set keys)))\n\n(defn sorted-set\n  \"Returns a new sorted set with supplied keys.\"\n  ([& keys]\n   (reduce -conj (.-EMPTY PersistentTreeSet) keys)))\n\n(defn sorted-set-by\n  \"Returns a new sorted set with supplied keys, using the supplied comparator.\"\n  ([comparator & keys]\n   (reduce -conj\n           (PersistentTreeSet. nil (sorted-map-by comparator) 0)\n           keys)))\n\n(defn replace\n  \"Given a map of replacement pairs and a vector\/collection, returns a\n  vector\/seq with any elements = a key in smap replaced with the\n  corresponding val in smap.  Returns a transducer when no collection\n  is provided.\"\n  ([smap]\n     (map #(if-let [e (find smap %)] (val e) %)))\n  ([smap coll]\n     (if (vector? coll)\n       (let [n (count coll)]\n         (reduce (fn [v i]\n                   (if-let [e (find smap (nth v i))]\n                     (assoc v i (second e))\n                     v))\n           coll (take n (iterate inc 0))))\n       (map #(if-let [e (find smap %)] (second e) %) coll))))\n\n(defn distinct\n  \"Returns a lazy sequence of the elements of coll with duplicates removed.\n  Returns a stateful transducer when no collection is provided.\"\n  ([]\n    (fn [rf]\n      (let [seen (volatile! #{})]\n        (fn\n          ([] (rf))\n          ([result] (rf result))\n          ([result input]\n            (if (contains? @seen input)\n              result\n              (do (vswap! seen conj input)\n                  (rf result input))))))))\n  ([coll]\n    (let [step (fn step [xs seen]\n                 (lazy-seq\n                   ((fn [[f :as xs] seen]\n                      (when-let [s (seq xs)]\n                        (if (contains? seen f)\n                          (recur (rest s) seen)\n                          (cons f (step (rest s) (conj seen f))))))\n                     xs seen)))]\n      (step coll #{}))))\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n(defn butlast\n  \"Return a seq of all but the last item in coll, in linear time\"\n  [s]\n  (loop [ret [] s s]\n    (if (next s)\n      (recur (conj ret (first s)) (next s))\n      (seq ret))))\n\n(defn name\n  \"Returns the name String of a string, symbol or keyword.\"\n  [x]\n  (if (implements? INamed x)\n    (-name x)\n    (if (string? x)\n      x\n      (throw (js\/Error. (str \"Doesn't support name: \" x))))))\n\n(defn zipmap\n  \"Returns a map with the keys mapped to the corresponding vals.\"\n  [keys vals]\n    (loop [map (transient {})\n           ks (seq keys)\n           vs (seq vals)]\n      (if (and ks vs)\n        (recur (assoc! map (first ks) (first vs))\n               (next ks)\n               (next vs))\n        (persistent! map))))\n\n(defn max-key\n  \"Returns the x for which (k x), a number, is greatest.\n\n  If there are multiple such xs, the last one is returned.\"\n  ([k x] x)\n  ([k x y] (if (> (k x) (k y)) x y))\n  ([k x y & more]\n   (reduce #(max-key k %1 %2) (max-key k x y) more)))\n\n(defn min-key\n  \"Returns the x for which (k x), a number, is least.\n\n  If there are multiple such xs, the last one is returned.\"\n  ([k x] x)\n  ([k x y] (if (< (k x) (k y)) x y))\n  ([k x y & more]\n     (reduce #(min-key k %1 %2) (min-key k x y) more)))\n\n(deftype ArrayList [^:mutable arr]\n  Object\n  (add [_ x] (.push arr x))\n  (size [_] (alength arr))\n  (clear [_] (set! arr (array)))\n  (isEmpty [_] (zero? (alength arr)))\n  (toArray [_] arr))\n\n(defn array-list []\n  (ArrayList. (array)))\n\n(defn partition-all\n  \"Returns a lazy sequence of lists like partition, but may include\n  partitions with fewer than n items at the end.  Returns a stateful\n  transducer when no collection is provided.\"\n  ([n]\n   (fn [rf]\n     (let [a (array-list)]\n       (fn\n         ([] (rf))\n         ([result]\n            (let [result (if (.isEmpty a)\n                           result\n                           (let [v (vec (.toArray a))]\n                             ;;clear first!\n                             (.clear a)\n                             (unreduced (rf result v))))]\n              (rf result)))\n         ([result input]\n            (.add a input)\n            (if (== n (.size a))\n              (let [v (vec (.toArray a))]\n                (.clear a)\n                (rf result v))\n              result))))))\n  ([n coll]\n     (partition-all n n coll))\n  ([n step coll]\n     (lazy-seq\n      (when-let [s (seq coll)]\n        (cons (take n s) (partition-all n step (drop step s)))))))\n\n(defn take-while\n  \"Returns a lazy sequence of successive items from coll while\n  (pred item) returns logical true. pred must be free of side-effects.\n  Returns a transducer when no collection is provided.\"\n  ([pred]\n     (fn [rf]\n       (fn\n         ([] (rf))\n         ([result] (rf result))\n         ([result input]\n            (if (pred input)\n              (rf result input)\n              (reduced result))))))\n  ([pred coll]\n     (lazy-seq\n       (when-let [s (seq coll)]\n         (when (pred (first s))\n           (cons (first s) (take-while pred (rest s))))))))\n\n(defn mk-bound-fn\n  [sc test key]\n  (fn [e]\n    (let [comp (-comparator sc)]\n      (test (comp (-entry-key sc e) key) 0))))\n\n(defn subseq\n  \"sc must be a sorted collection, test(s) one of <, <=, > or\n  >=. Returns a seq of those entries with keys ek for\n  which (test (.. sc comparator (compare ek key)) 0) is true\"\n  ([sc test key]\n     (let [include (mk-bound-fn sc test key)]\n       (if (#{> >=} test)\n         (when-let [[e :as s] (-sorted-seq-from sc key true)]\n           (if (include e) s (next s)))\n         (take-while include (-sorted-seq sc true)))))\n  ([sc start-test start-key end-test end-key]\n     (when-let [[e :as s] (-sorted-seq-from sc start-key true)]\n       (take-while (mk-bound-fn sc end-test end-key)\n                   (if ((mk-bound-fn sc start-test start-key) e) s (next s))))))\n\n(defn rsubseq\n  \"sc must be a sorted collection, test(s) one of <, <=, > or\n  >=. Returns a reverse seq of those entries with keys ek for\n  which (test (.. sc comparator (compare ek key)) 0) is true\"\n  ([sc test key]\n     (let [include (mk-bound-fn sc test key)]\n       (if (#{< <=} test)\n         (when-let [[e :as s] (-sorted-seq-from sc key false)]\n           (if (include e) s (next s)))\n         (take-while include (-sorted-seq sc false)))))\n  ([sc start-test start-key end-test end-key]\n     (when-let [[e :as s] (-sorted-seq-from sc end-key false)]\n       (take-while (mk-bound-fn sc start-test start-key)\n                   (if ((mk-bound-fn sc end-test end-key) e) s (next s))))))\n\n(deftype IntegerRangeChunk [start step count]\n  ICounted\n  (-count [coll] count)\n\n  ISeq\n  (-first [coll] start)\n\n  IIndexed\n  (-nth [coll i]\n    (+ start (* i step)))\n  (-nth [coll i not-found]\n    (if (and (>= i 0) (< i count))\n      (+ start (* i step))\n      not-found))\n\n  IChunk\n  (-drop-first [coll]\n    (if (<= count 1)\n      (throw (js\/Error. \"-drop-first of empty chunk\"))\n      (IntegerRangeChunk. (+ start step) step (dec count)))))\n\n(deftype RangeIterator [^:mutable i end step]\n  Object\n  (hasNext [_]\n    (if (pos? step)\n      (< i end)\n      (> i end)))\n  (next [_]\n    (let [ret i]\n      (set! i (+ i step))\n      ret)))\n\n(deftype IntegerRange [meta start end step ^:mutable chunk ^:mutable chunk-next ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n  (forceChunk [coll]\n    (when (nil? chunk)\n      (let [count (-count coll)]\n        (if (> count 32)\n          (do\n            (set! chunk-next (IntegerRange. nil (+ start (* step 32)) end step nil nil nil))\n            (set! chunk (IntegerRangeChunk. start step 32)))\n          (set! chunk (IntegerRangeChunk. start step count))))))\n\n  ICloneable\n  (-clone [_] (IntegerRange. meta start end step chunk chunk-next __hash))\n\n  IWithMeta\n  (-with-meta [rng new-meta]\n    (if (identical? new-meta meta)\n      rng\n      (IntegerRange. new-meta start end step chunk chunk-next __hash)))\n\n  IMeta\n  (-meta [rng] meta)\n\n  ISeqable\n  (-seq [rng] rng)\n\n  ISeq\n  (-first [rng] start)\n  (-rest [rng]\n    (let [s (-next rng)]\n      (if (nil? s)\n        ()\n        s)))\n\n  IIterable\n  (-iterator [_]\n    (RangeIterator. start end step))\n\n  INext\n  (-next [rng]\n    (if (pos? step)\n      (when (< (+ start step) end)\n        (IntegerRange. nil (+ start step) end step nil nil nil))\n      (when (> (+ start step) end)\n        (IntegerRange. nil (+ start step) end step nil nil nil))))\n\n  IChunkedSeq\n  (-chunked-first [rng]\n    (.forceChunk rng)\n    chunk)\n  (-chunked-rest [rng]\n    (.forceChunk rng)\n    (if (nil? chunk-next)\n      ()\n      chunk-next))\n\n  IChunkedNext\n  (-chunked-next [rng]\n    (seq (-chunked-rest rng)))\n\n  ICollection\n  (-conj [rng o] (cons o rng))\n\n  IEmptyableCollection\n  (-empty [rng] (.-EMPTY List))\n\n  ISequential\n  IEquiv\n  (-equiv [rng other] (equiv-sequential rng other))\n\n  IHash\n  (-hash [rng] (caching-hash rng hash-ordered-coll __hash))\n\n  ICounted\n  (-count [rng]\n    (Math\/ceil (\/ (- end start) step)))\n\n  IIndexed\n  (-nth [rng n]\n    (if (and (<= 0 n) (< n (-count rng)))\n      (+ start (* n step))\n      (if (and (<= 0 n) (> start end) (zero? step))\n        start\n        (throw (js\/Error. \"Index out of bounds\")))))\n  (-nth [rng n not-found]\n    (if (and (<= 0 n) (< n (-count rng)))\n      (+ start (* n step))\n      (if (and (<= 0 n) (> start end) (zero? step))\n        start\n        not-found)))\n\n  IReduce\n  (-reduce [rng f] (ci-reduce rng f))\n  (-reduce [rng f init]\n    (loop [i start ret init]\n      (if (if (pos? step) (< i end) (> i end))\n        (let [ret (f ret i)]\n          (if (reduced? ret)\n            @ret\n            (recur (+ i step) ret)))\n        ret))))\n\n(es6-iterable IntegerRange)\n\n(deftype Range [meta start end step ^:mutable chunk ^:mutable chunk-next ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n  (forceChunk [coll]\n    (when (nil? chunk)\n      (let [arr (make-array 32)\n            val (loop [n 0 val start]\n                  (if (< n 32)\n                    (do\n                      (aset arr n val)\n                      (let [n (inc n)\n                            val (+ val step)]\n                        (if (if (pos? step) (< val end) (> val end))\n                          (recur n val)\n                          (set! chunk (array-chunk arr 0 n)))))\n                    val))]\n        (when (nil? chunk)\n          (set! chunk (array-chunk arr 0 32))\n          (when (if (pos? step) (< val end) (> val end))\n            (set! chunk-next (Range. nil val end step nil nil nil)))))))\n\n  ICloneable\n  (-clone [_] (Range. meta start end step chunk chunk-next __hash))\n\n  IWithMeta\n  (-with-meta [rng new-meta]\n    (if (identical? new-meta meta)\n      rng\n      (Range. new-meta start end step chunk chunk-next __hash)))\n\n  IMeta\n  (-meta [rng] meta)\n\n  ISeqable\n  (-seq [rng] rng)\n\n  ISeq\n  (-first [rng] start)\n  (-rest [rng]\n    (let [s (-next rng)]\n      (if (nil? s)\n        ()\n        s)))\n\n  IIterable\n  (-iterator [_]\n    (RangeIterator. start end step))\n\n  INext\n  (-next [rng]\n    (if (pos? step)\n      (when (< (+ start step) end)\n        (Range. nil (+ start step) end step nil nil nil))\n      (when (> (+ start step) end)\n        (Range. nil (+ start step) end step nil nil nil))))\n\n  IChunkedSeq\n  (-chunked-first [rng]\n    (.forceChunk rng)\n    chunk)\n  (-chunked-rest [rng]\n    (.forceChunk rng)\n    (if (nil? chunk-next)\n      ()\n      chunk-next))\n\n  IChunkedNext\n  (-chunked-next [rng]\n    (seq (-chunked-rest rng)))\n\n  ICollection\n  (-conj [rng o] (cons o rng))\n\n  IEmptyableCollection\n  (-empty [rng] (.-EMPTY List))\n\n  ISequential\n  IEquiv\n  (-equiv [rng other] (equiv-sequential rng other))\n\n  IHash\n  (-hash [rng] (caching-hash rng hash-ordered-coll __hash))\n\n  IReduce\n  (-reduce [rng f] (seq-reduce f rng))\n  (-reduce [rng f init]\n    (loop [i start ret init]\n      (if (if (pos? step) (< i end) (> i end))\n        (let [ret (f ret i)]\n          (if (reduced? ret)\n            @ret\n            (recur (+ i step) ret)))\n        ret))))\n\n(es6-iterable Range)\n\n(defn range\n  \"Returns a lazy seq of nums from start (inclusive) to end\n   (exclusive), by step, where start defaults to 0, step to 1,\n   and end to infinity.\"\n  ([] (range 0 (.-MAX_VALUE js\/Number) 1))\n  ([end] (range 0 end 1))\n  ([start end] (range start end 1))\n  ([start end step]\n   (cond\n     (pos? step)\n     (if (<= end start)\n       ()\n       (if (and (integer? start) (integer? end) (integer? step))\n         (IntegerRange. nil start end step nil nil nil)\n         (Range. nil start end step nil nil nil)))\n\n     (neg? step)\n     (if (>= end start)\n       ()\n       (if (and (integer? start) (integer? end) (integer? step))\n         (IntegerRange. nil start end step nil nil nil)\n         (Range. nil start end step nil nil nil)))\n\n     :else\n     (if (== end start)\n       ()\n       (repeat start)))))\n\n(defn take-nth\n  \"Returns a lazy seq of every nth item in coll.  Returns a stateful\n  transducer when no collection is provided.\"\n  ([n]\n   {:pre [(number? n)]}\n     (fn [rf]\n       (let [ia (volatile! -1)]\n         (fn\n           ([] (rf))\n           ([result] (rf result))\n           ([result input]\n              (let [i (vswap! ia inc)]\n                (if (zero? (rem i n))\n                  (rf result input)\n                  result)))))))\n  ([n coll]\n   {:pre [(number? n)]}\n     (lazy-seq\n       (when-let [s (seq coll)]\n         (cons (first s) (take-nth n (drop n s)))))))\n\n(defn split-with\n  \"Returns a vector of [(take-while pred coll) (drop-while pred coll)]\"\n  [pred coll]\n  [(take-while pred coll) (drop-while pred coll)])\n\n(defn partition-by\n  \"Applies f to each value in coll, splitting it each time f returns a\n   new value.  Returns a lazy seq of partitions.  Returns a stateful\n   transducer when no collection is provided.\"\n  ([f]\n     (fn [rf]\n       (let [a (array-list)\n             pa (volatile! ::none)]\n         (fn\n           ([] (rf))\n           ([result]\n              (let [result (if (.isEmpty a)\n                             result\n                             (let [v (vec (.toArray a))]\n                               ;;clear first!\n                               (.clear a)\n                               (unreduced (rf result v))))]\n                (rf result)))\n           ([result input]\n              (let [pval @pa\n                    val (f input)]\n                (vreset! pa val)\n                (if (or (keyword-identical? pval ::none)\n                        (= val pval))\n                  (do\n                    (.add a input)\n                    result)\n                  (let [v (vec (.toArray a))]\n                    (.clear a)\n                    (let [ret (rf result v)]\n                      (when-not (reduced? ret)\n                        (.add a input))\n                      ret)))))))))\n  ([f coll]\n     (lazy-seq\n       (when-let [s (seq coll)]\n         (let [fst (first s)\n               fv (f fst)\n               run (cons fst (take-while #(= fv (f %)) (next s)))]\n           (cons run (partition-by f (lazy-seq (drop (count run) s)))))))))\n\n(defn frequencies\n  \"Returns a map from distinct items in coll to the number of times\n  they appear.\"\n  [coll]\n  (persistent!\n   (reduce (fn [counts x]\n             (assoc! counts x (inc (get counts x 0))))\n           (transient {}) coll)))\n\n(defn reductions\n  \"Returns a lazy seq of the intermediate values of the reduction (as\n  per reduce) of coll by f, starting with init.\"\n  ([f coll]\n   (lazy-seq\n     (if-let [s (seq coll)]\n       (reductions f (first s) (rest s))\n       (list (f)))))\n  ([f init coll]\n   (if (reduced? init)\n     (list @init)\n     (cons init\n       (lazy-seq\n         (when-let [s (seq coll)]\n           (reductions f (f init (first s)) (rest s))))))))\n\n(defn juxt\n  \"Takes a set of functions and returns a fn that is the juxtaposition\n  of those fns.  The returned fn takes a variable number of args, and\n  returns a vector containing the result of applying each fn to the\n  args (left-to-right).\n  ((juxt a b c) x) => [(a x) (b x) (c x)]\"\n  ([f]\n     (fn\n       ([] (vector (f)))\n       ([x] (vector (f x)))\n       ([x y] (vector (f x y)))\n       ([x y z] (vector (f x y z)))\n       ([x y z & args] (vector (apply f x y z args)))))\n  ([f g]\n     (fn\n       ([] (vector (f) (g)))\n       ([x] (vector (f x) (g x)))\n       ([x y] (vector (f x y) (g x y)))\n       ([x y z] (vector (f x y z) (g x y z)))\n       ([x y z & args] (vector (apply f x y z args) (apply g x y z args)))))\n  ([f g h]\n     (fn\n       ([] (vector (f) (g) (h)))\n       ([x] (vector (f x) (g x) (h x)))\n       ([x y] (vector (f x y) (g x y) (h x y)))\n       ([x y z] (vector (f x y z) (g x y z) (h x y z)))\n       ([x y z & args] (vector (apply f x y z args) (apply g x y z args) (apply h x y z args)))))\n  ([f g h & fs]\n     (let [fs (list* f g h fs)]\n       (fn\n         ([] (reduce #(conj %1 (%2)) [] fs))\n         ([x] (reduce #(conj %1 (%2 x)) [] fs))\n         ([x y] (reduce #(conj %1 (%2 x y)) [] fs))\n         ([x y z] (reduce #(conj %1 (%2 x y z)) [] fs))\n         ([x y z & args] (reduce #(conj %1 (apply %2 x y z args)) [] fs))))))\n\n(defn dorun\n  \"When lazy sequences are produced via functions that have side\n  effects, any effects other than those needed to produce the first\n  element in the seq do not occur until the seq is consumed. dorun can\n  be used to force any effects. Walks through the successive nexts of\n  the seq, does not retain the head and returns nil.\"\n  ([coll]\n   (when-let [s (seq coll)]\n     (recur (next s))))\n  ([n coll]\n   (when (and (seq coll) (pos? n))\n     (recur (dec n) (next coll)))))\n\n(defn doall\n  \"When lazy sequences are produced via functions that have side\n  effects, any effects other than those needed to produce the first\n  element in the seq do not occur until the seq is consumed. doall can\n  be used to force any effects. Walks through the successive nexts of\n  the seq, retains the head and returns it, thus causing the entire\n  seq to reside in memory at one time.\"\n  ([coll]\n   (dorun coll)\n   coll)\n  ([n coll]\n   (dorun n coll)\n   coll))\n\n;;;;;;;;;;;;;;;;;;;;;;;;; Regular Expressions ;;;;;;;;;;\n\n(defn regexp?\n  \"Returns true if x is a JavaScript RegExp instance.\"\n  [x]\n  (instance? js\/RegExp x))\n\n(defn re-matches\n  \"Returns the result of (re-find re s) if re fully matches s.\"\n  [re s]\n  (if (string? s)\n    (let [matches (.exec re s)]\n      (when (and (not (nil? matches))\n                 (= (aget matches 0) s))\n        (if (== (count ^array matches) 1)\n          (aget matches 0)\n          (vec matches))))\n    (throw (js\/TypeError. \"re-matches must match against a string.\"))))\n\n\n(defn re-find\n  \"Returns the first regex match, if any, of s to re, using\n  re.exec(s). Returns a vector, containing first the matching\n  substring, then any capturing groups if the regular expression contains\n  capturing groups.\"\n  [re s]\n  (if (string? s)\n    (let [matches (.exec re s)]\n      (when-not (nil? matches)\n        (if (== (count ^array matches) 1)\n          (aget matches 0)\n          (vec matches))))\n    (throw (js\/TypeError. \"re-find must match against a string.\"))))\n\n(defn- re-seq* [re s]\n  (when-some [matches (.exec re s)]\n    (let [match-str (aget matches 0)\n          match-vals (if (== (.-length matches) 1)\n                       match-str\n                       (vec matches))]\n      (cons match-vals\n            (lazy-seq\n             (let [post-idx (+ (.-index matches)\n                               (max 1 (.-length match-str)))]\n               (when (<= post-idx (.-length s))\n                 (re-seq* re (subs s post-idx)))))))))\n\n(defn re-seq\n  \"Returns a lazy sequence of successive matches of re in s.\"\n  [re s]\n  (if (string? s)\n    (re-seq* re s)\n    (throw (js\/TypeError. \"re-seq must match against a string.\"))))\n\n(defn re-pattern\n  \"Returns an instance of RegExp which has compiled the provided string.\"\n  [s]\n  (if (instance? js\/RegExp s)\n    s\n    (let [[prefix flags] (re-find #\"^\\(\\?([idmsux]*)\\)\" s)\n          pattern (subs s (if (nil? prefix)\n                            0\n                            (count ^string prefix)))]\n      (js\/RegExp. pattern (or flags \"\")))))\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; Printing ;;;;;;;;;;;;;;;;\n\n(defn pr-sequential-writer [writer print-one begin sep end opts coll]\n  (binding [*print-level* (when-not (nil? *print-level*) (dec *print-level*))]\n    (if (and (not (nil? *print-level*)) (neg? *print-level*))\n      (-write writer \"#\")\n      (do\n        (-write writer begin)\n        (if (zero? (:print-length opts))\n          (when (seq coll)\n            (-write writer (or (:more-marker opts) \"...\")))\n          (do\n            (when (seq coll)\n              (print-one (first coll) writer opts))\n            (loop [coll (next coll) n (dec (:print-length opts))]\n              (if (and coll (or (nil? n) (not (zero? n))))\n                (do\n                  (-write writer sep)\n                  (print-one (first coll) writer opts)\n                  (recur (next coll) (dec n)))\n                (when (and (seq coll) (zero? n))\n                  (-write writer sep)\n                  (-write writer (or (:more-marker opts) \"...\")))))))\n        (-write writer end)))))\n\n(defn write-all [writer & ss]\n  (doseq [s ss]\n    (-write writer s)))\n\n(defn string-print [x]\n  (when (nil? *print-fn*)\n    (throw (js\/Error. \"No *print-fn* fn set for evaluation environment\")))\n  (*print-fn* x)\n  nil)\n\n(defn flush [] ;stub\n  nil)\n\n(def ^:private char-escapes\n  (js-obj\n    \"\\\"\" \"\\\\\\\"\"\n    \"\\\\\" \"\\\\\\\\\"\n    \"\\b\" \"\\\\b\"\n    \"\\f\" \"\\\\f\"\n    \"\\n\" \"\\\\n\"\n    \"\\r\" \"\\\\r\"\n    \"\\t\" \"\\\\t\"))\n\n(defn ^:private quote-string\n  [s]\n  (str \\\"\n       (.replace s (js\/RegExp \"[\\\\\\\\\\\"\\b\\f\\n\\r\\t]\" \"g\")\n         (fn [match] (unchecked-get char-escapes match)))\n       \\\"))\n\n(declare print-map)\n\n(defn print-meta? [opts obj]\n  (and (boolean (get opts :meta))\n       (implements? IMeta obj)\n       (not (nil? (meta obj)))))\n\n(defn- pr-writer-impl\n  [obj writer opts]\n  (cond\n    (nil? obj) (-write writer \"nil\")\n    :else\n    (do\n      (when (print-meta? opts obj)\n        (-write writer \"^\")\n        (pr-writer (meta obj) writer opts)\n        (-write writer \" \"))\n      (cond\n        ;; handle CLJS ctors\n        ^boolean (.-cljs$lang$type obj)\n        (.cljs$lang$ctorPrWriter obj obj writer opts)\n\n        ; Use the new, more efficient, IPrintWithWriter interface when possible.\n        (satisfies? IPrintWithWriter obj)\n        (-pr-writer obj writer opts)\n\n        (or (true? obj) (false? obj))\n        (-write writer (str obj))\n\n        (number? obj)\n        (-write writer\n          (cond\n            ^boolean (js\/isNaN obj) \"##NaN\"\n            (identical? obj js\/Number.POSITIVE_INFINITY) \"##Inf\"\n            (identical? obj js\/Number.NEGATIVE_INFINITY) \"##-Inf\"\n            :else (str obj)))\n\n        (object? obj)\n        (do\n          (-write writer \"#js \")\n          (print-map\n            (map (fn [k]\n                   (MapEntry. (cond-> k (some? (re-matches #\"[A-Za-z_\\*\\+\\?!\\-'][\\w\\*\\+\\?!\\-']*\" k)) keyword) (unchecked-get obj k) nil))\n              (js-keys obj))\n            pr-writer writer opts))\n\n        (array? obj)\n        (pr-sequential-writer writer pr-writer \"#js [\" \" \" \"]\" opts obj)\n\n        (string? obj)\n        (if (:readably opts)\n          (-write writer (quote-string obj))\n          (-write writer obj))\n\n        (js-fn? obj)\n        (let [name (.-name obj)\n              name (if (or (nil? name) (gstring\/isEmpty name))\n                     \"Function\"\n                     name)]\n          (write-all writer \"#object[\" name\n            (if *print-fn-bodies*\n              (str \" \\\"\" (str obj) \"\\\"\")\n              \"\")\n            \"]\"))\n\n        (instance? js\/Date obj)\n        (let [normalize (fn [n len]\n                          (loop [ns (str n)]\n                            (if (< (count ns) len)\n                              (recur (str \"0\" ns))\n                              ns)))]\n          (write-all writer\n            \"#inst \\\"\"\n            (normalize (.getUTCFullYear obj) 4)     \"-\"\n            (normalize (inc (.getUTCMonth obj)) 2)  \"-\"\n            (normalize (.getUTCDate obj) 2)         \"T\"\n            (normalize (.getUTCHours obj) 2)        \":\"\n            (normalize (.getUTCMinutes obj) 2)      \":\"\n            (normalize (.getUTCSeconds obj) 2)      \".\"\n            (normalize (.getUTCMilliseconds obj) 3) \"-\"\n            \"00:00\\\"\"))\n\n        (regexp? obj) (write-all writer \"#\\\"\" (.-source obj) \"\\\"\")\n\n        (js-symbol? obj) (write-all writer \"#object[\" (.toString obj) \"]\" )\n\n        :else\n        (if (some-> obj .-constructor .-cljs$lang$ctorStr)\n          (write-all writer\n            \"#object[\" (.replace (.. obj -constructor -cljs$lang$ctorStr)\n                         (js\/RegExp. \"\/\" \"g\") \".\") \"]\")\n          (let [name (some-> obj .-constructor .-name)\n                name (if (or (nil? name) (gstring\/isEmpty name))\n                       \"Object\"\n                       name)]\n            (if (nil? (. obj -constructor))\n              (write-all writer \"#object[\" name \"]\")\n              (write-all writer \"#object[\" name \" \" (str obj) \"]\"))))))))\n\n(defn- pr-writer\n  \"Prefer this to pr-seq, because it makes the printing function\n   configurable, allowing efficient implementations such as appending\n   to a StringBuffer.\"\n  [obj writer opts]\n  (if-let [alt-impl (:alt-impl opts)]\n    (alt-impl obj writer (assoc opts :fallback-impl pr-writer-impl))\n    (pr-writer-impl obj writer opts)))\n\n(defn pr-seq-writer [objs writer opts]\n  (pr-writer (first objs) writer opts)\n  (doseq [obj (next objs)]\n    (-write writer \" \")\n    (pr-writer obj writer opts)))\n\n(defn- pr-sb-with-opts [objs opts]\n  (let [sb (StringBuffer.)\n        writer (StringBufferWriter. sb)]\n    (pr-seq-writer objs writer opts)\n    (-flush writer)\n    sb))\n\n(defn pr-str-with-opts\n  \"Prints a sequence of objects to a string, observing all the\n  options given in opts\"\n  [objs opts]\n  (if (empty? objs)\n    \"\"\n    (str (pr-sb-with-opts objs opts))))\n\n(defn prn-str-with-opts\n  \"Same as pr-str-with-opts followed by (newline)\"\n  [objs opts]\n  (if (empty? objs)\n    \"\\n\"\n    (let [sb (pr-sb-with-opts objs opts)]\n      (.append sb \\newline)\n      (str sb))))\n\n(defn- pr-with-opts\n  \"Prints a sequence of objects using string-print, observing all\n  the options given in opts\"\n  [objs opts]\n  (string-print (pr-str-with-opts objs opts)))\n\n(defn newline\n  \"Prints a newline using *print-fn*\"\n  ([] (newline nil))\n  ([opts]\n   (string-print \"\\n\")\n   (when (get opts :flush-on-newline)\n     (flush))))\n\n(defn pr-str\n  \"pr to a string, returning it. Fundamental entrypoint to IPrintWithWriter.\"\n  [& objs]\n  (pr-str-with-opts objs (pr-opts)))\n\n(defn prn-str\n  \"Same as pr-str followed by (newline)\"\n  [& objs]\n  (prn-str-with-opts objs (pr-opts)))\n\n(defn pr\n  \"Prints the object(s) using string-print.  Prints the\n  object(s), separated by spaces if there is more than one.\n  By default, pr and prn print in a way that objects can be\n  read by the reader\"\n  [& objs]\n  (pr-with-opts objs (pr-opts)))\n\n(def ^{:doc\n  \"Prints the object(s) using string-print.\n  print and println produce output for human consumption.\"}\n  print\n  (fn cljs-core-print [& objs]\n    (pr-with-opts objs (assoc (pr-opts) :readably false))))\n\n(defn print-str\n  \"print to a string, returning it\"\n  [& objs]\n  (pr-str-with-opts objs (assoc (pr-opts) :readably false)))\n\n(defn println\n  \"Same as print followed by (newline)\"\n  [& objs]\n  (pr-with-opts objs (assoc (pr-opts) :readably false))\n  (when *print-newline*\n    (newline (pr-opts))))\n\n(defn println-str\n  \"println to a string, returning it\"\n  [& objs]\n  (prn-str-with-opts objs (assoc (pr-opts) :readably false)))\n\n(defn prn\n  \"Same as pr followed by (newline).\"\n  [& objs]\n  (pr-with-opts objs (pr-opts))\n  (when *print-newline*\n    (newline (pr-opts))))\n\n(defn- strip-ns\n  [named]\n  (if (symbol? named)\n    (symbol nil (name named))\n    (keyword nil (name named))))\n\n(defn- lift-ns\n  \"Returns [lifted-ns lifted-map] or nil if m can't be lifted.\"\n  [m]\n  (when *print-namespace-maps*\n    (loop [ns nil\n           [[k v :as entry] & entries] (seq m)\n           lm (empty m)]\n      (if entry\n        (when (or (keyword? k) (symbol? k))\n          (if ns\n            (when (= ns (namespace k))\n              (recur ns entries (assoc lm (strip-ns k) v)))\n            (when-let [new-ns (namespace k)]\n              (recur new-ns entries (assoc lm (strip-ns k) v)))))\n        [ns lm]))))\n\n(defn print-prefix-map [prefix m print-one writer opts]\n  (pr-sequential-writer\n    writer\n    (fn [e w opts]\n      (do (print-one (key e) w opts)\n          (-write w \\space)\n          (print-one (val e) w opts)))\n    (str prefix \"{\") \", \" \"}\"\n    opts (seq m)))\n\n(defn print-map [m print-one writer opts]\n  (let [[ns lift-map] (when (map? m)\n                        (lift-ns m))]\n    (if ns\n      (print-prefix-map (str \"#:\" ns) lift-map print-one writer opts)\n      (print-prefix-map nil m print-one writer opts))))\n\n(extend-protocol IPrintWithWriter\n  LazySeq\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  TransformerIterator\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  IndexedSeq\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  RSeq\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  PersistentQueue\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"#queue [\" \" \" \"]\" opts (seq coll)))\n\n  PersistentQueueSeq\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  PersistentTreeMapSeq\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  NodeSeq\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  ArrayNodeSeq\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  List\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  Cons\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  EmptyList\n  (-pr-writer [coll writer opts] (-write writer \"()\"))\n\n  PersistentVector\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"[\" \" \" \"]\" opts coll))\n\n  ChunkedCons\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  ChunkedSeq\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  Subvec\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"[\" \" \" \"]\" opts coll))\n\n  BlackNode\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"[\" \" \" \"]\" opts coll))\n\n  RedNode\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"[\" \" \" \"]\" opts coll))\n\n  MapEntry\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"[\" \" \" \"]\" opts coll))\n\n  ObjMap\n  (-pr-writer [coll writer opts]\n    (print-map coll pr-writer writer opts))\n\n  KeySeq\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  ValSeq\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  PersistentArrayMapSeq\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  PersistentArrayMap\n  (-pr-writer [coll writer opts]\n    (print-map coll pr-writer writer opts))\n\n  PersistentHashMap\n  (-pr-writer [coll writer opts]\n    (print-map coll pr-writer writer opts))\n\n  PersistentTreeMap\n  (-pr-writer [coll writer opts]\n    (print-map coll pr-writer writer opts))\n\n  PersistentHashSet\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"#{\" \" \" \"}\" opts coll))\n\n  PersistentTreeSet\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"#{\" \" \" \"}\" opts coll))\n\n  Range\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  IntegerRange\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  Cycle\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  Repeat\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  Iterate\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  ES6IteratorSeq\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  Atom\n  (-pr-writer [a writer opts]\n    (-write writer \"#object[cljs.core.Atom \")\n    (pr-writer {:val (.-state a)} writer opts)\n    (-write writer \"]\"))\n\n  Volatile\n  (-pr-writer [a writer opts]\n    (-write writer \"#object[cljs.core.Volatile \")\n    (pr-writer {:val (.-state a)} writer opts)\n    (-write writer \"]\"))\n\n  Var\n  (-pr-writer [a writer opts]\n    (-write writer \"#'\")\n    (pr-writer (.-sym a) writer opts)))\n\n;; IComparable\n(extend-protocol IComparable\n  Symbol\n  (-compare [x y]\n    (if (symbol? y)\n      (compare-symbols x y)\n      (throw (js\/Error. (str \"Cannot compare \" x \" to \" y)))))\n\n  Keyword\n  (-compare [x y]\n    (if (keyword? y)\n      (compare-keywords x y)\n      (throw (js\/Error. (str \"Cannot compare \" x \" to \" y)))))\n\n  Subvec\n  (-compare [x y]\n    (if (vector? y)\n      (compare-indexed x y)\n      (throw (js\/Error. (str \"Cannot compare \" x \" to \" y)))))\n\n  PersistentVector\n  (-compare [x y]\n    (if (vector? y)\n      (compare-indexed x y)\n      (throw (js\/Error. (str \"Cannot compare \" x \" to \" y)))))\n\n  MapEntry\n  (-compare [x y]\n    (if (vector? y)\n      (compare-indexed x y)\n      (throw (js\/Error. (str \"Cannot compare \" x \" to \" y)))))\n\n  BlackNode\n  (-compare [x y]\n    (if (vector? y)\n      (compare-indexed x y)\n      (throw (js\/Error. (str \"Cannot compare \" x \" to \" y)))))\n\n  RedNode\n  (-compare [x y]\n    (if (vector? y)\n      (compare-indexed x y)\n      (throw (js\/Error. (str \"Cannot compare \" x \" to \" y))))))\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; Reference Types ;;;;;;;;;;;;;;;;\n\n(defn alter-meta!\n  \"Atomically sets the metadata for a namespace\/var\/ref\/agent\/atom to be:\n\n  (apply f its-current-meta args)\n\n  f must be free of side-effects\"\n  [iref f & args]\n  (set! (.-meta iref) (apply f (.-meta iref) args)))\n\n(defn reset-meta!\n  \"Atomically resets the metadata for an atom\"\n  [iref m]\n  (set! (.-meta iref) m))\n\n(defn add-watch\n  \"Adds a watch function to an atom reference. The watch fn must be a\n  fn of 4 args: a key, the reference, its old-state, its\n  new-state. Whenever the reference's state might have been changed,\n  any registered watches will have their functions called. The watch\n  fn will be called synchronously. Note that an atom's state\n  may have changed again prior to the fn call, so use old\/new-state\n  rather than derefing the reference. Keys must be unique per\n  reference, and can be used to remove the watch with remove-watch,\n  but are otherwise considered opaque by the watch mechanism.  Bear in\n  mind that regardless of the result or action of the watch fns the\n  atom's value will change.  Example:\n\n      (def a (atom 0))\n      (add-watch a :inc (fn [k r o n] (assert (== 0 n))))\n      (swap! a inc)\n      ;; Assertion Error\n      (deref a)\n      ;=> 1\"\n  [iref key f]\n  (-add-watch iref key f)\n  iref)\n\n(defn remove-watch\n  \"Removes a watch (set by add-watch) from a reference\"\n  [iref key]\n  (-remove-watch iref key)\n  iref)\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; gensym ;;;;;;;;;;;;;;;;\n;; Internal - do not use!\n(def\n  ^{:jsdoc [\"@type {*}\"]}\n  gensym_counter nil)\n\n(defn gensym\n  \"Returns a new symbol with a unique name. If a prefix string is\n  supplied, the name is prefix# where # is some unique number. If\n  prefix is not supplied, the prefix is 'G__'.\"\n  ([] (gensym \"G__\"))\n  ([prefix-string]\n     (when (nil? gensym_counter)\n       (set! gensym_counter (atom 0)))\n     (symbol (str prefix-string (swap! gensym_counter inc)))))\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;; Delay ;;;;;;;;;;;;;;;;;;;;\n\n(deftype Delay [^:mutable f ^:mutable value]\n  IDeref\n  (-deref [_]\n    (when f\n      (set! value (f))\n      (set! f nil))\n    value)\n\n  IPending\n  (-realized? [x]\n    (not f))\n\n  IPrintWithWriter\n  (-pr-writer [x writer opts]\n    (-write writer \"#object[cljs.core.Delay \")\n    (pr-writer {:status (if (nil? f) :ready :pending), :val value} writer opts)\n    (-write writer \"]\")))\n\n(defn delay?\n  \"returns true if x is a Delay created with delay\"\n  [x] (instance? Delay x))\n\n(defn force\n  \"If x is a Delay, returns the (possibly cached) value of its expression, else returns x\"\n  [x]\n  (if (delay? x)\n    (deref x)\n    x))\n\n(defn ^boolean realized?\n  \"Returns true if a value has been produced for a delay or lazy sequence.\"\n  [x]\n  (-realized? x))\n\n(defn- preserving-reduced\n  [rf]\n  #(let [ret (rf %1 %2)]\n     (if (reduced? ret)\n       (reduced ret)\n       ret)))\n\n(defn cat\n  \"A transducer which concatenates the contents of each input, which must be a\n  collection, into the reduction.\"\n  {:added \"1.7\"}\n  [rf]\n  (let [rf1 (preserving-reduced rf)]\n    (fn\n      ([] (rf))\n      ([result] (rf result))\n      ([result input]\n         (reduce rf1 result input)))))\n\n(defn halt-when\n  \"Returns a transducer that ends transduction when pred returns true\n  for an input. When retf is supplied it must be a fn of 2 arguments -\n  it will be passed the (completed) result so far and the input that\n  triggered the predicate, and its return value (if it does not throw\n  an exception) will be the return value of the transducer. If retf\n  is not supplied, the input that triggered the predicate will be\n  returned. If the predicate never returns true the transduction is\n  unaffected.\"\n  {:added \"1.9\"}\n  ([pred] (halt-when pred nil))\n  ([pred retf]\n     (fn [rf]\n       (fn\n         ([] (rf))\n         ([result]\n            (if (and (map? result) (contains? result ::halt))\n              (::halt result)\n              (rf result)))\n         ([result input]\n            (if (pred input)\n              (reduced {::halt (if retf (retf (rf result) input) input)})\n              (rf result input)))))))\n\n(defn dedupe\n  \"Returns a lazy sequence removing consecutive duplicates in coll.\n  Returns a transducer when no collection is provided.\"\n  ([]\n   (fn [rf]\n     (let [pa (volatile! ::none)]\n       (fn\n         ([] (rf))\n         ([result] (rf result))\n         ([result input]\n            (let [prior @pa]\n              (vreset! pa input)\n              (if (= prior input)\n                result\n                (rf result input))))))))\n  ([coll] (sequence (dedupe) coll)))\n\n(declare rand)\n\n(defn random-sample\n  \"Returns items from coll with random probability of prob (0.0 -\n  1.0).  Returns a transducer when no collection is provided.\"\n  ([prob]\n     (filter (fn [_] (< (rand) prob))))\n  ([prob coll]\n     (filter (fn [_] (< (rand) prob)) coll)))\n\n(deftype Eduction [xform coll]\n  Object\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  ISequential\n\n  IIterable\n  (-iterator [_]\n    (.create TransformerIterator xform (iter coll)))\n\n  ISeqable\n  (-seq [_] (seq (sequence xform coll)))\n\n  IReduce\n  (-reduce [_ f] (transduce xform (completing f) coll))\n  (-reduce [_ f init] (transduce xform (completing f) init coll))\n\n  IPrintWithWriter\n  (-pr-writer [coll writer opts]\n    (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll)))\n\n(es6-iterable Eduction)\n\n(defn eduction\n  \"Returns a reducible\/iterable application of the transducers\n  to the items in coll. Transducers are applied in order as if\n  combined with comp. Note that these applications will be\n  performed every time reduce\/iterator is called.\"\n  {:arglists '([xform* coll])}\n  [& xforms]\n  (Eduction. (apply comp (butlast xforms)) (last xforms)))\n\n(defn run!\n  \"Runs the supplied procedure (via reduce), for purposes of side\n  effects, on successive items in the collection. Returns nil\"\n  [proc coll]\n  (reduce #(proc %2) nil coll)\n  nil)\n\n(defprotocol IEncodeJS\n  (-clj->js [x] \"Recursively transforms clj values to JavaScript\")\n  (-key->js [x] \"Transforms map keys to valid JavaScript keys. Arbitrary keys are\n  encoded to their string representation via (pr-str x)\"))\n\n(declare clj->js)\n\n(defn key->js\n  ([k] (key->js k clj->js))\n  ([k primitive-fn]\n   (cond\n     (satisfies? IEncodeJS k) (-clj->js k)\n     (or (string? k)\n         (number? k)\n         (keyword? k)\n         (symbol? k)) (primitive-fn k)\n     :default (pr-str k))))\n\n(defn clj->js\n  \"Recursively transforms ClojureScript values to JavaScript.\n  sets\/vectors\/lists become Arrays, Keywords and Symbol become Strings,\n  Maps become Objects. Arbitrary keys are encoded to by `key->js`.\n  Options is a key-value pair, where the only valid key is\n  :keyword-fn, which should point to a single-argument function to be\n  called on keyword keys. Default to `name`.\"\n  [x & {:keys [keyword-fn]\n        :or   {keyword-fn name}\n        :as options}]\n  (letfn [(keyfn [k] (key->js k thisfn))\n          (thisfn [x] (cond\n                        (nil? x) nil\n                        (satisfies? IEncodeJS x) (-clj->js x)\n                        (keyword? x) (keyword-fn x)\n                        (symbol? x) (str x)\n                        (map? x) (let [m (js-obj)]\n                                   (doseq [[k v] x]\n                                     (gobject\/set m (keyfn k) (thisfn v)))\n                                   m)\n                        (coll? x) (let [arr (array)]\n                                    (doseq [x (map thisfn x)]\n                                      (.push arr x))\n                                    arr)\n                        :else x))]\n    (thisfn x)))\n\n\n(defprotocol IEncodeClojure\n  (-js->clj [x options] \"Transforms JavaScript values to Clojure\"))\n\n(defn js->clj\n  \"Recursively transforms JavaScript arrays into ClojureScript\n  vectors, and JavaScript objects into ClojureScript maps.  With\n  option ':keywordize-keys true' will convert object fields from\n  strings to keywords.\"\n  ([x] (js->clj x :keywordize-keys false))\n  ([x & opts]\n    (let [{:keys [keywordize-keys]} opts\n          keyfn (if keywordize-keys keyword str)\n          f (fn thisfn [x]\n              (cond\n                (satisfies? IEncodeClojure x)\n                (-js->clj x (apply array-map opts))\n\n                (seq? x)\n                (doall (map thisfn x))\n\n                (map-entry? x)\n                (MapEntry. (thisfn (key x)) (thisfn (val x)) nil)\n\n                (coll? x)\n                (into (empty x) (map thisfn) x)\n\n                (array? x)\n                (persistent!\n                 (reduce #(conj! %1 (thisfn %2))\n                         (transient []) x))\n\n                (identical? (type x) js\/Object)\n                (persistent!\n                 (reduce (fn [r k] (assoc! r (keyfn k) (thisfn (gobject\/get x k))))\n                         (transient {}) (js-keys x)))\n                :else x))]\n      (f x))))\n\n(defn memoize\n  \"Returns a memoized version of a referentially transparent function. The\n  memoized version of the function keeps a cache of the mapping from arguments\n  to results and, when calls with the same arguments are repeated often, has\n  higher performance at the expense of higher memory use.\"\n  [f]\n  (let [mem (atom {})]\n    (fn [& args]\n      (let [v (get @mem args lookup-sentinel)]\n        (if (identical? v lookup-sentinel)\n          (let [ret (apply f args)]\n            (swap! mem assoc args ret)\n            ret)\n          v)))))\n\n(defn trampoline\n  \"trampoline can be used to convert algorithms requiring mutual\n  recursion without stack consumption. Calls f with supplied args, if\n  any. If f returns a fn, calls that fn with no arguments, and\n  continues to repeat, until the return value is not a fn, then\n  returns that non-fn value. Note that if you want to return a fn as a\n  final value, you must wrap it in some data structure and unpack it\n  after trampoline returns.\"\n  ([f]\n     (let [ret (f)]\n       (if (fn? ret)\n         (recur ret)\n         ret)))\n  ([f & args]\n     (trampoline #(apply f args))))\n\n(defn rand\n  \"Returns a random floating point number between 0 (inclusive) and\n  n (default 1) (exclusive).\"\n  ([] (rand 1))\n  ([n] (* (Math\/random) n)))\n\n(defn rand-int\n  \"Returns a random integer between 0 (inclusive) and n (exclusive).\"\n  [n] (Math\/floor (* (Math\/random) n)))\n\n(defn rand-nth\n  \"Return a random element of the (sequential) collection. Will have\n  the same performance characteristics as nth for the given\n  collection.\"\n  [coll]\n  (nth coll (rand-int (count coll))))\n\n(defn group-by\n  \"Returns a map of the elements of coll keyed by the result of\n  f on each element. The value at each key will be a vector of the\n  corresponding elements, in the order they appeared in coll.\"\n  [f coll]\n  (persistent!\n    (reduce\n      (fn [ret x]\n        (let [k (f x)]\n          (assoc! ret k (conj (get ret k []) x))))\n      (transient {}) coll)))\n\n(defn make-hierarchy\n  \"Creates a hierarchy object for use with derive, isa? etc.\"\n  [] {:parents {} :descendants {} :ancestors {}})\n\n(def\n  ^{:private true\n    :jsdoc [\"@type {*}\"]}\n  -global-hierarchy nil)\n\n(defn- get-global-hierarchy []\n  (when (nil? -global-hierarchy)\n    (set! -global-hierarchy (atom (make-hierarchy))))\n  -global-hierarchy)\n\n(defn- swap-global-hierarchy! [f & args]\n  (apply swap! (get-global-hierarchy) f args))\n\n(defn ^boolean isa?\n  \"Returns true if (= child parent), or child is directly or indirectly derived from\n  parent, either via a JavaScript type inheritance relationship or a\n  relationship established via derive. h must be a hierarchy obtained\n  from make-hierarchy, if not supplied defaults to the global\n  hierarchy\"\n  ([child parent] (isa? @(get-global-hierarchy) child parent))\n  ([h child parent]\n     (or (= child parent)\n         ;; (and (class? parent) (class? child)\n         ;;    (. ^Class parent isAssignableFrom child))\n         (contains? ((:ancestors h) child) parent)\n         ;;(and (class? child) (some #(contains? ((:ancestors h) %) parent) (supers child)))\n         (and (vector? parent) (vector? child)\n              (== (count parent) (count child))\n              (loop [ret true i 0]\n                (if (or (not ret) (== i (count parent)))\n                  ret\n                  (recur (isa? h (child i) (parent i)) (inc i))))))))\n\n(defn parents\n  \"Returns the immediate parents of tag, either via a JavaScript type\n  inheritance relationship or a relationship established via derive. h\n  must be a hierarchy obtained from make-hierarchy, if not supplied\n  defaults to the global hierarchy\"\n  ([tag] (parents @(get-global-hierarchy) tag))\n  ([h tag] (not-empty (get (:parents h) tag))))\n\n(defn ancestors\n  \"Returns the immediate and indirect parents of tag, either via a JavaScript type\n  inheritance relationship or a relationship established via derive. h\n  must be a hierarchy obtained from make-hierarchy, if not supplied\n  defaults to the global hierarchy\"\n  ([tag] (ancestors @(get-global-hierarchy) tag))\n  ([h tag] (not-empty (get (:ancestors h) tag))))\n\n(defn descendants\n  \"Returns the immediate and indirect children of tag, through a\n  relationship established via derive. h must be a hierarchy obtained\n  from make-hierarchy, if not supplied defaults to the global\n  hierarchy. Note: does not work on JavaScript type inheritance\n  relationships.\"\n  ([tag] (descendants @(get-global-hierarchy) tag))\n  ([h tag] (not-empty (get (:descendants h) tag))))\n\n(defn derive\n  \"Establishes a parent\/child relationship between parent and\n  tag. Parent must be a namespace-qualified symbol or keyword and\n  child can be either a namespace-qualified symbol or keyword or a\n  class. h must be a hierarchy obtained from make-hierarchy, if not\n  supplied defaults to, and modifies, the global hierarchy.\"\n  ([tag parent]\n   (assert (namespace parent))\n   ;; (assert (or (class? tag) (and (instance? cljs.core.Named tag) (namespace tag))))\n   (swap-global-hierarchy! derive tag parent) nil)\n  ([h tag parent]\n   (assert (not= tag parent))\n   ;; (assert (or (class? tag) (instance? clojure.lang.Named tag)))\n   ;; (assert (instance? clojure.lang.INamed tag))\n   ;; (assert (instance? clojure.lang.INamed parent))\n   (let [tp (:parents h)\n         td (:descendants h)\n         ta (:ancestors h)\n         tf (fn [m source sources target targets]\n              (reduce (fn [ret k]\n                        (assoc ret k\n                               (reduce conj (get targets k #{}) (cons target (targets target)))))\n                      m (cons source (sources source))))]\n     (or\n      (when-not (contains? (tp tag) parent)\n        (when (contains? (ta tag) parent)\n          (throw (js\/Error. (str tag \"already has\" parent \"as ancestor\"))))\n        (when (contains? (ta parent) tag)\n          (throw (js\/Error. (str \"Cyclic derivation:\" parent \"has\" tag \"as ancestor\"))))\n        {:parents (assoc (:parents h) tag (conj (get tp tag #{}) parent))\n         :ancestors (tf (:ancestors h) tag td parent ta)\n         :descendants (tf (:descendants h) parent ta tag td)})\n      h))))\n\n(defn underive\n  \"Removes a parent\/child relationship between parent and\n  tag. h must be a hierarchy obtained from make-hierarchy, if not\n  supplied defaults to, and modifies, the global hierarchy.\"\n  ([tag parent]\n    (swap-global-hierarchy! underive tag parent)\n    nil)\n  ([h tag parent]\n    (let [parentMap (:parents h)\n          childsParents (if (parentMap tag)\n                          (disj (parentMap tag) parent) #{})\n          newParents (if (not-empty childsParents)\n                      (assoc parentMap tag childsParents)\n                      (dissoc parentMap tag))\n          deriv-seq (flatten (map #(cons (first %) (interpose (first %) (second %)))\n                                  (seq newParents)))]\n      (if (contains? (parentMap tag) parent)\n        (reduce #(apply derive %1 %2) (make-hierarchy)\n                (partition 2 deriv-seq))\n        h))))\n\n(defn- reset-cache\n  [method-cache method-table cached-hierarchy hierarchy]\n  (swap! method-cache (fn [_] (deref method-table)))\n  (swap! cached-hierarchy (fn [_] (deref hierarchy))))\n\n(defn- prefers*\n  [x y prefer-table]\n  (let [xprefs (@prefer-table x)]\n    (or\n     (when (and xprefs (xprefs y))\n       true)\n     (loop [ps (parents y)]\n       (when (pos? (count ps))\n         (when (prefers* x (first ps) prefer-table)\n           true)\n         (recur (rest ps))))\n     (loop [ps (parents x)]\n       (when (pos? (count ps))\n         (when (prefers* (first ps) y prefer-table)\n           true)\n         (recur (rest ps))))\n     false)))\n\n(defn- dominates\n  [x y prefer-table hierarchy]\n  (or (prefers* x y prefer-table) (isa? hierarchy x y)))\n\n(defn- find-and-cache-best-method\n  [name dispatch-val hierarchy method-table prefer-table method-cache cached-hierarchy default-dispatch-val]\n  (let [best-entry (reduce (fn [be [k _ :as e]]\n                             (if (isa? @hierarchy dispatch-val k)\n                               (let [be2 (if (or (nil? be) (dominates k (first be) prefer-table @hierarchy))\n                                           e\n                                           be)]\n                                 (when-not (dominates (first be2) k prefer-table @hierarchy)\n                                   (throw (js\/Error.\n                                            (str \"Multiple methods in multimethod '\" name\n                                              \"' match dispatch value: \" dispatch-val \" -> \" k\n                                              \" and \" (first be2) \", and neither is preferred\"))))\n                                 be2)\n                               be))\n                     nil @method-table)\n        best-entry (if-let [entry (and (nil? best-entry) (@method-table default-dispatch-val))]\n                     [default-dispatch-val entry]\n                     best-entry)]\n    (when best-entry\n      (if (= @cached-hierarchy @hierarchy)\n        (do\n          (swap! method-cache assoc dispatch-val (second best-entry))\n          (second best-entry))\n        (do\n          (reset-cache method-cache method-table cached-hierarchy hierarchy)\n          (find-and-cache-best-method name dispatch-val hierarchy method-table prefer-table\n            method-cache cached-hierarchy default-dispatch-val))))))\n\n(defprotocol IMultiFn\n  (-reset [mf])\n  (-add-method [mf dispatch-val method])\n  (-remove-method [mf dispatch-val])\n  (-prefer-method [mf dispatch-val dispatch-val-y])\n  (-get-method [mf dispatch-val])\n  (-methods [mf])\n  (-prefers [mf])\n  (-default-dispatch-val [mf])\n  (-dispatch-fn [mf]))\n\n(defn- throw-no-method-error [name dispatch-val]\n  (throw (js\/Error. (str \"No method in multimethod '\" name \"' for dispatch value: \" dispatch-val))))\n\n(deftype MultiFn [name dispatch-fn default-dispatch-val hierarchy\n                  method-table prefer-table method-cache cached-hierarchy]\n  IFn\n  (-invoke [mf]\n    (let [dispatch-val (dispatch-fn)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn)))\n  (-invoke [mf a]\n    (let [dispatch-val (dispatch-fn a)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a)))\n  (-invoke [mf a b]\n    (let [dispatch-val (dispatch-fn a b)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b)))\n  (-invoke [mf a b c]\n    (let [dispatch-val (dispatch-fn a b c)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c)))\n  (-invoke [mf a b c d]\n    (let [dispatch-val (dispatch-fn a b c d)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c d)))\n  (-invoke [mf a b c d e]\n    (let [dispatch-val (dispatch-fn a b c d e)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c d e)))\n  (-invoke [mf a b c d e f]\n    (let [dispatch-val (dispatch-fn a b c d e f)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c d e f)))\n  (-invoke [mf a b c d e f g]\n    (let [dispatch-val (dispatch-fn a b c d e f g)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c d e f g)))\n  (-invoke [mf a b c d e f g h]\n    (let [dispatch-val (dispatch-fn a b c d e f g h)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c d e f g h)))\n  (-invoke [mf a b c d e f g h i]\n    (let [dispatch-val (dispatch-fn a b c d e f g h i)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c d e f g h i)))\n  (-invoke [mf a b c d e f g h i j]\n    (let [dispatch-val (dispatch-fn a b c d e f g h i j)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c d e f g h i j)))\n  (-invoke [mf a b c d e f g h i j k]\n    (let [dispatch-val (dispatch-fn a b c d e f g h i j k)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c d e f g h i j k)))\n  (-invoke [mf a b c d e f g h i j k l]\n    (let [dispatch-val (dispatch-fn a b c d e f g h i j k l)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c d e f g h i j k l)))\n  (-invoke [mf a b c d e f g h i j k l m]\n    (let [dispatch-val (dispatch-fn a b c d e f g h i j k l m)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c d e f g h i j k l m)))\n  (-invoke [mf a b c d e f g h i j k l m n]\n    (let [dispatch-val (dispatch-fn a b c d e f g h i j k l m n)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c d e f g h i j k l m n)))\n  (-invoke [mf a b c d e f g h i j k l m n o]\n    (let [dispatch-val (dispatch-fn a b c d e f g h i j k l m n o)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c d e f g h i j k l m n o)))\n  (-invoke [mf a b c d e f g h i j k l m n o p]\n    (let [dispatch-val (dispatch-fn a b c d e f g h i j k l m n o p)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c d e f g h i j k l m n o p)))\n  (-invoke [mf a b c d e f g h i j k l m n o p q]\n    (let [dispatch-val (dispatch-fn a b c d e f g h i j k l m n o p q)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c d e f g h i j k l m n o p q)))\n  (-invoke [mf a b c d e f g h i j k l m n o p q r]\n    (let [dispatch-val (dispatch-fn a b c d e f g h i j k l m n o p q r)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c d e f g h i j k l m n o p q r)))\n  (-invoke [mf a b c d e f g h i j k l m n o p q r s]\n    (let [dispatch-val (dispatch-fn a b c d e f g h i j k l m n o p q r s)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c d e f g h i j k l m n o p q r s)))\n  (-invoke [mf a b c d e f g h i j k l m n o p q r s t]\n    (let [dispatch-val (dispatch-fn a b c d e f g h i j k l m n o p q r s t)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c d e f g h i j k l m n o p q r s t)))\n  (-invoke [mf a b c d e f g h i j k l m n o p q r s t rest]\n    (let [dispatch-val (apply dispatch-fn a b c d e f g h i j k l m n o p q r s t rest)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (apply target-fn a b c d e f g h i j k l m n o p q r s t rest)))\n\n  IMultiFn\n  (-reset [mf]\n    (swap! method-table (fn [mf] {}))\n    (swap! method-cache (fn [mf] {}))\n    (swap! prefer-table (fn [mf] {}))\n    (swap! cached-hierarchy (fn [mf] nil))\n    mf)\n\n  (-add-method [mf dispatch-val method]\n    (swap! method-table assoc dispatch-val method)\n    (reset-cache method-cache method-table cached-hierarchy hierarchy)\n    mf)\n\n  (-remove-method [mf dispatch-val]\n    (swap! method-table dissoc dispatch-val)\n    (reset-cache method-cache method-table cached-hierarchy hierarchy)\n    mf)\n\n  (-get-method [mf dispatch-val]\n    (when-not (= @cached-hierarchy @hierarchy)\n      (reset-cache method-cache method-table cached-hierarchy hierarchy))\n    (if-let [target-fn (@method-cache dispatch-val)]\n      target-fn\n      (find-and-cache-best-method name dispatch-val hierarchy method-table\n        prefer-table method-cache cached-hierarchy default-dispatch-val)))\n\n  (-prefer-method [mf dispatch-val-x dispatch-val-y]\n    (when (prefers* dispatch-val-x dispatch-val-y prefer-table)\n      (throw (js\/Error. (str \"Preference conflict in multimethod '\" name \"': \" dispatch-val-y\n                   \" is already preferred to \" dispatch-val-x))))\n    (swap! prefer-table\n           (fn [old]\n             (assoc old dispatch-val-x\n                    (conj (get old dispatch-val-x #{})\n                          dispatch-val-y))))\n    (reset-cache method-cache method-table cached-hierarchy hierarchy))\n\n  (-methods [mf] @method-table)\n  (-prefers [mf] @prefer-table)\n  (-default-dispatch-val [mf] default-dispatch-val)\n  (-dispatch-fn [mf] dispatch-fn)\n\n  INamed\n  (-name [this] (-name name))\n  (-namespace [this] (-namespace name))\n\n  IHash\n  (-hash [this] (goog\/getUid this)))\n\n(defn remove-all-methods\n  \"Removes all of the methods of multimethod.\"\n [multifn]\n (-reset multifn))\n\n(defn remove-method\n  \"Removes the method of multimethod associated with dispatch-value.\"\n [multifn dispatch-val]\n (-remove-method multifn dispatch-val))\n\n(defn prefer-method\n  \"Causes the multimethod to prefer matches of dispatch-val-x over dispatch-val-y\n   when there is a conflict\"\n  [multifn dispatch-val-x dispatch-val-y]\n  (-prefer-method multifn dispatch-val-x dispatch-val-y))\n\n(defn methods\n  \"Given a multimethod, returns a map of dispatch values -> dispatch fns\"\n  [multifn] (-methods multifn))\n\n(defn get-method\n  \"Given a multimethod and a dispatch value, returns the dispatch fn\n  that would apply to that value, or nil if none apply and no default\"\n  [multifn dispatch-val] (-get-method multifn dispatch-val))\n\n(defn prefers\n  \"Given a multimethod, returns a map of preferred value -> set of other values\"\n  [multifn] (-prefers multifn))\n\n(defn default-dispatch-val\n  \"Given a multimethod, return it's default-dispatch-val.\"\n  [multifn] (-default-dispatch-val multifn))\n\n(defn dispatch-fn\n  \"Given a multimethod, return it's dispatch-fn.\"\n  [multifn] (-dispatch-fn multifn))\n\n;; UUID\n(defprotocol IUUID \"A marker protocol for UUIDs\")\n\n(deftype UUID [uuid ^:mutable __hash]\n  IUUID\n\n  Object\n  (toString [_] uuid)\n  (equiv [this other]\n    (-equiv this other))\n\n  IEquiv\n  (-equiv [_ other]\n    (and (instance? UUID other) (identical? uuid (.-uuid other))))\n\n  IPrintWithWriter\n  (-pr-writer [_ writer _]\n    (-write writer (str \"#uuid \\\"\" uuid \"\\\"\")))\n\n  IHash\n  (-hash [this]\n    (when (nil? __hash)\n      (set! __hash (hash uuid)))\n    __hash)\n\n  IComparable\n  (-compare [this other]\n    (if (instance? UUID other)\n      (garray\/defaultCompare uuid (.-uuid other))\n      (throw (js\/Error. (str \"Cannot compare \" this \" to \" other))))))\n\n(defn uuid [s]\n  (assert (string? s))\n  (UUID. (.toLowerCase s) nil))\n\n(defn random-uuid []\n  (letfn [(hex [] (.toString (rand-int 16) 16))]\n    (let [rhex (.toString (bit-or 0x8 (bit-and 0x3 (rand-int 16))) 16)]\n      (uuid\n        (str (hex) (hex) (hex) (hex)\n             (hex) (hex) (hex) (hex) \"-\"\n             (hex) (hex) (hex) (hex) \"-\"\n             \"4\"   (hex) (hex) (hex) \"-\"\n             rhex  (hex) (hex) (hex) \"-\"\n             (hex) (hex) (hex) (hex)\n             (hex) (hex) (hex) (hex)\n             (hex) (hex) (hex) (hex))))))\n\n(defn uuid?\n  [x] (implements? IUUID x))\n\n;;; ExceptionInfo\n\n(defn- pr-writer-ex-info [obj writer opts]\n  (-write writer \"#error {:message \")\n  (pr-writer (.-message obj) writer opts)\n  (when (.-data obj)\n    (-write writer \", :data \")\n    (pr-writer (.-data obj) writer opts))\n  (when (.-cause obj)\n    (-write writer \", :cause \")\n    (pr-writer (.-cause obj) writer opts))\n  (-write writer \"}\"))\n\n(defn ^{:jsdoc [\"@constructor\"]}\n  ExceptionInfo [message data cause]\n  (let [e (js\/Error. message)]\n    (this-as this\n      (set! (.-message this) message)\n      (set! (.-data this) data)\n      (set! (.-cause this) cause)\n      (do\n        (set! (.-name this) (.-name e))\n        ;; non-standard\n        (set! (.-description this) (.-description e))\n        (set! (.-number this) (.-number e))\n        (set! (.-fileName this) (.-fileName e))\n        (set! (.-lineNumber this) (.-lineNumber e))\n        (set! (.-columnNumber this) (.-columnNumber e))\n        (set! (.-stack this) (.-stack e)))\n      this)))\n\n(set! (.. ExceptionInfo -prototype -__proto__) js\/Error.prototype)\n\n(extend-type ExceptionInfo\n  IPrintWithWriter\n  (-pr-writer [obj writer opts]\n    (pr-writer-ex-info obj writer opts)))\n\n(set! (.. ExceptionInfo -prototype -toString)\n  (fn []\n    (this-as this (pr-str* this))))\n\n(defn ex-info\n  \"Create an instance of ExceptionInfo, an Error type that carries a\n  map of additional data.\"\n  ([msg data] (ex-info msg data nil))\n  ([msg data cause]\n    (ExceptionInfo. msg data cause)))\n\n(defn ex-data\n  \"Returns exception data (a map) if ex is an ExceptionInfo.\n  Otherwise returns nil.\"\n  [ex]\n  (when (instance? ExceptionInfo ex)\n    (.-data ex)))\n\n(defn ex-message\n  \"Returns the message attached to the given Error \/ ExceptionInfo object.\n  For non-Errors returns nil.\"\n  [ex]\n  (when (instance? js\/Error ex)\n    (.-message ex)))\n\n(defn ex-cause\n  \"Returns exception cause (an Error \/ ExceptionInfo) if ex is an\n  ExceptionInfo.\n  Otherwise returns nil.\"\n  [ex]\n  (when (instance? ExceptionInfo ex)\n    (.-cause ex)))\n\n(defn comparator\n  \"Returns an JavaScript compatible comparator based upon pred.\"\n  [pred]\n  (fn [x y]\n    (cond (pred x y) -1 (pred y x) 1 :else 0)))\n\n(defn ^boolean special-symbol?\n  \"Returns true if x names a special form\"\n  [x]\n  (contains?\n    '#{if def fn* do let* loop* letfn* throw try catch finally\n       recur new set! ns deftype* defrecord* . js* & quote case* var ns*}\n    x))\n\n(defn test\n  \"test [v] finds fn at key :test in var metadata and calls it,\n  presuming failure will throw exception\"\n  [v]\n  (let [f (.-cljs$lang$test v)]\n    (if f\n      (do (f) :ok)\n      :no-test)))\n\n\n(deftype TaggedLiteral [tag form]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n\n  IEquiv\n  (-equiv [this other]\n    (and (instance? TaggedLiteral other)\n         (= tag (.-tag other))\n         (= form (.-form other))))\n\n  IHash\n  (-hash [this]\n    (+ (* 31 (hash tag))\n       (hash form)))\n\n  ILookup\n  (-lookup [this v]\n    (-lookup this v nil))\n  (-lookup [this v not-found]\n    (case v\n      :tag tag\n      :form form\n      not-found))\n\n  IPrintWithWriter\n  (-pr-writer [o writer opts]\n    (-write writer (str \"#\" tag \" \"))\n    (pr-writer form writer opts)))\n\n(defn tagged-literal?\n  \"Return true if the value is the data representation of a tagged literal\"\n  [value]\n  (instance? TaggedLiteral value))\n\n(defn tagged-literal\n  \"Construct a data representation of a tagged literal from a\n  tag symbol and a form.\"\n  [tag form]\n  {:pre [(symbol? tag)]}\n  (TaggedLiteral. tag form))\n\n(def\n  ^{:private true\n    :jsdoc [\"@type {*}\"]}\n  js-reserved-arr\n  #js [\"arguments\" \"abstract\" \"await\" \"boolean\" \"break\" \"byte\" \"case\"\n       \"catch\" \"char\" \"class\" \"const\" \"continue\"\n       \"debugger\" \"default\" \"delete\" \"do\" \"double\"\n       \"else\" \"enum\" \"export\" \"extends\" \"final\"\n       \"finally\" \"float\" \"for\" \"function\" \"goto\" \"if\"\n       \"implements\" \"import\" \"in\" \"instanceof\" \"int\"\n       \"interface\" \"let\" \"long\" \"native\" \"new\"\n       \"package\" \"private\" \"protected\" \"public\"\n       \"return\" \"short\" \"static\" \"super\" \"switch\"\n       \"synchronized\" \"this\" \"throw\" \"throws\"\n       \"transient\" \"try\" \"typeof\" \"var\" \"void\"\n       \"volatile\" \"while\" \"with\" \"yield\" \"methods\"\n       \"null\" \"constructor\"])\n\n(def\n  ^{:jsdoc [\"@type {null|Object}\"]}\n  js-reserved nil)\n\n(defn- js-reserved? [x]\n  (when (nil? js-reserved)\n    (set! js-reserved\n      (reduce #(do (gobject\/set %1 %2 true) %1)\n        #js {} js-reserved-arr)))\n  (.hasOwnProperty js-reserved x))\n\n(defn- demunge-pattern []\n  (when-not DEMUNGE_PATTERN\n    (set! DEMUNGE_PATTERN\n      (let [ks (sort (fn [a b] (- (. b -length) (. a -length)))\n                 (js-keys DEMUNGE_MAP))]\n        (loop [ks ks ret \"\"]\n          (if (seq ks)\n            (recur\n              (next ks)\n              (str\n                (cond-> ret\n                  (not (identical? ret \"\")) (str \"|\"))\n                (first ks)))\n            (str ret \"|\\\\$\"))))))\n  DEMUNGE_PATTERN)\n\n(defn- ^string munge-str [name]\n  (let [sb (StringBuffer.)]\n    (loop [i 0]\n      (if (< i (. name -length))\n        (let [c (.charAt name i)\n              sub (gobject\/get CHAR_MAP c)]\n          (if-not (nil? sub)\n            (.append sb sub)\n            (.append sb c))\n          (recur (inc i)))))\n    (.toString sb)))\n\n(defn munge [name]\n  (let [name' (munge-str (str name))\n        name' (cond\n                (identical? name' \"..\") \"_DOT__DOT_\"\n                (js-reserved? name') (str name' \"$\")\n                :else name')]\n    (if (symbol? name)\n      (symbol name')\n      name')))\n\n(defn- demunge-str [munged-name]\n  (let [r (js\/RegExp. (demunge-pattern) \"g\")\n        munged-name (if (gstring\/endsWith munged-name \"$\")\n                      (.substring munged-name 0 (dec (. munged-name -length)))\n                      munged-name)]\n    (loop [ret \"\" last-match-end 0]\n      (if-let [match (.exec r munged-name)]\n        (let [[x] match]\n          (recur\n            (str ret\n              (.substring munged-name last-match-end\n                (- (. r -lastIndex) (. x -length)))\n              (if (identical? x \"$\") \"\/\" (gobject\/get DEMUNGE_MAP x)))\n            (. r -lastIndex)))\n        (str ret\n          (.substring munged-name last-match-end (.-length munged-name)))))))\n\n(defn demunge [name]\n  ((if (symbol? name) symbol str)\n    (let [name' (str name)]\n      (if (identical? name' \"_DOT__DOT_\")\n        \"..\"\n        (demunge-str name')))))\n\n(defonce ^{:jsdoc [\"@type {*}\"] :private true}\n  tapset nil)\n\n(defn- maybe-init-tapset []\n  (when (nil? tapset)\n    (set! tapset (atom #{}))))\n\n(defn add-tap\n  \"Adds f, a fn of one argument, to the tap set. This function will be called with\n  anything sent via tap>. Remember f in order to remove-tap\"\n  [f]\n  (maybe-init-tapset)\n  (swap! tapset conj f)\n  nil)\n\n(defn remove-tap\n  \"Remove f from the tap set.\"\n  [f]\n  (maybe-init-tapset)\n  (swap! tapset disj f)\n  nil)\n\n(defn ^boolean tap>\n  \"Sends x to any taps. Returns the result of *exec-tap-fn*, a Boolean value.\"\n  [x]\n  (maybe-init-tapset)\n  (*exec-tap-fn*\n    (fn []\n      (doseq [tap @tapset]\n        (try\n          (tap x)\n          (catch js\/Error ex))))))\n\n;; -----------------------------------------------------------------------------\n;; Bootstrap helpers - incompatible with advanced compilation\n\n(defn- ns-lookup\n  \"Bootstrap only.\"\n  [ns-obj k]\n  (fn [] (gobject\/get ns-obj k)))\n\n;; Bootstrap only\n(deftype Namespace [obj name]\n  Object\n  (findInternedVar [this sym]\n    (let [k (munge (str sym))]\n      (when ^boolean (gobject\/containsKey obj k)\n        (let [var-sym (symbol (str name) (str sym))\n              var-meta {:ns this}]\n          (Var. (ns-lookup obj k) var-sym var-meta)))))\n  (getName [_] name)\n  (toString [_]\n    (str name))\n  IEquiv\n  (-equiv [_ other]\n    (if (instance? Namespace other)\n      (= name (.-name other))\n      false))\n  IHash\n  (-hash [_]\n    (hash name)))\n\n(def\n  ^{:doc \"Bootstrap only.\" :jsdoc [\"@type {*}\"]}\n  NS_CACHE nil)\n\n(defn- find-ns-obj*\n  \"Bootstrap only.\"\n  [ctxt xs]\n  (cond\n    (nil? ctxt) nil\n    (nil? xs) ctxt\n    :else (recur (gobject\/get ctxt (first xs)) (next xs))))\n\n(defn find-ns-obj\n  \"Bootstrap only.\"\n  [ns]\n  (let [munged-ns (munge (str ns))\n        segs (.split munged-ns \".\")]\n    (case *target*\n      \"nodejs\"  (if ^boolean js\/COMPILED\n                  ; Under simple optimizations on nodejs, namespaces will be in module\n                  ; rather than global scope and must be accessed by a direct call to eval.\n                  ; The first segment may refer to an undefined variable, so its evaluation\n                  ; may throw ReferenceError.\n                  (find-ns-obj*\n                    (try\n                      (let [ctxt (js\/eval (first segs))]\n                        (when (and ctxt (object? ctxt))\n                          ctxt))\n                      (catch js\/ReferenceError e\n                        nil))\n                    (next segs))\n                  (find-ns-obj* goog\/global segs))\n      (\"default\" \"webworker\") (find-ns-obj* goog\/global segs)\n      (throw (js\/Error. (str \"find-ns-obj not supported for target \" *target*))))))\n\n(defn ns-interns*\n  \"Returns a map of the intern mappings for the namespace.\n  Bootstrap only.\"\n  [sym]\n  (let [ns-obj (find-ns-obj sym)\n        ns     (Namespace. ns-obj sym)]\n    (letfn [(step [ret k]\n              (let [var-sym (symbol (demunge k))]\n                (assoc ret\n                  var-sym (Var. #(gobject\/get ns-obj k)\n                            (symbol (str sym) (str var-sym)) {:ns ns}))))]\n      (reduce step {} (js-keys ns-obj)))))\n\n(defn create-ns\n  \"Create a new namespace named by the symbol. Bootstrap only.\"\n  ([sym]\n   (create-ns sym (find-ns-obj sym)))\n  ([sym ns-obj]\n   (Namespace. ns-obj sym)))\n\n(defn find-ns\n  \"Returns the namespace named by the symbol or nil if it doesn't exist.\n  Bootstrap only.\"\n  [ns]\n  (when (nil? NS_CACHE)\n    (set! NS_CACHE (atom {})))\n  (let [the-ns (get @NS_CACHE ns)]\n    (if-not (nil? the-ns)\n      the-ns\n      (let [ns-obj (find-ns-obj ns)]\n        (when-not (nil? ns-obj)\n          (let [new-ns (create-ns ns ns-obj)]\n            (swap! NS_CACHE assoc ns new-ns)\n            new-ns))))))\n\n(defn find-macros-ns\n  \"Returns the macros namespace named by the symbol or nil if it doesn't exist.\n  Bootstrap only.\"\n  [ns]\n  (when (nil? NS_CACHE)\n    (set! NS_CACHE (atom {})))\n  (let [ns-str (str ns)\n        ns (if (not ^boolean (gstring\/contains ns-str \"$macros\"))\n             (symbol (str ns-str \"$macros\"))\n             ns)\n        the-ns (get @NS_CACHE ns)]\n    (if-not (nil? the-ns)\n      the-ns\n      (let [ns-obj (find-ns-obj ns)]\n       (when-not (nil? ns-obj)\n         (let [new-ns (create-ns ns ns-obj)]\n           (swap! NS_CACHE assoc ns new-ns)\n           new-ns))))))\n\n(defn ns-name\n  \"Returns the name of the namespace, a Namespace object.\n  Bootstrap only.\"\n  [ns-obj]\n  (.-name ns-obj))\n\n(defn uri?\n  \"Returns true x is a goog.Uri instance.\"\n  {:added \"1.9\"}\n  [x]\n  (instance? goog.Uri x))\n\n(defn- maybe-enable-print! []\n  (cond\n    (exists? js\/console)\n    (enable-console-print!)\n\n    (or (identical? *target* \"nashorn\")\n        (identical? *target* \"graaljs\"))\n    (let [system (.type js\/Java \"java.lang.System\")]\n      (set! *print-newline* false)\n      (set-print-fn!\n        (fn []\n          (let [xs (js-arguments)\n                s  (.join (garray\/clone xs) \"\")]\n            (.println (.-out system) s))))\n      (set-print-err-fn!\n        (fn []\n          (let [xs (js-arguments)\n                s  (.join (garray\/clone xs) \"\")]\n            (.println (.-error system) s)))))))\n\n(maybe-enable-print!)\n\n(defonce\n  ^{:doc \"Runtime environments may provide a way to evaluate ClojureScript\n  forms. Whatever function *eval* is bound to will be passed any forms which\n  should be evaluated.\" :dynamic true}\n  *eval*\n  (fn [_]\n    (throw (js\/Error. \"cljs.core\/*eval* not bound\"))))\n\n(defn eval\n  \"Evaluates the form data structure (not text!) and returns the result.\n  Delegates to cljs.core\/*eval*. Intended for use in self-hosted ClojureScript,\n  which sets up an implementation of cljs.core\/*eval* for that environment.\"\n  [form]\n  (*eval* form))\n\n(when ^boolean js\/COMPILED\n  (when (identical? \"nodejs\" *target*)\n    (set! goog\/global js\/global))\n  (cond\n    (identical? \"window\" *global*) (set! goog\/global js\/window)\n    (identical? \"self\" *global*) (set! goog\/global js\/self)\n    (identical? \"global\" *global*) (set! goog\/global js\/global)))\n","(ns frontend.state\n  (:require [frontend.storage :as storage]\n            [rum.core :as rum]\n            [frontend.util :as util :refer-macros [profile]]\n            [clojure.string :as string]\n            [cljs-bean.core :as bean]\n            [medley.core :as medley]\n            [goog.object :as gobj]\n            [goog.dom :as gdom]\n            [dommy.core :as dom]\n            [cljs.core.async :as async]\n            [lambdaisland.glogi :as log]\n            [cljs-time.core :as t]\n            [cljs-time.format :as tf]))\n\n(defonce ^:private state\n  (atom\n   {:route-match nil\n    :today nil\n    :system\/events (async\/chan 100)\n    :db\/batch-txs (async\/chan 100)\n    :file\/writes (async\/chan 100)\n    :notification\/show? false\n    :notification\/content nil\n    :repo\/cloning? false\n    :repo\/loading-files? nil\n    :repo\/importing-to-db? nil\n    :repo\/sync-status {}\n    :repo\/changed-files nil\n    :nfs\/user-granted? {}\n    :nfs\/refreshing? nil\n    :sentry\/disabled? (storage\/get \"sentry-disabled\")\n    ;; TODO: how to detect the network reliably?\n    :network\/online? true\n    :indexeddb\/support? true\n    :me nil\n    :git\/current-repo (storage\/get :git\/current-repo)\n    :git\/status {}\n    :format\/loading {}\n    :draw? false\n    :db\/restoring? nil\n\n    :journals-length 2\n\n    :search\/q \"\"\n    :search\/mode :global\n    :search\/result nil\n\n    ;; modals\n    :modal\/show? false\n\n    ;; right sidebar\n    :ui\/settings-open? false\n    :ui\/sidebar-open? false\n    :ui\/left-sidebar-open? false\n    :ui\/theme (or (storage\/get :ui\/theme) \"dark\")\n    :ui\/wide-mode? false\n    ;; :show-all, :hide-block-body, :hide-block-children\n    :ui\/cycle-collapse :show-all\n    :ui\/sidebar-collapsed-blocks {}\n    :ui\/root-component nil\n    :ui\/file-component nil\n    :ui\/custom-query-components {}\n    :ui\/show-recent? false\n    :ui\/developer-mode? (or (= (storage\/get \"developer-mode\") \"true\")\n                            false)\n    :document\/mode? (or (storage\/get :document\/mode?) false)\n\n    :github\/contents {}\n    :config {}\n    :block\/component-editing-mode? false\n    :editor\/draw-mode? false\n    :editor\/show-page-search? false\n    :editor\/show-page-search-hashtag? false\n    :editor\/show-date-picker? false\n    ;; With label or other data\n    :editor\/show-input nil\n    :editor\/last-saved-cursor nil\n    :editor\/editing? nil\n    :editor\/last-edit-block-id nil\n    :editor\/in-composition? false\n    :editor\/content {}\n    :editor\/block nil\n    :editor\/block-dom-id nil\n    :editor\/set-timestamp-block nil\n    :editor\/last-input-time nil\n    :editor\/new-block-toggle? false\n    :editor\/args nil\n    :db\/last-transact-time {}\n    :db\/last-persist-transact-ids {}\n    ;; whether database is persisted\n    :db\/persisted? {}\n    :db\/latest-txs (or (storage\/get-transit :db\/latest-txs) {})\n    :cursor-range nil\n\n    :selection\/mode false\n    :selection\/blocks []\n    :selection\/start-block nil\n    ;; either :up or :down, defaults to down\n    ;; used to determine selection direction when two or more blocks are selected\n    :selection\/direction :down\n    :custom-context-menu\/show? false\n    :custom-context-menu\/links nil\n\n    ;; pages or blocks in the right sidebar\n    ;; It is a list of `[repo db-id block-type block-data]` 4-tuple\n    :sidebar\/blocks '()\n\n    :preferred-language (storage\/get :preferred-language)\n\n    ;; electron\n    :electron\/updater-pending? false\n    :electron\/updater {}\n\n    ;; all notification contents as k-v pairs\n    :notification\/contents {}\n    :graph\/syncing? false\n\n    ;; copied blocks\n    :copy\/blocks {:copy\/content nil :copy\/block-tree nil}\n\n    :date-picker\/date nil\n\n    :view\/components {}}))\n\n(defn get-route-match\n  []\n  (:route-match @state))\n\n(defn get-current-route\n  []\n  (get-in (get-route-match) [:data :name]))\n\n(defn home?\n  []\n  (= :home (get-current-route)))\n\n(defn get-current-page\n  []\n  (and\n   (= :page (get-current-route))\n   (get-in (get-route-match)\n           [:path-params :name])))\n\n(defn route-has-p?\n  []\n  (get-in (get-route-match) [:query-params :p]))\n\n(defn sub\n  [ks]\n  (if (coll? ks)\n    (util\/react (rum\/cursor-in state ks))\n    (util\/react (rum\/cursor state ks))))\n\n(defn set-state!\n  [path value]\n  (if (vector? path)\n    (swap! state assoc-in path value)\n    (swap! state assoc path value)))\n\n(defn update-state!\n  [path f]\n  (if (vector? path)\n    (swap! state update-in path f)\n    (swap! state update path f)))\n\n(defn get-current-repo\n  []\n  (or (:git\/current-repo @state) \"local\"))\n\n(defn get-config\n  ([]\n   (get-config (get-current-repo)))\n  ([repo-url]\n   (get-in @state [:config repo-url])))\n\n(defonce built-in-macros\n  {\"img\" \"[:img.$4 {:src \\\"$1\\\" :style {:width $2 :height $3}}]\"})\n\n(defn get-macros\n  []\n  (merge\n   built-in-macros\n   (:macros (get-config))))\n\n(defn sub-config\n  []\n  (sub :config))\n\n(defn get-custom-css-link\n  []\n  (:custom-css-url (get-config)))\n\n(defn all-pages-public?\n  []\n  (true? (:all-pages-public? (get-config))))\n\n(defn enable-grammarly?\n  []\n  (true? (:feature\/enable-grammarly?\n          (get (sub-config) (get-current-repo)))))\n\n(defn store-all-ids-in-text?\n  []\n  (true? (:text\/store-all-ids (get-config))))\n\n(defn scheduled-deadlines-disabled?\n  []\n  (true? (:feature\/disable-scheduled-and-deadline-query?\n          (get (sub-config) (get-current-repo)))))\n\n(defn enable-timetracking?\n  []\n  (not (false? (:feature\/enable-timetracking?\n                (get (sub-config) (get-current-repo))))))\n\n(defn enable-journals?\n  [repo]\n  (not (false? (:feature\/enable-journals?\n                (get (sub-config) repo)))))\n\n(defn export-heading-to-list?\n  []\n  (not (false? (:export\/heading-to-list?\n                (get (sub-config) (get-current-repo))))))\n\n(defn enable-encryption?\n  [repo]\n  (:feature\/enable-encryption?\n   (get (sub-config) repo)))\n\n(defn enable-git-auto-push?\n  [repo]\n  (not (false? (:git-auto-push\n                (get (sub-config) repo)))))\n\n(defn enable-block-time?\n  []\n  ;; (true? (:feature\/enable-block-time?\n  ;;         (get (sub-config) (get-current-repo))))\n\n  ;; Disable block timestamps for now, because it doesn't work with undo\/redo\n  false)\n\n;; Enable by default\n(defn show-brackets?\n  []\n  (not (false? (:ui\/show-brackets?\n                (get (sub-config) (get-current-repo))))))\n\n(defn get-default-home\n  []\n  (:default-home (get-config)))\n\n(defn sub-default-home-page\n  []\n  (get-in (sub-config) [(get-current-repo) :default-home :page] \"\"))\n\n(defn custom-home-page?\n  []\n  (some? (:page (get-default-home))))\n\n(defn get-preferred-format\n  ([]\n   (get-preferred-format (get-current-repo)))\n  ([repo-url]\n   (keyword\n    (or\n     (when-let [fmt (:preferred-format (get-config repo-url))]\n       (string\/lower-case (name fmt)))\n\n     (get-in @state [:me :preferred_format] \"markdown\")))))\n\n(defn markdown?\n  []\n  (= (keyword (get-preferred-format))\n     :markdown))\n\n(defn get-pages-directory\n  []\n  (or\n   (when-let [repo (get-current-repo)]\n     (:pages-directory (get-config repo)))\n   \"pages\"))\n\n(defn get-journals-directory\n  []\n  (or\n   (when-let [repo (get-current-repo)]\n     (:journals-directory (get-config repo)))\n   \"journals\"))\n\n(defn org-mode-file-link?\n  [repo]\n  (:org-mode\/insert-file-link? (get-config repo)))\n\n(defn get-journal-file-name-format\n  []\n  (when-let [repo (get-current-repo)]\n    (:journal\/file-name-format (get-config repo))))\n\n(defn get-preferred-workflow\n  []\n  (keyword\n   (or\n    (when-let [workflow (:preferred-workflow (get-config))]\n      (let [workflow (name workflow)]\n        (if (util\/safe-re-find #\"now|NOW\" workflow)\n          :now\n          :todo)))\n    (get-in @state [:me :preferred_workflow] :now))))\n\n(defn get-preferred-todo\n  []\n  (if (= (get-preferred-workflow) :now)\n    \"LATER\"\n    \"TODO\"))\n\n(defn hide-file?\n  []\n  (:hide-file-in-page? (get-config)))\n\n(defn page-name-order\n  \"Decide whether to use file name or :title as page name. If it returns \\\"file\\\", use the file\n  name unless it is missing.\"\n  []\n  (:page-name-order (get-config)))\n\n(defn get-repos\n  []\n  (get-in @state [:me :repos]))\n\n(defn set-repos!\n  [repos]\n  (set-state! [:me :repos] repos))\n\n(defn add-repo!\n  [repo]\n  (when repo\n    (update-state! [:me :repos]\n                   (fn [repos]\n                     (->> (conj repos repo)\n                          (distinct))))))\n\n(defn set-current-repo!\n  [repo]\n  (swap! state assoc :git\/current-repo repo)\n  (if repo\n    (storage\/set :git\/current-repo repo)\n    (storage\/remove :git\/current-repo)))\n\n(defn set-preferred-format!\n  [format]\n  (swap! state assoc-in [:me :preferred_format] (name format)))\n\n(defn set-preferred-workflow!\n  [workflow]\n  (swap! state assoc-in [:me :preferred_workflow] (name workflow)))\n\n(defn set-preferred-language!\n  [language]\n  (set-state! :preferred-language (name language))\n  (storage\/set :preferred-language (name language)))\n\n(defn delete-repo!\n  [repo]\n  (swap! state update-in [:me :repos]\n         (fn [repos]\n           (->> (remove #(= (:url repo)\n                            (:url %))\n                        repos)\n                (util\/distinct-by :url))))\n  (when (= (get-current-repo) (:url repo))\n    (set-current-repo! (:url (first (get-repos))))))\n\n(defn next-collapse-mode\n  []\n  (case (:ui\/cycle-collapse @state)\n    :show-all\n    :hide-block-body\n\n    :hide-block-body\n    :hide-block-children\n\n    :hide-block-children\n    :show-all))\n\n(defn cycle-collapse!\n  []\n  (set-state! :ui\/cycle-collapse (next-collapse-mode)))\n\n(defn set-timestamp-block!\n  [value]\n  (set-state! :editor\/set-timestamp-block value))\n\n(defn get-timestamp-block\n  []\n  (:editor\/set-timestamp-block @state))\n\n(defn set-edit-content!\n  ([input-id value] (set-edit-content! input-id value true))\n  ([input-id value set-input-value?]\n   (when input-id\n     (when set-input-value?\n       (when-let [input (gdom\/getElement input-id)]\n         (util\/set-change-value input value)))\n     (update-state! :editor\/content (fn [m]\n                                      (assoc m input-id value)))\n     ;; followers\n     ;; (when-let [s (util\/extract-uuid input-id)]\n     ;;   (let [input (gdom\/getElement input-id)\n     ;;         leader-parent (util\/rec-get-block-node input)\n     ;;         followers (->> (array-seq (js\/document.getElementsByClassName s))\n     ;;                        (remove #(= leader-parent %)))]\n     ;;     (prn \"followers: \" (count followers))\n     ;;     ))\n)))\n\n(defn get-edit-input-id\n  []\n  (ffirst (:editor\/editing? @state)))\n\n(defn get-input\n  []\n  (when-let [id (get-edit-input-id)]\n    (gdom\/getElement id)))\n\n(defn get-last-edit-input-id\n  []\n  (:editor\/last-edit-block-id @state))\n\n(defn editing?\n  []\n  (let [input (get-input)]\n    (and input (= input (.-activeElement js\/document)))))\n\n(defn get-edit-content\n  []\n  (get (:editor\/content @state) (get-edit-input-id)))\n\n(defn append-current-edit-content!\n  [append-text]\n  (when-not (string\/blank? append-text)\n    (when-let [input-id (get-edit-input-id)]\n      (when-let [input (gdom\/getElement input-id)]\n        (let [value (gobj\/get input \"value\")\n              new-value (str value append-text)\n              new-value (if (or (= (last value) \" \")\n                                (= (last value) \"\\n\"))\n                          new-value\n                          (str \"\\n\" new-value))]\n          (js\/document.execCommand \"insertText\" false append-text)\n          (update-state! :editor\/content (fn [m]\n                                           (assoc m input-id new-value))))))))\n\n(defn get-cursor-range\n  []\n  (:cursor-range @state))\n\n(defn set-cursor-range!\n  [range]\n  (set-state! :cursor-range range))\n\n(defn set-cloning!\n  [value]\n  (set-state! :repo\/cloning? value))\n\n(defn set-q!\n  [value]\n  (set-state! :search\/q value))\n\n(defn set-search-mode!\n  [value]\n  (set-state! :search\/mode value))\n\n(defn set-editor-show-page-search!\n  [value]\n  (set-state! :editor\/show-page-search? value))\n\n(defn get-editor-show-page-search?\n  []\n  (get @state :editor\/show-page-search?))\n\n(defn set-editor-show-page-search-hashtag!\n  [value]\n  (set-state! :editor\/show-page-search? value)\n  (set-state! :editor\/show-page-search-hashtag? value))\n(defn get-editor-show-page-search-hashtag?\n  []\n  (get @state :editor\/show-page-search-hashtag?))\n(defn set-editor-show-block-search!\n  [value]\n  (set-state! :editor\/show-block-search? value))\n(defn get-editor-show-block-search?\n  []\n  (get @state :editor\/show-block-search?))\n(defn set-editor-show-template-search!\n  [value]\n  (set-state! :editor\/show-template-search? value))\n(defn get-editor-show-template-search?\n  []\n  (get @state :editor\/show-template-search?))\n(defn set-editor-show-date-picker!\n  [value]\n  (set-state! :editor\/show-date-picker? value))\n(defn get-editor-show-date-picker?\n  []\n  (get @state :editor\/show-date-picker?))\n(defn set-editor-show-input!\n  [value]\n  (set-state! :editor\/show-input value))\n(defn get-editor-show-input\n  []\n  (get @state :editor\/show-input))\n\n(defn set-edit-input-id!\n  [input-id]\n  (swap! state update :editor\/editing?\n         (fn [m]\n           (and input-id {input-id true}))))\n\n(defn get-edit-pos\n  []\n  (.-selectionStart (get-input)))\n\n(defn set-selection-start-block!\n  [start-block]\n  (swap! state assoc :selection\/start-block start-block))\n\n(defn get-selection-start-block\n  []\n  (get @state :selection\/start-block))\n\n(defn set-selection-blocks!\n  ([blocks]\n   (set-selection-blocks! blocks :down))\n  ([blocks direction]\n   (when (seq blocks)\n     (swap! state assoc\n            :selection\/mode true\n            :selection\/blocks blocks\n            :selection\/direction direction))))\n(defn into-selection-mode!\n  []\n  (swap! state assoc :selection\/mode true))\n\n(defn clear-selection!\n  []\n  (swap! state assoc\n         :selection\/mode false\n         :selection\/blocks nil\n         :selection\/direction :down))\n\n(defn clear-selection-blocks!\n  []\n  (swap! state assoc :selection\/blocks nil))\n\n(defn get-selection-blocks\n  []\n  (:selection\/blocks @state))\n\n(defn in-selection-mode?\n  []\n  (:selection\/mode @state))\n\n(defn selection?\n  \"True sense of selection mode with valid selected block\"\n  []\n  (and (in-selection-mode?) (seq (get-selection-blocks))))\n\n(defn conj-selection-block!\n  [block direction]\n  (dom\/add-class! block \"selected noselect\")\n  (swap! state assoc\n         :selection\/mode true\n         :selection\/blocks (conj (:selection\/blocks @state) block)\n         :selection\/direction direction))\n\n(defn drop-last-selection-block!\n  []\n  (let [last-block (peek (:selection\/blocks @state))]\n    (swap! state assoc\n           :selection\/mode true\n           :selection\/blocks (vec (pop (:selection\/blocks @state))))\n    last-block))\n\n(defn get-selection-direction\n  []\n  (:selection\/direction @state))\n\n(defn show-custom-context-menu!\n  [links]\n  (swap! state assoc\n         :custom-context-menu\/show? true\n         :custom-context-menu\/links links))\n\n(defn hide-custom-context-menu!\n  []\n  (swap! state assoc\n         :custom-context-menu\/show? false\n         :custom-context-menu\/links nil))\n\n(defn set-github-token!\n  [repo token-result]\n  (when token-result\n    (let [{:keys [token expires_at]} token-result]\n      (swap! state update-in [:me :repos]\n             (fn [repos]\n               (map (fn [r]\n                      (if (= repo (:url r))\n                        (merge r {:token token :expires_at expires_at})\n                        repo)) repos))))))\n\n(defn set-github-installation-tokens!\n  [tokens]\n  (when (seq tokens)\n    (let [tokens  (medley\/index-by :installation_id tokens)\n          repos (get-repos)]\n      (when (seq repos)\n        (let [set-token-f\n              (fn [{:keys [installation_id] :as repo}]\n                (let [{:keys [token] :as m} (get tokens installation_id)]\n                  (if (string? token)\n                    ;; Github API returns a expires_at key which is a timestamp (expires after 60 minutes at present),\n                    ;; however, user's system time may be inaccurate. Here, based on the client system time, we use\n                    ;; 40-minutes interval to deal with some critical conditions, for e.g. http request time consume.\n                    (let [formatter (tf\/formatters :date-time-no-ms)\n                          expires-at (->> (t\/plus (t\/now) (t\/minutes 40))\n                                          (tf\/unparse formatter))]\n                      (merge repo {:token token :expires_at expires-at}))\n                    (do\n                      (when (and\n                             (:url repo)\n                             (string\/starts-with? (:url repo) \"https:\/\/\"))\n                        (log\/error :token\/cannot-set-token {:repo-m repo :token-m m}))\n                      repo))))\n              repos (mapv set-token-f repos)]\n          (swap! state assoc-in [:me :repos] repos))))))\n\n(defn get-github-token\n  [repo]\n  (when repo\n    (let [repos (get-repos)]\n      (some #(when (= repo (:url %)) %) repos))))\n\n(defn toggle-sidebar-open?!\n  []\n  (swap! state update :ui\/sidebar-open? not))\n\n(defn open-right-sidebar!\n  []\n  (swap! state assoc :ui\/sidebar-open? true))\n\n(defn hide-right-sidebar!\n  []\n  (swap! state assoc :ui\/sidebar-open? false))\n\n(defn sidebar-add-block!\n  [repo db-id block-type block-data]\n  (when db-id\n    (update-state! :sidebar\/blocks (fn [blocks]\n                                     (->> (remove #(= (second %) db-id) blocks)\n                                          (cons [repo db-id block-type block-data])\n                                        ; FIXME: No need to call `distinct`?\n                                          (distinct))))\n    (open-right-sidebar!)\n    (when-let [elem (gdom\/getElementByClass \"cp__right-sidebar-scollable\")]\n      (util\/scroll-to elem 0))))\n\n(defn sidebar-remove-block!\n  [idx]\n  (update-state! :sidebar\/blocks (fn [blocks]\n                                   (if (string? idx)\n                                     (remove #(= (second %) idx) blocks)\n                                     (util\/drop-nth idx blocks))))\n  (when (empty? (:sidebar\/blocks @state))\n    (hide-right-sidebar!)))\n\n(defn sidebar-block-exists?\n  [idx]\n  (some #(= (second %) idx) (:sidebar\/blocks @state)))\n\n(defn get-sidebar-blocks\n  []\n  (:sidebar\/blocks @state))\n\n(defn sidebar-block-toggle-collapse!\n  [db-id]\n  (when db-id\n    (update-state! [:ui\/sidebar-collapsed-blocks db-id] not)))\n\n(defn get-edit-block\n  []\n  (get @state :editor\/block))\n\n(defn get-last-edit-block\n  []\n  (let [edit-input-id (get-edit-input-id)\n        edit-block (get-edit-block)\n        block-element (when edit-input-id (gdom\/getElement (string\/replace edit-input-id \"edit-block\" \"ls-block\")))\n        container (when block-element\n                    (util\/get-block-container block-element))]\n    (when container\n      {:last-edit-block edit-block\n       :container (gobj\/get container \"id\")\n       :pos (util\/get-input-pos (gdom\/getElement edit-input-id))})))\n\n(defn set-editing!\n  ([edit-input-id content block cursor-range]\n   (set-editing! edit-input-id content block cursor-range true))\n  ([edit-input-id content block cursor-range move-cursor?]\n   (when (and edit-input-id block)\n     (let [block-element (gdom\/getElement (string\/replace edit-input-id \"edit-block\" \"ls-block\"))\n           container (util\/get-block-container block-element)\n           block (if container\n                   (assoc block\n                          :block\/container (gobj\/get container \"id\"))\n                   block)\n           content (string\/trim (or content \"\"))]\n       (swap! state\n              (fn [state]\n                (-> state\n                    (assoc-in [:editor\/content edit-input-id] content)\n                    (assoc\n                     :editor\/block block\n                     :editor\/editing? {edit-input-id true}\n                     :editor\/last-edit-block-id edit-input-id\n                     :cursor-range cursor-range))))\n\n       (when-let [input (gdom\/getElement edit-input-id)]\n         (let [pos (count cursor-range)]\n           (when content\n             (util\/set-change-value input content)\n             ;; FIXME\n             ;; use set-change-value for now\n             ;; until somebody can figure out why set! value doesn't work here\n             ;; it seems to me textarea autoresize is completely broken\n             #_\n             (set! (.-value input) (string\/trim content)))\n           (when move-cursor?\n             (util\/move-cursor-to input pos))))))))\n\n(defn clear-edit!\n  []\n  (swap! state merge {:editor\/editing? nil\n                      :editor\/block nil\n                      :cursor-range nil}))\n\n(defn set-last-pos!\n  [new-pos]\n  (set-state! :editor\/last-saved-cursor new-pos))\n\n(defn set-block-content-and-last-pos!\n  [edit-input-id content new-pos]\n  (when edit-input-id\n    (set-edit-content! edit-input-id content)\n    (set-state! :editor\/last-saved-cursor new-pos)))\n\n(defn set-theme!\n  [theme]\n  (set-state! :ui\/theme theme)\n  (storage\/set :ui\/theme theme))\n\n(defn dark?\n  []\n  (= \"dark\" (:ui\/theme @state)))\n\n(defn set-editing-block-dom-id!\n  [block-dom-id]\n  (set-state! :editor\/block-dom-id block-dom-id))\n\n(defn get-editing-block-dom-id\n  []\n  (:editor\/block-dom-id @state))\n\n(defn toggle-theme!\n  []\n  (let [theme (:ui\/theme @state)\n        theme' (if (= theme \"dark\") \"white\" \"dark\")]\n    (set-theme! theme')))\n\n(defn- file-content-key\n  [repo path]\n  (str \"ls_file_content_\" repo path))\n\n(defn update-sync-status!\n  [status]\n  (when (seq status)\n    (when-let [current-repo (get-current-repo)]\n      (set-state! [:repo\/sync-status current-repo] status))))\n\n(defn set-root-component!\n  [component]\n  (set-state! :ui\/root-component component))\n\n(defn get-root-component\n  []\n  (get @state :ui\/root-component))\n\n(defn setup-electron-updater!\n  []\n  (when (util\/electron?)\n    (js\/window.apis.setUpdatesCallback\n     (fn [_ args]\n       (let [data (bean\/->clj args)\n             pending? (not= (:type data) \"completed\")]\n         (set-state! :electron\/updater-pending? pending?)\n         (when pending? (set-state! :electron\/updater data))\n         nil)))))\n\n(defn set-file-component!\n  [component]\n  (set-state! :ui\/file-component component))\n\n(defn clear-file-component!\n  []\n  (set-state! :ui\/file-component nil))\n\n(defn get-file-component\n  []\n  (get @state :ui\/file-component))\n\n(defn set-journals-length!\n  [value]\n  (when value\n    (set-state! :journals-length value)))\n\n(defn add-custom-query-component!\n  [query-string component]\n  (update-state! :ui\/custom-query-components\n                 (fn [m]\n                   (assoc m query-string component))))\n\n(defn remove-custom-query-component!\n  [query-string]\n  (update-state! :ui\/custom-query-components\n                 (fn [m]\n                   (dissoc m query-string))))\n\n(defn get-custom-query-components\n  []\n  (vals (get @state :ui\/custom-query-components)))\n\n(defn get-journal-template\n  []\n  (when-let [repo (get-current-repo)]\n    (get-in @state [:config repo :default-templates :journals])))\n\n(defn set-today!\n  [value]\n  (set-state! :today value))\n\n(defn toggle-document-mode!\n  []\n  (let [mode (get @state :document\/mode?)]\n    (set-state! :document\/mode? (not mode))\n    (storage\/set :document\/mode? (not mode))))\n\n(defn get-date-formatter\n  []\n  (or\n   (when-let [repo (get-current-repo)]\n     (get-in @state [:config repo :date-formatter]))\n    ;; TODO:\n   (get-in @state [:me :settings :date-formatter])\n   \"MMM do, yyyy\"))\n\n(defn set-git-status!\n  [repo-url value]\n  (swap! state assoc-in [:git\/status repo-url] value))\n\n(defn get-shortcut\n  ([key]\n   (get-shortcut (get-current-repo) key))\n  ([repo key]\n   (or\n    (get (storage\/get (str repo \"-shortcuts\")) key)\n    (get-in @state [:config repo :shortcuts key]))))\n\n(defn get-me\n  []\n  (:me @state))\n\n(defn github-authed?\n  []\n  (:github-authed? (get-me)))\n\n(defn get-name\n  []\n  (:name (get-me)))\n\n(defn logged?\n  \"Whether the user has logged in.\"\n  []\n  (some? (get-name)))\n\n(defn set-draw!\n  [value]\n  (set-state! :draw? value))\n\n(defn in-draw-mode?\n  []\n  (:draw? @state))\n\n(defn set-db-restoring!\n  [value]\n  (set-state! :db\/restoring? value))\n\n(defn get-default-branch\n  [repo-url]\n  (or\n   (some->> (get-repos)\n            (filter (fn [m]\n                      (= (:url m) repo-url)))\n            (first)\n            :branch)\n   \"master\"))\n\n(defn get-current-project\n  []\n  (when-let [project (get-in (get-config) [:project :name])]\n    (when-not (string\/blank? project)\n      project)))\n\n(defn update-current-project\n  [& kv]\n  {:pre [(even? (count kv))]}\n  (when-let [current-repo (get-current-repo)]\n    (let [new-kvs (apply array-map (vec kv))\n          projects (:projects (get-me))\n          new-projects (reduce (fn [acc project]\n                                 (if (= (:repo project) current-repo)\n                                   (conj acc (merge project new-kvs))\n                                   (conj acc project)))\n                               []\n                               projects)]\n      (set-state! [:me :projects] new-projects))))\n\n(defn remove-current-project\n  []\n  (when-let [current-repo (get-current-repo)]\n    (update-state! [:me :projects]\n                   (fn [projects]\n                     (remove #(= (:repo %) current-repo) projects)))))\n\n(defn set-indexedb-support!\n  [value]\n  (set-state! :indexeddb\/support? value))\n\n(defn set-modal!\n  ([modal-panel-content]\n   (set-modal! modal-panel-content false))\n  ([modal-panel-content fullscreen?]\n   (swap! state assoc\n          :modal\/show? (boolean modal-panel-content)\n          :modal\/panel-content modal-panel-content\n          :modal\/fullscreen? fullscreen?)))\n\n(defn close-modal!\n  []\n  (swap! state assoc\n         :modal\/show? false\n         :modal\/panel-content nil))\n\n(defn get-db-batch-txs-chan\n  []\n  (:db\/batch-txs @state))\n\n(defn get-file-write-chan\n  []\n  (:file\/writes @state))\n\n(defn get-write-chan-length\n  []\n  (let [c (get-file-write-chan)]\n    (count (gobj\/get c \"buf\"))))\n\n(defn add-tx!\n  ;; TODO: replace f with data for batch transactions\n  [f]\n  (when f\n    (when-let [chan (get-db-batch-txs-chan)]\n      (async\/put! chan f))))\n\n(defn get-left-sidebar-open?\n  []\n  (get-in @state [:ui\/left-sidebar-open?]))\n\n(defn set-left-sidebar-open!\n  [value]\n  (set-state! :ui\/left-sidebar-open? value))\n\n(defn set-developer-mode!\n  [value]\n  (set-state! :ui\/developer-mode? value)\n  (storage\/set \"developer-mode\" (str value)))\n\n(defn get-notification-contents\n  []\n  (get @state :notification\/contents))\n\n(defn get-new-block-toggle?\n  []\n  (get @state :editor\/new-block-toggle?))\n\n(defn toggle-new-block-shortcut!\n  []\n  (update-state! :editor\/new-block-toggle? not))\n\n(defn enable-tooltip?\n  []\n  (get (get (sub-config) (get-current-repo))\n       :ui\/enable-tooltip?\n       true))\n\n(defn set-config!\n  [repo-url value]\n  (set-state! [:config repo-url] value)\n  (let [shortcuts (or (:shortcuts value) {})]\n    (storage\/set (str repo-url \"-shortcuts\") shortcuts)))\n\n(defn get-git-auto-push?\n  ([]\n   (get-git-auto-push? (get-current-repo)))\n  ([repo]\n   (true? (:git-auto-push (get-config repo)))))\n\n(defn set-changed-files!\n  [repo changed-files]\n  (set-state! [:repo\/changed-files repo] changed-files))\n\n(defn get-changed-files\n  []\n  (get-in @state [:repo\/changed-files (get-current-repo)]))\n\n(defn get-wide-mode?\n  []\n  (:ui\/wide-mode? @state))\n\n(defn toggle-wide-mode!\n  []\n  (update-state! :ui\/wide-mode? not))\n\n(defn set-online!\n  [value]\n  (set-state! :network\/online? value))\n\n(defn online?\n  []\n  (:network\/online? @state))\n\n(defn get-commands\n  []\n  (:commands (get-config)))\n\n(defn get-scheduled-future-days\n  []\n  (let [days (:scheduled\/future-days (get-config))]\n    (or (when (int? days) days) 0)))\n\n(defn set-graph-syncing?\n  [value]\n  (set-state! :graph\/syncing? value))\n\n(defn set-editor-in-composition!\n  [value]\n  (set-state! :editor\/in-composition? value))\n\n(defn editor-in-composition?\n  []\n  (:editor\/in-composition? @state))\n\n(defn set-loading-files!\n  [value]\n  (set-state! :repo\/loading-files? value))\n\n(defn set-importing-to-db!\n  [value]\n  (set-state! :repo\/importing-to-db? value))\n\n(defn set-editor-last-input-time!\n  [repo time]\n  (swap! state assoc-in [:editor\/last-input-time repo] time))\n\n(defn set-last-transact-time!\n  [repo time]\n  (swap! state assoc-in [:db\/last-transact-time repo] time)\n\n  ;; THINK: new block, indent\/outdent, drag && drop, etc.\n  (set-editor-last-input-time! repo time))\n\n(defn set-published-pages\n  [pages]\n  (when-let [repo (get-current-repo)]\n    (set-state! [:me :published-pages repo] pages)))\n\n(defn reset-published-pages\n  []\n  (set-published-pages []))\n\n(defn set-db-persisted!\n  [repo value]\n  (swap! state assoc-in [:db\/persisted? repo] value))\n\n(defn db-idle?\n  [repo]\n  (when repo\n    (when-let [last-time (get-in @state [:db\/last-transact-time repo])]\n      (let [now (util\/time-ms)]\n        (>= (- now last-time) 3000)))))\n\n(defn input-idle?\n  [repo]\n  (when repo\n    (or\n     (when-let [last-time (get-in @state [:editor\/last-input-time repo])]\n       (let [now (util\/time-ms)]\n         (>= (- now last-time) 500)))\n      ;; not in editing mode\n     (not (get-edit-input-id)))))\n\n(defn set-last-persist-transact-id!\n  [repo files? id]\n  (swap! state assoc-in [:db\/last-persist-transact-ids :repo files?] id))\n\n(defn get-last-persist-transact-id\n  [repo files?]\n  (get-in @state [:db\/last-persist-transact-ids :repo files?]))\n\n(defn persist-transaction!\n  [repo files? tx-id tx-data]\n  (when (seq tx-data)\n    (let [latest-txs (:db\/latest-txs @state)\n          last-persist-tx-id (get-last-persist-transact-id repo files?)\n          latest-txs (if last-persist-tx-id\n                       (update-in latest-txs [repo files?]\n                                  (fn [result]\n                                    (remove (fn [tx] (<= (:tx-id tx) last-persist-tx-id)) result)))\n                       latest-txs)\n          new-txs (update-in latest-txs [repo files?] (fn [result]\n                                                        (vec (conj result {:tx-id   tx-id\n                                                                           :tx-data tx-data}))))]\n      (storage\/set-transit! :db\/latest-txs new-txs)\n      (set-state! :db\/latest-txs new-txs))))\n\n(defn get-repo-latest-txs\n  [repo file?]\n  (get-in (:db\/latest-txs @state) [repo file?]))\n\n(defn set-nfs-refreshing!\n  [value]\n  (set-state! :nfs\/refreshing? value))\n\n(defn nfs-refreshing?\n  []\n  (:nfs\/refreshing? @state))\n\n(defn set-search-result!\n  [value]\n  (set-state! :search\/result value))\n\n(defn clear-search-result!\n  []\n  (set-search-result! nil))\n\n(defn get-search-mode\n  []\n  (:search\/mode @state))\n\n(defn toggle!\n  [path]\n  (update-state! path not))\n\n(defn toggle-settings!\n  []\n  (toggle! :ui\/settings-open?))\n\n;; TODO: Move those to the uni `state`\n\n(defonce editor-op (atom nil))\n(defn set-editor-op!\n  [value]\n  (reset! editor-op value))\n(defn get-editor-op\n  []\n  @editor-op)\n\n(defn get-start-of-week\n  []\n  (or\n   (when-let [repo (get-current-repo)]\n     (get-in @state [:config repo :start-of-week]))\n   (get-in @state [:me :settings :start-of-week])\n   6))\n\n(defn get-events-chan\n  []\n  (:system\/events @state))\n\n(defn pub-event!\n  [payload]\n  (let [chan (get-events-chan)]\n    (async\/put! chan payload)))\n\n(defonce diffs (atom nil))\n\n(defn get-copied-blocks\n  []\n  (:copy\/blocks @state))\n\n(defn set-copied-blocks\n  [content ids]\n  (set-state! :copy\/blocks {:copy\/content content :copy\/block-tree ids}))\n\n(defn set-editor-args!\n  [args]\n  (set-state! :editor\/args args))\n\n(defn block-component-editing?\n  []\n  (:block\/component-editing-mode? @state))\n\n(defn set-block-component-editing-mode!\n  [value]\n  (set-state! :block\/component-editing-mode? value))\n\n(defn sentry-disabled?\n  []\n  (:sentry\/disabled? @state))\n\n(defn set-sentry-disabled!\n  [value]\n  (set-state! :sentry\/disabled? value)\n  (storage\/set \"sentry-disabled\" value)\n  (when value\n    (.close js\/window.Sentry)))\n\n(defn logical-outdenting?\n  []\n  (:editor\/logical-outdenting?\n   (get (sub-config) (get-current-repo))))\n\n(defn get-editor-args\n  []\n  (:editor\/args @state))\n\n(defn get-export-bullet-indentation\n  []\n  (case (get (get-config) :export\/bullet-indentation :tab)\n    :eight-spaces\n    \"        \"\n    :four-spaces\n    \"    \"\n    :two-spaces\n    \"  \"\n    :tab\n    \"\\t\"))\n\n(defn set-page-blocks-cp!\n  [value]\n  (set-state! [:view\/components :page-blocks] value))\n\n(defn get-page-blocks-cp\n  []\n  (get-in @state [:view\/components :page-blocks]))\n\n(defn set-editor-cp!\n  [value]\n  (set-state! [:view\/components :editor] value))\n\n(defn get-editor-cp\n  []\n  (get-in @state [:view\/components :editor]))\n","goog.provide(\"shadow.loader\");\ngoog.require(\"goog.module.ModuleManager\");\ngoog.require(\"goog.module.ModuleLoader\");\ngoog.require(\"goog.object\");\ngoog.require(\"goog.html.uncheckedconversions\");\ngoog.require(\"goog.string.Const\");\n\n\/\/ this is written in JS so it doesn't depend on cljs.core\n\nshadow.loader.ml = new goog.module.ModuleLoader();\nshadow.loader.ml.setSourceUrlInjection(true);\n\nshadow.loader.mm = goog.module.ModuleManager.getInstance();\nshadow.loader.mm.setLoader(shadow.loader.ml);\n\nshadow.loader.initCalled = false;\n\nshadow.loader.ensureInitWasCalled = function() {\n  if (!shadow.loader.initCalled) {\n    throw new Error(\"shadow.loader API was called before shadow.loader.init!\\n\" +\n        \"You are probably calling module loader too early before shadow-cljs got fully initialized.\");\n  }\n}\n\nshadow.loader.init = function(uriPrefix) {\n  if (shadow.loader.initCalled) {\n    throw new Error(\"shadow.loader.init was already called! If you are calling it manually set :module-loader-init false in your config.\");\n  }\n\n  if (goog.global.shadow$modules) {\n    var mm = shadow.loader.mm;\n    mm.setAllModuleInfo(goog.global.shadow$modules[\"infos\"]);\n\n    var uris = goog.global.shadow$modules[\"uris\"];\n\n    \/\/ this is absurd. the uris are generated by the compiler. should be trusted already.\n    \/\/ I would really like to know how Google integrates this data into their builds\n    var trustReason = goog.string.Const.from(\"generated by compiler\");\n\n    goog.object.getKeys(uris).forEach(function(key) {\n      var module_uris = uris[key];\n      if (module_uris.length == 0) {\n        \/\/ default module is added without uris since it will always be loaded\n        \/\/ when this is called\n        mm.getModuleInfo(key).setLoaded();\n      } else {\n        var trusted_uris = [];\n        module_uris.forEach(function(module_uri) {\n          var trusted = goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract(\n            trustReason,\n            uriPrefix + module_uri\n          );\n          trusted_uris.push(trusted);\n        });\n        mm.getModuleInfo(key).setTrustedUris(trusted_uris);\n      }\n    });\n\n    shadow.loader.initCalled = true;\n  }\n};\n\nshadow.loader.getModuleManager = function() {\n  return shadow.loader.mm;\n};\n\nshadow.loader.getModuleLoader = function() {\n  return shadow.loader.ml;\n};\n\n\/\/ allow calling (shadow.loader\/load :with-a-keyword)\nshadow.loader.string_id = function(id) {\n  var result = id.toString();\n  if (result.charAt(0) == \":\") {\n    result = result.substring(1);\n  }\n  return result;\n};\n\nshadow.loader.set_load_start = function(id) {\n  shadow.loader.mm.beforeLoadModuleCode(id);\n};\n\n\/\/ FIXME: id no longer required, just keeping it in case someone ends up using old closure lib\nshadow.loader.set_loaded = function(id) {\n  shadow.loader.mm.setLoaded(id);\n};\n\n\/\/ ignored. only for cljs.loader compat\nshadow.loader.set_loaded_BANG_ = function() {};\n\nshadow.loader.loaded_QMARK_ = function(id) {\n  return shadow.loader.mm.getModuleInfo(shadow.loader.string_id(id)).isLoaded();\n};\n\nshadow.loader.with_module = function(\n  moduleId,\n  fn,\n  opt_handler,\n  opt_noLoad,\n  opt_userInitiated,\n  opt_preferSynchronous\n) {\n  shadow.loader.ensureInitWasCalled();\n  return shadow.loader.mm.execOnLoad(\n    shadow.loader.string_id(moduleId),\n    fn,\n    opt_handler,\n    opt_noLoad,\n    opt_userInitiated,\n    opt_preferSynchronous\n  );\n};\n\nshadow.loader.load = function(id, cb) {\n  shadow.loader.ensureInitWasCalled();\n  id = shadow.loader.string_id(id);\n  if (cb) {\n    shadow.loader.mm.execOnLoad(id, cb);\n  }\n  return shadow.loader.mm.load(id);\n};\n\nshadow.loader.load_multiple = function(ids, opt_userInitiated) {\n  shadow.loader.ensureInitWasCalled();\n  return shadow.loader.mm.loadMultiple(ids, opt_userInitiated);\n};\n\nshadow.loader.prefetch = function(id) {\n  shadow.loader.ensureInitWasCalled();\n  shadow.loader.mm.prefetchModule(shadow.loader.string_id(id));\n};\n\nshadow.loader.preload = function(id) {\n  shadow.loader.ensureInitWasCalled();\n  return shadow.loader.mm.preloadModule(shadow.loader.string_id(id));\n};\n","\nshadow.loader.set_load_start('code-editor');","shadow$provide[254] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n\/\/ This is CodeMirror (https:\/\/codemirror.net), a code editor\n\/\/ implemented in JavaScript on top of the browser's DOM.\n\/\/\n\/\/ You can find some technical background for some of the code below\n\/\/ at http:\/\/marijnhaverbeke.nl\/blog\/#cm-internals .\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.CodeMirror = factory());\n}(this, (function () { 'use strict';\n\n  \/\/ Kludges for bugs and behavior differences that can't be feature\n  \/\/ detected are enabled based on userAgent etc sniffing.\n  var userAgent = navigator.userAgent;\n  var platform = navigator.platform;\n\n  var gecko = \/gecko\\\/\\d\/i.test(userAgent);\n  var ie_upto10 = \/MSIE \\d\/.test(userAgent);\n  var ie_11up = \/Trident\\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)\/.exec(userAgent);\n  var edge = \/Edge\\\/(\\d+)\/.exec(userAgent);\n  var ie = ie_upto10 || ie_11up || edge;\n  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1]);\n  var webkit = !edge && \/WebKit\\\/\/.test(userAgent);\n  var qtwebkit = webkit && \/Qt\\\/\\d+\\.\\d+\/.test(userAgent);\n  var chrome = !edge && \/Chrome\\\/\/.test(userAgent);\n  var presto = \/Opera\\\/\/.test(userAgent);\n  var safari = \/Apple Computer\/.test(navigator.vendor);\n  var mac_geMountainLion = \/Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D\/.test(userAgent);\n  var phantom = \/PhantomJS\/.test(userAgent);\n\n  var ios = safari && (\/Mobile\\\/\\w+\/.test(userAgent) || navigator.maxTouchPoints > 2);\n  var android = \/Android\/.test(userAgent);\n  \/\/ This is woefully incomplete. Suggestions for alternative methods welcome.\n  var mobile = ios || android || \/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile\/i.test(userAgent);\n  var mac = ios || \/Mac\/.test(platform);\n  var chromeOS = \/\\bCrOS\\b\/.test(userAgent);\n  var windows = \/win\/i.test(platform);\n\n  var presto_version = presto && userAgent.match(\/Version\\\/(\\d*\\.\\d*)\/);\n  if (presto_version) { presto_version = Number(presto_version[1]); }\n  if (presto_version && presto_version >= 15) { presto = false; webkit = true; }\n  \/\/ Some browsers use the wrong event properties to signal cmd\/ctrl on OS X\n  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\n  var captureRightClick = gecko || (ie && ie_version >= 9);\n\n  function classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\n\n  var rmClass = function(node, cls) {\n    var current = node.className;\n    var match = classTest(cls).exec(current);\n    if (match) {\n      var after = current.slice(match.index + match[0].length);\n      node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n    }\n  };\n\n  function removeChildren(e) {\n    for (var count = e.childNodes.length; count > 0; --count)\n      { e.removeChild(e.firstChild); }\n    return e\n  }\n\n  function removeChildrenAndAdd(parent, e) {\n    return removeChildren(parent).appendChild(e)\n  }\n\n  function elt(tag, content, className, style) {\n    var e = document.createElement(tag);\n    if (className) { e.className = className; }\n    if (style) { e.style.cssText = style; }\n    if (typeof content == \"string\") { e.appendChild(document.createTextNode(content)); }\n    else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]); } }\n    return e\n  }\n  \/\/ wrapper for elt, which removes the elt from the accessibility tree\n  function eltP(tag, content, className, style) {\n    var e = elt(tag, content, className, style);\n    e.setAttribute(\"role\", \"presentation\");\n    return e\n  }\n\n  var range;\n  if (document.createRange) { range = function(node, start, end, endNode) {\n    var r = document.createRange();\n    r.setEnd(endNode || node, end);\n    r.setStart(node, start);\n    return r\n  }; }\n  else { range = function(node, start, end) {\n    var r = document.body.createTextRange();\n    try { r.moveToElementText(node.parentNode); }\n    catch(e) { return r }\n    r.collapse(true);\n    r.moveEnd(\"character\", end);\n    r.moveStart(\"character\", start);\n    return r\n  }; }\n\n  function contains(parent, child) {\n    if (child.nodeType == 3) \/\/ Android browser always returns false when child is a textnode\n      { child = child.parentNode; }\n    if (parent.contains)\n      { return parent.contains(child) }\n    do {\n      if (child.nodeType == 11) { child = child.host; }\n      if (child == parent) { return true }\n    } while (child = child.parentNode)\n  }\n\n  function activeElt() {\n    \/\/ IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\n    \/\/ IE < 10 will throw when accessed while the page is loading or in an iframe.\n    \/\/ IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\n    var activeElement;\n    try {\n      activeElement = document.activeElement;\n    } catch(e) {\n      activeElement = document.body || null;\n    }\n    while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement)\n      { activeElement = activeElement.shadowRoot.activeElement; }\n    return activeElement\n  }\n\n  function addClass(node, cls) {\n    var current = node.className;\n    if (!classTest(cls).test(current)) { node.className += (current ? \" \" : \"\") + cls; }\n  }\n  function joinClasses(a, b) {\n    var as = a.split(\" \");\n    for (var i = 0; i < as.length; i++)\n      { if (as[i] && !classTest(as[i]).test(b)) { b += \" \" + as[i]; } }\n    return b\n  }\n\n  var selectInput = function(node) { node.select(); };\n  if (ios) \/\/ Mobile Safari apparently has a bug where select() is broken.\n    { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length; }; }\n  else if (ie) \/\/ Suppress mysterious IE10 errors\n    { selectInput = function(node) { try { node.select(); } catch(_e) {} }; }\n\n  function bind(f) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return function(){return f.apply(null, args)}\n  }\n\n  function copyObj(obj, target, overwrite) {\n    if (!target) { target = {}; }\n    for (var prop in obj)\n      { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\n        { target[prop] = obj[prop]; } }\n    return target\n  }\n\n  \/\/ Counts the column offset in a string, taking tabs into account.\n  \/\/ Used mostly to find indentation.\n  function countColumn(string, end, tabSize, startIndex, startValue) {\n    if (end == null) {\n      end = string.search(\/[^\\s\\u00a0]\/);\n      if (end == -1) { end = string.length; }\n    }\n    for (var i = startIndex || 0, n = startValue || 0;;) {\n      var nextTab = string.indexOf(\"\\t\", i);\n      if (nextTab < 0 || nextTab >= end)\n        { return n + (end - i) }\n      n += nextTab - i;\n      n += tabSize - (n % tabSize);\n      i = nextTab + 1;\n    }\n  }\n\n  var Delayed = function() {\n    this.id = null;\n    this.f = null;\n    this.time = 0;\n    this.handler = bind(this.onTimeout, this);\n  };\n  Delayed.prototype.onTimeout = function (self) {\n    self.id = 0;\n    if (self.time <= +new Date) {\n      self.f();\n    } else {\n      setTimeout(self.handler, self.time - +new Date);\n    }\n  };\n  Delayed.prototype.set = function (ms, f) {\n    this.f = f;\n    var time = +new Date + ms;\n    if (!this.id || time < this.time) {\n      clearTimeout(this.id);\n      this.id = setTimeout(this.handler, ms);\n      this.time = time;\n    }\n  };\n\n  function indexOf(array, elt) {\n    for (var i = 0; i < array.length; ++i)\n      { if (array[i] == elt) { return i } }\n    return -1\n  }\n\n  \/\/ Number of pixels added to scroller and sizer to hide scrollbar\n  var scrollerGap = 50;\n\n  \/\/ Returned or thrown by various protocols to signal 'I'm not\n  \/\/ handling this'.\n  var Pass = {toString: function(){return \"CodeMirror.Pass\"}};\n\n  \/\/ Reused option objects for setSelection & friends\n  var sel_dontScroll = {scroll: false}, sel_mouse = {origin: \"*mouse\"}, sel_move = {origin: \"+move\"};\n\n  \/\/ The inverse of countColumn -- find the offset that corresponds to\n  \/\/ a particular column.\n  function findColumn(string, goal, tabSize) {\n    for (var pos = 0, col = 0;;) {\n      var nextTab = string.indexOf(\"\\t\", pos);\n      if (nextTab == -1) { nextTab = string.length; }\n      var skipped = nextTab - pos;\n      if (nextTab == string.length || col + skipped >= goal)\n        { return pos + Math.min(skipped, goal - col) }\n      col += nextTab - pos;\n      col += tabSize - (col % tabSize);\n      pos = nextTab + 1;\n      if (col >= goal) { return pos }\n    }\n  }\n\n  var spaceStrs = [\"\"];\n  function spaceStr(n) {\n    while (spaceStrs.length <= n)\n      { spaceStrs.push(lst(spaceStrs) + \" \"); }\n    return spaceStrs[n]\n  }\n\n  function lst(arr) { return arr[arr.length-1] }\n\n  function map(array, f) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i); }\n    return out\n  }\n\n  function insertSorted(array, value, score) {\n    var pos = 0, priority = score(value);\n    while (pos < array.length && score(array[pos]) <= priority) { pos++; }\n    array.splice(pos, 0, value);\n  }\n\n  function nothing() {}\n\n  function createObj(base, props) {\n    var inst;\n    if (Object.create) {\n      inst = Object.create(base);\n    } else {\n      nothing.prototype = base;\n      inst = new nothing();\n    }\n    if (props) { copyObj(props, inst); }\n    return inst\n  }\n\n  var nonASCIISingleCaseWordChar = \/[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]\/;\n  function isWordCharBasic(ch) {\n    return \/\\w\/.test(ch) || ch > \"\\x80\" &&\n      (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))\n  }\n  function isWordChar(ch, helper) {\n    if (!helper) { return isWordCharBasic(ch) }\n    if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) { return true }\n    return helper.test(ch)\n  }\n\n  function isEmpty(obj) {\n    for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }\n    return true\n  }\n\n  \/\/ Extending unicode characters. A series of a non-extending char +\n  \/\/ any number of extending chars is treated as a single unit as far\n  \/\/ as editing and measuring is concerned. This is not fully correct,\n  \/\/ since some scripts\/fonts\/browsers also treat other configurations\n  \/\/ of code points as a group.\n  var extendingChars = \/[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]\/;\n  function isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }\n\n  \/\/ Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\n  function skipExtendingChars(str, pos, dir) {\n    while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) { pos += dir; }\n    return pos\n  }\n\n  \/\/ Returns the value from the range [`from`; `to`] that satisfies\n  \/\/ `pred` and is closest to `from`. Assumes that at least `to`\n  \/\/ satisfies `pred`. Supports `from` being greater than `to`.\n  function findFirst(pred, from, to) {\n    \/\/ At any point we are certain `to` satisfies `pred`, don't know\n    \/\/ whether `from` does.\n    var dir = from > to ? -1 : 1;\n    for (;;) {\n      if (from == to) { return from }\n      var midF = (from + to) \/ 2, mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF);\n      if (mid == from) { return pred(mid) ? from : to }\n      if (pred(mid)) { to = mid; }\n      else { from = mid + dir; }\n    }\n  }\n\n  \/\/ BIDI HELPERS\n\n  function iterateBidiSections(order, from, to, f) {\n    if (!order) { return f(from, to, \"ltr\", 0) }\n    var found = false;\n    for (var i = 0; i < order.length; ++i) {\n      var part = order[i];\n      if (part.from < to && part.to > from || from == to && part.to == from) {\n        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\", i);\n        found = true;\n      }\n    }\n    if (!found) { f(from, to, \"ltr\"); }\n  }\n\n  var bidiOther = null;\n  function getBidiPartAt(order, ch, sticky) {\n    var found;\n    bidiOther = null;\n    for (var i = 0; i < order.length; ++i) {\n      var cur = order[i];\n      if (cur.from < ch && cur.to > ch) { return i }\n      if (cur.to == ch) {\n        if (cur.from != cur.to && sticky == \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n      if (cur.from == ch) {\n        if (cur.from != cur.to && sticky != \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n    }\n    return found != null ? found : bidiOther\n  }\n\n  \/\/ Bidirectional ordering algorithm\n  \/\/ See http:\/\/unicode.org\/reports\/tr9\/tr9-13.html for the algorithm\n  \/\/ that this (partially) implements.\n\n  \/\/ One-char codes used for character types:\n  \/\/ L (L):   Left-to-Right\n  \/\/ R (R):   Right-to-Left\n  \/\/ r (AL):  Right-to-Left Arabic\n  \/\/ 1 (EN):  European Number\n  \/\/ + (ES):  European Number Separator\n  \/\/ % (ET):  European Number Terminator\n  \/\/ n (AN):  Arabic Number\n  \/\/ , (CS):  Common Number Separator\n  \/\/ m (NSM): Non-Spacing Mark\n  \/\/ b (BN):  Boundary Neutral\n  \/\/ s (B):   Paragraph Separator\n  \/\/ t (S):   Segment Separator\n  \/\/ w (WS):  Whitespace\n  \/\/ N (ON):  Other Neutrals\n\n  \/\/ Returns null if characters are ordered as they appear\n  \/\/ (left-to-right), or an array of sections ({from, to, level}\n  \/\/ objects) in the order in which they occur visually.\n  var bidiOrdering = (function() {\n    \/\/ Character types for codepoints 0 to 0xff\n    var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\";\n    \/\/ Character types for codepoints 0x600 to 0x6f9\n    var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";\n    function charType(code) {\n      if (code <= 0xf7) { return lowTypes.charAt(code) }\n      else if (0x590 <= code && code <= 0x5f4) { return \"R\" }\n      else if (0x600 <= code && code <= 0x6f9) { return arabicTypes.charAt(code - 0x600) }\n      else if (0x6ee <= code && code <= 0x8ac) { return \"r\" }\n      else if (0x2000 <= code && code <= 0x200b) { return \"w\" }\n      else if (code == 0x200c) { return \"b\" }\n      else { return \"L\" }\n    }\n\n    var bidiRE = \/[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]\/;\n    var isNeutral = \/[stwN]\/, isStrong = \/[LRr]\/, countsAsLeft = \/[Lb1n]\/, countsAsNum = \/[1n]\/;\n\n    function BidiSpan(level, from, to) {\n      this.level = level;\n      this.from = from; this.to = to;\n    }\n\n    return function(str, direction) {\n      var outerType = direction == \"ltr\" ? \"L\" : \"R\";\n\n      if (str.length == 0 || direction == \"ltr\" && !bidiRE.test(str)) { return false }\n      var len = str.length, types = [];\n      for (var i = 0; i < len; ++i)\n        { types.push(charType(str.charCodeAt(i))); }\n\n      \/\/ W1. Examine each non-spacing mark (NSM) in the level run, and\n      \/\/ change the type of the NSM to the type of the previous\n      \/\/ character. If the NSM is at the start of the level run, it will\n      \/\/ get the type of sor.\n      for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n        var type = types[i$1];\n        if (type == \"m\") { types[i$1] = prev; }\n        else { prev = type; }\n      }\n\n      \/\/ W2. Search backwards from each instance of a European number\n      \/\/ until the first strong type (R, L, AL, or sor) is found. If an\n      \/\/ AL is found, change the type of the European number to Arabic\n      \/\/ number.\n      \/\/ W3. Change all ALs to R.\n      for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n        var type$1 = types[i$2];\n        if (type$1 == \"1\" && cur == \"r\") { types[i$2] = \"n\"; }\n        else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == \"r\") { types[i$2] = \"R\"; } }\n      }\n\n      \/\/ W4. A single European separator between two European numbers\n      \/\/ changes to a European number. A single common separator between\n      \/\/ two numbers of the same type changes to that type.\n      for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n        var type$2 = types[i$3];\n        if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3+1] == \"1\") { types[i$3] = \"1\"; }\n        else if (type$2 == \",\" && prev$1 == types[i$3+1] &&\n                 (prev$1 == \"1\" || prev$1 == \"n\")) { types[i$3] = prev$1; }\n        prev$1 = type$2;\n      }\n\n      \/\/ W5. A sequence of European terminators adjacent to European\n      \/\/ numbers changes to all European numbers.\n      \/\/ W6. Otherwise, separators and terminators change to Other\n      \/\/ Neutral.\n      for (var i$4 = 0; i$4 < len; ++i$4) {\n        var type$3 = types[i$4];\n        if (type$3 == \",\") { types[i$4] = \"N\"; }\n        else if (type$3 == \"%\") {\n          var end = (void 0);\n          for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n          var replace = (i$4 && types[i$4-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\";\n          for (var j = i$4; j < end; ++j) { types[j] = replace; }\n          i$4 = end - 1;\n        }\n      }\n\n      \/\/ W7. Search backwards from each instance of a European number\n      \/\/ until the first strong type (R, L, or sor) is found. If an L is\n      \/\/ found, then change the type of the European number to L.\n      for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n        var type$4 = types[i$5];\n        if (cur$1 == \"L\" && type$4 == \"1\") { types[i$5] = \"L\"; }\n        else if (isStrong.test(type$4)) { cur$1 = type$4; }\n      }\n\n      \/\/ N1. A sequence of neutrals takes the direction of the\n      \/\/ surrounding strong text if the text on both sides has the same\n      \/\/ direction. European and Arabic numbers act as if they were R in\n      \/\/ terms of their influence on neutrals. Start-of-level-run (sor)\n      \/\/ and end-of-level-run (eor) are used at level run boundaries.\n      \/\/ N2. Any remaining neutrals take the embedding direction.\n      for (var i$6 = 0; i$6 < len; ++i$6) {\n        if (isNeutral.test(types[i$6])) {\n          var end$1 = (void 0);\n          for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n          var before = (i$6 ? types[i$6-1] : outerType) == \"L\";\n          var after = (end$1 < len ? types[end$1] : outerType) == \"L\";\n          var replace$1 = before == after ? (before ? \"L\" : \"R\") : outerType;\n          for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1; }\n          i$6 = end$1 - 1;\n        }\n      }\n\n      \/\/ Here we depart from the documented algorithm, in order to avoid\n      \/\/ building up an actual levels array. Since there are only three\n      \/\/ levels (0, 1, 2) in an implementation that doesn't take\n      \/\/ explicit embedding into account, we can build up the order on\n      \/\/ the fly, without following the level-based algorithm.\n      var order = [], m;\n      for (var i$7 = 0; i$7 < len;) {\n        if (countsAsLeft.test(types[i$7])) {\n          var start = i$7;\n          for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n          order.push(new BidiSpan(0, start, i$7));\n        } else {\n          var pos = i$7, at = order.length, isRTL = direction == \"rtl\" ? 1 : 0;\n          for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n          for (var j$2 = pos; j$2 < i$7;) {\n            if (countsAsNum.test(types[j$2])) {\n              if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)); at += isRTL; }\n              var nstart = j$2;\n              for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n              order.splice(at, 0, new BidiSpan(2, nstart, j$2));\n              at += isRTL;\n              pos = j$2;\n            } else { ++j$2; }\n          }\n          if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)); }\n        }\n      }\n      if (direction == \"ltr\") {\n        if (order[0].level == 1 && (m = str.match(\/^\\s+\/))) {\n          order[0].from = m[0].length;\n          order.unshift(new BidiSpan(0, 0, m[0].length));\n        }\n        if (lst(order).level == 1 && (m = str.match(\/\\s+$\/))) {\n          lst(order).to -= m[0].length;\n          order.push(new BidiSpan(0, len - m[0].length, len));\n        }\n      }\n\n      return direction == \"rtl\" ? order.reverse() : order\n    }\n  })();\n\n  \/\/ Get the bidi ordering for the given line (and cache it). Returns\n  \/\/ false for lines that are fully left-to-right, and an array of\n  \/\/ BidiSpan objects otherwise.\n  function getOrder(line, direction) {\n    var order = line.order;\n    if (order == null) { order = line.order = bidiOrdering(line.text, direction); }\n    return order\n  }\n\n  \/\/ EVENT HANDLING\n\n  \/\/ Lightweight event framework. on\/off also work on DOM nodes,\n  \/\/ registering native DOM handlers.\n\n  var noHandlers = [];\n\n  var on = function(emitter, type, f) {\n    if (emitter.addEventListener) {\n      emitter.addEventListener(type, f, false);\n    } else if (emitter.attachEvent) {\n      emitter.attachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers || (emitter._handlers = {});\n      map[type] = (map[type] || noHandlers).concat(f);\n    }\n  };\n\n  function getHandlers(emitter, type) {\n    return emitter._handlers && emitter._handlers[type] || noHandlers\n  }\n\n  function off(emitter, type, f) {\n    if (emitter.removeEventListener) {\n      emitter.removeEventListener(type, f, false);\n    } else if (emitter.detachEvent) {\n      emitter.detachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers, arr = map && map[type];\n      if (arr) {\n        var index = indexOf(arr, f);\n        if (index > -1)\n          { map[type] = arr.slice(0, index).concat(arr.slice(index + 1)); }\n      }\n    }\n  }\n\n  function signal(emitter, type \/*, values...*\/) {\n    var handlers = getHandlers(emitter, type);\n    if (!handlers.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2);\n    for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args); }\n  }\n\n  \/\/ The DOM events that CodeMirror handles can be overridden by\n  \/\/ registering a (non-DOM) handler on the editor for the event name,\n  \/\/ and preventDefault-ing the event in that handler.\n  function signalDOMEvent(cm, e, override) {\n    if (typeof e == \"string\")\n      { e = {type: e, preventDefault: function() { this.defaultPrevented = true; }}; }\n    signal(cm, override || e.type, cm, e);\n    return e_defaultPrevented(e) || e.codemirrorIgnore\n  }\n\n  function signalCursorActivity(cm) {\n    var arr = cm._handlers && cm._handlers.cursorActivity;\n    if (!arr) { return }\n    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n    for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)\n      { set.push(arr[i]); } }\n  }\n\n  function hasHandler(emitter, type) {\n    return getHandlers(emitter, type).length > 0\n  }\n\n  \/\/ Add on and off methods to a constructor's prototype, to make\n  \/\/ registering events on such objects more convenient.\n  function eventMixin(ctor) {\n    ctor.prototype.on = function(type, f) {on(this, type, f);};\n    ctor.prototype.off = function(type, f) {off(this, type, f);};\n  }\n\n  \/\/ Due to the fact that we still support jurassic IE versions, some\n  \/\/ compatibility wrappers are needed.\n\n  function e_preventDefault(e) {\n    if (e.preventDefault) { e.preventDefault(); }\n    else { e.returnValue = false; }\n  }\n  function e_stopPropagation(e) {\n    if (e.stopPropagation) { e.stopPropagation(); }\n    else { e.cancelBubble = true; }\n  }\n  function e_defaultPrevented(e) {\n    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false\n  }\n  function e_stop(e) {e_preventDefault(e); e_stopPropagation(e);}\n\n  function e_target(e) {return e.target || e.srcElement}\n  function e_button(e) {\n    var b = e.which;\n    if (b == null) {\n      if (e.button & 1) { b = 1; }\n      else if (e.button & 2) { b = 3; }\n      else if (e.button & 4) { b = 2; }\n    }\n    if (mac && e.ctrlKey && b == 1) { b = 3; }\n    return b\n  }\n\n  \/\/ Detect drag-and-drop\n  var dragAndDrop = function() {\n    \/\/ There is *some* kind of drag-and-drop support in IE6-8, but I\n    \/\/ couldn't get it to work yet.\n    if (ie && ie_version < 9) { return false }\n    var div = elt('div');\n    return \"draggable\" in div || \"dragDrop\" in div\n  }();\n\n  var zwspSupported;\n  function zeroWidthElement(measure) {\n    if (zwspSupported == null) {\n      var test = elt(\"span\", \"\\u200b\");\n      removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n      if (measure.firstChild.offsetHeight != 0)\n        { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8); }\n    }\n    var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\n      elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n    node.setAttribute(\"cm-text\", \"\");\n    return node\n  }\n\n  \/\/ Feature-detect IE's crummy client rect reporting for bidi text\n  var badBidiRects;\n  function hasBadBidiRects(measure) {\n    if (badBidiRects != null) { return badBidiRects }\n    var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"));\n    var r0 = range(txt, 0, 1).getBoundingClientRect();\n    var r1 = range(txt, 1, 2).getBoundingClientRect();\n    removeChildren(measure);\n    if (!r0 || r0.left == r0.right) { return false } \/\/ Safari returns null in some cases (#2780)\n    return badBidiRects = (r1.right - r0.right < 3)\n  }\n\n  \/\/ See if \"\".split is the broken IE version, if so, provide an\n  \/\/ alternative way to split lines.\n  var splitLinesAuto = \"\\n\\nb\".split(\/\\n\/).length != 3 ? function (string) {\n    var pos = 0, result = [], l = string.length;\n    while (pos <= l) {\n      var nl = string.indexOf(\"\\n\", pos);\n      if (nl == -1) { nl = string.length; }\n      var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n      var rt = line.indexOf(\"\\r\");\n      if (rt != -1) {\n        result.push(line.slice(0, rt));\n        pos += rt + 1;\n      } else {\n        result.push(line);\n        pos = nl + 1;\n      }\n    }\n    return result\n  } : function (string) { return string.split(\/\\r\\n?|\\n\/); };\n\n  var hasSelection = window.getSelection ? function (te) {\n    try { return te.selectionStart != te.selectionEnd }\n    catch(e) { return false }\n  } : function (te) {\n    var range;\n    try {range = te.ownerDocument.selection.createRange();}\n    catch(e) {}\n    if (!range || range.parentElement() != te) { return false }\n    return range.compareEndPoints(\"StartToEnd\", range) != 0\n  };\n\n  var hasCopyEvent = (function () {\n    var e = elt(\"div\");\n    if (\"oncopy\" in e) { return true }\n    e.setAttribute(\"oncopy\", \"return;\");\n    return typeof e.oncopy == \"function\"\n  })();\n\n  var badZoomedRects = null;\n  function hasBadZoomedRects(measure) {\n    if (badZoomedRects != null) { return badZoomedRects }\n    var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n    var normal = node.getBoundingClientRect();\n    var fromRange = range(node, 0, 1).getBoundingClientRect();\n    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1\n  }\n\n  \/\/ Known modes, by name and by MIME\n  var modes = {}, mimeModes = {};\n\n  \/\/ Extra arguments are stored as the mode's dependencies, which is\n  \/\/ used by (legacy) mechanisms like loadmode.js to automatically\n  \/\/ load a mode. (Preferred mechanism is the require\/define calls.)\n  function defineMode(name, mode) {\n    if (arguments.length > 2)\n      { mode.dependencies = Array.prototype.slice.call(arguments, 2); }\n    modes[name] = mode;\n  }\n\n  function defineMIME(mime, spec) {\n    mimeModes[mime] = spec;\n  }\n\n  \/\/ Given a MIME type, a {name, ...options} config object, or a name\n  \/\/ string, return a mode config object.\n  function resolveMode(spec) {\n    if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n      spec = mimeModes[spec];\n    } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n      var found = mimeModes[spec.name];\n      if (typeof found == \"string\") { found = {name: found}; }\n      spec = createObj(found, spec);\n      spec.name = found.name;\n    } else if (typeof spec == \"string\" && \/^[\\w\\-]+\\\/[\\w\\-]+\\+xml$\/.test(spec)) {\n      return resolveMode(\"application\/xml\")\n    } else if (typeof spec == \"string\" && \/^[\\w\\-]+\\\/[\\w\\-]+\\+json$\/.test(spec)) {\n      return resolveMode(\"application\/json\")\n    }\n    if (typeof spec == \"string\") { return {name: spec} }\n    else { return spec || {name: \"null\"} }\n  }\n\n  \/\/ Given a mode spec (anything that resolveMode accepts), find and\n  \/\/ initialize an actual mode object.\n  function getMode(options, spec) {\n    spec = resolveMode(spec);\n    var mfactory = modes[spec.name];\n    if (!mfactory) { return getMode(options, \"text\/plain\") }\n    var modeObj = mfactory(options, spec);\n    if (modeExtensions.hasOwnProperty(spec.name)) {\n      var exts = modeExtensions[spec.name];\n      for (var prop in exts) {\n        if (!exts.hasOwnProperty(prop)) { continue }\n        if (modeObj.hasOwnProperty(prop)) { modeObj[\"_\" + prop] = modeObj[prop]; }\n        modeObj[prop] = exts[prop];\n      }\n    }\n    modeObj.name = spec.name;\n    if (spec.helperType) { modeObj.helperType = spec.helperType; }\n    if (spec.modeProps) { for (var prop$1 in spec.modeProps)\n      { modeObj[prop$1] = spec.modeProps[prop$1]; } }\n\n    return modeObj\n  }\n\n  \/\/ This can be used to attach properties to mode objects from\n  \/\/ outside the actual mode definition.\n  var modeExtensions = {};\n  function extendMode(mode, properties) {\n    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});\n    copyObj(properties, exts);\n  }\n\n  function copyState(mode, state) {\n    if (state === true) { return state }\n    if (mode.copyState) { return mode.copyState(state) }\n    var nstate = {};\n    for (var n in state) {\n      var val = state[n];\n      if (val instanceof Array) { val = val.concat([]); }\n      nstate[n] = val;\n    }\n    return nstate\n  }\n\n  \/\/ Given a mode and a state (for that mode), find the inner mode and\n  \/\/ state at the position that the state refers to.\n  function innerMode(mode, state) {\n    var info;\n    while (mode.innerMode) {\n      info = mode.innerMode(state);\n      if (!info || info.mode == mode) { break }\n      state = info.state;\n      mode = info.mode;\n    }\n    return info || {mode: mode, state: state}\n  }\n\n  function startState(mode, a1, a2) {\n    return mode.startState ? mode.startState(a1, a2) : true\n  }\n\n  \/\/ STRING STREAM\n\n  \/\/ Fed to the mode parsers, provides helper functions to make\n  \/\/ parsers more succinct.\n\n  var StringStream = function(string, tabSize, lineOracle) {\n    this.pos = this.start = 0;\n    this.string = string;\n    this.tabSize = tabSize || 8;\n    this.lastColumnPos = this.lastColumnValue = 0;\n    this.lineStart = 0;\n    this.lineOracle = lineOracle;\n  };\n\n  StringStream.prototype.eol = function () {return this.pos >= this.string.length};\n  StringStream.prototype.sol = function () {return this.pos == this.lineStart};\n  StringStream.prototype.peek = function () {return this.string.charAt(this.pos) || undefined};\n  StringStream.prototype.next = function () {\n    if (this.pos < this.string.length)\n      { return this.string.charAt(this.pos++) }\n  };\n  StringStream.prototype.eat = function (match) {\n    var ch = this.string.charAt(this.pos);\n    var ok;\n    if (typeof match == \"string\") { ok = ch == match; }\n    else { ok = ch && (match.test ? match.test(ch) : match(ch)); }\n    if (ok) {++this.pos; return ch}\n  };\n  StringStream.prototype.eatWhile = function (match) {\n    var start = this.pos;\n    while (this.eat(match)){}\n    return this.pos > start\n  };\n  StringStream.prototype.eatSpace = function () {\n    var start = this.pos;\n    while (\/[\\s\\u00a0]\/.test(this.string.charAt(this.pos))) { ++this.pos; }\n    return this.pos > start\n  };\n  StringStream.prototype.skipToEnd = function () {this.pos = this.string.length;};\n  StringStream.prototype.skipTo = function (ch) {\n    var found = this.string.indexOf(ch, this.pos);\n    if (found > -1) {this.pos = found; return true}\n  };\n  StringStream.prototype.backUp = function (n) {this.pos -= n;};\n  StringStream.prototype.column = function () {\n    if (this.lastColumnPos < this.start) {\n      this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n      this.lastColumnPos = this.start;\n    }\n    return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.indentation = function () {\n    return countColumn(this.string, null, this.tabSize) -\n      (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n    if (typeof pattern == \"string\") {\n      var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; };\n      var substr = this.string.substr(this.pos, pattern.length);\n      if (cased(substr) == cased(pattern)) {\n        if (consume !== false) { this.pos += pattern.length; }\n        return true\n      }\n    } else {\n      var match = this.string.slice(this.pos).match(pattern);\n      if (match && match.index > 0) { return null }\n      if (match && consume !== false) { this.pos += match[0].length; }\n      return match\n    }\n  };\n  StringStream.prototype.current = function (){return this.string.slice(this.start, this.pos)};\n  StringStream.prototype.hideFirstChars = function (n, inner) {\n    this.lineStart += n;\n    try { return inner() }\n    finally { this.lineStart -= n; }\n  };\n  StringStream.prototype.lookAhead = function (n) {\n    var oracle = this.lineOracle;\n    return oracle && oracle.lookAhead(n)\n  };\n  StringStream.prototype.baseToken = function () {\n    var oracle = this.lineOracle;\n    return oracle && oracle.baseToken(this.pos)\n  };\n\n  \/\/ Find the line object corresponding to the given line number.\n  function getLine(doc, n) {\n    n -= doc.first;\n    if (n < 0 || n >= doc.size) { throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\") }\n    var chunk = doc;\n    while (!chunk.lines) {\n      for (var i = 0;; ++i) {\n        var child = chunk.children[i], sz = child.chunkSize();\n        if (n < sz) { chunk = child; break }\n        n -= sz;\n      }\n    }\n    return chunk.lines[n]\n  }\n\n  \/\/ Get the part of a document between two positions, as an array of\n  \/\/ strings.\n  function getBetween(doc, start, end) {\n    var out = [], n = start.line;\n    doc.iter(start.line, end.line + 1, function (line) {\n      var text = line.text;\n      if (n == end.line) { text = text.slice(0, end.ch); }\n      if (n == start.line) { text = text.slice(start.ch); }\n      out.push(text);\n      ++n;\n    });\n    return out\n  }\n  \/\/ Get the lines between from and to, as array of strings.\n  function getLines(doc, from, to) {\n    var out = [];\n    doc.iter(from, to, function (line) { out.push(line.text); }); \/\/ iter aborts when callback returns truthy value\n    return out\n  }\n\n  \/\/ Update the height of a line, propagating the height change\n  \/\/ upwards to parent nodes.\n  function updateLineHeight(line, height) {\n    var diff = height - line.height;\n    if (diff) { for (var n = line; n; n = n.parent) { n.height += diff; } }\n  }\n\n  \/\/ Given a line object, find its line number by walking up through\n  \/\/ its parent links.\n  function lineNo(line) {\n    if (line.parent == null) { return null }\n    var cur = line.parent, no = indexOf(cur.lines, line);\n    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n      for (var i = 0;; ++i) {\n        if (chunk.children[i] == cur) { break }\n        no += chunk.children[i].chunkSize();\n      }\n    }\n    return no + cur.first\n  }\n\n  \/\/ Find the line at the given vertical position, using the height\n  \/\/ information in the document tree.\n  function lineAtHeight(chunk, h) {\n    var n = chunk.first;\n    outer: do {\n      for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n        var child = chunk.children[i$1], ch = child.height;\n        if (h < ch) { chunk = child; continue outer }\n        h -= ch;\n        n += child.chunkSize();\n      }\n      return n\n    } while (!chunk.lines)\n    var i = 0;\n    for (; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i], lh = line.height;\n      if (h < lh) { break }\n      h -= lh;\n    }\n    return n + i\n  }\n\n  function isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}\n\n  function lineNumberFor(options, i) {\n    return String(options.lineNumberFormatter(i + options.firstLineNumber))\n  }\n\n  \/\/ A Pos instance represents a position within the text.\n  function Pos(line, ch, sticky) {\n    if ( sticky === void 0 ) sticky = null;\n\n    if (!(this instanceof Pos)) { return new Pos(line, ch, sticky) }\n    this.line = line;\n    this.ch = ch;\n    this.sticky = sticky;\n  }\n\n  \/\/ Compare two positions, return 0 if they are the same, a negative\n  \/\/ number when a is less, and a positive number otherwise.\n  function cmp(a, b) { return a.line - b.line || a.ch - b.ch }\n\n  function equalCursorPos(a, b) { return a.sticky == b.sticky && cmp(a, b) == 0 }\n\n  function copyPos(x) {return Pos(x.line, x.ch)}\n  function maxPos(a, b) { return cmp(a, b) < 0 ? b : a }\n  function minPos(a, b) { return cmp(a, b) < 0 ? a : b }\n\n  \/\/ Most of the external API clips given positions to make sure they\n  \/\/ actually exist within the document.\n  function clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}\n  function clipPos(doc, pos) {\n    if (pos.line < doc.first) { return Pos(doc.first, 0) }\n    var last = doc.first + doc.size - 1;\n    if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }\n    return clipToLen(pos, getLine(doc, pos.line).text.length)\n  }\n  function clipToLen(pos, linelen) {\n    var ch = pos.ch;\n    if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }\n    else if (ch < 0) { return Pos(pos.line, 0) }\n    else { return pos }\n  }\n  function clipPosArray(doc, array) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]); }\n    return out\n  }\n\n  var SavedContext = function(state, lookAhead) {\n    this.state = state;\n    this.lookAhead = lookAhead;\n  };\n\n  var Context = function(doc, state, line, lookAhead) {\n    this.state = state;\n    this.doc = doc;\n    this.line = line;\n    this.maxLookAhead = lookAhead || 0;\n    this.baseTokens = null;\n    this.baseTokenPos = 1;\n  };\n\n  Context.prototype.lookAhead = function (n) {\n    var line = this.doc.getLine(this.line + n);\n    if (line != null && n > this.maxLookAhead) { this.maxLookAhead = n; }\n    return line\n  };\n\n  Context.prototype.baseToken = function (n) {\n    if (!this.baseTokens) { return null }\n    while (this.baseTokens[this.baseTokenPos] <= n)\n      { this.baseTokenPos += 2; }\n    var type = this.baseTokens[this.baseTokenPos + 1];\n    return {type: type && type.replace(\/( |^)overlay .*\/, \"\"),\n            size: this.baseTokens[this.baseTokenPos] - n}\n  };\n\n  Context.prototype.nextLine = function () {\n    this.line++;\n    if (this.maxLookAhead > 0) { this.maxLookAhead--; }\n  };\n\n  Context.fromSaved = function (doc, saved, line) {\n    if (saved instanceof SavedContext)\n      { return new Context(doc, copyState(doc.mode, saved.state), line, saved.lookAhead) }\n    else\n      { return new Context(doc, copyState(doc.mode, saved), line) }\n  };\n\n  Context.prototype.save = function (copy) {\n    var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state;\n    return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state\n  };\n\n\n  \/\/ Compute a style array (an array starting with a mode generation\n  \/\/ -- for invalidation -- followed by pairs of end positions and\n  \/\/ style strings), which is used to highlight the tokens on the\n  \/\/ line.\n  function highlightLine(cm, line, context, forceToEnd) {\n    \/\/ A styles array always starts with a number identifying the\n    \/\/ mode\/overlays that it is based on (for easy invalidation).\n    var st = [cm.state.modeGen], lineClasses = {};\n    \/\/ Compute the base array of styles\n    runMode(cm, line.text, cm.doc.mode, context, function (end, style) { return st.push(end, style); },\n            lineClasses, forceToEnd);\n    var state = context.state;\n\n    \/\/ Run overlays, adjust style array.\n    var loop = function ( o ) {\n      context.baseTokens = st;\n      var overlay = cm.state.overlays[o], i = 1, at = 0;\n      context.state = true;\n      runMode(cm, line.text, overlay.mode, context, function (end, style) {\n        var start = i;\n        \/\/ Ensure there's a token end at the current position, and that i points at it\n        while (at < end) {\n          var i_end = st[i];\n          if (i_end > end)\n            { st.splice(i, 1, end, st[i+1], i_end); }\n          i += 2;\n          at = Math.min(end, i_end);\n        }\n        if (!style) { return }\n        if (overlay.opaque) {\n          st.splice(start, i - start, end, \"overlay \" + style);\n          i = start + 2;\n        } else {\n          for (; start < i; start += 2) {\n            var cur = st[start+1];\n            st[start+1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style;\n          }\n        }\n      }, lineClasses);\n      context.state = state;\n      context.baseTokens = null;\n      context.baseTokenPos = 1;\n    };\n\n    for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );\n\n    return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}\n  }\n\n  function getLineStyles(cm, line, updateFrontier) {\n    if (!line.styles || line.styles[0] != cm.state.modeGen) {\n      var context = getContextBefore(cm, lineNo(line));\n      var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state);\n      var result = highlightLine(cm, line, context);\n      if (resetState) { context.state = resetState; }\n      line.stateAfter = context.save(!resetState);\n      line.styles = result.styles;\n      if (result.classes) { line.styleClasses = result.classes; }\n      else if (line.styleClasses) { line.styleClasses = null; }\n      if (updateFrontier === cm.doc.highlightFrontier)\n        { cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier); }\n    }\n    return line.styles\n  }\n\n  function getContextBefore(cm, n, precise) {\n    var doc = cm.doc, display = cm.display;\n    if (!doc.mode.startState) { return new Context(doc, true, n) }\n    var start = findStartLine(cm, n, precise);\n    var saved = start > doc.first && getLine(doc, start - 1).stateAfter;\n    var context = saved ? Context.fromSaved(doc, saved, start) : new Context(doc, startState(doc.mode), start);\n\n    doc.iter(start, n, function (line) {\n      processLine(cm, line.text, context);\n      var pos = context.line;\n      line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null;\n      context.nextLine();\n    });\n    if (precise) { doc.modeFrontier = context.line; }\n    return context\n  }\n\n  \/\/ Lightweight form of highlight -- proceed over this line and\n  \/\/ update state, but don't save a style array. Used for lines that\n  \/\/ aren't currently visible.\n  function processLine(cm, text, context, startAt) {\n    var mode = cm.doc.mode;\n    var stream = new StringStream(text, cm.options.tabSize, context);\n    stream.start = stream.pos = startAt || 0;\n    if (text == \"\") { callBlankLine(mode, context.state); }\n    while (!stream.eol()) {\n      readToken(mode, stream, context.state);\n      stream.start = stream.pos;\n    }\n  }\n\n  function callBlankLine(mode, state) {\n    if (mode.blankLine) { return mode.blankLine(state) }\n    if (!mode.innerMode) { return }\n    var inner = innerMode(mode, state);\n    if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }\n  }\n\n  function readToken(mode, stream, state, inner) {\n    for (var i = 0; i < 10; i++) {\n      if (inner) { inner[0] = innerMode(mode, state).mode; }\n      var style = mode.token(stream, state);\n      if (stream.pos > stream.start) { return style }\n    }\n    throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\")\n  }\n\n  var Token = function(stream, type, state) {\n    this.start = stream.start; this.end = stream.pos;\n    this.string = stream.current();\n    this.type = type || null;\n    this.state = state;\n  };\n\n  \/\/ Utility for getTokenAt and getLineTokens\n  function takeToken(cm, pos, precise, asArray) {\n    var doc = cm.doc, mode = doc.mode, style;\n    pos = clipPos(doc, pos);\n    var line = getLine(doc, pos.line), context = getContextBefore(cm, pos.line, precise);\n    var stream = new StringStream(line.text, cm.options.tabSize, context), tokens;\n    if (asArray) { tokens = []; }\n    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n      stream.start = stream.pos;\n      style = readToken(mode, stream, context.state);\n      if (asArray) { tokens.push(new Token(stream, style, copyState(doc.mode, context.state))); }\n    }\n    return asArray ? tokens : new Token(stream, style, context.state)\n  }\n\n  function extractLineClasses(type, output) {\n    if (type) { for (;;) {\n      var lineClass = type.match(\/(?:^|\\s+)line-(background-)?(\\S+)\/);\n      if (!lineClass) { break }\n      type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n      var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n      if (output[prop] == null)\n        { output[prop] = lineClass[2]; }\n      else if (!(new RegExp(\"(?:^|\\\\s)\" + lineClass[2] + \"(?:$|\\\\s)\")).test(output[prop]))\n        { output[prop] += \" \" + lineClass[2]; }\n    } }\n    return type\n  }\n\n  \/\/ Run the given mode's parser over a line, calling f for each token.\n  function runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {\n    var flattenSpans = mode.flattenSpans;\n    if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans; }\n    var curStart = 0, curStyle = null;\n    var stream = new StringStream(text, cm.options.tabSize, context), style;\n    var inner = cm.options.addModeClass && [null];\n    if (text == \"\") { extractLineClasses(callBlankLine(mode, context.state), lineClasses); }\n    while (!stream.eol()) {\n      if (stream.pos > cm.options.maxHighlightLength) {\n        flattenSpans = false;\n        if (forceToEnd) { processLine(cm, text, context, stream.pos); }\n        stream.pos = text.length;\n        style = null;\n      } else {\n        style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses);\n      }\n      if (inner) {\n        var mName = inner[0].name;\n        if (mName) { style = \"m-\" + (style ? mName + \" \" + style : mName); }\n      }\n      if (!flattenSpans || curStyle != style) {\n        while (curStart < stream.start) {\n          curStart = Math.min(stream.start, curStart + 5000);\n          f(curStart, curStyle);\n        }\n        curStyle = style;\n      }\n      stream.start = stream.pos;\n    }\n    while (curStart < stream.pos) {\n      \/\/ Webkit seems to refuse to render text nodes longer than 57444\n      \/\/ characters, and returns inaccurate measurements in nodes\n      \/\/ starting around 5000 chars.\n      var pos = Math.min(stream.pos, curStart + 5000);\n      f(pos, curStyle);\n      curStart = pos;\n    }\n  }\n\n  \/\/ Finds the line to start with when starting a parse. Tries to\n  \/\/ find a line with a stateAfter, so that it can start with a\n  \/\/ valid state. If that fails, it returns the line with the\n  \/\/ smallest indentation, which tends to need the least context to\n  \/\/ parse correctly.\n  function findStartLine(cm, n, precise) {\n    var minindent, minline, doc = cm.doc;\n    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n    for (var search = n; search > lim; --search) {\n      if (search <= doc.first) { return doc.first }\n      var line = getLine(doc, search - 1), after = line.stateAfter;\n      if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc.modeFrontier))\n        { return search }\n      var indented = countColumn(line.text, null, cm.options.tabSize);\n      if (minline == null || minindent > indented) {\n        minline = search - 1;\n        minindent = indented;\n      }\n    }\n    return minline\n  }\n\n  function retreatFrontier(doc, n) {\n    doc.modeFrontier = Math.min(doc.modeFrontier, n);\n    if (doc.highlightFrontier < n - 10) { return }\n    var start = doc.first;\n    for (var line = n - 1; line > start; line--) {\n      var saved = getLine(doc, line).stateAfter;\n      \/\/ change is on 3\n      \/\/ state on line 1 looked ahead 2 -- so saw 3\n      \/\/ test 1 + 2 < 3 should cover this\n      if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {\n        start = line + 1;\n        break\n      }\n    }\n    doc.highlightFrontier = Math.min(doc.highlightFrontier, start);\n  }\n\n  \/\/ Optimize some code when these features are not used.\n  var sawReadOnlySpans = false, sawCollapsedSpans = false;\n\n  function seeReadOnlySpans() {\n    sawReadOnlySpans = true;\n  }\n\n  function seeCollapsedSpans() {\n    sawCollapsedSpans = true;\n  }\n\n  \/\/ TEXTMARKER SPANS\n\n  function MarkedSpan(marker, from, to) {\n    this.marker = marker;\n    this.from = from; this.to = to;\n  }\n\n  \/\/ Search an array of spans for a span matching the given marker.\n  function getMarkedSpanFor(spans, marker) {\n    if (spans) { for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.marker == marker) { return span }\n    } }\n  }\n  \/\/ Remove a span from an array, returning undefined if no spans are\n  \/\/ left (we don't store arrays for lines without spans).\n  function removeMarkedSpan(spans, span) {\n    var r;\n    for (var i = 0; i < spans.length; ++i)\n      { if (spans[i] != span) { (r || (r = [])).push(spans[i]); } }\n    return r\n  }\n  \/\/ Add a span to a line.\n  function addMarkedSpan(line, span) {\n    line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n    span.marker.attachLine(line);\n  }\n\n  \/\/ Used for the algorithm that adjusts markers for a change in the\n  \/\/ document. These functions cut an array of spans at a given\n  \/\/ character position, returning an array of remaining chunks (or\n  \/\/ undefined if nothing remains).\n  function markedSpansBefore(old, startCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n      if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n      }\n    } }\n    return nw\n  }\n  function markedSpansAfter(old, endCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n      if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\n                                              span.to == null ? null : span.to - endCh));\n      }\n    } }\n    return nw\n  }\n\n  \/\/ Given a change object, compute the new set of marker spans that\n  \/\/ cover the line in which the change took place. Removes spans\n  \/\/ entirely within the change, reconnects spans belonging to the\n  \/\/ same marker that appear on both sides of the change, and cuts off\n  \/\/ spans partially within the change. Returns an array of span\n  \/\/ arrays with one element for each line in (after) the change.\n  function stretchSpansOverChange(doc, change) {\n    if (change.full) { return null }\n    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n    if (!oldFirst && !oldLast) { return null }\n\n    var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;\n    \/\/ Get the spans that 'stick out' on both sides\n    var first = markedSpansBefore(oldFirst, startCh, isInsert);\n    var last = markedSpansAfter(oldLast, endCh, isInsert);\n\n    \/\/ Next, merge those two ends\n    var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);\n    if (first) {\n      \/\/ Fix up .to properties of first\n      for (var i = 0; i < first.length; ++i) {\n        var span = first[i];\n        if (span.to == null) {\n          var found = getMarkedSpanFor(last, span.marker);\n          if (!found) { span.to = startCh; }\n          else if (sameLine) { span.to = found.to == null ? null : found.to + offset; }\n        }\n      }\n    }\n    if (last) {\n      \/\/ Fix up .from in last (or move them into first in case of sameLine)\n      for (var i$1 = 0; i$1 < last.length; ++i$1) {\n        var span$1 = last[i$1];\n        if (span$1.to != null) { span$1.to += offset; }\n        if (span$1.from == null) {\n          var found$1 = getMarkedSpanFor(first, span$1.marker);\n          if (!found$1) {\n            span$1.from = offset;\n            if (sameLine) { (first || (first = [])).push(span$1); }\n          }\n        } else {\n          span$1.from += offset;\n          if (sameLine) { (first || (first = [])).push(span$1); }\n        }\n      }\n    }\n    \/\/ Make sure we didn't create any zero-length spans\n    if (first) { first = clearEmptySpans(first); }\n    if (last && last != first) { last = clearEmptySpans(last); }\n\n    var newMarkers = [first];\n    if (!sameLine) {\n      \/\/ Fill gap with whole-line-spans\n      var gap = change.text.length - 2, gapMarkers;\n      if (gap > 0 && first)\n        { for (var i$2 = 0; i$2 < first.length; ++i$2)\n          { if (first[i$2].to == null)\n            { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)); } } }\n      for (var i$3 = 0; i$3 < gap; ++i$3)\n        { newMarkers.push(gapMarkers); }\n      newMarkers.push(last);\n    }\n    return newMarkers\n  }\n\n  \/\/ Remove spans that are empty and don't have a clearWhenEmpty\n  \/\/ option of false.\n  function clearEmptySpans(spans) {\n    for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\n        { spans.splice(i--, 1); }\n    }\n    if (!spans.length) { return null }\n    return spans\n  }\n\n  \/\/ Used to 'clip' out readOnly ranges when making a change.\n  function removeReadOnlyRanges(doc, from, to) {\n    var markers = null;\n    doc.iter(from.line, to.line + 1, function (line) {\n      if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n        var mark = line.markedSpans[i].marker;\n        if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\n          { (markers || (markers = [])).push(mark); }\n      } }\n    });\n    if (!markers) { return null }\n    var parts = [{from: from, to: to}];\n    for (var i = 0; i < markers.length; ++i) {\n      var mk = markers[i], m = mk.find(0);\n      for (var j = 0; j < parts.length; ++j) {\n        var p = parts[j];\n        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }\n        var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);\n        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\n          { newParts.push({from: p.from, to: m.from}); }\n        if (dto > 0 || !mk.inclusiveRight && !dto)\n          { newParts.push({from: m.to, to: p.to}); }\n        parts.splice.apply(parts, newParts);\n        j += newParts.length - 3;\n      }\n    }\n    return parts\n  }\n\n  \/\/ Connect or disconnect spans from a line.\n  function detachMarkedSpans(line) {\n    var spans = line.markedSpans;\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.detachLine(line); }\n    line.markedSpans = null;\n  }\n  function attachMarkedSpans(line, spans) {\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.attachLine(line); }\n    line.markedSpans = spans;\n  }\n\n  \/\/ Helpers used when computing which overlapping collapsed span\n  \/\/ counts as the larger one.\n  function extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }\n  function extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }\n\n  \/\/ Returns a number indicating which of two overlapping collapsed\n  \/\/ spans is larger (and thus includes the other). Falls back to\n  \/\/ comparing ids when the spans cover exactly the same range.\n  function compareCollapsedMarkers(a, b) {\n    var lenDiff = a.lines.length - b.lines.length;\n    if (lenDiff != 0) { return lenDiff }\n    var aPos = a.find(), bPos = b.find();\n    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n    if (fromCmp) { return -fromCmp }\n    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n    if (toCmp) { return toCmp }\n    return b.id - a.id\n  }\n\n  \/\/ Find out whether a line ends or starts in a collapsed span. If\n  \/\/ so, return the marker for that span.\n  function collapsedSpanAtSide(line, start) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0))\n        { found = sp.marker; }\n    } }\n    return found\n  }\n  function collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }\n  function collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }\n\n  function collapsedSpanAround(line, ch) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (sp.marker.collapsed && (sp.from == null || sp.from < ch) && (sp.to == null || sp.to > ch) &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0)) { found = sp.marker; }\n    } }\n    return found\n  }\n\n  \/\/ Test whether there exists a collapsed span that partially\n  \/\/ overlaps (covers the start or end, but not both) of a new span.\n  \/\/ Such overlap is not allowed.\n  function conflictingCollapsedRange(doc, lineNo, from, to, marker) {\n    var line = getLine(doc, lineNo);\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      var found = sp.marker.find(0);\n      var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n      var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n      if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }\n      if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\n          fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\n        { return true }\n    } }\n  }\n\n  \/\/ A visual line is a line as drawn on the screen. Folding, for\n  \/\/ example, can cause multiple logical lines to appear on the same\n  \/\/ visual line. This finds the start of the visual line that the\n  \/\/ given line is part of (usually that is the line itself).\n  function visualLine(line) {\n    var merged;\n    while (merged = collapsedSpanAtStart(line))\n      { line = merged.find(-1, true).line; }\n    return line\n  }\n\n  function visualLineEnd(line) {\n    var merged;\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return line\n  }\n\n  \/\/ Returns an array of logical lines that continue the visual line\n  \/\/ started by the argument, or undefined if there are no such lines.\n  function visualLineContinued(line) {\n    var merged, lines;\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line\n      ;(lines || (lines = [])).push(line);\n    }\n    return lines\n  }\n\n  \/\/ Get the line number of the start of the visual line that the\n  \/\/ given line number is part of.\n  function visualLineNo(doc, lineN) {\n    var line = getLine(doc, lineN), vis = visualLine(line);\n    if (line == vis) { return lineN }\n    return lineNo(vis)\n  }\n\n  \/\/ Get the line number of the start of the next visual line after\n  \/\/ the given line.\n  function visualLineEndNo(doc, lineN) {\n    if (lineN > doc.lastLine()) { return lineN }\n    var line = getLine(doc, lineN), merged;\n    if (!lineIsHidden(doc, line)) { return lineN }\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return lineNo(line) + 1\n  }\n\n  \/\/ Compute whether a line is hidden. Lines count as hidden when they\n  \/\/ are part of a visual line that starts with another line, or when\n  \/\/ they are entirely covered by collapsed, non-widget span.\n  function lineIsHidden(doc, line) {\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      if (sp.from == null) { return true }\n      if (sp.marker.widgetNode) { continue }\n      if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\n        { return true }\n    } }\n  }\n  function lineIsHiddenInner(doc, line, span) {\n    if (span.to == null) {\n      var end = span.marker.find(1, true);\n      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))\n    }\n    if (span.marker.inclusiveRight && span.to == line.text.length)\n      { return true }\n    for (var sp = (void 0), i = 0; i < line.markedSpans.length; ++i) {\n      sp = line.markedSpans[i];\n      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\n          (sp.to == null || sp.to != span.from) &&\n          (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\n          lineIsHiddenInner(doc, line, sp)) { return true }\n    }\n  }\n\n  \/\/ Find the height above the given line.\n  function heightAtLine(lineObj) {\n    lineObj = visualLine(lineObj);\n\n    var h = 0, chunk = lineObj.parent;\n    for (var i = 0; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i];\n      if (line == lineObj) { break }\n      else { h += line.height; }\n    }\n    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n      for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n        var cur = p.children[i$1];\n        if (cur == chunk) { break }\n        else { h += cur.height; }\n      }\n    }\n    return h\n  }\n\n  \/\/ Compute the character length of a line, taking into account\n  \/\/ collapsed ranges (see markText) that might hide parts, and join\n  \/\/ other lines onto it.\n  function lineLength(line) {\n    if (line.height == 0) { return 0 }\n    var len = line.text.length, merged, cur = line;\n    while (merged = collapsedSpanAtStart(cur)) {\n      var found = merged.find(0, true);\n      cur = found.from.line;\n      len += found.from.ch - found.to.ch;\n    }\n    cur = line;\n    while (merged = collapsedSpanAtEnd(cur)) {\n      var found$1 = merged.find(0, true);\n      len -= cur.text.length - found$1.from.ch;\n      cur = found$1.to.line;\n      len += cur.text.length - found$1.to.ch;\n    }\n    return len\n  }\n\n  \/\/ Find the longest line in the document.\n  function findMaxLine(cm) {\n    var d = cm.display, doc = cm.doc;\n    d.maxLine = getLine(doc, doc.first);\n    d.maxLineLength = lineLength(d.maxLine);\n    d.maxLineChanged = true;\n    doc.iter(function (line) {\n      var len = lineLength(line);\n      if (len > d.maxLineLength) {\n        d.maxLineLength = len;\n        d.maxLine = line;\n      }\n    });\n  }\n\n  \/\/ LINE DATA STRUCTURE\n\n  \/\/ Line objects. These hold state related to a line, including\n  \/\/ highlighting info (the styles array).\n  var Line = function(text, markedSpans, estimateHeight) {\n    this.text = text;\n    attachMarkedSpans(this, markedSpans);\n    this.height = estimateHeight ? estimateHeight(this) : 1;\n  };\n\n  Line.prototype.lineNo = function () { return lineNo(this) };\n  eventMixin(Line);\n\n  \/\/ Change the content (text, markers) of a line. Automatically\n  \/\/ invalidates cached information and tries to re-estimate the\n  \/\/ line's height.\n  function updateLine(line, text, markedSpans, estimateHeight) {\n    line.text = text;\n    if (line.stateAfter) { line.stateAfter = null; }\n    if (line.styles) { line.styles = null; }\n    if (line.order != null) { line.order = null; }\n    detachMarkedSpans(line);\n    attachMarkedSpans(line, markedSpans);\n    var estHeight = estimateHeight ? estimateHeight(line) : 1;\n    if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n  }\n\n  \/\/ Detach a line from the document tree and its markers.\n  function cleanUpLine(line) {\n    line.parent = null;\n    detachMarkedSpans(line);\n  }\n\n  \/\/ Convert a style as returned by a mode (either null, or a string\n  \/\/ containing one or more styles) to a CSS style. This is cached,\n  \/\/ and also looks for line-wide styles.\n  var styleToClassCache = {}, styleToClassCacheWithMode = {};\n  function interpretTokenStyle(style, options) {\n    if (!style || \/^\\s*$\/.test(style)) { return null }\n    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n    return cache[style] ||\n      (cache[style] = style.replace(\/\\S+\/g, \"cm-$&\"))\n  }\n\n  \/\/ Render the DOM representation of the text of a line. Also builds\n  \/\/ up a 'line map', which points at the DOM nodes that represent\n  \/\/ specific stretches of text, and is used by the measuring code.\n  \/\/ The returned object contains the DOM node, this map, and\n  \/\/ information about line-wide styles that were set by the mode.\n  function buildLineContent(cm, lineView) {\n    \/\/ The padding-right forces the element to have a 'border', which\n    \/\/ is needed on Webkit to be able to get line-level bounding\n    \/\/ rectangles for it (in measureChar).\n    var content = eltP(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n    var builder = {pre: eltP(\"pre\", [content], \"CodeMirror-line\"), content: content,\n                   col: 0, pos: 0, cm: cm,\n                   trailingSpace: false,\n                   splitSpaces: cm.getOption(\"lineWrapping\")};\n    lineView.measure = {};\n\n    \/\/ Iterate over the logical lines that make up this visual line.\n    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n      var line = i ? lineView.rest[i - 1] : lineView.line, order = (void 0);\n      builder.pos = 0;\n      builder.addToken = buildToken;\n      \/\/ Optionally wire in some hacks into the token-rendering\n      \/\/ algorithm, to deal with browser quirks.\n      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction)))\n        { builder.addToken = buildTokenBadBidi(builder.addToken, order); }\n      builder.map = [];\n      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n      if (line.styleClasses) {\n        if (line.styleClasses.bgClass)\n          { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\"); }\n        if (line.styleClasses.textClass)\n          { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\"); }\n      }\n\n      \/\/ Ensure at least a single node is present, for measuring.\n      if (builder.map.length == 0)\n        { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))); }\n\n      \/\/ Store the map and a cache object for the current logical line\n      if (i == 0) {\n        lineView.measure.map = builder.map;\n        lineView.measure.cache = {};\n      } else {\n  (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)\n        ;(lineView.measure.caches || (lineView.measure.caches = [])).push({});\n      }\n    }\n\n    \/\/ See issue #2901\n    if (webkit) {\n      var last = builder.content.lastChild;\n      if (\/\\bcm-tab\\b\/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\n        { builder.content.className = \"cm-tab-wrap-hack\"; }\n    }\n\n    signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n    if (builder.pre.className)\n      { builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\"); }\n\n    return builder\n  }\n\n  function defaultSpecialCharPlaceholder(ch) {\n    var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n    token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n    token.setAttribute(\"aria-label\", token.title);\n    return token\n  }\n\n  \/\/ Build up the DOM representation for a single token, and add it to\n  \/\/ the line map. Takes care to render special characters separately.\n  function buildToken(builder, text, style, startStyle, endStyle, css, attributes) {\n    if (!text) { return }\n    var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text;\n    var special = builder.cm.state.specialChars, mustWrap = false;\n    var content;\n    if (!special.test(text)) {\n      builder.col += text.length;\n      content = document.createTextNode(displayText);\n      builder.map.push(builder.pos, builder.pos + text.length, content);\n      if (ie && ie_version < 9) { mustWrap = true; }\n      builder.pos += text.length;\n    } else {\n      content = document.createDocumentFragment();\n      var pos = 0;\n      while (true) {\n        special.lastIndex = pos;\n        var m = special.exec(text);\n        var skipped = m ? m.index - pos : text.length - pos;\n        if (skipped) {\n          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt])); }\n          else { content.appendChild(txt); }\n          builder.map.push(builder.pos, builder.pos + skipped, txt);\n          builder.col += skipped;\n          builder.pos += skipped;\n        }\n        if (!m) { break }\n        pos += skipped + 1;\n        var txt$1 = (void 0);\n        if (m[0] == \"\\t\") {\n          var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;\n          txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n          txt$1.setAttribute(\"role\", \"presentation\");\n          txt$1.setAttribute(\"cm-text\", \"\\t\");\n          builder.col += tabWidth;\n        } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n          txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"));\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          builder.col += 1;\n        } else {\n          txt$1 = builder.cm.options.specialCharPlaceholder(m[0]);\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt$1])); }\n          else { content.appendChild(txt$1); }\n          builder.col += 1;\n        }\n        builder.map.push(builder.pos, builder.pos + 1, txt$1);\n        builder.pos++;\n      }\n    }\n    builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32;\n    if (style || startStyle || endStyle || mustWrap || css || attributes) {\n      var fullStyle = style || \"\";\n      if (startStyle) { fullStyle += startStyle; }\n      if (endStyle) { fullStyle += endStyle; }\n      var token = elt(\"span\", [content], fullStyle, css);\n      if (attributes) {\n        for (var attr in attributes) { if (attributes.hasOwnProperty(attr) && attr != \"style\" && attr != \"class\")\n          { token.setAttribute(attr, attributes[attr]); } }\n      }\n      return builder.content.appendChild(token)\n    }\n    builder.content.appendChild(content);\n  }\n\n  \/\/ Change some spaces to NBSP to prevent the browser from collapsing\n  \/\/ trailing spaces at the end of a line when rendering text (issue #1362).\n  function splitSpaces(text, trailingBefore) {\n    if (text.length > 1 && !\/  \/.test(text)) { return text }\n    var spaceBefore = trailingBefore, result = \"\";\n    for (var i = 0; i < text.length; i++) {\n      var ch = text.charAt(i);\n      if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))\n        { ch = \"\\u00a0\"; }\n      result += ch;\n      spaceBefore = ch == \" \";\n    }\n    return result\n  }\n\n  \/\/ Work around nonsense dimensions being reported for stretches of\n  \/\/ right-to-left text.\n  function buildTokenBadBidi(inner, order) {\n    return function (builder, text, style, startStyle, endStyle, css, attributes) {\n      style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n      var start = builder.pos, end = start + text.length;\n      for (;;) {\n        \/\/ Find the part that overlaps with the start of this text\n        var part = (void 0);\n        for (var i = 0; i < order.length; i++) {\n          part = order[i];\n          if (part.to > start && part.from <= start) { break }\n        }\n        if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, css, attributes) }\n        inner(builder, text.slice(0, part.to - start), style, startStyle, null, css, attributes);\n        startStyle = null;\n        text = text.slice(part.to - start);\n        start = part.to;\n      }\n    }\n  }\n\n  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n    var widget = !ignoreWidget && marker.widgetNode;\n    if (widget) { builder.map.push(builder.pos, builder.pos + size, widget); }\n    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n      if (!widget)\n        { widget = builder.content.appendChild(document.createElement(\"span\")); }\n      widget.setAttribute(\"cm-marker\", marker.id);\n    }\n    if (widget) {\n      builder.cm.display.input.setUneditable(widget);\n      builder.content.appendChild(widget);\n    }\n    builder.pos += size;\n    builder.trailingSpace = false;\n  }\n\n  \/\/ Outputs a number of spans to make up a line, taking highlighting\n  \/\/ and marked text into account.\n  function insertLineContent(line, builder, styles) {\n    var spans = line.markedSpans, allText = line.text, at = 0;\n    if (!spans) {\n      for (var i$1 = 1; i$1 < styles.length; i$1+=2)\n        { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)); }\n      return\n    }\n\n    var len = allText.length, pos = 0, i = 1, text = \"\", style, css;\n    var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, collapsed, attributes;\n    for (;;) {\n      if (nextChange == pos) { \/\/ Update current marker set\n        spanStyle = spanEndStyle = spanStartStyle = css = \"\";\n        attributes = null;\n        collapsed = null; nextChange = Infinity;\n        var foundBookmarks = [], endStyles = (void 0);\n        for (var j = 0; j < spans.length; ++j) {\n          var sp = spans[j], m = sp.marker;\n          if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n            foundBookmarks.push(m);\n          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n            if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n              nextChange = sp.to;\n              spanEndStyle = \"\";\n            }\n            if (m.className) { spanStyle += \" \" + m.className; }\n            if (m.css) { css = (css ? css + \";\" : \"\") + m.css; }\n            if (m.startStyle && sp.from == pos) { spanStartStyle += \" \" + m.startStyle; }\n            if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to); }\n            \/\/ support for the old title property\n            \/\/ https:\/\/github.com\/codemirror\/CodeMirror\/pull\/5673\n            if (m.title) { (attributes || (attributes = {})).title = m.title; }\n            if (m.attributes) {\n              for (var attr in m.attributes)\n                { (attributes || (attributes = {}))[attr] = m.attributes[attr]; }\n            }\n            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\n              { collapsed = sp; }\n          } else if (sp.from > pos && nextChange > sp.from) {\n            nextChange = sp.from;\n          }\n        }\n        if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)\n          { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += \" \" + endStyles[j$1]; } } }\n\n        if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)\n          { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]); } }\n        if (collapsed && (collapsed.from || 0) == pos) {\n          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\n                             collapsed.marker, collapsed.from == null);\n          if (collapsed.to == null) { return }\n          if (collapsed.to == pos) { collapsed = false; }\n        }\n      }\n      if (pos >= len) { break }\n\n      var upto = Math.min(len, nextChange);\n      while (true) {\n        if (text) {\n          var end = pos + text.length;\n          if (!collapsed) {\n            var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\n                             spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", css, attributes);\n          }\n          if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}\n          pos = end;\n          spanStartStyle = \"\";\n        }\n        text = allText.slice(at, at = styles[i++]);\n        style = interpretTokenStyle(styles[i++], builder.cm.options);\n      }\n    }\n  }\n\n\n  \/\/ These objects are used to represent the visible (currently drawn)\n  \/\/ part of the document. A LineView may correspond to multiple\n  \/\/ logical lines, if those are connected by collapsed ranges.\n  function LineView(doc, line, lineN) {\n    \/\/ The starting line\n    this.line = line;\n    \/\/ Continuing lines, if any\n    this.rest = visualLineContinued(line);\n    \/\/ Number of logical lines in this visual line\n    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n    this.node = this.text = null;\n    this.hidden = lineIsHidden(doc, line);\n  }\n\n  \/\/ Create a range of LineView objects for the given lines.\n  function buildViewArray(cm, from, to) {\n    var array = [], nextPos;\n    for (var pos = from; pos < to; pos = nextPos) {\n      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n      nextPos = pos + view.size;\n      array.push(view);\n    }\n    return array\n  }\n\n  var operationGroup = null;\n\n  function pushOperation(op) {\n    if (operationGroup) {\n      operationGroup.ops.push(op);\n    } else {\n      op.ownsGroup = operationGroup = {\n        ops: [op],\n        delayedCallbacks: []\n      };\n    }\n  }\n\n  function fireCallbacksForOps(group) {\n    \/\/ Calls delayed callbacks and cursorActivity handlers until no\n    \/\/ new ones appear\n    var callbacks = group.delayedCallbacks, i = 0;\n    do {\n      for (; i < callbacks.length; i++)\n        { callbacks[i].call(null); }\n      for (var j = 0; j < group.ops.length; j++) {\n        var op = group.ops[j];\n        if (op.cursorActivityHandlers)\n          { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\n            { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm); } }\n      }\n    } while (i < callbacks.length)\n  }\n\n  function finishOperation(op, endCb) {\n    var group = op.ownsGroup;\n    if (!group) { return }\n\n    try { fireCallbacksForOps(group); }\n    finally {\n      operationGroup = null;\n      endCb(group);\n    }\n  }\n\n  var orphanDelayedCallbacks = null;\n\n  \/\/ Often, we want to signal events at a point where we are in the\n  \/\/ middle of some work, but don't want the handler to start calling\n  \/\/ other methods on the editor, which might be in an inconsistent\n  \/\/ state or simply not expect any other events to happen.\n  \/\/ signalLater looks whether there are any handlers, and schedules\n  \/\/ them to be executed when the last operation ends, or, if no\n  \/\/ operation is active, when a timeout fires.\n  function signalLater(emitter, type \/*, values...*\/) {\n    var arr = getHandlers(emitter, type);\n    if (!arr.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2), list;\n    if (operationGroup) {\n      list = operationGroup.delayedCallbacks;\n    } else if (orphanDelayedCallbacks) {\n      list = orphanDelayedCallbacks;\n    } else {\n      list = orphanDelayedCallbacks = [];\n      setTimeout(fireOrphanDelayed, 0);\n    }\n    var loop = function ( i ) {\n      list.push(function () { return arr[i].apply(null, args); });\n    };\n\n    for (var i = 0; i < arr.length; ++i)\n      loop( i );\n  }\n\n  function fireOrphanDelayed() {\n    var delayed = orphanDelayedCallbacks;\n    orphanDelayedCallbacks = null;\n    for (var i = 0; i < delayed.length; ++i) { delayed[i](); }\n  }\n\n  \/\/ When an aspect of a line changes, a string is added to\n  \/\/ lineView.changes. This updates the relevant part of the line's\n  \/\/ DOM structure.\n  function updateLineForChanges(cm, lineView, lineN, dims) {\n    for (var j = 0; j < lineView.changes.length; j++) {\n      var type = lineView.changes[j];\n      if (type == \"text\") { updateLineText(cm, lineView); }\n      else if (type == \"gutter\") { updateLineGutter(cm, lineView, lineN, dims); }\n      else if (type == \"class\") { updateLineClasses(cm, lineView); }\n      else if (type == \"widget\") { updateLineWidgets(cm, lineView, dims); }\n    }\n    lineView.changes = null;\n  }\n\n  \/\/ Lines with gutter elements, widgets or a background class need to\n  \/\/ be wrapped, and have the extra elements added to the wrapper div\n  function ensureLineWrapped(lineView) {\n    if (lineView.node == lineView.text) {\n      lineView.node = elt(\"div\", null, null, \"position: relative\");\n      if (lineView.text.parentNode)\n        { lineView.text.parentNode.replaceChild(lineView.node, lineView.text); }\n      lineView.node.appendChild(lineView.text);\n      if (ie && ie_version < 8) { lineView.node.style.zIndex = 2; }\n    }\n    return lineView.node\n  }\n\n  function updateLineBackground(cm, lineView) {\n    var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n    if (cls) { cls += \" CodeMirror-linebackground\"; }\n    if (lineView.background) {\n      if (cls) { lineView.background.className = cls; }\n      else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null; }\n    } else if (cls) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n      cm.display.input.setUneditable(lineView.background);\n    }\n  }\n\n  \/\/ Wrapper around buildLineContent which will reuse the structure\n  \/\/ in display.externalMeasured when possible.\n  function getLineContent(cm, lineView) {\n    var ext = cm.display.externalMeasured;\n    if (ext && ext.line == lineView.line) {\n      cm.display.externalMeasured = null;\n      lineView.measure = ext.measure;\n      return ext.built\n    }\n    return buildLineContent(cm, lineView)\n  }\n\n  \/\/ Redraw the line's text. Interacts with the background and text\n  \/\/ classes because the mode may output tokens that influence these\n  \/\/ classes.\n  function updateLineText(cm, lineView) {\n    var cls = lineView.text.className;\n    var built = getLineContent(cm, lineView);\n    if (lineView.text == lineView.node) { lineView.node = built.pre; }\n    lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n    lineView.text = built.pre;\n    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n      lineView.bgClass = built.bgClass;\n      lineView.textClass = built.textClass;\n      updateLineClasses(cm, lineView);\n    } else if (cls) {\n      lineView.text.className = cls;\n    }\n  }\n\n  function updateLineClasses(cm, lineView) {\n    updateLineBackground(cm, lineView);\n    if (lineView.line.wrapClass)\n      { ensureLineWrapped(lineView).className = lineView.line.wrapClass; }\n    else if (lineView.node != lineView.text)\n      { lineView.node.className = \"\"; }\n    var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n    lineView.text.className = textClass || \"\";\n  }\n\n  function updateLineGutter(cm, lineView, lineN, dims) {\n    if (lineView.gutter) {\n      lineView.node.removeChild(lineView.gutter);\n      lineView.gutter = null;\n    }\n    if (lineView.gutterBackground) {\n      lineView.node.removeChild(lineView.gutterBackground);\n      lineView.gutterBackground = null;\n    }\n    if (lineView.line.gutterClass) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\n                                      (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + (dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(lineView.gutterBackground);\n      wrap.insertBefore(lineView.gutterBackground, lineView.text);\n    }\n    var markers = lineView.line.gutterMarkers;\n    if (cm.options.lineNumbers || markers) {\n      var wrap$1 = ensureLineWrapped(lineView);\n      var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(gutterWrap);\n      wrap$1.insertBefore(gutterWrap, lineView.text);\n      if (lineView.line.gutterClass)\n        { gutterWrap.className += \" \" + lineView.line.gutterClass; }\n      if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\n        { lineView.lineNumber = gutterWrap.appendChild(\n          elt(\"div\", lineNumberFor(cm.options, lineN),\n              \"CodeMirror-linenumber CodeMirror-gutter-elt\",\n              (\"left: \" + (dims.gutterLeft[\"CodeMirror-linenumbers\"]) + \"px; width: \" + (cm.display.lineNumInnerWidth) + \"px\"))); }\n      if (markers) { for (var k = 0; k < cm.display.gutterSpecs.length; ++k) {\n        var id = cm.display.gutterSpecs[k].className, found = markers.hasOwnProperty(id) && markers[id];\n        if (found)\n          { gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\",\n                                     (\"left: \" + (dims.gutterLeft[id]) + \"px; width: \" + (dims.gutterWidth[id]) + \"px\"))); }\n      } }\n    }\n  }\n\n  function updateLineWidgets(cm, lineView, dims) {\n    if (lineView.alignable) { lineView.alignable = null; }\n    var isWidget = classTest(\"CodeMirror-linewidget\");\n    for (var node = lineView.node.firstChild, next = (void 0); node; node = next) {\n      next = node.nextSibling;\n      if (isWidget.test(node.className)) { lineView.node.removeChild(node); }\n    }\n    insertLineWidgets(cm, lineView, dims);\n  }\n\n  \/\/ Build a line's DOM representation from scratch\n  function buildLineElement(cm, lineView, lineN, dims) {\n    var built = getLineContent(cm, lineView);\n    lineView.text = lineView.node = built.pre;\n    if (built.bgClass) { lineView.bgClass = built.bgClass; }\n    if (built.textClass) { lineView.textClass = built.textClass; }\n\n    updateLineClasses(cm, lineView);\n    updateLineGutter(cm, lineView, lineN, dims);\n    insertLineWidgets(cm, lineView, dims);\n    return lineView.node\n  }\n\n  \/\/ A lineView may contain multiple logical lines (when merged by\n  \/\/ collapsed spans). The widgets for all of them need to be drawn.\n  function insertLineWidgets(cm, lineView, dims) {\n    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n      { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false); } }\n  }\n\n  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n    if (!line.widgets) { return }\n    var wrap = ensureLineWrapped(lineView);\n    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n      var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\" + (widget.className ? \" \" + widget.className : \"\"));\n      if (!widget.handleMouseEvents) { node.setAttribute(\"cm-ignore-events\", \"true\"); }\n      positionLineWidget(widget, node, lineView, dims);\n      cm.display.input.setUneditable(node);\n      if (allowAbove && widget.above)\n        { wrap.insertBefore(node, lineView.gutter || lineView.text); }\n      else\n        { wrap.appendChild(node); }\n      signalLater(widget, \"redraw\");\n    }\n  }\n\n  function positionLineWidget(widget, node, lineView, dims) {\n    if (widget.noHScroll) {\n  (lineView.alignable || (lineView.alignable = [])).push(node);\n      var width = dims.wrapperWidth;\n      node.style.left = dims.fixedPos + \"px\";\n      if (!widget.coverGutter) {\n        width -= dims.gutterTotalWidth;\n        node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n      }\n      node.style.width = width + \"px\";\n    }\n    if (widget.coverGutter) {\n      node.style.zIndex = 5;\n      node.style.position = \"relative\";\n      if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + \"px\"; }\n    }\n  }\n\n  function widgetHeight(widget) {\n    if (widget.height != null) { return widget.height }\n    var cm = widget.doc.cm;\n    if (!cm) { return 0 }\n    if (!contains(document.body, widget.node)) {\n      var parentStyle = \"position: relative;\";\n      if (widget.coverGutter)\n        { parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\"; }\n      if (widget.noHScroll)\n        { parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\"; }\n      removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n    }\n    return widget.height = widget.node.parentNode.offsetHeight\n  }\n\n  \/\/ Return true when the given mouse event happened in a widget\n  function eventInWidget(display, e) {\n    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n      if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\n          (n.parentNode == display.sizer && n != display.mover))\n        { return true }\n    }\n  }\n\n  \/\/ POSITION MEASUREMENT\n\n  function paddingTop(display) {return display.lineSpace.offsetTop}\n  function paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}\n  function paddingH(display) {\n    if (display.cachedPaddingH) { return display.cachedPaddingH }\n    var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\", \"CodeMirror-line-like\"));\n    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n    var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)};\n    if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data; }\n    return data\n  }\n\n  function scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }\n  function displayWidth(cm) {\n    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth\n  }\n  function displayHeight(cm) {\n    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight\n  }\n\n  \/\/ Ensure the lineView.wrapping.heights array is populated. This is\n  \/\/ an array of bottom offsets for the lines that make up a drawn\n  \/\/ line. When lineWrapping is on, there might be more than one\n  \/\/ height.\n  function ensureLineHeights(cm, lineView, rect) {\n    var wrapping = cm.options.lineWrapping;\n    var curWidth = wrapping && displayWidth(cm);\n    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n      var heights = lineView.measure.heights = [];\n      if (wrapping) {\n        lineView.measure.width = curWidth;\n        var rects = lineView.text.firstChild.getClientRects();\n        for (var i = 0; i < rects.length - 1; i++) {\n          var cur = rects[i], next = rects[i + 1];\n          if (Math.abs(cur.bottom - next.bottom) > 2)\n            { heights.push((cur.bottom + next.top) \/ 2 - rect.top); }\n        }\n      }\n      heights.push(rect.bottom - rect.top);\n    }\n  }\n\n  \/\/ Find a line map (mapping character offsets to text nodes) and a\n  \/\/ measurement cache for the given line number. (A line view might\n  \/\/ contain multiple lines when collapsed ranges are present.)\n  function mapFromLineView(lineView, line, lineN) {\n    if (lineView.line == line)\n      { return {map: lineView.measure.map, cache: lineView.measure.cache} }\n    for (var i = 0; i < lineView.rest.length; i++)\n      { if (lineView.rest[i] == line)\n        { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }\n    for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)\n      { if (lineNo(lineView.rest[i$1]) > lineN)\n        { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }\n  }\n\n  \/\/ Render a line into the hidden node display.externalMeasured. Used\n  \/\/ when measurement is needed for a line that's not in the viewport.\n  function updateExternalMeasurement(cm, line) {\n    line = visualLine(line);\n    var lineN = lineNo(line);\n    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n    view.lineN = lineN;\n    var built = view.built = buildLineContent(cm, view);\n    view.text = built.pre;\n    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n    return view\n  }\n\n  \/\/ Get a {top, bottom, left, right} box (in line-local coordinates)\n  \/\/ for a given character.\n  function measureChar(cm, line, ch, bias) {\n    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)\n  }\n\n  \/\/ Find a line view that corresponds to the given line number.\n  function findViewForLine(cm, lineN) {\n    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\n      { return cm.display.view[findViewIndex(cm, lineN)] }\n    var ext = cm.display.externalMeasured;\n    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\n      { return ext }\n  }\n\n  \/\/ Measurement can be split in two steps, the set-up work that\n  \/\/ applies to the whole line, and the measurement of the actual\n  \/\/ character. Functions like coordsChar, that need to do a lot of\n  \/\/ measurements in a row, can thus ensure that the set-up work is\n  \/\/ only done once.\n  function prepareMeasureForLine(cm, line) {\n    var lineN = lineNo(line);\n    var view = findViewForLine(cm, lineN);\n    if (view && !view.text) {\n      view = null;\n    } else if (view && view.changes) {\n      updateLineForChanges(cm, view, lineN, getDimensions(cm));\n      cm.curOp.forceUpdate = true;\n    }\n    if (!view)\n      { view = updateExternalMeasurement(cm, line); }\n\n    var info = mapFromLineView(view, line, lineN);\n    return {\n      line: line, view: view, rect: null,\n      map: info.map, cache: info.cache, before: info.before,\n      hasHeights: false\n    }\n  }\n\n  \/\/ Given a prepared measurement object, measures the position of an\n  \/\/ actual character (or fetches it from the cache).\n  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n    if (prepared.before) { ch = -1; }\n    var key = ch + (bias || \"\"), found;\n    if (prepared.cache.hasOwnProperty(key)) {\n      found = prepared.cache[key];\n    } else {\n      if (!prepared.rect)\n        { prepared.rect = prepared.view.text.getBoundingClientRect(); }\n      if (!prepared.hasHeights) {\n        ensureLineHeights(cm, prepared.view, prepared.rect);\n        prepared.hasHeights = true;\n      }\n      found = measureCharInner(cm, prepared, ch, bias);\n      if (!found.bogus) { prepared.cache[key] = found; }\n    }\n    return {left: found.left, right: found.right,\n            top: varHeight ? found.rtop : found.top,\n            bottom: varHeight ? found.rbottom : found.bottom}\n  }\n\n  var nullRect = {left: 0, right: 0, top: 0, bottom: 0};\n\n  function nodeAndOffsetInLineMap(map, ch, bias) {\n    var node, start, end, collapse, mStart, mEnd;\n    \/\/ First, search the line map for the text node corresponding to,\n    \/\/ or closest to, the target character.\n    for (var i = 0; i < map.length; i += 3) {\n      mStart = map[i];\n      mEnd = map[i + 1];\n      if (ch < mStart) {\n        start = 0; end = 1;\n        collapse = \"left\";\n      } else if (ch < mEnd) {\n        start = ch - mStart;\n        end = start + 1;\n      } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {\n        end = mEnd - mStart;\n        start = end - 1;\n        if (ch >= mEnd) { collapse = \"right\"; }\n      }\n      if (start != null) {\n        node = map[i + 2];\n        if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\n          { collapse = bias; }\n        if (bias == \"left\" && start == 0)\n          { while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {\n            node = map[(i -= 3) + 2];\n            collapse = \"left\";\n          } }\n        if (bias == \"right\" && start == mEnd - mStart)\n          { while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {\n            node = map[(i += 3) + 2];\n            collapse = \"right\";\n          } }\n        break\n      }\n    }\n    return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}\n  }\n\n  function getUsefulRect(rects, bias) {\n    var rect = nullRect;\n    if (bias == \"left\") { for (var i = 0; i < rects.length; i++) {\n      if ((rect = rects[i]).left != rect.right) { break }\n    } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n      if ((rect = rects[i$1]).left != rect.right) { break }\n    } }\n    return rect\n  }\n\n  function measureCharInner(cm, prepared, ch, bias) {\n    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n    var node = place.node, start = place.start, end = place.end, collapse = place.collapse;\n\n    var rect;\n    if (node.nodeType == 3) { \/\/ If it is a text node, use a range to retrieve the coordinates.\n      for (var i$1 = 0; i$1 < 4; i$1++) { \/\/ Retry a maximum of 4 times when nonsense rectangles are returned\n        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start; }\n        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end; }\n        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)\n          { rect = node.parentNode.getBoundingClientRect(); }\n        else\n          { rect = getUsefulRect(range(node, start, end).getClientRects(), bias); }\n        if (rect.left || rect.right || start == 0) { break }\n        end = start;\n        start = start - 1;\n        collapse = \"right\";\n      }\n      if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect); }\n    } else { \/\/ If it is a widget, simply get the box for the whole widget.\n      if (start > 0) { collapse = bias = \"right\"; }\n      var rects;\n      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\n        { rect = rects[bias == \"right\" ? rects.length - 1 : 0]; }\n      else\n        { rect = node.getBoundingClientRect(); }\n    }\n    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n      var rSpan = node.parentNode.getClientRects()[0];\n      if (rSpan)\n        { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom}; }\n      else\n        { rect = nullRect; }\n    }\n\n    var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;\n    var mid = (rtop + rbot) \/ 2;\n    var heights = prepared.view.measure.heights;\n    var i = 0;\n    for (; i < heights.length - 1; i++)\n      { if (mid < heights[i]) { break } }\n    var top = i ? heights[i - 1] : 0, bot = heights[i];\n    var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n                  right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n                  top: top, bottom: bot};\n    if (!rect.left && !rect.right) { result.bogus = true; }\n    if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot; }\n\n    return result\n  }\n\n  \/\/ Work around problem with bounding client rects on ranges being\n  \/\/ returned incorrectly when zoomed on IE10 and below.\n  function maybeUpdateRectForZooming(measure, rect) {\n    if (!window.screen || screen.logicalXDPI == null ||\n        screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\n      { return rect }\n    var scaleX = screen.logicalXDPI \/ screen.deviceXDPI;\n    var scaleY = screen.logicalYDPI \/ screen.deviceYDPI;\n    return {left: rect.left * scaleX, right: rect.right * scaleX,\n            top: rect.top * scaleY, bottom: rect.bottom * scaleY}\n  }\n\n  function clearLineMeasurementCacheFor(lineView) {\n    if (lineView.measure) {\n      lineView.measure.cache = {};\n      lineView.measure.heights = null;\n      if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n        { lineView.measure.caches[i] = {}; } }\n    }\n  }\n\n  function clearLineMeasurementCache(cm) {\n    cm.display.externalMeasure = null;\n    removeChildren(cm.display.lineMeasure);\n    for (var i = 0; i < cm.display.view.length; i++)\n      { clearLineMeasurementCacheFor(cm.display.view[i]); }\n  }\n\n  function clearCaches(cm) {\n    clearLineMeasurementCache(cm);\n    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n    if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true; }\n    cm.display.lineNumChars = null;\n  }\n\n  function pageScrollX() {\n    \/\/ Work around https:\/\/bugs.chromium.org\/p\/chromium\/issues\/detail?id=489206\n    \/\/ which causes page_Offset and bounding client rects to use\n    \/\/ different reference viewports and invalidate our calculations.\n    if (chrome && android) { return -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft)) }\n    return window.pageXOffset || (document.documentElement || document.body).scrollLeft\n  }\n  function pageScrollY() {\n    if (chrome && android) { return -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop)) }\n    return window.pageYOffset || (document.documentElement || document.body).scrollTop\n  }\n\n  function widgetTopHeight(lineObj) {\n    var height = 0;\n    if (lineObj.widgets) { for (var i = 0; i < lineObj.widgets.length; ++i) { if (lineObj.widgets[i].above)\n      { height += widgetHeight(lineObj.widgets[i]); } } }\n    return height\n  }\n\n  \/\/ Converts a {top, bottom, left, right} box from line-local\n  \/\/ coordinates into another coordinate system. Context may be one of\n  \/\/ \"line\", \"div\" (display.lineDiv), \"local\".\/null (editor), \"window\",\n  \/\/ or \"page\".\n  function intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n    if (!includeWidgets) {\n      var height = widgetTopHeight(lineObj);\n      rect.top += height; rect.bottom += height;\n    }\n    if (context == \"line\") { return rect }\n    if (!context) { context = \"local\"; }\n    var yOff = heightAtLine(lineObj);\n    if (context == \"local\") { yOff += paddingTop(cm.display); }\n    else { yOff -= cm.display.viewOffset; }\n    if (context == \"page\" || context == \"window\") {\n      var lOff = cm.display.lineSpace.getBoundingClientRect();\n      yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY());\n      var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX());\n      rect.left += xOff; rect.right += xOff;\n    }\n    rect.top += yOff; rect.bottom += yOff;\n    return rect\n  }\n\n  \/\/ Coverts a box from \"div\" coords to another coordinate system.\n  \/\/ Context may be \"window\", \"page\", \"div\", or \"local\".\/null.\n  function fromCoordSystem(cm, coords, context) {\n    if (context == \"div\") { return coords }\n    var left = coords.left, top = coords.top;\n    \/\/ First move into \"page\" coordinate system\n    if (context == \"page\") {\n      left -= pageScrollX();\n      top -= pageScrollY();\n    } else if (context == \"local\" || !context) {\n      var localBox = cm.display.sizer.getBoundingClientRect();\n      left += localBox.left;\n      top += localBox.top;\n    }\n\n    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n    return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}\n  }\n\n  function charCoords(cm, pos, context, lineObj, bias) {\n    if (!lineObj) { lineObj = getLine(cm.doc, pos.line); }\n    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)\n  }\n\n  \/\/ Returns a box for a given cursor position, which may have an\n  \/\/ 'other' property containing the position of the secondary cursor\n  \/\/ on a bidi boundary.\n  \/\/ A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\n  \/\/ and after `char - 1` in writing order of `char - 1`\n  \/\/ A cursor Pos(line, char, \"after\") is on the same visual line as `char`\n  \/\/ and before `char` in writing order of `char`\n  \/\/ Examples (upper-case letters are RTL, lower-case are LTR):\n  \/\/     Pos(0, 1, ...)\n  \/\/     before   after\n  \/\/ ab     a|b     a|b\n  \/\/ aB     a|B     aB|\n  \/\/ Ab     |Ab     A|b\n  \/\/ AB     B|A     B|A\n  \/\/ Every position after the last character on a line is considered to stick\n  \/\/ to the last character on the line.\n  function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n    lineObj = lineObj || getLine(cm.doc, pos.line);\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    function get(ch, right) {\n      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n      if (right) { m.left = m.right; } else { m.right = m.left; }\n      return intoCoordSystem(cm, lineObj, m, context)\n    }\n    var order = getOrder(lineObj, cm.doc.direction), ch = pos.ch, sticky = pos.sticky;\n    if (ch >= lineObj.text.length) {\n      ch = lineObj.text.length;\n      sticky = \"before\";\n    } else if (ch <= 0) {\n      ch = 0;\n      sticky = \"after\";\n    }\n    if (!order) { return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\") }\n\n    function getBidi(ch, partPos, invert) {\n      var part = order[partPos], right = part.level == 1;\n      return get(invert ? ch - 1 : ch, right != invert)\n    }\n    var partPos = getBidiPartAt(order, ch, sticky);\n    var other = bidiOther;\n    var val = getBidi(ch, partPos, sticky == \"before\");\n    if (other != null) { val.other = getBidi(ch, other, sticky != \"before\"); }\n    return val\n  }\n\n  \/\/ Used to cheaply estimate the coordinates for a position. Used for\n  \/\/ intermediate scroll updates.\n  function estimateCoords(cm, pos) {\n    var left = 0;\n    pos = clipPos(cm.doc, pos);\n    if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch; }\n    var lineObj = getLine(cm.doc, pos.line);\n    var top = heightAtLine(lineObj) + paddingTop(cm.display);\n    return {left: left, right: left, top: top, bottom: top + lineObj.height}\n  }\n\n  \/\/ Positions returned by coordsChar contain some extra information.\n  \/\/ xRel is the relative x position of the input coordinates compared\n  \/\/ to the found position (so xRel > 0 means the coordinates are to\n  \/\/ the right of the character position, for example). When outside\n  \/\/ is true, that means the coordinates lie outside the line's\n  \/\/ vertical range.\n  function PosWithInfo(line, ch, sticky, outside, xRel) {\n    var pos = Pos(line, ch, sticky);\n    pos.xRel = xRel;\n    if (outside) { pos.outside = outside; }\n    return pos\n  }\n\n  \/\/ Compute the character position closest to the given coordinates.\n  \/\/ Input must be lineSpace-local (\"div\" coordinate system).\n  function coordsChar(cm, x, y) {\n    var doc = cm.doc;\n    y += cm.display.viewOffset;\n    if (y < 0) { return PosWithInfo(doc.first, 0, null, -1, -1) }\n    var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1;\n    if (lineN > last)\n      { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, 1, 1) }\n    if (x < 0) { x = 0; }\n\n    var lineObj = getLine(doc, lineN);\n    for (;;) {\n      var found = coordsCharInner(cm, lineObj, lineN, x, y);\n      var collapsed = collapsedSpanAround(lineObj, found.ch + (found.xRel > 0 || found.outside > 0 ? 1 : 0));\n      if (!collapsed) { return found }\n      var rangeEnd = collapsed.find(1);\n      if (rangeEnd.line == lineN) { return rangeEnd }\n      lineObj = getLine(doc, lineN = rangeEnd.line);\n    }\n  }\n\n  function wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\n    y -= widgetTopHeight(lineObj);\n    var end = lineObj.text.length;\n    var begin = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y; }, end, 0);\n    end = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch).top > y; }, begin, end);\n    return {begin: begin, end: end}\n  }\n\n  function wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top;\n    return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop)\n  }\n\n  \/\/ Returns true if the given side of a box is after the given\n  \/\/ coordinates, in top-to-bottom, left-to-right order.\n  function boxIsAfter(box, x, y, left) {\n    return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x\n  }\n\n  function coordsCharInner(cm, lineObj, lineNo, x, y) {\n    \/\/ Move y into line-local coordinate space\n    y -= heightAtLine(lineObj);\n    var preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    \/\/ When directly calling `measureCharPrepared`, we have to adjust\n    \/\/ for the widgets at this line.\n    var widgetHeight = widgetTopHeight(lineObj);\n    var begin = 0, end = lineObj.text.length, ltr = true;\n\n    var order = getOrder(lineObj, cm.doc.direction);\n    \/\/ If the line isn't plain left-to-right text, first figure out\n    \/\/ which bidi section the coordinates fall into.\n    if (order) {\n      var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)\n                   (cm, lineObj, lineNo, preparedMeasure, order, x, y);\n      ltr = part.level != 1;\n      \/\/ The awkward -1 offsets are needed because findFirst (called\n      \/\/ on these below) will treat its first bound as inclusive,\n      \/\/ second as exclusive, but we want to actually address the\n      \/\/ characters in the part's range\n      begin = ltr ? part.from : part.to - 1;\n      end = ltr ? part.to : part.from - 1;\n    }\n\n    \/\/ A binary search to find the first character whose bounding box\n    \/\/ starts after the coordinates. If we run across any whose box wrap\n    \/\/ the coordinates, store that.\n    var chAround = null, boxAround = null;\n    var ch = findFirst(function (ch) {\n      var box = measureCharPrepared(cm, preparedMeasure, ch);\n      box.top += widgetHeight; box.bottom += widgetHeight;\n      if (!boxIsAfter(box, x, y, false)) { return false }\n      if (box.top <= y && box.left <= x) {\n        chAround = ch;\n        boxAround = box;\n      }\n      return true\n    }, begin, end);\n\n    var baseX, sticky, outside = false;\n    \/\/ If a box around the coordinates was found, use that\n    if (boxAround) {\n      \/\/ Distinguish coordinates nearer to the left or right side of the box\n      var atLeft = x - boxAround.left < boxAround.right - x, atStart = atLeft == ltr;\n      ch = chAround + (atStart ? 0 : 1);\n      sticky = atStart ? \"after\" : \"before\";\n      baseX = atLeft ? boxAround.left : boxAround.right;\n    } else {\n      \/\/ (Adjust for extended bound, if necessary.)\n      if (!ltr && (ch == end || ch == begin)) { ch++; }\n      \/\/ To determine which side to associate with, get the box to the\n      \/\/ left of the character and compare it's vertical position to the\n      \/\/ coordinates\n      sticky = ch == 0 ? \"after\" : ch == lineObj.text.length ? \"before\" :\n        (measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight <= y) == ltr ?\n        \"after\" : \"before\";\n      \/\/ Now get accurate coordinates for this place, in order to get a\n      \/\/ base X position\n      var coords = cursorCoords(cm, Pos(lineNo, ch, sticky), \"line\", lineObj, preparedMeasure);\n      baseX = coords.left;\n      outside = y < coords.top ? -1 : y >= coords.bottom ? 1 : 0;\n    }\n\n    ch = skipExtendingChars(lineObj.text, ch, 1);\n    return PosWithInfo(lineNo, ch, sticky, outside, x - baseX)\n  }\n\n  function coordsBidiPart(cm, lineObj, lineNo, preparedMeasure, order, x, y) {\n    \/\/ Bidi parts are sorted left-to-right, and in a non-line-wrapping\n    \/\/ situation, we can take this ordering to correspond to the visual\n    \/\/ ordering. This finds the first part whose end is after the given\n    \/\/ coordinates.\n    var index = findFirst(function (i) {\n      var part = order[i], ltr = part.level != 1;\n      return boxIsAfter(cursorCoords(cm, Pos(lineNo, ltr ? part.to : part.from, ltr ? \"before\" : \"after\"),\n                                     \"line\", lineObj, preparedMeasure), x, y, true)\n    }, 0, order.length - 1);\n    var part = order[index];\n    \/\/ If this isn't the first part, the part's start is also after\n    \/\/ the coordinates, and the coordinates aren't on the same line as\n    \/\/ that start, move one part back.\n    if (index > 0) {\n      var ltr = part.level != 1;\n      var start = cursorCoords(cm, Pos(lineNo, ltr ? part.from : part.to, ltr ? \"after\" : \"before\"),\n                               \"line\", lineObj, preparedMeasure);\n      if (boxIsAfter(start, x, y, true) && start.top > y)\n        { part = order[index - 1]; }\n    }\n    return part\n  }\n\n  function coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {\n    \/\/ In a wrapped line, rtl text on wrapping boundaries can do things\n    \/\/ that don't correspond to the ordering in our `order` array at\n    \/\/ all, so a binary search doesn't work, and we want to return a\n    \/\/ part that only spans one line so that the binary search in\n    \/\/ coordsCharInner is safe. As such, we first find the extent of the\n    \/\/ wrapped line, and then do a flat search in which we discard any\n    \/\/ spans that aren't on the line.\n    var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);\n    var begin = ref.begin;\n    var end = ref.end;\n    if (\/\\s\/.test(lineObj.text.charAt(end - 1))) { end--; }\n    var part = null, closestDist = null;\n    for (var i = 0; i < order.length; i++) {\n      var p = order[i];\n      if (p.from >= end || p.to <= begin) { continue }\n      var ltr = p.level != 1;\n      var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right;\n      \/\/ Weigh against spans ending before this, so that they are only\n      \/\/ picked if nothing ends after\n      var dist = endX < x ? x - endX + 1e9 : endX - x;\n      if (!part || closestDist > dist) {\n        part = p;\n        closestDist = dist;\n      }\n    }\n    if (!part) { part = order[order.length - 1]; }\n    \/\/ Clip the part to the wrapped line.\n    if (part.from < begin) { part = {from: begin, to: part.to, level: part.level}; }\n    if (part.to > end) { part = {from: part.from, to: end, level: part.level}; }\n    return part\n  }\n\n  var measureText;\n  \/\/ Compute the default text height.\n  function textHeight(display) {\n    if (display.cachedTextHeight != null) { return display.cachedTextHeight }\n    if (measureText == null) {\n      measureText = elt(\"pre\", null, \"CodeMirror-line-like\");\n      \/\/ Measure a bunch of lines, for browsers that compute\n      \/\/ fractional heights.\n      for (var i = 0; i < 49; ++i) {\n        measureText.appendChild(document.createTextNode(\"x\"));\n        measureText.appendChild(elt(\"br\"));\n      }\n      measureText.appendChild(document.createTextNode(\"x\"));\n    }\n    removeChildrenAndAdd(display.measure, measureText);\n    var height = measureText.offsetHeight \/ 50;\n    if (height > 3) { display.cachedTextHeight = height; }\n    removeChildren(display.measure);\n    return height || 1\n  }\n\n  \/\/ Compute the default character width.\n  function charWidth(display) {\n    if (display.cachedCharWidth != null) { return display.cachedCharWidth }\n    var anchor = elt(\"span\", \"xxxxxxxxxx\");\n    var pre = elt(\"pre\", [anchor], \"CodeMirror-line-like\");\n    removeChildrenAndAdd(display.measure, pre);\n    var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) \/ 10;\n    if (width > 2) { display.cachedCharWidth = width; }\n    return width || 10\n  }\n\n  \/\/ Do a bulk-read of the DOM positions and sizes needed to draw the\n  \/\/ view, so that we don't interleave reading and writing to the DOM.\n  function getDimensions(cm) {\n    var d = cm.display, left = {}, width = {};\n    var gutterLeft = d.gutters.clientLeft;\n    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n      var id = cm.display.gutterSpecs[i].className;\n      left[id] = n.offsetLeft + n.clientLeft + gutterLeft;\n      width[id] = n.clientWidth;\n    }\n    return {fixedPos: compensateForHScroll(d),\n            gutterTotalWidth: d.gutters.offsetWidth,\n            gutterLeft: left,\n            gutterWidth: width,\n            wrapperWidth: d.wrapper.clientWidth}\n  }\n\n  \/\/ Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n  \/\/ but using getBoundingClientRect to get a sub-pixel-accurate\n  \/\/ result.\n  function compensateForHScroll(display) {\n    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left\n  }\n\n  \/\/ Returns a function that estimates the height of a line, to use as\n  \/\/ first approximation until the line becomes visible (and is thus\n  \/\/ properly measurable).\n  function estimateHeight(cm) {\n    var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;\n    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth \/ charWidth(cm.display) - 3);\n    return function (line) {\n      if (lineIsHidden(cm.doc, line)) { return 0 }\n\n      var widgetsHeight = 0;\n      if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {\n        if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height; }\n      } }\n\n      if (wrapping)\n        { return widgetsHeight + (Math.ceil(line.text.length \/ perLine) || 1) * th }\n      else\n        { return widgetsHeight + th }\n    }\n  }\n\n  function estimateLineHeights(cm) {\n    var doc = cm.doc, est = estimateHeight(cm);\n    doc.iter(function (line) {\n      var estHeight = est(line);\n      if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n    });\n  }\n\n  \/\/ Given a mouse event, find the corresponding position. If liberal\n  \/\/ is false, it checks whether a gutter or scrollbar was clicked,\n  \/\/ and returns null if it was. forRect is used by rectangular\n  \/\/ selections, and tries to estimate a character position even for\n  \/\/ coordinates beyond the right of the text.\n  function posFromMouse(cm, e, liberal, forRect) {\n    var display = cm.display;\n    if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") { return null }\n\n    var x, y, space = display.lineSpace.getBoundingClientRect();\n    \/\/ Fails unpredictably on IE[67] when mouse is dragged around quickly.\n    try { x = e.clientX - space.left; y = e.clientY - space.top; }\n    catch (e$1) { return null }\n    var coords = coordsChar(cm, x, y), line;\n    if (forRect && coords.xRel > 0 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) \/ charWidth(cm.display)) - colDiff));\n    }\n    return coords\n  }\n\n  \/\/ Find the view element corresponding to a given line. Return null\n  \/\/ when the line isn't visible.\n  function findViewIndex(cm, n) {\n    if (n >= cm.display.viewTo) { return null }\n    n -= cm.display.viewFrom;\n    if (n < 0) { return null }\n    var view = cm.display.view;\n    for (var i = 0; i < view.length; i++) {\n      n -= view[i].size;\n      if (n < 0) { return i }\n    }\n  }\n\n  \/\/ Updates the display.view data structure for a given change to the\n  \/\/ document. From and to are in pre-change coordinates. Lendiff is\n  \/\/ the amount of lines added or subtracted by the change. This is\n  \/\/ used for changes that span multiple lines, or change the way\n  \/\/ lines are divided into visual lines. regLineChange (below)\n  \/\/ registers single-line changes.\n  function regChange(cm, from, to, lendiff) {\n    if (from == null) { from = cm.doc.first; }\n    if (to == null) { to = cm.doc.first + cm.doc.size; }\n    if (!lendiff) { lendiff = 0; }\n\n    var display = cm.display;\n    if (lendiff && to < display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers > from))\n      { display.updateLineNumbers = from; }\n\n    cm.curOp.viewChanged = true;\n\n    if (from >= display.viewTo) { \/\/ Change after\n      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\n        { resetView(cm); }\n    } else if (to <= display.viewFrom) { \/\/ Change before\n      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n        resetView(cm);\n      } else {\n        display.viewFrom += lendiff;\n        display.viewTo += lendiff;\n      }\n    } else if (from <= display.viewFrom && to >= display.viewTo) { \/\/ Full overlap\n      resetView(cm);\n    } else if (from <= display.viewFrom) { \/\/ Top overlap\n      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cut) {\n        display.view = display.view.slice(cut.index);\n        display.viewFrom = cut.lineN;\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    } else if (to >= display.viewTo) { \/\/ Bottom overlap\n      var cut$1 = viewCuttingPoint(cm, from, from, -1);\n      if (cut$1) {\n        display.view = display.view.slice(0, cut$1.index);\n        display.viewTo = cut$1.lineN;\n      } else {\n        resetView(cm);\n      }\n    } else { \/\/ Gap in the middle\n      var cutTop = viewCuttingPoint(cm, from, from, -1);\n      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cutTop && cutBot) {\n        display.view = display.view.slice(0, cutTop.index)\n          .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\n          .concat(display.view.slice(cutBot.index));\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    }\n\n    var ext = display.externalMeasured;\n    if (ext) {\n      if (to < ext.lineN)\n        { ext.lineN += lendiff; }\n      else if (from < ext.lineN + ext.size)\n        { display.externalMeasured = null; }\n    }\n  }\n\n  \/\/ Register a change to a single line. Type must be one of \"text\",\n  \/\/ \"gutter\", \"class\", \"widget\"\n  function regLineChange(cm, line, type) {\n    cm.curOp.viewChanged = true;\n    var display = cm.display, ext = cm.display.externalMeasured;\n    if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\n      { display.externalMeasured = null; }\n\n    if (line < display.viewFrom || line >= display.viewTo) { return }\n    var lineView = display.view[findViewIndex(cm, line)];\n    if (lineView.node == null) { return }\n    var arr = lineView.changes || (lineView.changes = []);\n    if (indexOf(arr, type) == -1) { arr.push(type); }\n  }\n\n  \/\/ Clear the view.\n  function resetView(cm) {\n    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n    cm.display.view = [];\n    cm.display.viewOffset = 0;\n  }\n\n  function viewCuttingPoint(cm, oldN, newN, dir) {\n    var index = findViewIndex(cm, oldN), diff, view = cm.display.view;\n    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\n      { return {index: index, lineN: newN} }\n    var n = cm.display.viewFrom;\n    for (var i = 0; i < index; i++)\n      { n += view[i].size; }\n    if (n != oldN) {\n      if (dir > 0) {\n        if (index == view.length - 1) { return null }\n        diff = (n + view[index].size) - oldN;\n        index++;\n      } else {\n        diff = n - oldN;\n      }\n      oldN += diff; newN += diff;\n    }\n    while (visualLineNo(cm.doc, newN) != newN) {\n      if (index == (dir < 0 ? 0 : view.length - 1)) { return null }\n      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n      index += dir;\n    }\n    return {index: index, lineN: newN}\n  }\n\n  \/\/ Force the view to cover a given range, adding empty view element\n  \/\/ or clipping off existing ones as needed.\n  function adjustView(cm, from, to) {\n    var display = cm.display, view = display.view;\n    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n      display.view = buildViewArray(cm, from, to);\n      display.viewFrom = from;\n    } else {\n      if (display.viewFrom > from)\n        { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view); }\n      else if (display.viewFrom < from)\n        { display.view = display.view.slice(findViewIndex(cm, from)); }\n      display.viewFrom = from;\n      if (display.viewTo < to)\n        { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)); }\n      else if (display.viewTo > to)\n        { display.view = display.view.slice(0, findViewIndex(cm, to)); }\n    }\n    display.viewTo = to;\n  }\n\n  \/\/ Count the number of lines in the view whose DOM representation is\n  \/\/ out of date (or nonexistent).\n  function countDirtyView(cm) {\n    var view = cm.display.view, dirty = 0;\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty; }\n    }\n    return dirty\n  }\n\n  function updateSelection(cm) {\n    cm.display.input.showSelection(cm.display.input.prepareSelection());\n  }\n\n  function prepareSelection(cm, primary) {\n    if ( primary === void 0 ) primary = true;\n\n    var doc = cm.doc, result = {};\n    var curFragment = result.cursors = document.createDocumentFragment();\n    var selFragment = result.selection = document.createDocumentFragment();\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      if (!primary && i == doc.sel.primIndex) { continue }\n      var range = doc.sel.ranges[i];\n      if (range.from().line >= cm.display.viewTo || range.to().line < cm.display.viewFrom) { continue }\n      var collapsed = range.empty();\n      if (collapsed || cm.options.showCursorWhenSelecting)\n        { drawSelectionCursor(cm, range.head, curFragment); }\n      if (!collapsed)\n        { drawSelectionRange(cm, range, selFragment); }\n    }\n    return result\n  }\n\n  \/\/ Draws a cursor for the given range\n  function drawSelectionCursor(cm, head, output) {\n    var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n\n    var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"));\n    cursor.style.left = pos.left + \"px\";\n    cursor.style.top = pos.top + \"px\";\n    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n    if (pos.other) {\n      \/\/ Secondary cursor, shown when on a 'jump' in bi-directional text\n      var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n      otherCursor.style.display = \"\";\n      otherCursor.style.left = pos.other.left + \"px\";\n      otherCursor.style.top = pos.other.top + \"px\";\n      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n    }\n  }\n\n  function cmpCoords(a, b) { return a.top - b.top || a.left - b.left }\n\n  \/\/ Draws the given range as a highlighted selection\n  function drawSelectionRange(cm, range, output) {\n    var display = cm.display, doc = cm.doc;\n    var fragment = document.createDocumentFragment();\n    var padding = paddingH(cm.display), leftSide = padding.left;\n    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n    var docLTR = doc.direction == \"ltr\";\n\n    function add(left, top, width, bottom) {\n      if (top < 0) { top = 0; }\n      top = Math.round(top);\n      bottom = Math.round(bottom);\n      fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", (\"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\")));\n    }\n\n    function drawForLine(line, fromArg, toArg) {\n      var lineObj = getLine(doc, line);\n      var lineLen = lineObj.text.length;\n      var start, end;\n      function coords(ch, bias) {\n        return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias)\n      }\n\n      function wrapX(pos, dir, side) {\n        var extent = wrappedLineExtentChar(cm, lineObj, null, pos);\n        var prop = (dir == \"ltr\") == (side == \"after\") ? \"left\" : \"right\";\n        var ch = side == \"after\" ? extent.begin : extent.end - (\/\\s\/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1);\n        return coords(ch, prop)[prop]\n      }\n\n      var order = getOrder(lineObj, doc.direction);\n      iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir, i) {\n        var ltr = dir == \"ltr\";\n        var fromPos = coords(from, ltr ? \"left\" : \"right\");\n        var toPos = coords(to - 1, ltr ? \"right\" : \"left\");\n\n        var openStart = fromArg == null && from == 0, openEnd = toArg == null && to == lineLen;\n        var first = i == 0, last = !order || i == order.length - 1;\n        if (toPos.top - fromPos.top <= 3) { \/\/ Single line\n          var openLeft = (docLTR ? openStart : openEnd) && first;\n          var openRight = (docLTR ? openEnd : openStart) && last;\n          var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left;\n          var right = openRight ? rightSide : (ltr ? toPos : fromPos).right;\n          add(left, fromPos.top, right - left, fromPos.bottom);\n        } else { \/\/ Multiple lines\n          var topLeft, topRight, botLeft, botRight;\n          if (ltr) {\n            topLeft = docLTR && openStart && first ? leftSide : fromPos.left;\n            topRight = docLTR ? rightSide : wrapX(from, dir, \"before\");\n            botLeft = docLTR ? leftSide : wrapX(to, dir, \"after\");\n            botRight = docLTR && openEnd && last ? rightSide : toPos.right;\n          } else {\n            topLeft = !docLTR ? leftSide : wrapX(from, dir, \"before\");\n            topRight = !docLTR && openStart && first ? rightSide : fromPos.right;\n            botLeft = !docLTR && openEnd && last ? leftSide : toPos.left;\n            botRight = !docLTR ? rightSide : wrapX(to, dir, \"after\");\n          }\n          add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom);\n          if (fromPos.bottom < toPos.top) { add(leftSide, fromPos.bottom, null, toPos.top); }\n          add(botLeft, toPos.top, botRight - botLeft, toPos.bottom);\n        }\n\n        if (!start || cmpCoords(fromPos, start) < 0) { start = fromPos; }\n        if (cmpCoords(toPos, start) < 0) { start = toPos; }\n        if (!end || cmpCoords(fromPos, end) < 0) { end = fromPos; }\n        if (cmpCoords(toPos, end) < 0) { end = toPos; }\n      });\n      return {start: start, end: end}\n    }\n\n    var sFrom = range.from(), sTo = range.to();\n    if (sFrom.line == sTo.line) {\n      drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n    } else {\n      var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line);\n      var singleVLine = visualLine(fromLine) == visualLine(toLine);\n      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n      if (singleVLine) {\n        if (leftEnd.top < rightStart.top - 2) {\n          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n        } else {\n          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n        }\n      }\n      if (leftEnd.bottom < rightStart.top)\n        { add(leftSide, leftEnd.bottom, null, rightStart.top); }\n    }\n\n    output.appendChild(fragment);\n  }\n\n  \/\/ Cursor-blinking\n  function restartBlink(cm) {\n    if (!cm.state.focused) { return }\n    var display = cm.display;\n    clearInterval(display.blinker);\n    var on = true;\n    display.cursorDiv.style.visibility = \"\";\n    if (cm.options.cursorBlinkRate > 0)\n      { display.blinker = setInterval(function () {\n        if (!cm.hasFocus()) { onBlur(cm); }\n        display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\";\n      }, cm.options.cursorBlinkRate); }\n    else if (cm.options.cursorBlinkRate < 0)\n      { display.cursorDiv.style.visibility = \"hidden\"; }\n  }\n\n  function ensureFocus(cm) {\n    if (!cm.hasFocus()) {\n      cm.display.input.focus();\n      if (!cm.state.focused) { onFocus(cm); }\n    }\n  }\n\n  function delayBlurEvent(cm) {\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { if (cm.state.delayingBlurEvent) {\n      cm.state.delayingBlurEvent = false;\n      if (cm.state.focused) { onBlur(cm); }\n    } }, 100);\n  }\n\n  function onFocus(cm, e) {\n    if (cm.state.delayingBlurEvent && !cm.state.draggingText) { cm.state.delayingBlurEvent = false; }\n\n    if (cm.options.readOnly == \"nocursor\") { return }\n    if (!cm.state.focused) {\n      signal(cm, \"focus\", cm, e);\n      cm.state.focused = true;\n      addClass(cm.display.wrapper, \"CodeMirror-focused\");\n      \/\/ This test prevents this from firing when a context\n      \/\/ menu is closed (since the input reset would kill the\n      \/\/ select-all detection hack)\n      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n        cm.display.input.reset();\n        if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20); } \/\/ Issue #1730\n      }\n      cm.display.input.receivedFocus();\n    }\n    restartBlink(cm);\n  }\n  function onBlur(cm, e) {\n    if (cm.state.delayingBlurEvent) { return }\n\n    if (cm.state.focused) {\n      signal(cm, \"blur\", cm, e);\n      cm.state.focused = false;\n      rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n    }\n    clearInterval(cm.display.blinker);\n    setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false; } }, 150);\n  }\n\n  \/\/ Read the actual heights of the rendered lines, and update their\n  \/\/ stored heights to match.\n  function updateHeightsInViewport(cm) {\n    var display = cm.display;\n    var prevBottom = display.lineDiv.offsetTop;\n    for (var i = 0; i < display.view.length; i++) {\n      var cur = display.view[i], wrapping = cm.options.lineWrapping;\n      var height = (void 0), width = 0;\n      if (cur.hidden) { continue }\n      if (ie && ie_version < 8) {\n        var bot = cur.node.offsetTop + cur.node.offsetHeight;\n        height = bot - prevBottom;\n        prevBottom = bot;\n      } else {\n        var box = cur.node.getBoundingClientRect();\n        height = box.bottom - box.top;\n        \/\/ Check that lines don't extend past the right of the current\n        \/\/ editor width\n        if (!wrapping && cur.text.firstChild)\n          { width = cur.text.firstChild.getBoundingClientRect().right - box.left - 1; }\n      }\n      var diff = cur.line.height - height;\n      if (diff > .005 || diff < -.005) {\n        updateLineHeight(cur.line, height);\n        updateWidgetHeight(cur.line);\n        if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)\n          { updateWidgetHeight(cur.rest[j]); } }\n      }\n      if (width > cm.display.sizerWidth) {\n        var chWidth = Math.ceil(width \/ charWidth(cm.display));\n        if (chWidth > cm.display.maxLineLength) {\n          cm.display.maxLineLength = chWidth;\n          cm.display.maxLine = cur.line;\n          cm.display.maxLineChanged = true;\n        }\n      }\n    }\n  }\n\n  \/\/ Read and store the height of line widgets associated with the\n  \/\/ given line.\n  function updateWidgetHeight(line) {\n    if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i) {\n      var w = line.widgets[i], parent = w.node.parentNode;\n      if (parent) { w.height = parent.offsetHeight; }\n    } }\n  }\n\n  \/\/ Compute the lines that are visible in a given viewport (defaults\n  \/\/ the the current scroll position). viewport may contain top,\n  \/\/ height, and ensure (see op.scrollToPos) properties.\n  function visibleLines(display, doc, viewport) {\n    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n    top = Math.floor(top - paddingTop(display));\n    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n\n    var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom);\n    \/\/ Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n    \/\/ forces those lines into the viewport (if possible).\n    if (viewport && viewport.ensure) {\n      var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;\n      if (ensureFrom < from) {\n        from = ensureFrom;\n        to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n        from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n        to = ensureTo;\n      }\n    }\n    return {from: from, to: Math.max(to, from + 1)}\n  }\n\n  \/\/ SCROLLING THINGS INTO VIEW\n\n  \/\/ If an editor sits on the top or bottom of the window, partially\n  \/\/ scrolled out of view, this ensures that the cursor is visible.\n  function maybeScrollWindow(cm, rect) {\n    if (signalDOMEvent(cm, \"scrollCursorIntoView\")) { return }\n\n    var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;\n    if (rect.top + box.top < 0) { doScroll = true; }\n    else if (rect.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) { doScroll = false; }\n    if (doScroll != null && !phantom) {\n      var scrollNode = elt(\"div\", \"\\u200b\", null, (\"position: absolute;\\n                         top: \" + (rect.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + (rect.left) + \"px; width: \" + (Math.max(2, rect.right - rect.left)) + \"px;\"));\n      cm.display.lineSpace.appendChild(scrollNode);\n      scrollNode.scrollIntoView(doScroll);\n      cm.display.lineSpace.removeChild(scrollNode);\n    }\n  }\n\n  \/\/ Scroll a given position into view (immediately), verifying that\n  \/\/ it actually became visible (as line heights are accurately\n  \/\/ measured, the position of something may 'drift' during drawing).\n  function scrollPosIntoView(cm, pos, end, margin) {\n    if (margin == null) { margin = 0; }\n    var rect;\n    if (!cm.options.lineWrapping && pos == end) {\n      \/\/ Set pos and end to the cursor positions around the character pos sticks to\n      \/\/ If pos.sticky == \"before\", that is around pos.ch - 1, otherwise around pos.ch\n      \/\/ If pos == Pos(_, 0, \"before\"), pos and end are unchanged\n      pos = pos.ch ? Pos(pos.line, pos.sticky == \"before\" ? pos.ch - 1 : pos.ch, \"after\") : pos;\n      end = pos.sticky == \"before\" ? Pos(pos.line, pos.ch + 1, \"before\") : pos;\n    }\n    for (var limit = 0; limit < 5; limit++) {\n      var changed = false;\n      var coords = cursorCoords(cm, pos);\n      var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);\n      rect = {left: Math.min(coords.left, endCoords.left),\n              top: Math.min(coords.top, endCoords.top) - margin,\n              right: Math.max(coords.left, endCoords.left),\n              bottom: Math.max(coords.bottom, endCoords.bottom) + margin};\n      var scrollPos = calculateScrollPos(cm, rect);\n      var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;\n      if (scrollPos.scrollTop != null) {\n        updateScrollTop(cm, scrollPos.scrollTop);\n        if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true; }\n      }\n      if (scrollPos.scrollLeft != null) {\n        setScrollLeft(cm, scrollPos.scrollLeft);\n        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true; }\n      }\n      if (!changed) { break }\n    }\n    return rect\n  }\n\n  \/\/ Scroll a given set of coordinates into view (immediately).\n  function scrollIntoView(cm, rect) {\n    var scrollPos = calculateScrollPos(cm, rect);\n    if (scrollPos.scrollTop != null) { updateScrollTop(cm, scrollPos.scrollTop); }\n    if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft); }\n  }\n\n  \/\/ Calculate a new scroll position needed to scroll the given\n  \/\/ rectangle into view. Returns an object with scrollTop and\n  \/\/ scrollLeft properties. When these are undefined, the\n  \/\/ vertical\/horizontal position does not need to be adjusted.\n  function calculateScrollPos(cm, rect) {\n    var display = cm.display, snapMargin = textHeight(cm.display);\n    if (rect.top < 0) { rect.top = 0; }\n    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n    var screen = displayHeight(cm), result = {};\n    if (rect.bottom - rect.top > screen) { rect.bottom = rect.top + screen; }\n    var docBottom = cm.doc.height + paddingVert(display);\n    var atTop = rect.top < snapMargin, atBottom = rect.bottom > docBottom - snapMargin;\n    if (rect.top < screentop) {\n      result.scrollTop = atTop ? 0 : rect.top;\n    } else if (rect.bottom > screentop + screen) {\n      var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen);\n      if (newTop != screentop) { result.scrollTop = newTop; }\n    }\n\n    var gutterSpace = cm.options.fixedGutter ? 0 : display.gutters.offsetWidth;\n    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft - gutterSpace;\n    var screenw = displayWidth(cm) - display.gutters.offsetWidth;\n    var tooWide = rect.right - rect.left > screenw;\n    if (tooWide) { rect.right = rect.left + screenw; }\n    if (rect.left < 10)\n      { result.scrollLeft = 0; }\n    else if (rect.left < screenleft)\n      { result.scrollLeft = Math.max(0, rect.left + gutterSpace - (tooWide ? 0 : 10)); }\n    else if (rect.right > screenw + screenleft - 3)\n      { result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw; }\n    return result\n  }\n\n  \/\/ Store a relative adjustment to the scroll position in the current\n  \/\/ operation (to be applied when the operation finishes).\n  function addToScrollTop(cm, top) {\n    if (top == null) { return }\n    resolveScrollToPos(cm);\n    cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n  }\n\n  \/\/ Make sure that at the end of the operation the current cursor is\n  \/\/ shown.\n  function ensureCursorVisible(cm) {\n    resolveScrollToPos(cm);\n    var cur = cm.getCursor();\n    cm.curOp.scrollToPos = {from: cur, to: cur, margin: cm.options.cursorScrollMargin};\n  }\n\n  function scrollToCoords(cm, x, y) {\n    if (x != null || y != null) { resolveScrollToPos(cm); }\n    if (x != null) { cm.curOp.scrollLeft = x; }\n    if (y != null) { cm.curOp.scrollTop = y; }\n  }\n\n  function scrollToRange(cm, range) {\n    resolveScrollToPos(cm);\n    cm.curOp.scrollToPos = range;\n  }\n\n  \/\/ When an operation has its scrollToPos property set, and another\n  \/\/ scroll action is applied before the end of the operation, this\n  \/\/ 'simulates' scrolling that position into view in a cheap way, so\n  \/\/ that the effect of intermediate scroll commands is not ignored.\n  function resolveScrollToPos(cm) {\n    var range = cm.curOp.scrollToPos;\n    if (range) {\n      cm.curOp.scrollToPos = null;\n      var from = estimateCoords(cm, range.from), to = estimateCoords(cm, range.to);\n      scrollToCoordsRange(cm, from, to, range.margin);\n    }\n  }\n\n  function scrollToCoordsRange(cm, from, to, margin) {\n    var sPos = calculateScrollPos(cm, {\n      left: Math.min(from.left, to.left),\n      top: Math.min(from.top, to.top) - margin,\n      right: Math.max(from.right, to.right),\n      bottom: Math.max(from.bottom, to.bottom) + margin\n    });\n    scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop);\n  }\n\n  \/\/ Sync the scrollable area and scrollbars, ensure the viewport\n  \/\/ covers the visible area.\n  function updateScrollTop(cm, val) {\n    if (Math.abs(cm.doc.scrollTop - val) < 2) { return }\n    if (!gecko) { updateDisplaySimple(cm, {top: val}); }\n    setScrollTop(cm, val, true);\n    if (gecko) { updateDisplaySimple(cm); }\n    startWorker(cm, 100);\n  }\n\n  function setScrollTop(cm, val, forceScroll) {\n    val = Math.max(0, Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val));\n    if (cm.display.scroller.scrollTop == val && !forceScroll) { return }\n    cm.doc.scrollTop = val;\n    cm.display.scrollbars.setScrollTop(val);\n    if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val; }\n  }\n\n  \/\/ Sync scroller and scrollbar, ensure the gutter elements are\n  \/\/ aligned.\n  function setScrollLeft(cm, val, isScroller, forceScroll) {\n    val = Math.max(0, Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth));\n    if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) { return }\n    cm.doc.scrollLeft = val;\n    alignHorizontally(cm);\n    if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val; }\n    cm.display.scrollbars.setScrollLeft(val);\n  }\n\n  \/\/ SCROLLBARS\n\n  \/\/ Prepare DOM reads needed to update the scrollbars. Done in one\n  \/\/ shot to minimize update\/measure roundtrips.\n  function measureForScrollbars(cm) {\n    var d = cm.display, gutterW = d.gutters.offsetWidth;\n    var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n    return {\n      clientHeight: d.scroller.clientHeight,\n      viewHeight: d.wrapper.clientHeight,\n      scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\n      viewWidth: d.wrapper.clientWidth,\n      barLeft: cm.options.fixedGutter ? gutterW : 0,\n      docHeight: docH,\n      scrollHeight: docH + scrollGap(cm) + d.barHeight,\n      nativeBarWidth: d.nativeBarWidth,\n      gutterWidth: gutterW\n    }\n  }\n\n  var NativeScrollbars = function(place, scroll, cm) {\n    this.cm = cm;\n    var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n    var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n    vert.tabIndex = horiz.tabIndex = -1;\n    place(vert); place(horiz);\n\n    on(vert, \"scroll\", function () {\n      if (vert.clientHeight) { scroll(vert.scrollTop, \"vertical\"); }\n    });\n    on(horiz, \"scroll\", function () {\n      if (horiz.clientWidth) { scroll(horiz.scrollLeft, \"horizontal\"); }\n    });\n\n    this.checkedZeroWidth = false;\n    \/\/ Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n    if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\"; }\n  };\n\n  NativeScrollbars.prototype.update = function (measure) {\n    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n    var sWidth = measure.nativeBarWidth;\n\n    if (needsV) {\n      this.vert.style.display = \"block\";\n      this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n      var totalHeight = measure.viewHeight - (needsH ? sWidth : 0);\n      \/\/ A bug in IE8 can cause this value to be negative, so guard it.\n      this.vert.firstChild.style.height =\n        Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n    } else {\n      this.vert.style.display = \"\";\n      this.vert.firstChild.style.height = \"0\";\n    }\n\n    if (needsH) {\n      this.horiz.style.display = \"block\";\n      this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n      this.horiz.style.left = measure.barLeft + \"px\";\n      var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n      this.horiz.firstChild.style.width =\n        Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n    } else {\n      this.horiz.style.display = \"\";\n      this.horiz.firstChild.style.width = \"0\";\n    }\n\n    if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n      if (sWidth == 0) { this.zeroWidthHack(); }\n      this.checkedZeroWidth = true;\n    }\n\n    return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}\n  };\n\n  NativeScrollbars.prototype.setScrollLeft = function (pos) {\n    if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos; }\n    if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz, \"horiz\"); }\n  };\n\n  NativeScrollbars.prototype.setScrollTop = function (pos) {\n    if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos; }\n    if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert, \"vert\"); }\n  };\n\n  NativeScrollbars.prototype.zeroWidthHack = function () {\n    var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n    this.horiz.style.height = this.vert.style.width = w;\n    this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\";\n    this.disableHoriz = new Delayed;\n    this.disableVert = new Delayed;\n  };\n\n  NativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay, type) {\n    bar.style.pointerEvents = \"auto\";\n    function maybeDisable() {\n      \/\/ To find out whether the scrollbar is still visible, we\n      \/\/ check whether the element under the pixel in the bottom\n      \/\/ right corner of the scrollbar box is the scrollbar box\n      \/\/ itself (when the bar is still visible) or its filler child\n      \/\/ (when the bar is hidden). If it is still visible, we keep\n      \/\/ it enabled, if it's hidden, we disable pointer events.\n      var box = bar.getBoundingClientRect();\n      var elt = type == \"vert\" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) \/ 2)\n          : document.elementFromPoint((box.right + box.left) \/ 2, box.bottom - 1);\n      if (elt != bar) { bar.style.pointerEvents = \"none\"; }\n      else { delay.set(1000, maybeDisable); }\n    }\n    delay.set(1000, maybeDisable);\n  };\n\n  NativeScrollbars.prototype.clear = function () {\n    var parent = this.horiz.parentNode;\n    parent.removeChild(this.horiz);\n    parent.removeChild(this.vert);\n  };\n\n  var NullScrollbars = function () {};\n\n  NullScrollbars.prototype.update = function () { return {bottom: 0, right: 0} };\n  NullScrollbars.prototype.setScrollLeft = function () {};\n  NullScrollbars.prototype.setScrollTop = function () {};\n  NullScrollbars.prototype.clear = function () {};\n\n  function updateScrollbars(cm, measure) {\n    if (!measure) { measure = measureForScrollbars(cm); }\n    var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight;\n    updateScrollbarsInner(cm, measure);\n    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n      if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\n        { updateHeightsInViewport(cm); }\n      updateScrollbarsInner(cm, measureForScrollbars(cm));\n      startWidth = cm.display.barWidth; startHeight = cm.display.barHeight;\n    }\n  }\n\n  \/\/ Re-synchronize the fake scrollbars with the actual size of the\n  \/\/ content.\n  function updateScrollbarsInner(cm, measure) {\n    var d = cm.display;\n    var sizes = d.scrollbars.update(measure);\n\n    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n    d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\";\n\n    if (sizes.right && sizes.bottom) {\n      d.scrollbarFiller.style.display = \"block\";\n      d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n      d.scrollbarFiller.style.width = sizes.right + \"px\";\n    } else { d.scrollbarFiller.style.display = \"\"; }\n    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n      d.gutterFiller.style.display = \"block\";\n      d.gutterFiller.style.height = sizes.bottom + \"px\";\n      d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n    } else { d.gutterFiller.style.display = \"\"; }\n  }\n\n  var scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars};\n\n  function initScrollbars(cm) {\n    if (cm.display.scrollbars) {\n      cm.display.scrollbars.clear();\n      if (cm.display.scrollbars.addClass)\n        { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n    }\n\n    cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller);\n      \/\/ Prevent clicks in the scrollbars from killing focus\n      on(node, \"mousedown\", function () {\n        if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0); }\n      });\n      node.setAttribute(\"cm-not-content\", \"true\");\n    }, function (pos, axis) {\n      if (axis == \"horizontal\") { setScrollLeft(cm, pos); }\n      else { updateScrollTop(cm, pos); }\n    }, cm);\n    if (cm.display.scrollbars.addClass)\n      { addClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n  }\n\n  \/\/ Operations are used to wrap a series of changes to the editor\n  \/\/ state in such a way that each change won't have to update the\n  \/\/ cursor and display (which would be awkward, slow, and\n  \/\/ error-prone). Instead, display updates are batched and then all\n  \/\/ combined and executed at once.\n\n  var nextOpId = 0;\n  \/\/ Start a new operation.\n  function startOperation(cm) {\n    cm.curOp = {\n      cm: cm,\n      viewChanged: false,      \/\/ Flag that indicates that lines might need to be redrawn\n      startHeight: cm.doc.height, \/\/ Used to detect need to update scrollbar\n      forceUpdate: false,      \/\/ Used to force a redraw\n      updateInput: 0,       \/\/ Whether to reset the input textarea\n      typing: false,           \/\/ Whether this reset should be careful to leave existing text (for compositing)\n      changeObjs: null,        \/\/ Accumulated changes, for firing change events\n      cursorActivityHandlers: null, \/\/ Set of handlers to fire cursorActivity on\n      cursorActivityCalled: 0, \/\/ Tracks which cursorActivity handlers have been called already\n      selectionChanged: false, \/\/ Whether the selection needs to be redrawn\n      updateMaxLine: false,    \/\/ Set when the widest line needs to be determined anew\n      scrollLeft: null, scrollTop: null, \/\/ Intermediate scroll position, not pushed to DOM yet\n      scrollToPos: null,       \/\/ Used to scroll to a specific position\n      focus: false,\n      id: ++nextOpId           \/\/ Unique ID\n    };\n    pushOperation(cm.curOp);\n  }\n\n  \/\/ Finish an operation, updating the display and signalling delayed events\n  function endOperation(cm) {\n    var op = cm.curOp;\n    if (op) { finishOperation(op, function (group) {\n      for (var i = 0; i < group.ops.length; i++)\n        { group.ops[i].cm.curOp = null; }\n      endOperations(group);\n    }); }\n  }\n\n  \/\/ The DOM updates done when an operation finishes are batched so\n  \/\/ that the minimum number of relayouts are required.\n  function endOperations(group) {\n    var ops = group.ops;\n    for (var i = 0; i < ops.length; i++) \/\/ Read DOM\n      { endOperation_R1(ops[i]); }\n    for (var i$1 = 0; i$1 < ops.length; i$1++) \/\/ Write DOM (maybe)\n      { endOperation_W1(ops[i$1]); }\n    for (var i$2 = 0; i$2 < ops.length; i$2++) \/\/ Read DOM\n      { endOperation_R2(ops[i$2]); }\n    for (var i$3 = 0; i$3 < ops.length; i$3++) \/\/ Write DOM (maybe)\n      { endOperation_W2(ops[i$3]); }\n    for (var i$4 = 0; i$4 < ops.length; i$4++) \/\/ Read DOM\n      { endOperation_finish(ops[i$4]); }\n  }\n\n  function endOperation_R1(op) {\n    var cm = op.cm, display = cm.display;\n    maybeClipScrollbars(cm);\n    if (op.updateMaxLine) { findMaxLine(cm); }\n\n    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\n      op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\n                         op.scrollToPos.to.line >= display.viewTo) ||\n      display.maxLineChanged && cm.options.lineWrapping;\n    op.update = op.mustUpdate &&\n      new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate);\n  }\n\n  function endOperation_W1(op) {\n    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n  }\n\n  function endOperation_R2(op) {\n    var cm = op.cm, display = cm.display;\n    if (op.updatedDisplay) { updateHeightsInViewport(cm); }\n\n    op.barMeasure = measureForScrollbars(cm);\n\n    \/\/ If the max line changed since it was last measured, measure it,\n    \/\/ and ensure the document's width matches it.\n    \/\/ updateDisplay_W2 will use these properties to do the actual resizing\n    if (display.maxLineChanged && !cm.options.lineWrapping) {\n      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n      cm.display.sizerWidth = op.adjustWidthTo;\n      op.barMeasure.scrollWidth =\n        Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n    }\n\n    if (op.updatedDisplay || op.selectionChanged)\n      { op.preparedSelection = display.input.prepareSelection(); }\n  }\n\n  function endOperation_W2(op) {\n    var cm = op.cm;\n\n    if (op.adjustWidthTo != null) {\n      cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n      if (op.maxScrollLeft < cm.doc.scrollLeft)\n        { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true); }\n      cm.display.maxLineChanged = false;\n    }\n\n    var takeFocus = op.focus && op.focus == activeElt();\n    if (op.preparedSelection)\n      { cm.display.input.showSelection(op.preparedSelection, takeFocus); }\n    if (op.updatedDisplay || op.startHeight != cm.doc.height)\n      { updateScrollbars(cm, op.barMeasure); }\n    if (op.updatedDisplay)\n      { setDocumentHeight(cm, op.barMeasure); }\n\n    if (op.selectionChanged) { restartBlink(cm); }\n\n    if (cm.state.focused && op.updateInput)\n      { cm.display.input.reset(op.typing); }\n    if (takeFocus) { ensureFocus(op.cm); }\n  }\n\n  function endOperation_finish(op) {\n    var cm = op.cm, display = cm.display, doc = cm.doc;\n\n    if (op.updatedDisplay) { postUpdateDisplay(cm, op.update); }\n\n    \/\/ Abort mouse wheel delta measurement, when scrolling explicitly\n    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\n      { display.wheelStartX = display.wheelStartY = null; }\n\n    \/\/ Propagate the scroll position to the actual DOM scroller\n    if (op.scrollTop != null) { setScrollTop(cm, op.scrollTop, op.forceScroll); }\n\n    if (op.scrollLeft != null) { setScrollLeft(cm, op.scrollLeft, true, true); }\n    \/\/ If we need to scroll a specific position into view, do so.\n    if (op.scrollToPos) {\n      var rect = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\n                                   clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n      maybeScrollWindow(cm, rect);\n    }\n\n    \/\/ Fire events for markers that are hidden\/unidden by editing or\n    \/\/ undoing\n    var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;\n    if (hidden) { for (var i = 0; i < hidden.length; ++i)\n      { if (!hidden[i].lines.length) { signal(hidden[i], \"hide\"); } } }\n    if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)\n      { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], \"unhide\"); } } }\n\n    if (display.wrapper.offsetHeight)\n      { doc.scrollTop = cm.display.scroller.scrollTop; }\n\n    \/\/ Fire change events, and delayed event handlers\n    if (op.changeObjs)\n      { signal(cm, \"changes\", cm, op.changeObjs); }\n    if (op.update)\n      { op.update.finish(); }\n  }\n\n  \/\/ Run the given function in an operation\n  function runInOp(cm, f) {\n    if (cm.curOp) { return f() }\n    startOperation(cm);\n    try { return f() }\n    finally { endOperation(cm); }\n  }\n  \/\/ Wraps a function in an operation. Returns the wrapped function.\n  function operation(cm, f) {\n    return function() {\n      if (cm.curOp) { return f.apply(cm, arguments) }\n      startOperation(cm);\n      try { return f.apply(cm, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n  \/\/ Used to add methods to editor and doc instances, wrapping them in\n  \/\/ operations.\n  function methodOp(f) {\n    return function() {\n      if (this.curOp) { return f.apply(this, arguments) }\n      startOperation(this);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(this); }\n    }\n  }\n  function docMethodOp(f) {\n    return function() {\n      var cm = this.cm;\n      if (!cm || cm.curOp) { return f.apply(this, arguments) }\n      startOperation(cm);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n\n  \/\/ HIGHLIGHT WORKER\n\n  function startWorker(cm, time) {\n    if (cm.doc.highlightFrontier < cm.display.viewTo)\n      { cm.state.highlight.set(time, bind(highlightWorker, cm)); }\n  }\n\n  function highlightWorker(cm) {\n    var doc = cm.doc;\n    if (doc.highlightFrontier >= cm.display.viewTo) { return }\n    var end = +new Date + cm.options.workTime;\n    var context = getContextBefore(cm, doc.highlightFrontier);\n    var changedLines = [];\n\n    doc.iter(context.line, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n      if (context.line >= cm.display.viewFrom) { \/\/ Visible\n        var oldStyles = line.styles;\n        var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc.mode, context.state) : null;\n        var highlighted = highlightLine(cm, line, context, true);\n        if (resetState) { context.state = resetState; }\n        line.styles = highlighted.styles;\n        var oldCls = line.styleClasses, newCls = highlighted.classes;\n        if (newCls) { line.styleClasses = newCls; }\n        else if (oldCls) { line.styleClasses = null; }\n        var ischange = !oldStyles || oldStyles.length != line.styles.length ||\n          oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n        for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i]; }\n        if (ischange) { changedLines.push(context.line); }\n        line.stateAfter = context.save();\n        context.nextLine();\n      } else {\n        if (line.text.length <= cm.options.maxHighlightLength)\n          { processLine(cm, line.text, context); }\n        line.stateAfter = context.line % 5 == 0 ? context.save() : null;\n        context.nextLine();\n      }\n      if (+new Date > end) {\n        startWorker(cm, cm.options.workDelay);\n        return true\n      }\n    });\n    doc.highlightFrontier = context.line;\n    doc.modeFrontier = Math.max(doc.modeFrontier, context.line);\n    if (changedLines.length) { runInOp(cm, function () {\n      for (var i = 0; i < changedLines.length; i++)\n        { regLineChange(cm, changedLines[i], \"text\"); }\n    }); }\n  }\n\n  \/\/ DISPLAY DRAWING\n\n  var DisplayUpdate = function(cm, viewport, force) {\n    var display = cm.display;\n\n    this.viewport = viewport;\n    \/\/ Store some values that we'll need later (but don't want to force a relayout for)\n    this.visible = visibleLines(display, cm.doc, viewport);\n    this.editorIsHidden = !display.wrapper.offsetWidth;\n    this.wrapperHeight = display.wrapper.clientHeight;\n    this.wrapperWidth = display.wrapper.clientWidth;\n    this.oldDisplayWidth = displayWidth(cm);\n    this.force = force;\n    this.dims = getDimensions(cm);\n    this.events = [];\n  };\n\n  DisplayUpdate.prototype.signal = function (emitter, type) {\n    if (hasHandler(emitter, type))\n      { this.events.push(arguments); }\n  };\n  DisplayUpdate.prototype.finish = function () {\n    for (var i = 0; i < this.events.length; i++)\n      { signal.apply(null, this.events[i]); }\n  };\n\n  function maybeClipScrollbars(cm) {\n    var display = cm.display;\n    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n      display.heightForcer.style.height = scrollGap(cm) + \"px\";\n      display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n      display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n      display.scrollbarsClipped = true;\n    }\n  }\n\n  function selectionSnapshot(cm) {\n    if (cm.hasFocus()) { return null }\n    var active = activeElt();\n    if (!active || !contains(cm.display.lineDiv, active)) { return null }\n    var result = {activeElt: active};\n    if (window.getSelection) {\n      var sel = window.getSelection();\n      if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {\n        result.anchorNode = sel.anchorNode;\n        result.anchorOffset = sel.anchorOffset;\n        result.focusNode = sel.focusNode;\n        result.focusOffset = sel.focusOffset;\n      }\n    }\n    return result\n  }\n\n  function restoreSelection(snapshot) {\n    if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt()) { return }\n    snapshot.activeElt.focus();\n    if (!\/^(INPUT|TEXTAREA)$\/.test(snapshot.activeElt.nodeName) &&\n        snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {\n      var sel = window.getSelection(), range = document.createRange();\n      range.setEnd(snapshot.anchorNode, snapshot.anchorOffset);\n      range.collapse(false);\n      sel.removeAllRanges();\n      sel.addRange(range);\n      sel.extend(snapshot.focusNode, snapshot.focusOffset);\n    }\n  }\n\n  \/\/ Does the actual updating of the line display. Bails out\n  \/\/ (returning false) when there is nothing to be done and forced is\n  \/\/ false.\n  function updateDisplayIfNeeded(cm, update) {\n    var display = cm.display, doc = cm.doc;\n\n    if (update.editorIsHidden) {\n      resetView(cm);\n      return false\n    }\n\n    \/\/ Bail out if the visible area is already rendered and nothing changed.\n    if (!update.force &&\n        update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\n        display.renderedView == display.view && countDirtyView(cm) == 0)\n      { return false }\n\n    if (maybeUpdateLineNumberWidth(cm)) {\n      resetView(cm);\n      update.dims = getDimensions(cm);\n    }\n\n    \/\/ Compute a suitable new viewport (from & to)\n    var end = doc.first + doc.size;\n    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n    if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom); }\n    if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo); }\n    if (sawCollapsedSpans) {\n      from = visualLineNo(cm.doc, from);\n      to = visualLineEndNo(cm.doc, to);\n    }\n\n    var different = from != display.viewFrom || to != display.viewTo ||\n      display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n    adjustView(cm, from, to);\n\n    display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));\n    \/\/ Position the mover div to align with the current scroll position\n    cm.display.mover.style.top = display.viewOffset + \"px\";\n\n    var toUpdate = countDirtyView(cm);\n    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\n      { return false }\n\n    \/\/ For big changes, we hide the enclosing element during the\n    \/\/ update, since that speeds up the operations on most browsers.\n    var selSnapshot = selectionSnapshot(cm);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"none\"; }\n    patchDisplay(cm, display.updateLineNumbers, update.dims);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"\"; }\n    display.renderedView = display.view;\n    \/\/ There might have been a widget with a focused element that got\n    \/\/ hidden or updated, if so re-focus it.\n    restoreSelection(selSnapshot);\n\n    \/\/ Prevent selection and cursors from interfering with the scroll\n    \/\/ width and height.\n    removeChildren(display.cursorDiv);\n    removeChildren(display.selectionDiv);\n    display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n    if (different) {\n      display.lastWrapHeight = update.wrapperHeight;\n      display.lastWrapWidth = update.wrapperWidth;\n      startWorker(cm, 400);\n    }\n\n    display.updateLineNumbers = null;\n\n    return true\n  }\n\n  function postUpdateDisplay(cm, update) {\n    var viewport = update.viewport;\n\n    for (var first = true;; first = false) {\n      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n        \/\/ Clip forced viewport to actual scrollable area.\n        if (viewport && viewport.top != null)\n          { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)}; }\n        \/\/ Updated line heights might result in the drawn area not\n        \/\/ actually covering the viewport. Keep looping until it does.\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\n          { break }\n      } else if (first) {\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n      }\n      if (!updateDisplayIfNeeded(cm, update)) { break }\n      updateHeightsInViewport(cm);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.force = false;\n    }\n\n    update.signal(cm, \"update\", cm);\n    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n      update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n      cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo;\n    }\n  }\n\n  function updateDisplaySimple(cm, viewport) {\n    var update = new DisplayUpdate(cm, viewport);\n    if (updateDisplayIfNeeded(cm, update)) {\n      updateHeightsInViewport(cm);\n      postUpdateDisplay(cm, update);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.finish();\n    }\n  }\n\n  \/\/ Sync the actual display DOM structure with display.view, removing\n  \/\/ nodes for lines that are no longer in view, and creating the ones\n  \/\/ that are not there yet, and updating the ones that are out of\n  \/\/ date.\n  function patchDisplay(cm, updateNumbersFrom, dims) {\n    var display = cm.display, lineNumbers = cm.options.lineNumbers;\n    var container = display.lineDiv, cur = container.firstChild;\n\n    function rm(node) {\n      var next = node.nextSibling;\n      \/\/ Works around a throw-scroll bug in OS X Webkit\n      if (webkit && mac && cm.display.currentWheelTarget == node)\n        { node.style.display = \"none\"; }\n      else\n        { node.parentNode.removeChild(node); }\n      return next\n    }\n\n    var view = display.view, lineN = display.viewFrom;\n    \/\/ Loop over the elements in the view, syncing cur (the DOM nodes\n    \/\/ in display.lineDiv) with the view as we go.\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (lineView.hidden) ; else if (!lineView.node || lineView.node.parentNode != container) { \/\/ Not drawn yet\n        var node = buildLineElement(cm, lineView, lineN, dims);\n        container.insertBefore(node, cur);\n      } else { \/\/ Already drawn\n        while (cur != lineView.node) { cur = rm(cur); }\n        var updateNumber = lineNumbers && updateNumbersFrom != null &&\n          updateNumbersFrom <= lineN && lineView.lineNumber;\n        if (lineView.changes) {\n          if (indexOf(lineView.changes, \"gutter\") > -1) { updateNumber = false; }\n          updateLineForChanges(cm, lineView, lineN, dims);\n        }\n        if (updateNumber) {\n          removeChildren(lineView.lineNumber);\n          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n        }\n        cur = lineView.node.nextSibling;\n      }\n      lineN += lineView.size;\n    }\n    while (cur) { cur = rm(cur); }\n  }\n\n  function updateGutterSpace(display) {\n    var width = display.gutters.offsetWidth;\n    display.sizer.style.marginLeft = width + \"px\";\n  }\n\n  function setDocumentHeight(cm, measure) {\n    cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n    cm.display.heightForcer.style.top = measure.docHeight + \"px\";\n    cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\";\n  }\n\n  \/\/ Re-align line numbers and gutter marks to compensate for\n  \/\/ horizontal scrolling.\n  function alignHorizontally(cm) {\n    var display = cm.display, view = display.view;\n    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }\n    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n    var gutterW = display.gutters.offsetWidth, left = comp + \"px\";\n    for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {\n      if (cm.options.fixedGutter) {\n        if (view[i].gutter)\n          { view[i].gutter.style.left = left; }\n        if (view[i].gutterBackground)\n          { view[i].gutterBackground.style.left = left; }\n      }\n      var align = view[i].alignable;\n      if (align) { for (var j = 0; j < align.length; j++)\n        { align[j].style.left = left; } }\n    } }\n    if (cm.options.fixedGutter)\n      { display.gutters.style.left = (comp + gutterW) + \"px\"; }\n  }\n\n  \/\/ Used to ensure that the line number gutter is still the right\n  \/\/ size for the current document size. Returns true when an update\n  \/\/ is needed.\n  function maybeUpdateLineNumberWidth(cm) {\n    if (!cm.options.lineNumbers) { return false }\n    var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display;\n    if (last.length != display.lineNumChars) {\n      var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\n                                                 \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n      var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;\n      display.lineGutter.style.width = \"\";\n      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n      display.lineNumWidth = display.lineNumInnerWidth + padding;\n      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n      display.lineGutter.style.width = display.lineNumWidth + \"px\";\n      updateGutterSpace(cm.display);\n      return true\n    }\n    return false\n  }\n\n  function getGutters(gutters, lineNumbers) {\n    var result = [], sawLineNumbers = false;\n    for (var i = 0; i < gutters.length; i++) {\n      var name = gutters[i], style = null;\n      if (typeof name != \"string\") { style = name.style; name = name.className; }\n      if (name == \"CodeMirror-linenumbers\") {\n        if (!lineNumbers) { continue }\n        else { sawLineNumbers = true; }\n      }\n      result.push({className: name, style: style});\n    }\n    if (lineNumbers && !sawLineNumbers) { result.push({className: \"CodeMirror-linenumbers\", style: null}); }\n    return result\n  }\n\n  \/\/ Rebuild the gutter elements, ensure the margin to the left of the\n  \/\/ code matches their width.\n  function renderGutters(display) {\n    var gutters = display.gutters, specs = display.gutterSpecs;\n    removeChildren(gutters);\n    display.lineGutter = null;\n    for (var i = 0; i < specs.length; ++i) {\n      var ref = specs[i];\n      var className = ref.className;\n      var style = ref.style;\n      var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + className));\n      if (style) { gElt.style.cssText = style; }\n      if (className == \"CodeMirror-linenumbers\") {\n        display.lineGutter = gElt;\n        gElt.style.width = (display.lineNumWidth || 1) + \"px\";\n      }\n    }\n    gutters.style.display = specs.length ? \"\" : \"none\";\n    updateGutterSpace(display);\n  }\n\n  function updateGutters(cm) {\n    renderGutters(cm.display);\n    regChange(cm);\n    alignHorizontally(cm);\n  }\n\n  \/\/ The display handles the DOM integration, both for input reading\n  \/\/ and content drawing. It holds references to DOM nodes and\n  \/\/ display-related state.\n\n  function Display(place, doc, input, options) {\n    var d = this;\n    this.input = input;\n\n    \/\/ Covers bottom-right square when both scrollbars are present.\n    d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n    d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\");\n    \/\/ Covers bottom of gutter when coverGutterNextToScrollbar is on\n    \/\/ and h scrollbar is present.\n    d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n    d.gutterFiller.setAttribute(\"cm-not-content\", \"true\");\n    \/\/ Will contain the actual code, positioned to cover the viewport.\n    d.lineDiv = eltP(\"div\", null, \"CodeMirror-code\");\n    \/\/ Elements are added to these to represent selection and cursors.\n    d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n    d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\");\n    \/\/ A visibility: hidden element used to find the size of things.\n    d.measure = elt(\"div\", null, \"CodeMirror-measure\");\n    \/\/ When lines outside of the viewport are measured, they are drawn in this.\n    d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\");\n    \/\/ Wraps everything that needs to exist inside the vertically-padded coordinate system\n    d.lineSpace = eltP(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\n                      null, \"position: relative; outline: none\");\n    var lines = eltP(\"div\", [d.lineSpace], \"CodeMirror-lines\");\n    \/\/ Moved around its parent to cover visible view.\n    d.mover = elt(\"div\", [lines], null, \"position: relative\");\n    \/\/ Set to the height of the document, allowing scrolling.\n    d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n    d.sizerWidth = null;\n    \/\/ Behavior of elts with overflow: auto and padding is\n    \/\/ inconsistent across browsers. This is used to ensure the\n    \/\/ scrollable area is big enough.\n    d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\");\n    \/\/ Will contain the gutters, if any.\n    d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n    d.lineGutter = null;\n    \/\/ Actual scrollable element.\n    d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n    d.scroller.setAttribute(\"tabIndex\", \"-1\");\n    \/\/ The element in which the editor lives.\n    d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\");\n\n    \/\/ Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n    if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0; }\n    if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true; }\n\n    if (place) {\n      if (place.appendChild) { place.appendChild(d.wrapper); }\n      else { place(d.wrapper); }\n    }\n\n    \/\/ Current rendered range (may be bigger than the view window).\n    d.viewFrom = d.viewTo = doc.first;\n    d.reportedViewFrom = d.reportedViewTo = doc.first;\n    \/\/ Information about the rendered lines.\n    d.view = [];\n    d.renderedView = null;\n    \/\/ Holds info about a single rendered line when it was rendered\n    \/\/ for measurement, while not in view.\n    d.externalMeasured = null;\n    \/\/ Empty space (in pixels) above the view\n    d.viewOffset = 0;\n    d.lastWrapHeight = d.lastWrapWidth = 0;\n    d.updateLineNumbers = null;\n\n    d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n    d.scrollbarsClipped = false;\n\n    \/\/ Used to only resize the line number gutter when necessary (when\n    \/\/ the amount of lines crosses a boundary that makes its width change)\n    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;\n    \/\/ Set to true when a non-horizontal-scrolling line widget is\n    \/\/ added. As an optimization, line widget aligning is skipped when\n    \/\/ this is false.\n    d.alignWidgets = false;\n\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n\n    \/\/ Tracks the maximum line length so that the horizontal scrollbar\n    \/\/ can be kept static when scrolling.\n    d.maxLine = null;\n    d.maxLineLength = 0;\n    d.maxLineChanged = false;\n\n    \/\/ Used for measuring wheel scrolling granularity\n    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;\n\n    \/\/ True when shift is held down.\n    d.shift = false;\n\n    \/\/ Used to track whether anything happened since the context menu\n    \/\/ was opened.\n    d.selForContextMenu = null;\n\n    d.activeTouch = null;\n\n    d.gutterSpecs = getGutters(options.gutters, options.lineNumbers);\n    renderGutters(d);\n\n    input.init(d);\n  }\n\n  \/\/ Since the delta values reported on mouse wheel events are\n  \/\/ unstandardized between browsers and even browser versions, and\n  \/\/ generally horribly unpredictable, this code starts by measuring\n  \/\/ the scroll effect that the first few mouse wheel events have,\n  \/\/ and, from that, detects the way it can convert deltas to pixel\n  \/\/ offsets afterwards.\n  \/\/\n  \/\/ The reason we want to know the amount a wheel event will scroll\n  \/\/ is that it gives us a chance to update the display before the\n  \/\/ actual scrolling happens, reducing flickering.\n\n  var wheelSamples = 0, wheelPixelsPerUnit = null;\n  \/\/ Fill in a browser-detected starting value on browsers where we\n  \/\/ know one. These don't have to be accurate -- the result of them\n  \/\/ being wrong would just be a slight flicker on the first wheel\n  \/\/ scroll (if it is large enough).\n  if (ie) { wheelPixelsPerUnit = -.53; }\n  else if (gecko) { wheelPixelsPerUnit = 15; }\n  else if (chrome) { wheelPixelsPerUnit = -.7; }\n  else if (safari) { wheelPixelsPerUnit = -1\/3; }\n\n  function wheelEventDelta(e) {\n    var dx = e.wheelDeltaX, dy = e.wheelDeltaY;\n    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail; }\n    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail; }\n    else if (dy == null) { dy = e.wheelDelta; }\n    return {x: dx, y: dy}\n  }\n  function wheelEventPixels(e) {\n    var delta = wheelEventDelta(e);\n    delta.x *= wheelPixelsPerUnit;\n    delta.y *= wheelPixelsPerUnit;\n    return delta\n  }\n\n  function onScrollWheel(cm, e) {\n    var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y;\n\n    var display = cm.display, scroll = display.scroller;\n    \/\/ Quit if there's nothing to scroll here\n    var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n    var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n    if (!(dx && canScrollX || dy && canScrollY)) { return }\n\n    \/\/ Webkit browsers on OS X abort momentum scrolls when the target\n    \/\/ of the scroll event is removed from the scrollable element.\n    \/\/ This hack (see related code in patchDisplay) makes sure the\n    \/\/ element is kept around.\n    if (dy && mac && webkit) {\n      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n        for (var i = 0; i < view.length; i++) {\n          if (view[i].node == cur) {\n            cm.display.currentWheelTarget = cur;\n            break outer\n          }\n        }\n      }\n    }\n\n    \/\/ On some browsers, horizontal scrolling will cause redraws to\n    \/\/ happen before the gutter has been realigned, causing it to\n    \/\/ wriggle around in a most unseemly way. When we have an\n    \/\/ estimated pixels\/delta value, we just handle horizontal\n    \/\/ scrolling entirely here. It'll be slightly off from native, but\n    \/\/ better than glitching out.\n    if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {\n      if (dy && canScrollY)\n        { updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * wheelPixelsPerUnit)); }\n      setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * wheelPixelsPerUnit));\n      \/\/ Only prevent default scrolling if vertical scrolling is\n      \/\/ actually possible. Otherwise, it causes vertical scroll\n      \/\/ jitter on OSX trackpads when deltaX is small and deltaY\n      \/\/ is large (issue #3579)\n      if (!dy || (dy && canScrollY))\n        { e_preventDefault(e); }\n      display.wheelStartX = null; \/\/ Abort measurement, if in progress\n      return\n    }\n\n    \/\/ 'Project' the visible viewport to cover the area that is being\n    \/\/ scrolled into view (if we know enough to estimate it).\n    if (dy && wheelPixelsPerUnit != null) {\n      var pixels = dy * wheelPixelsPerUnit;\n      var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;\n      if (pixels < 0) { top = Math.max(0, top + pixels - 50); }\n      else { bot = Math.min(cm.doc.height, bot + pixels + 50); }\n      updateDisplaySimple(cm, {top: top, bottom: bot});\n    }\n\n    if (wheelSamples < 20) {\n      if (display.wheelStartX == null) {\n        display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop;\n        display.wheelDX = dx; display.wheelDY = dy;\n        setTimeout(function () {\n          if (display.wheelStartX == null) { return }\n          var movedX = scroll.scrollLeft - display.wheelStartX;\n          var movedY = scroll.scrollTop - display.wheelStartY;\n          var sample = (movedY && display.wheelDY && movedY \/ display.wheelDY) ||\n            (movedX && display.wheelDX && movedX \/ display.wheelDX);\n          display.wheelStartX = display.wheelStartY = null;\n          if (!sample) { return }\n          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) \/ (wheelSamples + 1);\n          ++wheelSamples;\n        }, 200);\n      } else {\n        display.wheelDX += dx; display.wheelDY += dy;\n      }\n    }\n  }\n\n  \/\/ Selection objects are immutable. A new one is created every time\n  \/\/ the selection changes. A selection is one or more non-overlapping\n  \/\/ (and non-touching) ranges, sorted, and an integer that indicates\n  \/\/ which one is the primary selection (the one that's scrolled into\n  \/\/ view, that getCursor returns, etc).\n  var Selection = function(ranges, primIndex) {\n    this.ranges = ranges;\n    this.primIndex = primIndex;\n  };\n\n  Selection.prototype.primary = function () { return this.ranges[this.primIndex] };\n\n  Selection.prototype.equals = function (other) {\n    if (other == this) { return true }\n    if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var here = this.ranges[i], there = other.ranges[i];\n      if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) { return false }\n    }\n    return true\n  };\n\n  Selection.prototype.deepCopy = function () {\n    var out = [];\n    for (var i = 0; i < this.ranges.length; i++)\n      { out[i] = new Range(copyPos(this.ranges[i].anchor), copyPos(this.ranges[i].head)); }\n    return new Selection(out, this.primIndex)\n  };\n\n  Selection.prototype.somethingSelected = function () {\n    for (var i = 0; i < this.ranges.length; i++)\n      { if (!this.ranges[i].empty()) { return true } }\n    return false\n  };\n\n  Selection.prototype.contains = function (pos, end) {\n    if (!end) { end = pos; }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var range = this.ranges[i];\n      if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\n        { return i }\n    }\n    return -1\n  };\n\n  var Range = function(anchor, head) {\n    this.anchor = anchor; this.head = head;\n  };\n\n  Range.prototype.from = function () { return minPos(this.anchor, this.head) };\n  Range.prototype.to = function () { return maxPos(this.anchor, this.head) };\n  Range.prototype.empty = function () { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch };\n\n  \/\/ Take an unsorted, potentially overlapping set of ranges, and\n  \/\/ build a selection out of it. 'Consumes' ranges array (modifying\n  \/\/ it).\n  function normalizeSelection(cm, ranges, primIndex) {\n    var mayTouch = cm && cm.options.selectionsMayTouch;\n    var prim = ranges[primIndex];\n    ranges.sort(function (a, b) { return cmp(a.from(), b.from()); });\n    primIndex = indexOf(ranges, prim);\n    for (var i = 1; i < ranges.length; i++) {\n      var cur = ranges[i], prev = ranges[i - 1];\n      var diff = cmp(prev.to(), cur.from());\n      if (mayTouch && !cur.empty() ? diff > 0 : diff >= 0) {\n        var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());\n        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n        if (i <= primIndex) { --primIndex; }\n        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n      }\n    }\n    return new Selection(ranges, primIndex)\n  }\n\n  function simpleSelection(anchor, head) {\n    return new Selection([new Range(anchor, head || anchor)], 0)\n  }\n\n  \/\/ Compute the position of the end of a change (its 'to' property\n  \/\/ refers to the pre-change end).\n  function changeEnd(change) {\n    if (!change.text) { return change.to }\n    return Pos(change.from.line + change.text.length - 1,\n               lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))\n  }\n\n  \/\/ Adjust a position to refer to the post-change position of the\n  \/\/ same text, or the end of the change if the change covers it.\n  function adjustForChange(pos, change) {\n    if (cmp(pos, change.from) < 0) { return pos }\n    if (cmp(pos, change.to) <= 0) { return changeEnd(change) }\n\n    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;\n    if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch; }\n    return Pos(line, ch)\n  }\n\n  function computeSelAfterChange(doc, change) {\n    var out = [];\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      var range = doc.sel.ranges[i];\n      out.push(new Range(adjustForChange(range.anchor, change),\n                         adjustForChange(range.head, change)));\n    }\n    return normalizeSelection(doc.cm, out, doc.sel.primIndex)\n  }\n\n  function offsetPos(pos, old, nw) {\n    if (pos.line == old.line)\n      { return Pos(nw.line, pos.ch - old.ch + nw.ch) }\n    else\n      { return Pos(nw.line + (pos.line - old.line), pos.ch) }\n  }\n\n  \/\/ Used by replaceSelections to allow moving the selection to the\n  \/\/ start or around the replaced test. Hint may be \"start\" or \"around\".\n  function computeReplacedSel(doc, changes, hint) {\n    var out = [];\n    var oldPrev = Pos(doc.first, 0), newPrev = oldPrev;\n    for (var i = 0; i < changes.length; i++) {\n      var change = changes[i];\n      var from = offsetPos(change.from, oldPrev, newPrev);\n      var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n      oldPrev = change.to;\n      newPrev = to;\n      if (hint == \"around\") {\n        var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0;\n        out[i] = new Range(inv ? to : from, inv ? from : to);\n      } else {\n        out[i] = new Range(from, from);\n      }\n    }\n    return new Selection(out, doc.sel.primIndex)\n  }\n\n  \/\/ Used to get the editor into a consistent state again when options change.\n\n  function loadMode(cm) {\n    cm.doc.mode = getMode(cm.options, cm.doc.modeOption);\n    resetModeState(cm);\n  }\n\n  function resetModeState(cm) {\n    cm.doc.iter(function (line) {\n      if (line.stateAfter) { line.stateAfter = null; }\n      if (line.styles) { line.styles = null; }\n    });\n    cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first;\n    startWorker(cm, 100);\n    cm.state.modeGen++;\n    if (cm.curOp) { regChange(cm); }\n  }\n\n  \/\/ DOCUMENT DATA STRUCTURE\n\n  \/\/ By default, updates that start and end at the beginning of a line\n  \/\/ are treated specially, in order to make the association of line\n  \/\/ widgets and marker elements with the text behave more intuitive.\n  function isWholeLineUpdate(doc, change) {\n    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\n      (!doc.cm || doc.cm.options.wholeLineUpdateBefore)\n  }\n\n  \/\/ Perform a change on the document data structure.\n  function updateDoc(doc, change, markedSpans, estimateHeight) {\n    function spansFor(n) {return markedSpans ? markedSpans[n] : null}\n    function update(line, text, spans) {\n      updateLine(line, text, spans, estimateHeight);\n      signalLater(line, \"change\", line, change);\n    }\n    function linesFor(start, end) {\n      var result = [];\n      for (var i = start; i < end; ++i)\n        { result.push(new Line(text[i], spansFor(i), estimateHeight)); }\n      return result\n    }\n\n    var from = change.from, to = change.to, text = change.text;\n    var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line);\n    var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;\n\n    \/\/ Adjust the line structure\n    if (change.full) {\n      doc.insert(0, linesFor(0, text.length));\n      doc.remove(text.length, doc.size - text.length);\n    } else if (isWholeLineUpdate(doc, change)) {\n      \/\/ This is a whole-line replace. Treated specially to make\n      \/\/ sure line objects move the way they are supposed to.\n      var added = linesFor(0, text.length - 1);\n      update(lastLine, lastLine.text, lastSpans);\n      if (nlines) { doc.remove(from.line, nlines); }\n      if (added.length) { doc.insert(from.line, added); }\n    } else if (firstLine == lastLine) {\n      if (text.length == 1) {\n        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n      } else {\n        var added$1 = linesFor(1, text.length - 1);\n        added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight));\n        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n        doc.insert(from.line + 1, added$1);\n      }\n    } else if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n      doc.remove(from.line + 1, nlines);\n    } else {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n      var added$2 = linesFor(1, text.length - 1);\n      if (nlines > 1) { doc.remove(from.line + 1, nlines - 1); }\n      doc.insert(from.line + 1, added$2);\n    }\n\n    signalLater(doc, \"change\", doc, change);\n  }\n\n  \/\/ Call f for all linked documents.\n  function linkedDocs(doc, f, sharedHistOnly) {\n    function propagate(doc, skip, sharedHist) {\n      if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {\n        var rel = doc.linked[i];\n        if (rel.doc == skip) { continue }\n        var shared = sharedHist && rel.sharedHist;\n        if (sharedHistOnly && !shared) { continue }\n        f(rel.doc, shared);\n        propagate(rel.doc, doc, shared);\n      } }\n    }\n    propagate(doc, null, true);\n  }\n\n  \/\/ Attach a document to an editor.\n  function attachDoc(cm, doc) {\n    if (doc.cm) { throw new Error(\"This document is already in use.\") }\n    cm.doc = doc;\n    doc.cm = cm;\n    estimateLineHeights(cm);\n    loadMode(cm);\n    setDirectionClass(cm);\n    if (!cm.options.lineWrapping) { findMaxLine(cm); }\n    cm.options.mode = doc.modeOption;\n    regChange(cm);\n  }\n\n  function setDirectionClass(cm) {\n  (cm.doc.direction == \"rtl\" ? addClass : rmClass)(cm.display.lineDiv, \"CodeMirror-rtl\");\n  }\n\n  function directionChanged(cm) {\n    runInOp(cm, function () {\n      setDirectionClass(cm);\n      regChange(cm);\n    });\n  }\n\n  function History(startGen) {\n    \/\/ Arrays of change events and selections. Doing something adds an\n    \/\/ event to done and clears undo. Undoing moves events from done\n    \/\/ to undone, redoing moves them in the other direction.\n    this.done = []; this.undone = [];\n    this.undoDepth = Infinity;\n    \/\/ Used to track when changes can be merged into a single undo\n    \/\/ event\n    this.lastModTime = this.lastSelTime = 0;\n    this.lastOp = this.lastSelOp = null;\n    this.lastOrigin = this.lastSelOrigin = null;\n    \/\/ Used by the isClean() method\n    this.generation = this.maxGeneration = startGen || 1;\n  }\n\n  \/\/ Create a history change event from an updateDoc-style change\n  \/\/ object.\n  function historyChangeFromChange(doc, change) {\n    var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)};\n    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true);\n    return histChange\n  }\n\n  \/\/ Pop all selection events off the end of a history array. Stop at\n  \/\/ a change event.\n  function clearSelectionEvents(array) {\n    while (array.length) {\n      var last = lst(array);\n      if (last.ranges) { array.pop(); }\n      else { break }\n    }\n  }\n\n  \/\/ Find the top change event in the history. Pop off selection\n  \/\/ events that are in the way.\n  function lastChangeEvent(hist, force) {\n    if (force) {\n      clearSelectionEvents(hist.done);\n      return lst(hist.done)\n    } else if (hist.done.length && !lst(hist.done).ranges) {\n      return lst(hist.done)\n    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n      hist.done.pop();\n      return lst(hist.done)\n    }\n  }\n\n  \/\/ Register a change in the history. Merges changes that are within\n  \/\/ a single operation, or are close together with an origin that\n  \/\/ allows merging (starting with \"+\") into a single event.\n  function addChangeToHistory(doc, change, selAfter, opId) {\n    var hist = doc.history;\n    hist.undone.length = 0;\n    var time = +new Date, cur;\n    var last;\n\n    if ((hist.lastOp == opId ||\n         hist.lastOrigin == change.origin && change.origin &&\n         ((change.origin.charAt(0) == \"+\" && hist.lastModTime > time - (doc.cm ? doc.cm.options.historyEventDelay : 500)) ||\n          change.origin.charAt(0) == \"*\")) &&\n        (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n      \/\/ Merge this change into the last event\n      last = lst(cur.changes);\n      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n        \/\/ Optimized case for simple insertion -- don't want to add\n        \/\/ new changesets for every character typed\n        last.to = changeEnd(change);\n      } else {\n        \/\/ Add new sub-event\n        cur.changes.push(historyChangeFromChange(doc, change));\n      }\n    } else {\n      \/\/ Can not be merged, start a new event.\n      var before = lst(hist.done);\n      if (!before || !before.ranges)\n        { pushSelectionToHistory(doc.sel, hist.done); }\n      cur = {changes: [historyChangeFromChange(doc, change)],\n             generation: hist.generation};\n      hist.done.push(cur);\n      while (hist.done.length > hist.undoDepth) {\n        hist.done.shift();\n        if (!hist.done[0].ranges) { hist.done.shift(); }\n      }\n    }\n    hist.done.push(selAfter);\n    hist.generation = ++hist.maxGeneration;\n    hist.lastModTime = hist.lastSelTime = time;\n    hist.lastOp = hist.lastSelOp = opId;\n    hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n    if (!last) { signal(doc, \"historyAdded\"); }\n  }\n\n  function selectionEventCanBeMerged(doc, origin, prev, sel) {\n    var ch = origin.charAt(0);\n    return ch == \"*\" ||\n      ch == \"+\" &&\n      prev.ranges.length == sel.ranges.length &&\n      prev.somethingSelected() == sel.somethingSelected() &&\n      new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)\n  }\n\n  \/\/ Called whenever the selection changes, sets the new selection as\n  \/\/ the pending selection in the history, and pushes the old pending\n  \/\/ selection into the 'done' array when it was significantly\n  \/\/ different (in number of selected ranges, emptiness, or time).\n  function addSelectionToHistory(doc, sel, opId, options) {\n    var hist = doc.history, origin = options && options.origin;\n\n    \/\/ A new event is started when the previous origin does not match\n    \/\/ the current, or the origins don't allow matching. Origins\n    \/\/ starting with * are always merged, those starting with + are\n    \/\/ merged when similar and close together in time.\n    if (opId == hist.lastSelOp ||\n        (origin && hist.lastSelOrigin == origin &&\n         (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\n          selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\n      { hist.done[hist.done.length - 1] = sel; }\n    else\n      { pushSelectionToHistory(sel, hist.done); }\n\n    hist.lastSelTime = +new Date;\n    hist.lastSelOrigin = origin;\n    hist.lastSelOp = opId;\n    if (options && options.clearRedo !== false)\n      { clearSelectionEvents(hist.undone); }\n  }\n\n  function pushSelectionToHistory(sel, dest) {\n    var top = lst(dest);\n    if (!(top && top.ranges && top.equals(sel)))\n      { dest.push(sel); }\n  }\n\n  \/\/ Used to store marked span information in the history.\n  function attachLocalSpans(doc, change, from, to) {\n    var existing = change[\"spans_\" + doc.id], n = 0;\n    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n      if (line.markedSpans)\n        { (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans; }\n      ++n;\n    });\n  }\n\n  \/\/ When un\/re-doing restores text containing marked spans, those\n  \/\/ that have been explicitly cleared should not be restored.\n  function removeClearedSpans(spans) {\n    if (!spans) { return null }\n    var out;\n    for (var i = 0; i < spans.length; ++i) {\n      if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i); } }\n      else if (out) { out.push(spans[i]); }\n    }\n    return !out ? spans : out.length ? out : null\n  }\n\n  \/\/ Retrieve and filter the old marked spans stored in a change event.\n  function getOldSpans(doc, change) {\n    var found = change[\"spans_\" + doc.id];\n    if (!found) { return null }\n    var nw = [];\n    for (var i = 0; i < change.text.length; ++i)\n      { nw.push(removeClearedSpans(found[i])); }\n    return nw\n  }\n\n  \/\/ Used for un\/re-doing changes from the history. Combines the\n  \/\/ result of computing the existing spans with the set of spans that\n  \/\/ existed in the history (so that deleting around a span and then\n  \/\/ undoing brings back the span).\n  function mergeOldSpans(doc, change) {\n    var old = getOldSpans(doc, change);\n    var stretched = stretchSpansOverChange(doc, change);\n    if (!old) { return stretched }\n    if (!stretched) { return old }\n\n    for (var i = 0; i < old.length; ++i) {\n      var oldCur = old[i], stretchCur = stretched[i];\n      if (oldCur && stretchCur) {\n        spans: for (var j = 0; j < stretchCur.length; ++j) {\n          var span = stretchCur[j];\n          for (var k = 0; k < oldCur.length; ++k)\n            { if (oldCur[k].marker == span.marker) { continue spans } }\n          oldCur.push(span);\n        }\n      } else if (stretchCur) {\n        old[i] = stretchCur;\n      }\n    }\n    return old\n  }\n\n  \/\/ Used both to provide a JSON-safe object in .getHistory, and, when\n  \/\/ detaching a document, to split the history in two\n  function copyHistoryArray(events, newGroup, instantiateSel) {\n    var copy = [];\n    for (var i = 0; i < events.length; ++i) {\n      var event = events[i];\n      if (event.ranges) {\n        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n        continue\n      }\n      var changes = event.changes, newChanges = [];\n      copy.push({changes: newChanges});\n      for (var j = 0; j < changes.length; ++j) {\n        var change = changes[j], m = (void 0);\n        newChanges.push({from: change.from, to: change.to, text: change.text});\n        if (newGroup) { for (var prop in change) { if (m = prop.match(\/^spans_(\\d+)$\/)) {\n          if (indexOf(newGroup, Number(m[1])) > -1) {\n            lst(newChanges)[prop] = change[prop];\n            delete change[prop];\n          }\n        } } }\n      }\n    }\n    return copy\n  }\n\n  \/\/ The 'scroll' parameter given to many of these indicated whether\n  \/\/ the new cursor position should be scrolled into view after\n  \/\/ modifying the selection.\n\n  \/\/ If shift is held or the extend flag is set, extends a range to\n  \/\/ include a given position (and optionally a second position).\n  \/\/ Otherwise, simply returns the range between the given positions.\n  \/\/ Used for cursor motion and such.\n  function extendRange(range, head, other, extend) {\n    if (extend) {\n      var anchor = range.anchor;\n      if (other) {\n        var posBefore = cmp(head, anchor) < 0;\n        if (posBefore != (cmp(other, anchor) < 0)) {\n          anchor = head;\n          head = other;\n        } else if (posBefore != (cmp(head, other) < 0)) {\n          head = other;\n        }\n      }\n      return new Range(anchor, head)\n    } else {\n      return new Range(other || head, head)\n    }\n  }\n\n  \/\/ Extend the primary selection range, discard the rest.\n  function extendSelection(doc, head, other, options, extend) {\n    if (extend == null) { extend = doc.cm && (doc.cm.display.shift || doc.extend); }\n    setSelection(doc, new Selection([extendRange(doc.sel.primary(), head, other, extend)], 0), options);\n  }\n\n  \/\/ Extend all selections (pos is an array of selections with length\n  \/\/ equal the number of selections)\n  function extendSelections(doc, heads, options) {\n    var out = [];\n    var extend = doc.cm && (doc.cm.display.shift || doc.extend);\n    for (var i = 0; i < doc.sel.ranges.length; i++)\n      { out[i] = extendRange(doc.sel.ranges[i], heads[i], null, extend); }\n    var newSel = normalizeSelection(doc.cm, out, doc.sel.primIndex);\n    setSelection(doc, newSel, options);\n  }\n\n  \/\/ Updates a single range in the selection.\n  function replaceOneSelection(doc, i, range, options) {\n    var ranges = doc.sel.ranges.slice(0);\n    ranges[i] = range;\n    setSelection(doc, normalizeSelection(doc.cm, ranges, doc.sel.primIndex), options);\n  }\n\n  \/\/ Reset the selection to a single range.\n  function setSimpleSelection(doc, anchor, head, options) {\n    setSelection(doc, simpleSelection(anchor, head), options);\n  }\n\n  \/\/ Give beforeSelectionChange handlers a change to influence a\n  \/\/ selection update.\n  function filterSelectionChange(doc, sel, options) {\n    var obj = {\n      ranges: sel.ranges,\n      update: function(ranges) {\n        this.ranges = [];\n        for (var i = 0; i < ranges.length; i++)\n          { this.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\n                                     clipPos(doc, ranges[i].head)); }\n      },\n      origin: options && options.origin\n    };\n    signal(doc, \"beforeSelectionChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj); }\n    if (obj.ranges != sel.ranges) { return normalizeSelection(doc.cm, obj.ranges, obj.ranges.length - 1) }\n    else { return sel }\n  }\n\n  function setSelectionReplaceHistory(doc, sel, options) {\n    var done = doc.history.done, last = lst(done);\n    if (last && last.ranges) {\n      done[done.length - 1] = sel;\n      setSelectionNoUndo(doc, sel, options);\n    } else {\n      setSelection(doc, sel, options);\n    }\n  }\n\n  \/\/ Set a new selection.\n  function setSelection(doc, sel, options) {\n    setSelectionNoUndo(doc, sel, options);\n    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n  }\n\n  function setSelectionNoUndo(doc, sel, options) {\n    if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\n      { sel = filterSelectionChange(doc, sel, options); }\n\n    var bias = options && options.bias ||\n      (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n    if (!(options && options.scroll === false) && doc.cm && doc.cm.getOption(\"readOnly\") != \"nocursor\")\n      { ensureCursorVisible(doc.cm); }\n  }\n\n  function setSelectionInner(doc, sel) {\n    if (sel.equals(doc.sel)) { return }\n\n    doc.sel = sel;\n\n    if (doc.cm) {\n      doc.cm.curOp.updateInput = 1;\n      doc.cm.curOp.selectionChanged = true;\n      signalCursorActivity(doc.cm);\n    }\n    signalLater(doc, \"cursorActivity\", doc);\n  }\n\n  \/\/ Verify that the selection does not partially select any atomic\n  \/\/ marked ranges.\n  function reCheckSelection(doc) {\n    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false));\n  }\n\n  \/\/ Return a selection that does not partially select any atomic\n  \/\/ ranges.\n  function skipAtomicInSelection(doc, sel, bias, mayClear) {\n    var out;\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range = sel.ranges[i];\n      var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];\n      var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);\n      var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear);\n      if (out || newAnchor != range.anchor || newHead != range.head) {\n        if (!out) { out = sel.ranges.slice(0, i); }\n        out[i] = new Range(newAnchor, newHead);\n      }\n    }\n    return out ? normalizeSelection(doc.cm, out, sel.primIndex) : sel\n  }\n\n  function skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n    var line = getLine(doc, pos.line);\n    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n      var sp = line.markedSpans[i], m = sp.marker;\n\n      \/\/ Determine if we should prevent the cursor being placed to the left\/right of an atomic marker\n      \/\/ Historically this was determined using the inclusiveLeft\/Right option, but the new way to control it\n      \/\/ is with selectLeft\/Right\n      var preventCursorLeft = (\"selectLeft\" in m) ? !m.selectLeft : m.inclusiveLeft;\n      var preventCursorRight = (\"selectRight\" in m) ? !m.selectRight : m.inclusiveRight;\n\n      if ((sp.from == null || (preventCursorLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\n          (sp.to == null || (preventCursorRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n        if (mayClear) {\n          signal(m, \"beforeCursorEnter\");\n          if (m.explicitlyCleared) {\n            if (!line.markedSpans) { break }\n            else {--i; continue}\n          }\n        }\n        if (!m.atomic) { continue }\n\n        if (oldPos) {\n          var near = m.find(dir < 0 ? 1 : -1), diff = (void 0);\n          if (dir < 0 ? preventCursorRight : preventCursorLeft)\n            { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null); }\n          if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\n            { return skipAtomicInner(doc, near, pos, dir, mayClear) }\n        }\n\n        var far = m.find(dir < 0 ? -1 : 1);\n        if (dir < 0 ? preventCursorLeft : preventCursorRight)\n          { far = movePos(doc, far, dir, far.line == pos.line ? line : null); }\n        return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null\n      }\n    } }\n    return pos\n  }\n\n  \/\/ Ensure a given position is not inside an atomic range.\n  function skipAtomic(doc, pos, oldPos, bias, mayClear) {\n    var dir = bias || 1;\n    var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\n        skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true));\n    if (!found) {\n      doc.cantEdit = true;\n      return Pos(doc.first, 0)\n    }\n    return found\n  }\n\n  function movePos(doc, pos, dir, line) {\n    if (dir < 0 && pos.ch == 0) {\n      if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }\n      else { return null }\n    } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n      if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }\n      else { return null }\n    } else {\n      return new Pos(pos.line, pos.ch + dir)\n    }\n  }\n\n  function selectAll(cm) {\n    cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);\n  }\n\n  \/\/ UPDATING\n\n  \/\/ Allow \"beforeChange\" event handlers to influence a change\n  function filterChange(doc, change, update) {\n    var obj = {\n      canceled: false,\n      from: change.from,\n      to: change.to,\n      text: change.text,\n      origin: change.origin,\n      cancel: function () { return obj.canceled = true; }\n    };\n    if (update) { obj.update = function (from, to, text, origin) {\n      if (from) { obj.from = clipPos(doc, from); }\n      if (to) { obj.to = clipPos(doc, to); }\n      if (text) { obj.text = text; }\n      if (origin !== undefined) { obj.origin = origin; }\n    }; }\n    signal(doc, \"beforeChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeChange\", doc.cm, obj); }\n\n    if (obj.canceled) {\n      if (doc.cm) { doc.cm.curOp.updateInput = 2; }\n      return null\n    }\n    return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}\n  }\n\n  \/\/ Apply a change to a document, and add it to the document's\n  \/\/ history, and propagating it to all linked documents.\n  function makeChange(doc, change, ignoreReadOnly) {\n    if (doc.cm) {\n      if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }\n      if (doc.cm.state.suppressEdits) { return }\n    }\n\n    if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n      change = filterChange(doc, change, true);\n      if (!change) { return }\n    }\n\n    \/\/ Possibly split or suppress the update based on the presence\n    \/\/ of read-only spans in its range.\n    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n    if (split) {\n      for (var i = split.length - 1; i >= 0; --i)\n        { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text, origin: change.origin}); }\n    } else {\n      makeChangeInner(doc, change);\n    }\n  }\n\n  function makeChangeInner(doc, change) {\n    if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) { return }\n    var selAfter = computeSelAfterChange(doc, change);\n    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n\n    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n    var rebased = [];\n\n    linkedDocs(doc, function (doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change);\n        rebased.push(doc.history);\n      }\n      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n    });\n  }\n\n  \/\/ Revert a change stored in a document's history.\n  function makeChangeFromHistory(doc, type, allowSelectionOnly) {\n    var suppress = doc.cm && doc.cm.state.suppressEdits;\n    if (suppress && !allowSelectionOnly) { return }\n\n    var hist = doc.history, event, selAfter = doc.sel;\n    var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done;\n\n    \/\/ Verify that there is a useable event (so that ctrl-z won't\n    \/\/ needlessly clear selection events)\n    var i = 0;\n    for (; i < source.length; i++) {\n      event = source[i];\n      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\n        { break }\n    }\n    if (i == source.length) { return }\n    hist.lastOrigin = hist.lastSelOrigin = null;\n\n    for (;;) {\n      event = source.pop();\n      if (event.ranges) {\n        pushSelectionToHistory(event, dest);\n        if (allowSelectionOnly && !event.equals(doc.sel)) {\n          setSelection(doc, event, {clearRedo: false});\n          return\n        }\n        selAfter = event;\n      } else if (suppress) {\n        source.push(event);\n        return\n      } else { break }\n    }\n\n    \/\/ Build up a reverse change object to add to the opposite history\n    \/\/ stack (redo when undoing, and vice versa).\n    var antiChanges = [];\n    pushSelectionToHistory(selAfter, dest);\n    dest.push({changes: antiChanges, generation: hist.generation});\n    hist.generation = event.generation || ++hist.maxGeneration;\n\n    var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n    var loop = function ( i ) {\n      var change = event.changes[i];\n      change.origin = type;\n      if (filter && !filterChange(doc, change, false)) {\n        source.length = 0;\n        return {}\n      }\n\n      antiChanges.push(historyChangeFromChange(doc, change));\n\n      var after = i ? computeSelAfterChange(doc, change) : lst(source);\n      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n      if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}); }\n      var rebased = [];\n\n      \/\/ Propagate to the linked documents\n      linkedDocs(doc, function (doc, sharedHist) {\n        if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n          rebaseHist(doc.history, change);\n          rebased.push(doc.history);\n        }\n        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n      });\n    };\n\n    for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n      var returned = loop( i$1 );\n\n      if ( returned ) return returned.v;\n    }\n  }\n\n  \/\/ Sub-views need their line numbers shifted when text is added\n  \/\/ above or below them in the parent document.\n  function shiftDoc(doc, distance) {\n    if (distance == 0) { return }\n    doc.first += distance;\n    doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(\n      Pos(range.anchor.line + distance, range.anchor.ch),\n      Pos(range.head.line + distance, range.head.ch)\n    ); }), doc.sel.primIndex);\n    if (doc.cm) {\n      regChange(doc.cm, doc.first, doc.first - distance, distance);\n      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\n        { regLineChange(doc.cm, l, \"gutter\"); }\n    }\n  }\n\n  \/\/ More lower-level change function, handling only a single document\n  \/\/ (not linked ones).\n  function makeChangeSingleDoc(doc, change, selAfter, spans) {\n    if (doc.cm && !doc.cm.curOp)\n      { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }\n\n    if (change.to.line < doc.first) {\n      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n      return\n    }\n    if (change.from.line > doc.lastLine()) { return }\n\n    \/\/ Clip the change to the size of this doc\n    if (change.from.line < doc.first) {\n      var shift = change.text.length - 1 - (doc.first - change.from.line);\n      shiftDoc(doc, shift);\n      change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\n                text: [lst(change.text)], origin: change.origin};\n    }\n    var last = doc.lastLine();\n    if (change.to.line > last) {\n      change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\n                text: [change.text[0]], origin: change.origin};\n    }\n\n    change.removed = getBetween(doc, change.from, change.to);\n\n    if (!selAfter) { selAfter = computeSelAfterChange(doc, change); }\n    if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans); }\n    else { updateDoc(doc, change, spans); }\n    setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n\n    if (doc.cantEdit && skipAtomic(doc, Pos(doc.firstLine(), 0)))\n      { doc.cantEdit = false; }\n  }\n\n  \/\/ Handle the interaction of a change to a document with the editor\n  \/\/ that this document is part of.\n  function makeChangeSingleDocInEditor(cm, change, spans) {\n    var doc = cm.doc, display = cm.display, from = change.from, to = change.to;\n\n    var recomputeMaxLength = false, checkWidthStart = from.line;\n    if (!cm.options.lineWrapping) {\n      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n      doc.iter(checkWidthStart, to.line + 1, function (line) {\n        if (line == display.maxLine) {\n          recomputeMaxLength = true;\n          return true\n        }\n      });\n    }\n\n    if (doc.sel.contains(change.from, change.to) > -1)\n      { signalCursorActivity(cm); }\n\n    updateDoc(doc, change, spans, estimateHeight(cm));\n\n    if (!cm.options.lineWrapping) {\n      doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n        var len = lineLength(line);\n        if (len > display.maxLineLength) {\n          display.maxLine = line;\n          display.maxLineLength = len;\n          display.maxLineChanged = true;\n          recomputeMaxLength = false;\n        }\n      });\n      if (recomputeMaxLength) { cm.curOp.updateMaxLine = true; }\n    }\n\n    retreatFrontier(doc, from.line);\n    startWorker(cm, 400);\n\n    var lendiff = change.text.length - (to.line - from.line) - 1;\n    \/\/ Remember that these lines changed, for updating the display\n    if (change.full)\n      { regChange(cm); }\n    else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\n      { regLineChange(cm, from.line, \"text\"); }\n    else\n      { regChange(cm, from.line, to.line + 1, lendiff); }\n\n    var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\");\n    if (changeHandler || changesHandler) {\n      var obj = {\n        from: from, to: to,\n        text: change.text,\n        removed: change.removed,\n        origin: change.origin\n      };\n      if (changeHandler) { signalLater(cm, \"change\", cm, obj); }\n      if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj); }\n    }\n    cm.display.selForContextMenu = null;\n  }\n\n  function replaceRange(doc, code, from, to, origin) {\n    var assign;\n\n    if (!to) { to = from; }\n    if (cmp(to, from) < 0) { (assign = [to, from], from = assign[0], to = assign[1]); }\n    if (typeof code == \"string\") { code = doc.splitLines(code); }\n    makeChange(doc, {from: from, to: to, text: code, origin: origin});\n  }\n\n  \/\/ Rebasing\/resetting history to deal with externally-sourced changes\n\n  function rebaseHistSelSingle(pos, from, to, diff) {\n    if (to < pos.line) {\n      pos.line += diff;\n    } else if (from < pos.line) {\n      pos.line = from;\n      pos.ch = 0;\n    }\n  }\n\n  \/\/ Tries to rebase an array of history events given a change in the\n  \/\/ document. If the change touches the same lines as the event, the\n  \/\/ event, and everything 'behind' it, is discarded. If the change is\n  \/\/ before the event, the event's positions are updated. Uses a\n  \/\/ copy-on-write scheme for the positions, to avoid having to\n  \/\/ reallocate them all on every rebase, but also avoid problems with\n  \/\/ shared position objects being unsafely updated.\n  function rebaseHistArray(array, from, to, diff) {\n    for (var i = 0; i < array.length; ++i) {\n      var sub = array[i], ok = true;\n      if (sub.ranges) {\n        if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true; }\n        for (var j = 0; j < sub.ranges.length; j++) {\n          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n        }\n        continue\n      }\n      for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n        var cur = sub.changes[j$1];\n        if (to < cur.from.line) {\n          cur.from = Pos(cur.from.line + diff, cur.from.ch);\n          cur.to = Pos(cur.to.line + diff, cur.to.ch);\n        } else if (from <= cur.to.line) {\n          ok = false;\n          break\n        }\n      }\n      if (!ok) {\n        array.splice(0, i + 1);\n        i = 0;\n      }\n    }\n  }\n\n  function rebaseHist(hist, change) {\n    var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;\n    rebaseHistArray(hist.done, from, to, diff);\n    rebaseHistArray(hist.undone, from, to, diff);\n  }\n\n  \/\/ Utility for applying a change to a line by handle or number,\n  \/\/ returning the number and optionally registering the line as\n  \/\/ changed.\n  function changeLine(doc, handle, changeType, op) {\n    var no = handle, line = handle;\n    if (typeof handle == \"number\") { line = getLine(doc, clipLine(doc, handle)); }\n    else { no = lineNo(handle); }\n    if (no == null) { return null }\n    if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType); }\n    return line\n  }\n\n  \/\/ The document is represented as a BTree consisting of leaves, with\n  \/\/ chunk of lines in them, and branches, with up to ten leaves or\n  \/\/ other branch nodes below them. The top node is always a branch\n  \/\/ node, and is the document object itself (meaning it has\n  \/\/ additional methods and properties).\n  \/\/\n  \/\/ All nodes have parent links. The tree is used both to go from\n  \/\/ line numbers to line objects, and to go from objects to numbers.\n  \/\/ It also indexes by height, and is used to convert between height\n  \/\/ and line object, and to find the total height of the document.\n  \/\/\n  \/\/ See also http:\/\/marijnhaverbeke.nl\/blog\/codemirror-line-tree.html\n\n  function LeafChunk(lines) {\n    this.lines = lines;\n    this.parent = null;\n    var height = 0;\n    for (var i = 0; i < lines.length; ++i) {\n      lines[i].parent = this;\n      height += lines[i].height;\n    }\n    this.height = height;\n  }\n\n  LeafChunk.prototype = {\n    chunkSize: function() { return this.lines.length },\n\n    \/\/ Remove the n lines at offset 'at'.\n    removeInner: function(at, n) {\n      for (var i = at, e = at + n; i < e; ++i) {\n        var line = this.lines[i];\n        this.height -= line.height;\n        cleanUpLine(line);\n        signalLater(line, \"delete\");\n      }\n      this.lines.splice(at, n);\n    },\n\n    \/\/ Helper used to collapse a small branch into a single leaf.\n    collapse: function(lines) {\n      lines.push.apply(lines, this.lines);\n    },\n\n    \/\/ Insert the given array of lines at offset 'at', count them as\n    \/\/ having the given height.\n    insertInner: function(at, lines, height) {\n      this.height += height;\n      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n      for (var i = 0; i < lines.length; ++i) { lines[i].parent = this; }\n    },\n\n    \/\/ Used to iterate over a part of the tree.\n    iterN: function(at, n, op) {\n      for (var e = at + n; at < e; ++at)\n        { if (op(this.lines[at])) { return true } }\n    }\n  };\n\n  function BranchChunk(children) {\n    this.children = children;\n    var size = 0, height = 0;\n    for (var i = 0; i < children.length; ++i) {\n      var ch = children[i];\n      size += ch.chunkSize(); height += ch.height;\n      ch.parent = this;\n    }\n    this.size = size;\n    this.height = height;\n    this.parent = null;\n  }\n\n  BranchChunk.prototype = {\n    chunkSize: function() { return this.size },\n\n    removeInner: function(at, n) {\n      this.size -= n;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var rm = Math.min(n, sz - at), oldHeight = child.height;\n          child.removeInner(at, rm);\n          this.height -= oldHeight - child.height;\n          if (sz == rm) { this.children.splice(i--, 1); child.parent = null; }\n          if ((n -= rm) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n      \/\/ If the result is smaller than 25 lines, ensure that it is a\n      \/\/ single leaf node.\n      if (this.size - n < 25 &&\n          (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n        var lines = [];\n        this.collapse(lines);\n        this.children = [new LeafChunk(lines)];\n        this.children[0].parent = this;\n      }\n    },\n\n    collapse: function(lines) {\n      for (var i = 0; i < this.children.length; ++i) { this.children[i].collapse(lines); }\n    },\n\n    insertInner: function(at, lines, height) {\n      this.size += lines.length;\n      this.height += height;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at <= sz) {\n          child.insertInner(at, lines, height);\n          if (child.lines && child.lines.length > 50) {\n            \/\/ To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n            \/\/ Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n            var remaining = child.lines.length % 25 + 25;\n            for (var pos = remaining; pos < child.lines.length;) {\n              var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));\n              child.height -= leaf.height;\n              this.children.splice(++i, 0, leaf);\n              leaf.parent = this;\n            }\n            child.lines = child.lines.slice(0, remaining);\n            this.maybeSpill();\n          }\n          break\n        }\n        at -= sz;\n      }\n    },\n\n    \/\/ When a node has grown, check whether it should be split.\n    maybeSpill: function() {\n      if (this.children.length <= 10) { return }\n      var me = this;\n      do {\n        var spilled = me.children.splice(me.children.length - 5, 5);\n        var sibling = new BranchChunk(spilled);\n        if (!me.parent) { \/\/ Become the parent node\n          var copy = new BranchChunk(me.children);\n          copy.parent = me;\n          me.children = [copy, sibling];\n          me = copy;\n       } else {\n          me.size -= sibling.size;\n          me.height -= sibling.height;\n          var myIndex = indexOf(me.parent.children, me);\n          me.parent.children.splice(myIndex + 1, 0, sibling);\n        }\n        sibling.parent = me.parent;\n      } while (me.children.length > 10)\n      me.parent.maybeSpill();\n    },\n\n    iterN: function(at, n, op) {\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var used = Math.min(n, sz - at);\n          if (child.iterN(at, used, op)) { return true }\n          if ((n -= used) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n    }\n  };\n\n  \/\/ Line widgets are block elements displayed above or below a line.\n\n  var LineWidget = function(doc, node, options) {\n    if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))\n      { this[opt] = options[opt]; } } }\n    this.doc = doc;\n    this.node = node;\n  };\n\n  LineWidget.prototype.clear = function () {\n    var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);\n    if (no == null || !ws) { return }\n    for (var i = 0; i < ws.length; ++i) { if (ws[i] == this) { ws.splice(i--, 1); } }\n    if (!ws.length) { line.widgets = null; }\n    var height = widgetHeight(this);\n    updateLineHeight(line, Math.max(0, line.height - height));\n    if (cm) {\n      runInOp(cm, function () {\n        adjustScrollWhenAboveVisible(cm, line, -height);\n        regLineChange(cm, no, \"widget\");\n      });\n      signalLater(cm, \"lineWidgetCleared\", cm, this, no);\n    }\n  };\n\n  LineWidget.prototype.changed = function () {\n      var this$1 = this;\n\n    var oldH = this.height, cm = this.doc.cm, line = this.line;\n    this.height = null;\n    var diff = widgetHeight(this) - oldH;\n    if (!diff) { return }\n    if (!lineIsHidden(this.doc, line)) { updateLineHeight(line, line.height + diff); }\n    if (cm) {\n      runInOp(cm, function () {\n        cm.curOp.forceUpdate = true;\n        adjustScrollWhenAboveVisible(cm, line, diff);\n        signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line));\n      });\n    }\n  };\n  eventMixin(LineWidget);\n\n  function adjustScrollWhenAboveVisible(cm, line, diff) {\n    if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\n      { addToScrollTop(cm, diff); }\n  }\n\n  function addLineWidget(doc, handle, node, options) {\n    var widget = new LineWidget(doc, node, options);\n    var cm = doc.cm;\n    if (cm && widget.noHScroll) { cm.display.alignWidgets = true; }\n    changeLine(doc, handle, \"widget\", function (line) {\n      var widgets = line.widgets || (line.widgets = []);\n      if (widget.insertAt == null) { widgets.push(widget); }\n      else { widgets.splice(Math.min(widgets.length, Math.max(0, widget.insertAt)), 0, widget); }\n      widget.line = line;\n      if (cm && !lineIsHidden(doc, line)) {\n        var aboveVisible = heightAtLine(line) < doc.scrollTop;\n        updateLineHeight(line, line.height + widgetHeight(widget));\n        if (aboveVisible) { addToScrollTop(cm, widget.height); }\n        cm.curOp.forceUpdate = true;\n      }\n      return true\n    });\n    if (cm) { signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle)); }\n    return widget\n  }\n\n  \/\/ TEXTMARKERS\n\n  \/\/ Created with markText and setBookmark methods. A TextMarker is a\n  \/\/ handle that can be used to clear or find a marked position in the\n  \/\/ document. Line objects hold arrays (markedSpans) containing\n  \/\/ {from, to, marker} object pointing to such marker objects, and\n  \/\/ indicating that such a marker is present on that line. Multiple\n  \/\/ lines may point to the same marker when it spans across lines.\n  \/\/ The spans will have null for their from\/to properties when the\n  \/\/ marker continues beyond the start\/end of the line. Markers have\n  \/\/ links back to the lines they currently touch.\n\n  \/\/ Collapsed markers have unique ids, in order to be able to order\n  \/\/ them, which is needed for uniquely determining an outer marker\n  \/\/ when they overlap (they may nest, but not partially overlap).\n  var nextMarkerId = 0;\n\n  var TextMarker = function(doc, type) {\n    this.lines = [];\n    this.type = type;\n    this.doc = doc;\n    this.id = ++nextMarkerId;\n  };\n\n  \/\/ Clear the marker.\n  TextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    var cm = this.doc.cm, withOp = cm && !cm.curOp;\n    if (withOp) { startOperation(cm); }\n    if (hasHandler(this, \"clear\")) {\n      var found = this.find();\n      if (found) { signalLater(this, \"clear\", found.from, found.to); }\n    }\n    var min = null, max = null;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (cm && !this.collapsed) { regLineChange(cm, lineNo(line), \"text\"); }\n      else if (cm) {\n        if (span.to != null) { max = lineNo(line); }\n        if (span.from != null) { min = lineNo(line); }\n      }\n      line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n      if (span.from == null && this.collapsed && !lineIsHidden(this.doc, line) && cm)\n        { updateLineHeight(line, textHeight(cm.display)); }\n    }\n    if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n      var visual = visualLine(this.lines[i$1]), len = lineLength(visual);\n      if (len > cm.display.maxLineLength) {\n        cm.display.maxLine = visual;\n        cm.display.maxLineLength = len;\n        cm.display.maxLineChanged = true;\n      }\n    } }\n\n    if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1); }\n    this.lines.length = 0;\n    this.explicitlyCleared = true;\n    if (this.atomic && this.doc.cantEdit) {\n      this.doc.cantEdit = false;\n      if (cm) { reCheckSelection(cm.doc); }\n    }\n    if (cm) { signalLater(cm, \"markerCleared\", cm, this, min, max); }\n    if (withOp) { endOperation(cm); }\n    if (this.parent) { this.parent.clear(); }\n  };\n\n  \/\/ Find the position of the marker in the document. Returns a {from,\n  \/\/ to} object by default. Side can be passed to get a specific side\n  \/\/ -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n  \/\/ Pos objects returned contain a line object, rather than a line\n  \/\/ number (used to prevent looking up the same line twice).\n  TextMarker.prototype.find = function (side, lineObj) {\n    if (side == null && this.type == \"bookmark\") { side = 1; }\n    var from, to;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (span.from != null) {\n        from = Pos(lineObj ? line : lineNo(line), span.from);\n        if (side == -1) { return from }\n      }\n      if (span.to != null) {\n        to = Pos(lineObj ? line : lineNo(line), span.to);\n        if (side == 1) { return to }\n      }\n    }\n    return from && {from: from, to: to}\n  };\n\n  \/\/ Signals that the marker's widget changed, and surrounding layout\n  \/\/ should be recomputed.\n  TextMarker.prototype.changed = function () {\n      var this$1 = this;\n\n    var pos = this.find(-1, true), widget = this, cm = this.doc.cm;\n    if (!pos || !cm) { return }\n    runInOp(cm, function () {\n      var line = pos.line, lineN = lineNo(pos.line);\n      var view = findViewForLine(cm, lineN);\n      if (view) {\n        clearLineMeasurementCacheFor(view);\n        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n      }\n      cm.curOp.updateMaxLine = true;\n      if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n        var oldHeight = widget.height;\n        widget.height = null;\n        var dHeight = widgetHeight(widget) - oldHeight;\n        if (dHeight)\n          { updateLineHeight(line, line.height + dHeight); }\n      }\n      signalLater(cm, \"markerChanged\", cm, this$1);\n    });\n  };\n\n  TextMarker.prototype.attachLine = function (line) {\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\n        { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this); }\n    }\n    this.lines.push(line);\n  };\n\n  TextMarker.prototype.detachLine = function (line) {\n    this.lines.splice(indexOf(this.lines, line), 1);\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp\n      ;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n    }\n  };\n  eventMixin(TextMarker);\n\n  \/\/ Create a marker, wire it up to the right lines, and\n  function markText(doc, from, to, options, type) {\n    \/\/ Shared markers (across linked documents) are handled separately\n    \/\/ (markTextShared will call out to this again, once per\n    \/\/ document).\n    if (options && options.shared) { return markTextShared(doc, from, to, options, type) }\n    \/\/ Ensure we are in an operation.\n    if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }\n\n    var marker = new TextMarker(doc, type), diff = cmp(from, to);\n    if (options) { copyObj(options, marker, false); }\n    \/\/ Don't connect empty markers unless clearWhenEmpty is false\n    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\n      { return marker }\n    if (marker.replacedWith) {\n      \/\/ Showing up as a widget implies collapsed (widget replaces text)\n      marker.collapsed = true;\n      marker.widgetNode = eltP(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n      if (!options.handleMouseEvents) { marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\"); }\n      if (options.insertLeft) { marker.widgetNode.insertLeft = true; }\n    }\n    if (marker.collapsed) {\n      if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\n          from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\n        { throw new Error(\"Inserting collapsed marker partially overlapping an existing one\") }\n      seeCollapsedSpans();\n    }\n\n    if (marker.addToHistory)\n      { addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN); }\n\n    var curLine = from.line, cm = doc.cm, updateMaxLine;\n    doc.iter(curLine, to.line + 1, function (line) {\n      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\n        { updateMaxLine = true; }\n      if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0); }\n      addMarkedSpan(line, new MarkedSpan(marker,\n                                         curLine == from.line ? from.ch : null,\n                                         curLine == to.line ? to.ch : null));\n      ++curLine;\n    });\n    \/\/ lineIsHidden depends on the presence of the spans, so needs a second pass\n    if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {\n      if (lineIsHidden(doc, line)) { updateLineHeight(line, 0); }\n    }); }\n\n    if (marker.clearOnEnter) { on(marker, \"beforeCursorEnter\", function () { return marker.clear(); }); }\n\n    if (marker.readOnly) {\n      seeReadOnlySpans();\n      if (doc.history.done.length || doc.history.undone.length)\n        { doc.clearHistory(); }\n    }\n    if (marker.collapsed) {\n      marker.id = ++nextMarkerId;\n      marker.atomic = true;\n    }\n    if (cm) {\n      \/\/ Sync editor state\n      if (updateMaxLine) { cm.curOp.updateMaxLine = true; }\n      if (marker.collapsed)\n        { regChange(cm, from.line, to.line + 1); }\n      else if (marker.className || marker.startStyle || marker.endStyle || marker.css ||\n               marker.attributes || marker.title)\n        { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, \"text\"); } }\n      if (marker.atomic) { reCheckSelection(cm.doc); }\n      signalLater(cm, \"markerAdded\", cm, marker);\n    }\n    return marker\n  }\n\n  \/\/ SHARED TEXTMARKERS\n\n  \/\/ A shared marker spans multiple linked documents. It is\n  \/\/ implemented as a meta-marker-object controlling multiple normal\n  \/\/ markers.\n  var SharedTextMarker = function(markers, primary) {\n    this.markers = markers;\n    this.primary = primary;\n    for (var i = 0; i < markers.length; ++i)\n      { markers[i].parent = this; }\n  };\n\n  SharedTextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    this.explicitlyCleared = true;\n    for (var i = 0; i < this.markers.length; ++i)\n      { this.markers[i].clear(); }\n    signalLater(this, \"clear\");\n  };\n\n  SharedTextMarker.prototype.find = function (side, lineObj) {\n    return this.primary.find(side, lineObj)\n  };\n  eventMixin(SharedTextMarker);\n\n  function markTextShared(doc, from, to, options, type) {\n    options = copyObj(options);\n    options.shared = false;\n    var markers = [markText(doc, from, to, options, type)], primary = markers[0];\n    var widget = options.widgetNode;\n    linkedDocs(doc, function (doc) {\n      if (widget) { options.widgetNode = widget.cloneNode(true); }\n      markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));\n      for (var i = 0; i < doc.linked.length; ++i)\n        { if (doc.linked[i].isParent) { return } }\n      primary = lst(markers);\n    });\n    return new SharedTextMarker(markers, primary)\n  }\n\n  function findSharedMarkers(doc) {\n    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })\n  }\n\n  function copySharedMarkers(doc, markers) {\n    for (var i = 0; i < markers.length; i++) {\n      var marker = markers[i], pos = marker.find();\n      var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to);\n      if (cmp(mFrom, mTo)) {\n        var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n        marker.markers.push(subMark);\n        subMark.parent = marker;\n      }\n    }\n  }\n\n  function detachSharedMarkers(markers) {\n    var loop = function ( i ) {\n      var marker = markers[i], linked = [marker.primary.doc];\n      linkedDocs(marker.primary.doc, function (d) { return linked.push(d); });\n      for (var j = 0; j < marker.markers.length; j++) {\n        var subMarker = marker.markers[j];\n        if (indexOf(linked, subMarker.doc) == -1) {\n          subMarker.parent = null;\n          marker.markers.splice(j--, 1);\n        }\n      }\n    };\n\n    for (var i = 0; i < markers.length; i++) loop( i );\n  }\n\n  var nextDocId = 0;\n  var Doc = function(text, mode, firstLine, lineSep, direction) {\n    if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep, direction) }\n    if (firstLine == null) { firstLine = 0; }\n\n    BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n    this.first = firstLine;\n    this.scrollTop = this.scrollLeft = 0;\n    this.cantEdit = false;\n    this.cleanGeneration = 1;\n    this.modeFrontier = this.highlightFrontier = firstLine;\n    var start = Pos(firstLine, 0);\n    this.sel = simpleSelection(start);\n    this.history = new History(null);\n    this.id = ++nextDocId;\n    this.modeOption = mode;\n    this.lineSep = lineSep;\n    this.direction = (direction == \"rtl\") ? \"rtl\" : \"ltr\";\n    this.extend = false;\n\n    if (typeof text == \"string\") { text = this.splitLines(text); }\n    updateDoc(this, {from: start, to: start, text: text});\n    setSelection(this, simpleSelection(start), sel_dontScroll);\n  };\n\n  Doc.prototype = createObj(BranchChunk.prototype, {\n    constructor: Doc,\n    \/\/ Iterate over the document. Supports two forms -- with only one\n    \/\/ argument, it calls that for each line in the document. With\n    \/\/ three, it iterates over the range given by the first two (with\n    \/\/ the second being non-inclusive).\n    iter: function(from, to, op) {\n      if (op) { this.iterN(from - this.first, to - from, op); }\n      else { this.iterN(this.first, this.first + this.size, from); }\n    },\n\n    \/\/ Non-public interface for adding and removing lines.\n    insert: function(at, lines) {\n      var height = 0;\n      for (var i = 0; i < lines.length; ++i) { height += lines[i].height; }\n      this.insertInner(at - this.first, lines, height);\n    },\n    remove: function(at, n) { this.removeInner(at - this.first, n); },\n\n    \/\/ From here, the methods are part of the public interface. Most\n    \/\/ are also available from CodeMirror (editor) instances.\n\n    getValue: function(lineSep) {\n      var lines = getLines(this, this.first, this.first + this.size);\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n    setValue: docMethodOp(function(code) {\n      var top = Pos(this.first, 0), last = this.first + this.size - 1;\n      makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\n                        text: this.splitLines(code), origin: \"setValue\", full: true}, true);\n      if (this.cm) { scrollToCoords(this.cm, 0, 0); }\n      setSelection(this, simpleSelection(top), sel_dontScroll);\n    }),\n    replaceRange: function(code, from, to, origin) {\n      from = clipPos(this, from);\n      to = to ? clipPos(this, to) : from;\n      replaceRange(this, code, from, to, origin);\n    },\n    getRange: function(from, to, lineSep) {\n      var lines = getBetween(this, clipPos(this, from), clipPos(this, to));\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n\n    getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},\n\n    getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},\n    getLineNumber: function(line) {return lineNo(line)},\n\n    getLineHandleVisualStart: function(line) {\n      if (typeof line == \"number\") { line = getLine(this, line); }\n      return visualLine(line)\n    },\n\n    lineCount: function() {return this.size},\n    firstLine: function() {return this.first},\n    lastLine: function() {return this.first + this.size - 1},\n\n    clipPos: function(pos) {return clipPos(this, pos)},\n\n    getCursor: function(start) {\n      var range = this.sel.primary(), pos;\n      if (start == null || start == \"head\") { pos = range.head; }\n      else if (start == \"anchor\") { pos = range.anchor; }\n      else if (start == \"end\" || start == \"to\" || start === false) { pos = range.to(); }\n      else { pos = range.from(); }\n      return pos\n    },\n    listSelections: function() { return this.sel.ranges },\n    somethingSelected: function() {return this.sel.somethingSelected()},\n\n    setCursor: docMethodOp(function(line, ch, options) {\n      setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n    }),\n    setSelection: docMethodOp(function(anchor, head, options) {\n      setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);\n    }),\n    extendSelection: docMethodOp(function(head, other, options) {\n      extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);\n    }),\n    extendSelections: docMethodOp(function(heads, options) {\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    extendSelectionsBy: docMethodOp(function(f, options) {\n      var heads = map(this.sel.ranges, f);\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    setSelections: docMethodOp(function(ranges, primary, options) {\n      if (!ranges.length) { return }\n      var out = [];\n      for (var i = 0; i < ranges.length; i++)\n        { out[i] = new Range(clipPos(this, ranges[i].anchor),\n                           clipPos(this, ranges[i].head)); }\n      if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex); }\n      setSelection(this, normalizeSelection(this.cm, out, primary), options);\n    }),\n    addSelection: docMethodOp(function(anchor, head, options) {\n      var ranges = this.sel.ranges.slice(0);\n      ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));\n      setSelection(this, normalizeSelection(this.cm, ranges, ranges.length - 1), options);\n    }),\n\n    getSelection: function(lineSep) {\n      var ranges = this.sel.ranges, lines;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        lines = lines ? lines.concat(sel) : sel;\n      }\n      if (lineSep === false) { return lines }\n      else { return lines.join(lineSep || this.lineSeparator()) }\n    },\n    getSelections: function(lineSep) {\n      var parts = [], ranges = this.sel.ranges;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        if (lineSep !== false) { sel = sel.join(lineSep || this.lineSeparator()); }\n        parts[i] = sel;\n      }\n      return parts\n    },\n    replaceSelection: function(code, collapse, origin) {\n      var dup = [];\n      for (var i = 0; i < this.sel.ranges.length; i++)\n        { dup[i] = code; }\n      this.replaceSelections(dup, collapse, origin || \"+input\");\n    },\n    replaceSelections: docMethodOp(function(code, collapse, origin) {\n      var changes = [], sel = this.sel;\n      for (var i = 0; i < sel.ranges.length; i++) {\n        var range = sel.ranges[i];\n        changes[i] = {from: range.from(), to: range.to(), text: this.splitLines(code[i]), origin: origin};\n      }\n      var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n      for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)\n        { makeChange(this, changes[i$1]); }\n      if (newSel) { setSelectionReplaceHistory(this, newSel); }\n      else if (this.cm) { ensureCursorVisible(this.cm); }\n    }),\n    undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\");}),\n    redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\");}),\n    undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true);}),\n    redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true);}),\n\n    setExtending: function(val) {this.extend = val;},\n    getExtending: function() {return this.extend},\n\n    historySize: function() {\n      var hist = this.history, done = 0, undone = 0;\n      for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done; } }\n      for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone; } }\n      return {undo: done, redo: undone}\n    },\n    clearHistory: function() {\n      var this$1 = this;\n\n      this.history = new History(this.history.maxGeneration);\n      linkedDocs(this, function (doc) { return doc.history = this$1.history; }, true);\n    },\n\n    markClean: function() {\n      this.cleanGeneration = this.changeGeneration(true);\n    },\n    changeGeneration: function(forceSplit) {\n      if (forceSplit)\n        { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null; }\n      return this.history.generation\n    },\n    isClean: function (gen) {\n      return this.history.generation == (gen || this.cleanGeneration)\n    },\n\n    getHistory: function() {\n      return {done: copyHistoryArray(this.history.done),\n              undone: copyHistoryArray(this.history.undone)}\n    },\n    setHistory: function(histData) {\n      var hist = this.history = new History(this.history.maxGeneration);\n      hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n    },\n\n    setGutterMarker: docMethodOp(function(line, gutterID, value) {\n      return changeLine(this, line, \"gutter\", function (line) {\n        var markers = line.gutterMarkers || (line.gutterMarkers = {});\n        markers[gutterID] = value;\n        if (!value && isEmpty(markers)) { line.gutterMarkers = null; }\n        return true\n      })\n    }),\n\n    clearGutter: docMethodOp(function(gutterID) {\n      var this$1 = this;\n\n      this.iter(function (line) {\n        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n          changeLine(this$1, line, \"gutter\", function () {\n            line.gutterMarkers[gutterID] = null;\n            if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null; }\n            return true\n          });\n        }\n      });\n    }),\n\n    lineInfo: function(line) {\n      var n;\n      if (typeof line == \"number\") {\n        if (!isLine(this, line)) { return null }\n        n = line;\n        line = getLine(this, line);\n        if (!line) { return null }\n      } else {\n        n = lineNo(line);\n        if (n == null) { return null }\n      }\n      return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\n              textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\n              widgets: line.widgets}\n    },\n\n    addLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        if (!line[prop]) { line[prop] = cls; }\n        else if (classTest(cls).test(line[prop])) { return false }\n        else { line[prop] += \" \" + cls; }\n        return true\n      })\n    }),\n    removeLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        var cur = line[prop];\n        if (!cur) { return false }\n        else if (cls == null) { line[prop] = null; }\n        else {\n          var found = cur.match(classTest(cls));\n          if (!found) { return false }\n          var end = found.index + found[0].length;\n          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n        }\n        return true\n      })\n    }),\n\n    addLineWidget: docMethodOp(function(handle, node, options) {\n      return addLineWidget(this, handle, node, options)\n    }),\n    removeLineWidget: function(widget) { widget.clear(); },\n\n    markText: function(from, to, options) {\n      return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\")\n    },\n    setBookmark: function(pos, options) {\n      var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\n                      insertLeft: options && options.insertLeft,\n                      clearWhenEmpty: false, shared: options && options.shared,\n                      handleMouseEvents: options && options.handleMouseEvents};\n      pos = clipPos(this, pos);\n      return markText(this, pos, pos, realOpts, \"bookmark\")\n    },\n    findMarksAt: function(pos) {\n      pos = clipPos(this, pos);\n      var markers = [], spans = getLine(this, pos.line).markedSpans;\n      if (spans) { for (var i = 0; i < spans.length; ++i) {\n        var span = spans[i];\n        if ((span.from == null || span.from <= pos.ch) &&\n            (span.to == null || span.to >= pos.ch))\n          { markers.push(span.marker.parent || span.marker); }\n      } }\n      return markers\n    },\n    findMarks: function(from, to, filter) {\n      from = clipPos(this, from); to = clipPos(this, to);\n      var found = [], lineNo = from.line;\n      this.iter(from.line, to.line + 1, function (line) {\n        var spans = line.markedSpans;\n        if (spans) { for (var i = 0; i < spans.length; i++) {\n          var span = spans[i];\n          if (!(span.to != null && lineNo == from.line && from.ch >= span.to ||\n                span.from == null && lineNo != from.line ||\n                span.from != null && lineNo == to.line && span.from >= to.ch) &&\n              (!filter || filter(span.marker)))\n            { found.push(span.marker.parent || span.marker); }\n        } }\n        ++lineNo;\n      });\n      return found\n    },\n    getAllMarks: function() {\n      var markers = [];\n      this.iter(function (line) {\n        var sps = line.markedSpans;\n        if (sps) { for (var i = 0; i < sps.length; ++i)\n          { if (sps[i].from != null) { markers.push(sps[i].marker); } } }\n      });\n      return markers\n    },\n\n    posFromIndex: function(off) {\n      var ch, lineNo = this.first, sepSize = this.lineSeparator().length;\n      this.iter(function (line) {\n        var sz = line.text.length + sepSize;\n        if (sz > off) { ch = off; return true }\n        off -= sz;\n        ++lineNo;\n      });\n      return clipPos(this, Pos(lineNo, ch))\n    },\n    indexFromPos: function (coords) {\n      coords = clipPos(this, coords);\n      var index = coords.ch;\n      if (coords.line < this.first || coords.ch < 0) { return 0 }\n      var sepSize = this.lineSeparator().length;\n      this.iter(this.first, coords.line, function (line) { \/\/ iter aborts when callback returns a truthy value\n        index += line.text.length + sepSize;\n      });\n      return index\n    },\n\n    copy: function(copyHistory) {\n      var doc = new Doc(getLines(this, this.first, this.first + this.size),\n                        this.modeOption, this.first, this.lineSep, this.direction);\n      doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft;\n      doc.sel = this.sel;\n      doc.extend = false;\n      if (copyHistory) {\n        doc.history.undoDepth = this.history.undoDepth;\n        doc.setHistory(this.getHistory());\n      }\n      return doc\n    },\n\n    linkedDoc: function(options) {\n      if (!options) { options = {}; }\n      var from = this.first, to = this.first + this.size;\n      if (options.from != null && options.from > from) { from = options.from; }\n      if (options.to != null && options.to < to) { to = options.to; }\n      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction);\n      if (options.sharedHist) { copy.history = this.history\n      ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist});\n      copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}];\n      copySharedMarkers(copy, findSharedMarkers(this));\n      return copy\n    },\n    unlinkDoc: function(other) {\n      if (other instanceof CodeMirror) { other = other.doc; }\n      if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {\n        var link = this.linked[i];\n        if (link.doc != other) { continue }\n        this.linked.splice(i, 1);\n        other.unlinkDoc(this);\n        detachSharedMarkers(findSharedMarkers(this));\n        break\n      } }\n      \/\/ If the histories were shared, split them again\n      if (other.history == this.history) {\n        var splitIds = [other.id];\n        linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true);\n        other.history = new History(null);\n        other.history.done = copyHistoryArray(this.history.done, splitIds);\n        other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n      }\n    },\n    iterLinkedDocs: function(f) {linkedDocs(this, f);},\n\n    getMode: function() {return this.mode},\n    getEditor: function() {return this.cm},\n\n    splitLines: function(str) {\n      if (this.lineSep) { return str.split(this.lineSep) }\n      return splitLinesAuto(str)\n    },\n    lineSeparator: function() { return this.lineSep || \"\\n\" },\n\n    setDirection: docMethodOp(function (dir) {\n      if (dir != \"rtl\") { dir = \"ltr\"; }\n      if (dir == this.direction) { return }\n      this.direction = dir;\n      this.iter(function (line) { return line.order = null; });\n      if (this.cm) { directionChanged(this.cm); }\n    })\n  });\n\n  \/\/ Public alias.\n  Doc.prototype.eachLine = Doc.prototype.iter;\n\n  \/\/ Kludge to work around strange IE behavior where it'll sometimes\n  \/\/ re-fire a series of drag-related events right after the drop (#1551)\n  var lastDrop = 0;\n\n  function onDrop(e) {\n    var cm = this;\n    clearDragCursor(cm);\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\n      { return }\n    e_preventDefault(e);\n    if (ie) { lastDrop = +new Date; }\n    var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;\n    if (!pos || cm.isReadOnly()) { return }\n    \/\/ Might be a file drop, in which case we simply extract the text\n    \/\/ and insert it.\n    if (files && files.length && window.FileReader && window.File) {\n      var n = files.length, text = Array(n), read = 0;\n      var markAsReadAndPasteIfAllFilesAreRead = function () {\n        if (++read == n) {\n          operation(cm, function () {\n            pos = clipPos(cm.doc, pos);\n            var change = {from: pos, to: pos,\n                          text: cm.doc.splitLines(\n                              text.filter(function (t) { return t != null; }).join(cm.doc.lineSeparator())),\n                          origin: \"paste\"};\n            makeChange(cm.doc, change);\n            setSelectionReplaceHistory(cm.doc, simpleSelection(clipPos(cm.doc, pos), clipPos(cm.doc, changeEnd(change))));\n          })();\n        }\n      };\n      var readTextFromFile = function (file, i) {\n        if (cm.options.allowDropFileTypes &&\n            indexOf(cm.options.allowDropFileTypes, file.type) == -1) {\n          markAsReadAndPasteIfAllFilesAreRead();\n          return\n        }\n        var reader = new FileReader;\n        reader.onerror = function () { return markAsReadAndPasteIfAllFilesAreRead(); };\n        reader.onload = function () {\n          var content = reader.result;\n          if (\/[\\x00-\\x08\\x0e-\\x1f]{2}\/.test(content)) {\n            markAsReadAndPasteIfAllFilesAreRead();\n            return\n          }\n          text[i] = content;\n          markAsReadAndPasteIfAllFilesAreRead();\n        };\n        reader.readAsText(file);\n      };\n      for (var i = 0; i < files.length; i++) { readTextFromFile(files[i], i); }\n    } else { \/\/ Normal drop\n      \/\/ Don't do a replace if the drop happened inside of the selected text.\n      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n        cm.state.draggingText(e);\n        \/\/ Ensure the editor is re-focused\n        setTimeout(function () { return cm.display.input.focus(); }, 20);\n        return\n      }\n      try {\n        var text$1 = e.dataTransfer.getData(\"Text\");\n        if (text$1) {\n          var selected;\n          if (cm.state.draggingText && !cm.state.draggingText.copy)\n            { selected = cm.listSelections(); }\n          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n          if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)\n            { replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\"); } }\n          cm.replaceSelection(text$1, \"around\", \"paste\");\n          cm.display.input.focus();\n        }\n      }\n      catch(e$1){}\n    }\n  }\n\n  function onDragStart(cm, e) {\n    if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }\n\n    e.dataTransfer.setData(\"Text\", cm.getSelection());\n    e.dataTransfer.effectAllowed = \"copyMove\";\n\n    \/\/ Use dummy image instead of default browsers image.\n    \/\/ Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n    if (e.dataTransfer.setDragImage && !safari) {\n      var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n      img.src = \"data:image\/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n      if (presto) {\n        img.width = img.height = 1;\n        cm.display.wrapper.appendChild(img);\n        \/\/ Force a relayout, or Opera won't use our image for some obscure reason\n        img._top = img.offsetTop;\n      }\n      e.dataTransfer.setDragImage(img, 0, 0);\n      if (presto) { img.parentNode.removeChild(img); }\n    }\n  }\n\n  function onDragOver(cm, e) {\n    var pos = posFromMouse(cm, e);\n    if (!pos) { return }\n    var frag = document.createDocumentFragment();\n    drawSelectionCursor(cm, pos, frag);\n    if (!cm.display.dragCursor) {\n      cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n      cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n    }\n    removeChildrenAndAdd(cm.display.dragCursor, frag);\n  }\n\n  function clearDragCursor(cm) {\n    if (cm.display.dragCursor) {\n      cm.display.lineSpace.removeChild(cm.display.dragCursor);\n      cm.display.dragCursor = null;\n    }\n  }\n\n  \/\/ These must be handled carefully, because naively registering a\n  \/\/ handler for each editor will cause the editors to never be\n  \/\/ garbage collected.\n\n  function forEachCodeMirror(f) {\n    if (!document.getElementsByClassName) { return }\n    var byClass = document.getElementsByClassName(\"CodeMirror\"), editors = [];\n    for (var i = 0; i < byClass.length; i++) {\n      var cm = byClass[i].CodeMirror;\n      if (cm) { editors.push(cm); }\n    }\n    if (editors.length) { editors[0].operation(function () {\n      for (var i = 0; i < editors.length; i++) { f(editors[i]); }\n    }); }\n  }\n\n  var globalsRegistered = false;\n  function ensureGlobalHandlers() {\n    if (globalsRegistered) { return }\n    registerGlobalHandlers();\n    globalsRegistered = true;\n  }\n  function registerGlobalHandlers() {\n    \/\/ When the window resizes, we need to refresh active editors.\n    var resizeTimer;\n    on(window, \"resize\", function () {\n      if (resizeTimer == null) { resizeTimer = setTimeout(function () {\n        resizeTimer = null;\n        forEachCodeMirror(onResize);\n      }, 100); }\n    });\n    \/\/ When the window loses focus, we want to show the editor as blurred\n    on(window, \"blur\", function () { return forEachCodeMirror(onBlur); });\n  }\n  \/\/ Called when the window resizes\n  function onResize(cm) {\n    var d = cm.display;\n    \/\/ Might be a text scaling operation, clear size caches.\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n    d.scrollbarsClipped = false;\n    cm.setSize();\n  }\n\n  var keyNames = {\n    3: \"Pause\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\n    19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\n    36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\n    46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\n    106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"\/\", 145: \"ScrollLock\",\n    173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"\/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\n    221: \"]\", 222: \"'\", 224: \"Mod\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\n    63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\n  };\n\n  \/\/ Number keys\n  for (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i); }\n  \/\/ Alphabetic keys\n  for (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1); }\n  \/\/ Function keys\n  for (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2; }\n\n  var keyMap = {};\n\n  keyMap.basic = {\n    \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\n    \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\n    \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\n    \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\n    \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\n    \"Esc\": \"singleSelection\"\n  };\n  \/\/ Note that the save and find-related commands aren't defined by\n  \/\/ default. User code or addons can define them. Unknown commands\n  \/\/ are simply ignored.\n  keyMap.pcDefault = {\n    \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\n    \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\n    \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\n    \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\n    \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\n    \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\n    \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\n    \"fallthrough\": \"basic\"\n  };\n  \/\/ Very basic readline\/emacs-style bindings, which are standard on Mac.\n  keyMap.emacsy = {\n    \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\n    \"Alt-F\": \"goWordRight\", \"Alt-B\": \"goWordLeft\", \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\",\n    \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\", \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\",\n    \"Alt-D\": \"delWordAfter\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\", \"Ctrl-T\": \"transposeChars\",\n    \"Ctrl-O\": \"openLine\"\n  };\n  keyMap.macDefault = {\n    \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\n    \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\n    \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\n    \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\n    \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\n    \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\n    \"fallthrough\": [\"basic\", \"emacsy\"]\n  };\n  keyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault;\n\n  \/\/ KEYMAP DISPATCH\n\n  function normalizeKeyName(name) {\n    var parts = name.split(\/-(?!$)\/);\n    name = parts[parts.length - 1];\n    var alt, ctrl, shift, cmd;\n    for (var i = 0; i < parts.length - 1; i++) {\n      var mod = parts[i];\n      if (\/^(cmd|meta|m)$\/i.test(mod)) { cmd = true; }\n      else if (\/^a(lt)?$\/i.test(mod)) { alt = true; }\n      else if (\/^(c|ctrl|control)$\/i.test(mod)) { ctrl = true; }\n      else if (\/^s(hift)?$\/i.test(mod)) { shift = true; }\n      else { throw new Error(\"Unrecognized modifier name: \" + mod) }\n    }\n    if (alt) { name = \"Alt-\" + name; }\n    if (ctrl) { name = \"Ctrl-\" + name; }\n    if (cmd) { name = \"Cmd-\" + name; }\n    if (shift) { name = \"Shift-\" + name; }\n    return name\n  }\n\n  \/\/ This is a kludge to keep keymaps mostly working as raw objects\n  \/\/ (backwards compatibility) while at the same time support features\n  \/\/ like normalization and multi-stroke key bindings. It compiles a\n  \/\/ new normalized keymap, and then updates the old object to reflect\n  \/\/ this.\n  function normalizeKeyMap(keymap) {\n    var copy = {};\n    for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {\n      var value = keymap[keyname];\n      if (\/^(name|fallthrough|(de|at)tach)$\/.test(keyname)) { continue }\n      if (value == \"...\") { delete keymap[keyname]; continue }\n\n      var keys = map(keyname.split(\" \"), normalizeKeyName);\n      for (var i = 0; i < keys.length; i++) {\n        var val = (void 0), name = (void 0);\n        if (i == keys.length - 1) {\n          name = keys.join(\" \");\n          val = value;\n        } else {\n          name = keys.slice(0, i + 1).join(\" \");\n          val = \"...\";\n        }\n        var prev = copy[name];\n        if (!prev) { copy[name] = val; }\n        else if (prev != val) { throw new Error(\"Inconsistent bindings for \" + name) }\n      }\n      delete keymap[keyname];\n    } }\n    for (var prop in copy) { keymap[prop] = copy[prop]; }\n    return keymap\n  }\n\n  function lookupKey(key, map, handle, context) {\n    map = getKeyMap(map);\n    var found = map.call ? map.call(key, context) : map[key];\n    if (found === false) { return \"nothing\" }\n    if (found === \"...\") { return \"multi\" }\n    if (found != null && handle(found)) { return \"handled\" }\n\n    if (map.fallthrough) {\n      if (Object.prototype.toString.call(map.fallthrough) != \"[object Array]\")\n        { return lookupKey(key, map.fallthrough, handle, context) }\n      for (var i = 0; i < map.fallthrough.length; i++) {\n        var result = lookupKey(key, map.fallthrough[i], handle, context);\n        if (result) { return result }\n      }\n    }\n  }\n\n  \/\/ Modifier key presses don't count as 'real' key presses for the\n  \/\/ purpose of keymap fallthrough.\n  function isModifierKey(value) {\n    var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n    return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\"\n  }\n\n  function addModifierNames(name, event, noShift) {\n    var base = name;\n    if (event.altKey && base != \"Alt\") { name = \"Alt-\" + name; }\n    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") { name = \"Ctrl-\" + name; }\n    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Mod\") { name = \"Cmd-\" + name; }\n    if (!noShift && event.shiftKey && base != \"Shift\") { name = \"Shift-\" + name; }\n    return name\n  }\n\n  \/\/ Look up the name of a key as indicated by an event object.\n  function keyName(event, noShift) {\n    if (presto && event.keyCode == 34 && event[\"char\"]) { return false }\n    var name = keyNames[event.keyCode];\n    if (name == null || event.altGraphKey) { return false }\n    \/\/ Ctrl-ScrollLock has keyCode 3, same as Ctrl-Pause,\n    \/\/ so we'll use event.code when available (Chrome 48+, FF 38+, Safari 10.1+)\n    if (event.keyCode == 3 && event.code) { name = event.code; }\n    return addModifierNames(name, event, noShift)\n  }\n\n  function getKeyMap(val) {\n    return typeof val == \"string\" ? keyMap[val] : val\n  }\n\n  \/\/ Helper for deleting text near the selection(s), used to implement\n  \/\/ backspace, delete, and similar functionality.\n  function deleteNearSelection(cm, compute) {\n    var ranges = cm.doc.sel.ranges, kill = [];\n    \/\/ Build up a set of ranges to kill first, merging overlapping\n    \/\/ ranges.\n    for (var i = 0; i < ranges.length; i++) {\n      var toKill = compute(ranges[i]);\n      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n        var replaced = kill.pop();\n        if (cmp(replaced.from, toKill.from) < 0) {\n          toKill.from = replaced.from;\n          break\n        }\n      }\n      kill.push(toKill);\n    }\n    \/\/ Next, remove those actual ranges.\n    runInOp(cm, function () {\n      for (var i = kill.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\"); }\n      ensureCursorVisible(cm);\n    });\n  }\n\n  function moveCharLogically(line, ch, dir) {\n    var target = skipExtendingChars(line.text, ch + dir, dir);\n    return target < 0 || target > line.text.length ? null : target\n  }\n\n  function moveLogically(line, start, dir) {\n    var ch = moveCharLogically(line, start.ch, dir);\n    return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\")\n  }\n\n  function endOfLine(visually, cm, lineObj, lineNo, dir) {\n    if (visually) {\n      if (cm.doc.direction == \"rtl\") { dir = -dir; }\n      var order = getOrder(lineObj, cm.doc.direction);\n      if (order) {\n        var part = dir < 0 ? lst(order) : order[0];\n        var moveInStorageOrder = (dir < 0) == (part.level == 1);\n        var sticky = moveInStorageOrder ? \"after\" : \"before\";\n        var ch;\n        \/\/ With a wrapped rtl chunk (possibly spanning multiple bidi parts),\n        \/\/ it could be that the last bidi part is not on the last visual line,\n        \/\/ since visual lines contain content order-consecutive chunks.\n        \/\/ Thus, in rtl, we are looking for the first (content-order) character\n        \/\/ in the rtl chunk that is on the last line (that is, the same line\n        \/\/ as the last (content-order) character).\n        if (part.level > 0 || cm.doc.direction == \"rtl\") {\n          var prep = prepareMeasureForLine(cm, lineObj);\n          ch = dir < 0 ? lineObj.text.length - 1 : 0;\n          var targetTop = measureCharPrepared(cm, prep, ch).top;\n          ch = findFirst(function (ch) { return measureCharPrepared(cm, prep, ch).top == targetTop; }, (dir < 0) == (part.level == 1) ? part.from : part.to - 1, ch);\n          if (sticky == \"before\") { ch = moveCharLogically(lineObj, ch, 1); }\n        } else { ch = dir < 0 ? part.to : part.from; }\n        return new Pos(lineNo, ch, sticky)\n      }\n    }\n    return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\")\n  }\n\n  function moveVisually(cm, line, start, dir) {\n    var bidi = getOrder(line, cm.doc.direction);\n    if (!bidi) { return moveLogically(line, start, dir) }\n    if (start.ch >= line.text.length) {\n      start.ch = line.text.length;\n      start.sticky = \"before\";\n    } else if (start.ch <= 0) {\n      start.ch = 0;\n      start.sticky = \"after\";\n    }\n    var partPos = getBidiPartAt(bidi, start.ch, start.sticky), part = bidi[partPos];\n    if (cm.doc.direction == \"ltr\" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\n      \/\/ Case 1: We move within an ltr part in an ltr editor. Even with wrapped lines,\n      \/\/ nothing interesting happens.\n      return moveLogically(line, start, dir)\n    }\n\n    var mv = function (pos, dir) { return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir); };\n    var prep;\n    var getWrappedLineExtent = function (ch) {\n      if (!cm.options.lineWrapping) { return {begin: 0, end: line.text.length} }\n      prep = prep || prepareMeasureForLine(cm, line);\n      return wrappedLineExtentChar(cm, line, prep, ch)\n    };\n    var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch);\n\n    if (cm.doc.direction == \"rtl\" || part.level == 1) {\n      var moveInStorageOrder = (part.level == 1) == (dir < 0);\n      var ch = mv(start, moveInStorageOrder ? 1 : -1);\n      if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\n        \/\/ Case 2: We move within an rtl part or in an rtl editor on the same visual line\n        var sticky = moveInStorageOrder ? \"before\" : \"after\";\n        return new Pos(start.line, ch, sticky)\n      }\n    }\n\n    \/\/ Case 3: Could not move within this bidi part in this visual line, so leave\n    \/\/ the current bidi part\n\n    var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {\n      var getRes = function (ch, moveInStorageOrder) { return moveInStorageOrder\n        ? new Pos(start.line, mv(ch, 1), \"before\")\n        : new Pos(start.line, ch, \"after\"); };\n\n      for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\n        var part = bidi[partPos];\n        var moveInStorageOrder = (dir > 0) == (part.level != 1);\n        var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1);\n        if (part.from <= ch && ch < part.to) { return getRes(ch, moveInStorageOrder) }\n        ch = moveInStorageOrder ? part.from : mv(part.to, -1);\n        if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) { return getRes(ch, moveInStorageOrder) }\n      }\n    };\n\n    \/\/ Case 3a: Look for other bidi parts on the same visual line\n    var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent);\n    if (res) { return res }\n\n    \/\/ Case 3b: Look for other bidi parts on the next visual line\n    var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1);\n    if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\n      res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh));\n      if (res) { return res }\n    }\n\n    \/\/ Case 4: Nowhere to move\n    return null\n  }\n\n  \/\/ Commands are parameter-less actions that can be performed on an\n  \/\/ editor, mostly used for keybindings.\n  var commands = {\n    selectAll: selectAll,\n    singleSelection: function (cm) { return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll); },\n    killLine: function (cm) { return deleteNearSelection(cm, function (range) {\n      if (range.empty()) {\n        var len = getLine(cm.doc, range.head.line).text.length;\n        if (range.head.ch == len && range.head.line < cm.lastLine())\n          { return {from: range.head, to: Pos(range.head.line + 1, 0)} }\n        else\n          { return {from: range.head, to: Pos(range.head.line, len)} }\n      } else {\n        return {from: range.from(), to: range.to()}\n      }\n    }); },\n    deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0),\n      to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\n    }); }); },\n    delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0), to: range.from()\n    }); }); },\n    delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var leftPos = cm.coordsChar({left: 0, top: top}, \"div\");\n      return {from: leftPos, to: range.from()}\n    }); },\n    delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\");\n      return {from: range.from(), to: rightPos }\n    }); },\n    undo: function (cm) { return cm.undo(); },\n    redo: function (cm) { return cm.redo(); },\n    undoSelection: function (cm) { return cm.undoSelection(); },\n    redoSelection: function (cm) { return cm.redoSelection(); },\n    goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },\n    goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },\n    goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },\n      {origin: \"+move\", bias: -1}\n    ); },\n    goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: 0, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      var pos = cm.coordsChar({left: 0, top: top}, \"div\");\n      if (pos.ch < cm.getLine(pos.line).search(\/\\S\/)) { return lineStartSmart(cm, range.head) }\n      return pos\n    }, sel_move); },\n    goLineUp: function (cm) { return cm.moveV(-1, \"line\"); },\n    goLineDown: function (cm) { return cm.moveV(1, \"line\"); },\n    goPageUp: function (cm) { return cm.moveV(-1, \"page\"); },\n    goPageDown: function (cm) { return cm.moveV(1, \"page\"); },\n    goCharLeft: function (cm) { return cm.moveH(-1, \"char\"); },\n    goCharRight: function (cm) { return cm.moveH(1, \"char\"); },\n    goColumnLeft: function (cm) { return cm.moveH(-1, \"column\"); },\n    goColumnRight: function (cm) { return cm.moveH(1, \"column\"); },\n    goWordLeft: function (cm) { return cm.moveH(-1, \"word\"); },\n    goGroupRight: function (cm) { return cm.moveH(1, \"group\"); },\n    goGroupLeft: function (cm) { return cm.moveH(-1, \"group\"); },\n    goWordRight: function (cm) { return cm.moveH(1, \"word\"); },\n    delCharBefore: function (cm) { return cm.deleteH(-1, \"codepoint\"); },\n    delCharAfter: function (cm) { return cm.deleteH(1, \"char\"); },\n    delWordBefore: function (cm) { return cm.deleteH(-1, \"word\"); },\n    delWordAfter: function (cm) { return cm.deleteH(1, \"word\"); },\n    delGroupBefore: function (cm) { return cm.deleteH(-1, \"group\"); },\n    delGroupAfter: function (cm) { return cm.deleteH(1, \"group\"); },\n    indentAuto: function (cm) { return cm.indentSelection(\"smart\"); },\n    indentMore: function (cm) { return cm.indentSelection(\"add\"); },\n    indentLess: function (cm) { return cm.indentSelection(\"subtract\"); },\n    insertTab: function (cm) { return cm.replaceSelection(\"\\t\"); },\n    insertSoftTab: function (cm) {\n      var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;\n      for (var i = 0; i < ranges.length; i++) {\n        var pos = ranges[i].from();\n        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n        spaces.push(spaceStr(tabSize - col % tabSize));\n      }\n      cm.replaceSelections(spaces);\n    },\n    defaultTab: function (cm) {\n      if (cm.somethingSelected()) { cm.indentSelection(\"add\"); }\n      else { cm.execCommand(\"insertTab\"); }\n    },\n    \/\/ Swap the two chars left and right of each selection's head.\n    \/\/ Move cursor behind the two swapped characters afterwards.\n    \/\/\n    \/\/ Doesn't consider line feeds a character.\n    \/\/ Doesn't scan more than one line above to find a character.\n    \/\/ Doesn't do anything on an empty line.\n    \/\/ Doesn't do anything with non-empty selections.\n    transposeChars: function (cm) { return runInOp(cm, function () {\n      var ranges = cm.listSelections(), newSel = [];\n      for (var i = 0; i < ranges.length; i++) {\n        if (!ranges[i].empty()) { continue }\n        var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text;\n        if (line) {\n          if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1); }\n          if (cur.ch > 0) {\n            cur = new Pos(cur.line, cur.ch + 1);\n            cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\n                            Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n          } else if (cur.line > cm.doc.first) {\n            var prev = getLine(cm.doc, cur.line - 1).text;\n            if (prev) {\n              cur = new Pos(cur.line, 1);\n              cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\n                              prev.charAt(prev.length - 1),\n                              Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\");\n            }\n          }\n        }\n        newSel.push(new Range(cur, cur));\n      }\n      cm.setSelections(newSel);\n    }); },\n    newlineAndIndent: function (cm) { return runInOp(cm, function () {\n      var sels = cm.listSelections();\n      for (var i = sels.length - 1; i >= 0; i--)\n        { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\"); }\n      sels = cm.listSelections();\n      for (var i$1 = 0; i$1 < sels.length; i$1++)\n        { cm.indentLine(sels[i$1].from().line, null, true); }\n      ensureCursorVisible(cm);\n    }); },\n    openLine: function (cm) { return cm.replaceSelection(\"\\n\", \"start\"); },\n    toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }\n  };\n\n\n  function lineStart(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLine(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, visual, lineN, 1)\n  }\n  function lineEnd(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLineEnd(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, line, lineN, -1)\n  }\n  function lineStartSmart(cm, pos) {\n    var start = lineStart(cm, pos.line);\n    var line = getLine(cm.doc, start.line);\n    var order = getOrder(line, cm.doc.direction);\n    if (!order || order[0].level == 0) {\n      var firstNonWS = Math.max(start.ch, line.text.search(\/\\S\/));\n      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n      return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky)\n    }\n    return start\n  }\n\n  \/\/ Run a handler that was bound to a key.\n  function doHandleBinding(cm, bound, dropShift) {\n    if (typeof bound == \"string\") {\n      bound = commands[bound];\n      if (!bound) { return false }\n    }\n    \/\/ Ensure previous input has been read, so that the handler sees a\n    \/\/ consistent view of the document\n    cm.display.input.ensurePolled();\n    var prevShift = cm.display.shift, done = false;\n    try {\n      if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n      if (dropShift) { cm.display.shift = false; }\n      done = bound(cm) != Pass;\n    } finally {\n      cm.display.shift = prevShift;\n      cm.state.suppressEdits = false;\n    }\n    return done\n  }\n\n  function lookupKeyForEditor(cm, name, handle) {\n    for (var i = 0; i < cm.state.keyMaps.length; i++) {\n      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n      if (result) { return result }\n    }\n    return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\n      || lookupKey(name, cm.options.keyMap, handle, cm)\n  }\n\n  \/\/ Note that, despite the name, this function is also used to check\n  \/\/ for bound mouse clicks.\n\n  var stopSeq = new Delayed;\n\n  function dispatchKey(cm, name, e, handle) {\n    var seq = cm.state.keySeq;\n    if (seq) {\n      if (isModifierKey(name)) { return \"handled\" }\n      if (\/\\'$\/.test(name))\n        { cm.state.keySeq = null; }\n      else\n        { stopSeq.set(50, function () {\n          if (cm.state.keySeq == seq) {\n            cm.state.keySeq = null;\n            cm.display.input.reset();\n          }\n        }); }\n      if (dispatchKeyInner(cm, seq + \" \" + name, e, handle)) { return true }\n    }\n    return dispatchKeyInner(cm, name, e, handle)\n  }\n\n  function dispatchKeyInner(cm, name, e, handle) {\n    var result = lookupKeyForEditor(cm, name, handle);\n\n    if (result == \"multi\")\n      { cm.state.keySeq = name; }\n    if (result == \"handled\")\n      { signalLater(cm, \"keyHandled\", cm, name, e); }\n\n    if (result == \"handled\" || result == \"multi\") {\n      e_preventDefault(e);\n      restartBlink(cm);\n    }\n\n    return !!result\n  }\n\n  \/\/ Handle a key from the keydown event.\n  function handleKeyBinding(cm, e) {\n    var name = keyName(e, true);\n    if (!name) { return false }\n\n    if (e.shiftKey && !cm.state.keySeq) {\n      \/\/ First try to resolve full name (including 'Shift-'). Failing\n      \/\/ that, see if there is a cursor-motion command (starting with\n      \/\/ 'go') bound to the keyname without 'Shift-'.\n      return dispatchKey(cm, \"Shift-\" + name, e, function (b) { return doHandleBinding(cm, b, true); })\n          || dispatchKey(cm, name, e, function (b) {\n               if (typeof b == \"string\" ? \/^go[A-Z]\/.test(b) : b.motion)\n                 { return doHandleBinding(cm, b) }\n             })\n    } else {\n      return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })\n    }\n  }\n\n  \/\/ Handle a key from the keypress event\n  function handleCharBinding(cm, e, ch) {\n    return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) { return doHandleBinding(cm, b, true); })\n  }\n\n  var lastStoppedKey = null;\n  function onKeyDown(e) {\n    var cm = this;\n    if (e.target && e.target != cm.display.input.getField()) { return }\n    cm.curOp.focus = activeElt();\n    if (signalDOMEvent(cm, e)) { return }\n    \/\/ IE does strange things with escape.\n    if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false; }\n    var code = e.keyCode;\n    cm.display.shift = code == 16 || e.shiftKey;\n    var handled = handleKeyBinding(cm, e);\n    if (presto) {\n      lastStoppedKey = handled ? code : null;\n      \/\/ Opera has no cut event... we try to at least catch the key combo\n      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\n        { cm.replaceSelection(\"\", null, \"cut\"); }\n    }\n    if (gecko && !mac && !handled && code == 46 && e.shiftKey && !e.ctrlKey && document.execCommand)\n      { document.execCommand(\"cut\"); }\n\n    \/\/ Turn mouse into crosshair when Alt is held on Mac.\n    if (code == 18 && !\/\\bCodeMirror-crosshair\\b\/.test(cm.display.lineDiv.className))\n      { showCrossHair(cm); }\n  }\n\n  function showCrossHair(cm) {\n    var lineDiv = cm.display.lineDiv;\n    addClass(lineDiv, \"CodeMirror-crosshair\");\n\n    function up(e) {\n      if (e.keyCode == 18 || !e.altKey) {\n        rmClass(lineDiv, \"CodeMirror-crosshair\");\n        off(document, \"keyup\", up);\n        off(document, \"mouseover\", up);\n      }\n    }\n    on(document, \"keyup\", up);\n    on(document, \"mouseover\", up);\n  }\n\n  function onKeyUp(e) {\n    if (e.keyCode == 16) { this.doc.sel.shift = false; }\n    signalDOMEvent(this, e);\n  }\n\n  function onKeyPress(e) {\n    var cm = this;\n    if (e.target && e.target != cm.display.input.getField()) { return }\n    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }\n    var keyCode = e.keyCode, charCode = e.charCode;\n    if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}\n    if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }\n    var ch = String.fromCharCode(charCode == null ? keyCode : charCode);\n    \/\/ Some browsers fire keypress events for backspace\n    if (ch == \"\\x08\") { return }\n    if (handleCharBinding(cm, e, ch)) { return }\n    cm.display.input.onKeyPress(e);\n  }\n\n  var DOUBLECLICK_DELAY = 400;\n\n  var PastClick = function(time, pos, button) {\n    this.time = time;\n    this.pos = pos;\n    this.button = button;\n  };\n\n  PastClick.prototype.compare = function (time, pos, button) {\n    return this.time + DOUBLECLICK_DELAY > time &&\n      cmp(pos, this.pos) == 0 && button == this.button\n  };\n\n  var lastClick, lastDoubleClick;\n  function clickRepeat(pos, button) {\n    var now = +new Date;\n    if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {\n      lastClick = lastDoubleClick = null;\n      return \"triple\"\n    } else if (lastClick && lastClick.compare(now, pos, button)) {\n      lastDoubleClick = new PastClick(now, pos, button);\n      lastClick = null;\n      return \"double\"\n    } else {\n      lastClick = new PastClick(now, pos, button);\n      lastDoubleClick = null;\n      return \"single\"\n    }\n  }\n\n  \/\/ A mouse down can be a single click, double click, triple click,\n  \/\/ start of selection drag, start of text drag, new cursor\n  \/\/ (ctrl-click), rectangle drag (alt-drag), or xwin\n  \/\/ middle-click-paste. Or it might be a click on something we should\n  \/\/ not interfere with, such as a scrollbar or widget.\n  function onMouseDown(e) {\n    var cm = this, display = cm.display;\n    if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }\n    display.input.ensurePolled();\n    display.shift = e.shiftKey;\n\n    if (eventInWidget(display, e)) {\n      if (!webkit) {\n        \/\/ Briefly turn off draggability, to allow widgets to do\n        \/\/ normal dragging things.\n        display.scroller.draggable = false;\n        setTimeout(function () { return display.scroller.draggable = true; }, 100);\n      }\n      return\n    }\n    if (clickInGutter(cm, e)) { return }\n    var pos = posFromMouse(cm, e), button = e_button(e), repeat = pos ? clickRepeat(pos, button) : \"single\";\n    window.focus();\n\n    \/\/ #3261: make sure, that we're not starting a second selection\n    if (button == 1 && cm.state.selectingText)\n      { cm.state.selectingText(e); }\n\n    if (pos && handleMappedButton(cm, button, pos, repeat, e)) { return }\n\n    if (button == 1) {\n      if (pos) { leftButtonDown(cm, pos, repeat, e); }\n      else if (e_target(e) == display.scroller) { e_preventDefault(e); }\n    } else if (button == 2) {\n      if (pos) { extendSelection(cm.doc, pos); }\n      setTimeout(function () { return display.input.focus(); }, 20);\n    } else if (button == 3) {\n      if (captureRightClick) { cm.display.input.onContextMenu(e); }\n      else { delayBlurEvent(cm); }\n    }\n  }\n\n  function handleMappedButton(cm, button, pos, repeat, event) {\n    var name = \"Click\";\n    if (repeat == \"double\") { name = \"Double\" + name; }\n    else if (repeat == \"triple\") { name = \"Triple\" + name; }\n    name = (button == 1 ? \"Left\" : button == 2 ? \"Middle\" : \"Right\") + name;\n\n    return dispatchKey(cm,  addModifierNames(name, event), event, function (bound) {\n      if (typeof bound == \"string\") { bound = commands[bound]; }\n      if (!bound) { return false }\n      var done = false;\n      try {\n        if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n        done = bound(cm, pos) != Pass;\n      } finally {\n        cm.state.suppressEdits = false;\n      }\n      return done\n    })\n  }\n\n  function configureMouse(cm, repeat, event) {\n    var option = cm.getOption(\"configureMouse\");\n    var value = option ? option(cm, repeat, event) : {};\n    if (value.unit == null) {\n      var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey;\n      value.unit = rect ? \"rectangle\" : repeat == \"single\" ? \"char\" : repeat == \"double\" ? \"word\" : \"line\";\n    }\n    if (value.extend == null || cm.doc.extend) { value.extend = cm.doc.extend || event.shiftKey; }\n    if (value.addNew == null) { value.addNew = mac ? event.metaKey : event.ctrlKey; }\n    if (value.moveOnDrag == null) { value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey); }\n    return value\n  }\n\n  function leftButtonDown(cm, pos, repeat, event) {\n    if (ie) { setTimeout(bind(ensureFocus, cm), 0); }\n    else { cm.curOp.focus = activeElt(); }\n\n    var behavior = configureMouse(cm, repeat, event);\n\n    var sel = cm.doc.sel, contained;\n    if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\n        repeat == \"single\" && (contained = sel.contains(pos)) > -1 &&\n        (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) &&\n        (cmp(contained.to(), pos) > 0 || pos.xRel < 0))\n      { leftButtonStartDrag(cm, event, pos, behavior); }\n    else\n      { leftButtonSelect(cm, event, pos, behavior); }\n  }\n\n  \/\/ Start a text drag. When it ends, see if any dragging actually\n  \/\/ happen, and treat as a click if it didn't.\n  function leftButtonStartDrag(cm, event, pos, behavior) {\n    var display = cm.display, moved = false;\n    var dragEnd = operation(cm, function (e) {\n      if (webkit) { display.scroller.draggable = false; }\n      cm.state.draggingText = false;\n      if (cm.state.delayingBlurEvent) {\n        if (cm.hasFocus()) { cm.state.delayingBlurEvent = false; }\n        else { delayBlurEvent(cm); }\n      }\n      off(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n      off(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n      off(display.scroller, \"dragstart\", dragStart);\n      off(display.scroller, \"drop\", dragEnd);\n      if (!moved) {\n        e_preventDefault(e);\n        if (!behavior.addNew)\n          { extendSelection(cm.doc, pos, null, null, behavior.extend); }\n        \/\/ Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n        if ((webkit && !safari) || ie && ie_version == 9)\n          { setTimeout(function () {display.wrapper.ownerDocument.body.focus({preventScroll: true}); display.input.focus();}, 20); }\n        else\n          { display.input.focus(); }\n      }\n    });\n    var mouseMove = function(e2) {\n      moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10;\n    };\n    var dragStart = function () { return moved = true; };\n    \/\/ Let the drag handler handle this.\n    if (webkit) { display.scroller.draggable = true; }\n    cm.state.draggingText = dragEnd;\n    dragEnd.copy = !behavior.moveOnDrag;\n    on(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n    on(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n    on(display.scroller, \"dragstart\", dragStart);\n    on(display.scroller, \"drop\", dragEnd);\n\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { return display.input.focus(); }, 20);\n    \/\/ IE's approach to draggable\n    if (display.scroller.dragDrop) { display.scroller.dragDrop(); }\n  }\n\n  function rangeForUnit(cm, pos, unit) {\n    if (unit == \"char\") { return new Range(pos, pos) }\n    if (unit == \"word\") { return cm.findWordAt(pos) }\n    if (unit == \"line\") { return new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }\n    var result = unit(cm, pos);\n    return new Range(result.from, result.to)\n  }\n\n  \/\/ Normal selection, as opposed to text dragging.\n  function leftButtonSelect(cm, event, start, behavior) {\n    if (ie) { delayBlurEvent(cm); }\n    var display = cm.display, doc = cm.doc;\n    e_preventDefault(event);\n\n    var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges;\n    if (behavior.addNew && !behavior.extend) {\n      ourIndex = doc.sel.contains(start);\n      if (ourIndex > -1)\n        { ourRange = ranges[ourIndex]; }\n      else\n        { ourRange = new Range(start, start); }\n    } else {\n      ourRange = doc.sel.primary();\n      ourIndex = doc.sel.primIndex;\n    }\n\n    if (behavior.unit == \"rectangle\") {\n      if (!behavior.addNew) { ourRange = new Range(start, start); }\n      start = posFromMouse(cm, event, true, true);\n      ourIndex = -1;\n    } else {\n      var range = rangeForUnit(cm, start, behavior.unit);\n      if (behavior.extend)\n        { ourRange = extendRange(ourRange, range.anchor, range.head, behavior.extend); }\n      else\n        { ourRange = range; }\n    }\n\n    if (!behavior.addNew) {\n      ourIndex = 0;\n      setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n      startSel = doc.sel;\n    } else if (ourIndex == -1) {\n      ourIndex = ranges.length;\n      setSelection(doc, normalizeSelection(cm, ranges.concat([ourRange]), ourIndex),\n                   {scroll: false, origin: \"*mouse\"});\n    } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == \"char\" && !behavior.extend) {\n      setSelection(doc, normalizeSelection(cm, ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\n                   {scroll: false, origin: \"*mouse\"});\n      startSel = doc.sel;\n    } else {\n      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n    }\n\n    var lastPos = start;\n    function extendTo(pos) {\n      if (cmp(lastPos, pos) == 0) { return }\n      lastPos = pos;\n\n      if (behavior.unit == \"rectangle\") {\n        var ranges = [], tabSize = cm.options.tabSize;\n        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n        var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);\n        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\n             line <= end; line++) {\n          var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize);\n          if (left == right)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))); }\n          else if (text.length > leftPos)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))); }\n        }\n        if (!ranges.length) { ranges.push(new Range(start, start)); }\n        setSelection(doc, normalizeSelection(cm, startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\n                     {origin: \"*mouse\", scroll: false});\n        cm.scrollIntoView(pos);\n      } else {\n        var oldRange = ourRange;\n        var range = rangeForUnit(cm, pos, behavior.unit);\n        var anchor = oldRange.anchor, head;\n        if (cmp(range.anchor, anchor) > 0) {\n          head = range.head;\n          anchor = minPos(oldRange.from(), range.anchor);\n        } else {\n          head = range.anchor;\n          anchor = maxPos(oldRange.to(), range.head);\n        }\n        var ranges$1 = startSel.ranges.slice(0);\n        ranges$1[ourIndex] = bidiSimplify(cm, new Range(clipPos(doc, anchor), head));\n        setSelection(doc, normalizeSelection(cm, ranges$1, ourIndex), sel_mouse);\n      }\n    }\n\n    var editorSize = display.wrapper.getBoundingClientRect();\n    \/\/ Used to ensure timeout re-tries don't fire when another extend\n    \/\/ happened in the meantime (clearTimeout isn't reliable -- at\n    \/\/ least on Chrome, the timeouts still happen even when cleared,\n    \/\/ if the clear happens after their scheduled firing time).\n    var counter = 0;\n\n    function extend(e) {\n      var curCount = ++counter;\n      var cur = posFromMouse(cm, e, true, behavior.unit == \"rectangle\");\n      if (!cur) { return }\n      if (cmp(cur, lastPos) != 0) {\n        cm.curOp.focus = activeElt();\n        extendTo(cur);\n        var visible = visibleLines(display, doc);\n        if (cur.line >= visible.to || cur.line < visible.from)\n          { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e); }}), 150); }\n      } else {\n        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n        if (outside) { setTimeout(operation(cm, function () {\n          if (counter != curCount) { return }\n          display.scroller.scrollTop += outside;\n          extend(e);\n        }), 50); }\n      }\n    }\n\n    function done(e) {\n      cm.state.selectingText = false;\n      counter = Infinity;\n      \/\/ If e is null or undefined we interpret this as someone trying\n      \/\/ to explicitly cancel the selection rather than the user\n      \/\/ letting go of the mouse button.\n      if (e) {\n        e_preventDefault(e);\n        display.input.focus();\n      }\n      off(display.wrapper.ownerDocument, \"mousemove\", move);\n      off(display.wrapper.ownerDocument, \"mouseup\", up);\n      doc.history.lastSelOrigin = null;\n    }\n\n    var move = operation(cm, function (e) {\n      if (e.buttons === 0 || !e_button(e)) { done(e); }\n      else { extend(e); }\n    });\n    var up = operation(cm, done);\n    cm.state.selectingText = up;\n    on(display.wrapper.ownerDocument, \"mousemove\", move);\n    on(display.wrapper.ownerDocument, \"mouseup\", up);\n  }\n\n  \/\/ Used when mouse-selecting to adjust the anchor to the proper side\n  \/\/ of a bidi jump depending on the visual position of the head.\n  function bidiSimplify(cm, range) {\n    var anchor = range.anchor;\n    var head = range.head;\n    var anchorLine = getLine(cm.doc, anchor.line);\n    if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) { return range }\n    var order = getOrder(anchorLine);\n    if (!order) { return range }\n    var index = getBidiPartAt(order, anchor.ch, anchor.sticky), part = order[index];\n    if (part.from != anchor.ch && part.to != anchor.ch) { return range }\n    var boundary = index + ((part.from == anchor.ch) == (part.level != 1) ? 0 : 1);\n    if (boundary == 0 || boundary == order.length) { return range }\n\n    \/\/ Compute the relative visual position of the head compared to the\n    \/\/ anchor (<0 is to the left, >0 to the right)\n    var leftSide;\n    if (head.line != anchor.line) {\n      leftSide = (head.line - anchor.line) * (cm.doc.direction == \"ltr\" ? 1 : -1) > 0;\n    } else {\n      var headIndex = getBidiPartAt(order, head.ch, head.sticky);\n      var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1);\n      if (headIndex == boundary - 1 || headIndex == boundary)\n        { leftSide = dir < 0; }\n      else\n        { leftSide = dir > 0; }\n    }\n\n    var usePart = order[boundary + (leftSide ? -1 : 0)];\n    var from = leftSide == (usePart.level == 1);\n    var ch = from ? usePart.from : usePart.to, sticky = from ? \"after\" : \"before\";\n    return anchor.ch == ch && anchor.sticky == sticky ? range : new Range(new Pos(anchor.line, ch, sticky), head)\n  }\n\n\n  \/\/ Determines whether an event happened in the gutter, and fires the\n  \/\/ handlers for the corresponding event.\n  function gutterEvent(cm, e, type, prevent) {\n    var mX, mY;\n    if (e.touches) {\n      mX = e.touches[0].clientX;\n      mY = e.touches[0].clientY;\n    } else {\n      try { mX = e.clientX; mY = e.clientY; }\n      catch(e$1) { return false }\n    }\n    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }\n    if (prevent) { e_preventDefault(e); }\n\n    var display = cm.display;\n    var lineBox = display.lineDiv.getBoundingClientRect();\n\n    if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }\n    mY -= lineBox.top - display.viewOffset;\n\n    for (var i = 0; i < cm.display.gutterSpecs.length; ++i) {\n      var g = display.gutters.childNodes[i];\n      if (g && g.getBoundingClientRect().right >= mX) {\n        var line = lineAtHeight(cm.doc, mY);\n        var gutter = cm.display.gutterSpecs[i];\n        signal(cm, type, cm, line, gutter.className, e);\n        return e_defaultPrevented(e)\n      }\n    }\n  }\n\n  function clickInGutter(cm, e) {\n    return gutterEvent(cm, e, \"gutterClick\", true)\n  }\n\n  \/\/ CONTEXT MENU HANDLING\n\n  \/\/ To make the context menu work, we need to briefly unhide the\n  \/\/ textarea (making it as unobtrusive as possible) to let the\n  \/\/ right-click take effect on it.\n  function onContextMenu(cm, e) {\n    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }\n    if (signalDOMEvent(cm, e, \"contextmenu\")) { return }\n    if (!captureRightClick) { cm.display.input.onContextMenu(e); }\n  }\n\n  function contextMenuInGutter(cm, e) {\n    if (!hasHandler(cm, \"gutterContextMenu\")) { return false }\n    return gutterEvent(cm, e, \"gutterContextMenu\", false)\n  }\n\n  function themeChanged(cm) {\n    cm.display.wrapper.className = cm.display.wrapper.className.replace(\/\\s*cm-s-\\S+\/g, \"\") +\n      cm.options.theme.replace(\/(^|\\s)\\s*\/g, \" cm-s-\");\n    clearCaches(cm);\n  }\n\n  var Init = {toString: function(){return \"CodeMirror.Init\"}};\n\n  var defaults = {};\n  var optionHandlers = {};\n\n  function defineOptions(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    function option(name, deflt, handle, notOnInit) {\n      CodeMirror.defaults[name] = deflt;\n      if (handle) { optionHandlers[name] =\n        notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old); }} : handle; }\n    }\n\n    CodeMirror.defineOption = option;\n\n    \/\/ Passed to option handlers when there is no old value.\n    CodeMirror.Init = Init;\n\n    \/\/ These two are, on init, called from the constructor because they\n    \/\/ have to be initialized before the editor can start at all.\n    option(\"value\", \"\", function (cm, val) { return cm.setValue(val); }, true);\n    option(\"mode\", null, function (cm, val) {\n      cm.doc.modeOption = val;\n      loadMode(cm);\n    }, true);\n\n    option(\"indentUnit\", 2, loadMode, true);\n    option(\"indentWithTabs\", false);\n    option(\"smartIndent\", true);\n    option(\"tabSize\", 4, function (cm) {\n      resetModeState(cm);\n      clearCaches(cm);\n      regChange(cm);\n    }, true);\n\n    option(\"lineSeparator\", null, function (cm, val) {\n      cm.doc.lineSep = val;\n      if (!val) { return }\n      var newBreaks = [], lineNo = cm.doc.first;\n      cm.doc.iter(function (line) {\n        for (var pos = 0;;) {\n          var found = line.text.indexOf(val, pos);\n          if (found == -1) { break }\n          pos = found + val.length;\n          newBreaks.push(Pos(lineNo, found));\n        }\n        lineNo++;\n      });\n      for (var i = newBreaks.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)); }\n    });\n    option(\"specialChars\", \/[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b-\\u200c\\u200e\\u200f\\u2028\\u2029\\ufeff\\ufff9-\\ufffc]\/g, function (cm, val, old) {\n      cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n      if (old != Init) { cm.refresh(); }\n    });\n    option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true);\n    option(\"electricChars\", true);\n    option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n      throw new Error(\"inputStyle can not (yet) be changed in a running editor\") \/\/ FIXME\n    }, true);\n    option(\"spellcheck\", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true);\n    option(\"autocorrect\", false, function (cm, val) { return cm.getInputField().autocorrect = val; }, true);\n    option(\"autocapitalize\", false, function (cm, val) { return cm.getInputField().autocapitalize = val; }, true);\n    option(\"rtlMoveVisually\", !windows);\n    option(\"wholeLineUpdateBefore\", true);\n\n    option(\"theme\", \"default\", function (cm) {\n      themeChanged(cm);\n      updateGutters(cm);\n    }, true);\n    option(\"keyMap\", \"default\", function (cm, val, old) {\n      var next = getKeyMap(val);\n      var prev = old != Init && getKeyMap(old);\n      if (prev && prev.detach) { prev.detach(cm, next); }\n      if (next.attach) { next.attach(cm, prev || null); }\n    });\n    option(\"extraKeys\", null);\n    option(\"configureMouse\", null);\n\n    option(\"lineWrapping\", false, wrappingChanged, true);\n    option(\"gutters\", [], function (cm, val) {\n      cm.display.gutterSpecs = getGutters(val, cm.options.lineNumbers);\n      updateGutters(cm);\n    }, true);\n    option(\"fixedGutter\", true, function (cm, val) {\n      cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n      cm.refresh();\n    }, true);\n    option(\"coverGutterNextToScrollbar\", false, function (cm) { return updateScrollbars(cm); }, true);\n    option(\"scrollbarStyle\", \"native\", function (cm) {\n      initScrollbars(cm);\n      updateScrollbars(cm);\n      cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n      cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n    }, true);\n    option(\"lineNumbers\", false, function (cm, val) {\n      cm.display.gutterSpecs = getGutters(cm.options.gutters, val);\n      updateGutters(cm);\n    }, true);\n    option(\"firstLineNumber\", 1, updateGutters, true);\n    option(\"lineNumberFormatter\", function (integer) { return integer; }, updateGutters, true);\n    option(\"showCursorWhenSelecting\", false, updateSelection, true);\n\n    option(\"resetSelectionOnContextMenu\", true);\n    option(\"lineWiseCopyCut\", true);\n    option(\"pasteLinesPerSelection\", true);\n    option(\"selectionsMayTouch\", false);\n\n    option(\"readOnly\", false, function (cm, val) {\n      if (val == \"nocursor\") {\n        onBlur(cm);\n        cm.display.input.blur();\n      }\n      cm.display.input.readOnlyChanged(val);\n    });\n\n    option(\"screenReaderLabel\", null, function (cm, val) {\n      val = (val === '') ? null : val;\n      cm.display.input.screenReaderLabelChanged(val);\n    });\n\n    option(\"disableInput\", false, function (cm, val) {if (!val) { cm.display.input.reset(); }}, true);\n    option(\"dragDrop\", true, dragDropChanged);\n    option(\"allowDropFileTypes\", null);\n\n    option(\"cursorBlinkRate\", 530);\n    option(\"cursorScrollMargin\", 0);\n    option(\"cursorHeight\", 1, updateSelection, true);\n    option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n    option(\"workTime\", 100);\n    option(\"workDelay\", 100);\n    option(\"flattenSpans\", true, resetModeState, true);\n    option(\"addModeClass\", false, resetModeState, true);\n    option(\"pollInterval\", 100);\n    option(\"undoDepth\", 200, function (cm, val) { return cm.doc.history.undoDepth = val; });\n    option(\"historyEventDelay\", 1250);\n    option(\"viewportMargin\", 10, function (cm) { return cm.refresh(); }, true);\n    option(\"maxHighlightLength\", 10000, resetModeState, true);\n    option(\"moveInputWithCursor\", true, function (cm, val) {\n      if (!val) { cm.display.input.resetPosition(); }\n    });\n\n    option(\"tabindex\", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || \"\"; });\n    option(\"autofocus\", null);\n    option(\"direction\", \"ltr\", function (cm, val) { return cm.doc.setDirection(val); }, true);\n    option(\"phrases\", null);\n  }\n\n  function dragDropChanged(cm, value, old) {\n    var wasOn = old && old != Init;\n    if (!value != !wasOn) {\n      var funcs = cm.display.dragFunctions;\n      var toggle = value ? on : off;\n      toggle(cm.display.scroller, \"dragstart\", funcs.start);\n      toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n      toggle(cm.display.scroller, \"dragover\", funcs.over);\n      toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n      toggle(cm.display.scroller, \"drop\", funcs.drop);\n    }\n  }\n\n  function wrappingChanged(cm) {\n    if (cm.options.lineWrapping) {\n      addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      cm.display.sizer.style.minWidth = \"\";\n      cm.display.sizerWidth = null;\n    } else {\n      rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      findMaxLine(cm);\n    }\n    estimateLineHeights(cm);\n    regChange(cm);\n    clearCaches(cm);\n    setTimeout(function () { return updateScrollbars(cm); }, 100);\n  }\n\n  \/\/ A CodeMirror instance represents an editor. This is the object\n  \/\/ that user code is usually dealing with.\n\n  function CodeMirror(place, options) {\n    var this$1 = this;\n\n    if (!(this instanceof CodeMirror)) { return new CodeMirror(place, options) }\n\n    this.options = options = options ? copyObj(options) : {};\n    \/\/ Determine effective options based on given values and defaults.\n    copyObj(defaults, options, false);\n\n    var doc = options.value;\n    if (typeof doc == \"string\") { doc = new Doc(doc, options.mode, null, options.lineSeparator, options.direction); }\n    else if (options.mode) { doc.modeOption = options.mode; }\n    this.doc = doc;\n\n    var input = new CodeMirror.inputStyles[options.inputStyle](this);\n    var display = this.display = new Display(place, doc, input, options);\n    display.wrapper.CodeMirror = this;\n    themeChanged(this);\n    if (options.lineWrapping)\n      { this.display.wrapper.className += \" CodeMirror-wrap\"; }\n    initScrollbars(this);\n\n    this.state = {\n      keyMaps: [],  \/\/ stores maps added by addKeyMap\n      overlays: [], \/\/ highlighting overlays, as added by addOverlay\n      modeGen: 0,   \/\/ bumped when mode\/overlay changes, used to invalidate highlighting info\n      overwrite: false,\n      delayingBlurEvent: false,\n      focused: false,\n      suppressEdits: false, \/\/ used to disable editing during key handlers when in readOnly mode\n      pasteIncoming: -1, cutIncoming: -1, \/\/ help recognize paste\/cut edits in input.poll\n      selectingText: false,\n      draggingText: false,\n      highlight: new Delayed(), \/\/ stores highlight worker timeout\n      keySeq: null,  \/\/ Unfinished key sequence\n      specialChars: null\n    };\n\n    if (options.autofocus && !mobile) { display.input.focus(); }\n\n    \/\/ Override magic textarea content restore that IE sometimes does\n    \/\/ on our hidden textarea on reload\n    if (ie && ie_version < 11) { setTimeout(function () { return this$1.display.input.reset(true); }, 20); }\n\n    registerEventHandlers(this);\n    ensureGlobalHandlers();\n\n    startOperation(this);\n    this.curOp.forceUpdate = true;\n    attachDoc(this, doc);\n\n    if ((options.autofocus && !mobile) || this.hasFocus())\n      { setTimeout(function () {\n        if (this$1.hasFocus() && !this$1.state.focused) { onFocus(this$1); }\n      }, 20); }\n    else\n      { onBlur(this); }\n\n    for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))\n      { optionHandlers[opt](this, options[opt], Init); } }\n    maybeUpdateLineNumberWidth(this);\n    if (options.finishInit) { options.finishInit(this); }\n    for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this); }\n    endOperation(this);\n    \/\/ Suppress optimizelegibility in Webkit, since it breaks text\n    \/\/ measuring on line wrapping boundaries.\n    if (webkit && options.lineWrapping &&\n        getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\n      { display.lineDiv.style.textRendering = \"auto\"; }\n  }\n\n  \/\/ The default configuration options.\n  CodeMirror.defaults = defaults;\n  \/\/ Functions to run when options are changed.\n  CodeMirror.optionHandlers = optionHandlers;\n\n  \/\/ Attach the necessary event handlers when initializing the editor\n  function registerEventHandlers(cm) {\n    var d = cm.display;\n    on(d.scroller, \"mousedown\", operation(cm, onMouseDown));\n    \/\/ Older IE's will not fire a second mousedown for a double click\n    if (ie && ie_version < 11)\n      { on(d.scroller, \"dblclick\", operation(cm, function (e) {\n        if (signalDOMEvent(cm, e)) { return }\n        var pos = posFromMouse(cm, e);\n        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }\n        e_preventDefault(e);\n        var word = cm.findWordAt(pos);\n        extendSelection(cm.doc, word.anchor, word.head);\n      })); }\n    else\n      { on(d.scroller, \"dblclick\", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }); }\n    \/\/ Some browsers fire contextmenu *after* opening the menu, at\n    \/\/ which point we can't mess with it anymore. Context menu is\n    \/\/ handled in onMouseDown for these browsers.\n    on(d.scroller, \"contextmenu\", function (e) { return onContextMenu(cm, e); });\n    on(d.input.getField(), \"contextmenu\", function (e) {\n      if (!d.scroller.contains(e.target)) { onContextMenu(cm, e); }\n    });\n\n    \/\/ Used to suppress mouse event handling when a touch happens\n    var touchFinished, prevTouch = {end: 0};\n    function finishTouch() {\n      if (d.activeTouch) {\n        touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000);\n        prevTouch = d.activeTouch;\n        prevTouch.end = +new Date;\n      }\n    }\n    function isMouseLikeTouchEvent(e) {\n      if (e.touches.length != 1) { return false }\n      var touch = e.touches[0];\n      return touch.radiusX <= 1 && touch.radiusY <= 1\n    }\n    function farAway(touch, other) {\n      if (other.left == null) { return true }\n      var dx = other.left - touch.left, dy = other.top - touch.top;\n      return dx * dx + dy * dy > 20 * 20\n    }\n    on(d.scroller, \"touchstart\", function (e) {\n      if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {\n        d.input.ensurePolled();\n        clearTimeout(touchFinished);\n        var now = +new Date;\n        d.activeTouch = {start: now, moved: false,\n                         prev: now - prevTouch.end <= 300 ? prevTouch : null};\n        if (e.touches.length == 1) {\n          d.activeTouch.left = e.touches[0].pageX;\n          d.activeTouch.top = e.touches[0].pageY;\n        }\n      }\n    });\n    on(d.scroller, \"touchmove\", function () {\n      if (d.activeTouch) { d.activeTouch.moved = true; }\n    });\n    on(d.scroller, \"touchend\", function (e) {\n      var touch = d.activeTouch;\n      if (touch && !eventInWidget(d, e) && touch.left != null &&\n          !touch.moved && new Date - touch.start < 300) {\n        var pos = cm.coordsChar(d.activeTouch, \"page\"), range;\n        if (!touch.prev || farAway(touch, touch.prev)) \/\/ Single tap\n          { range = new Range(pos, pos); }\n        else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) \/\/ Double tap\n          { range = cm.findWordAt(pos); }\n        else \/\/ Triple tap\n          { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))); }\n        cm.setSelection(range.anchor, range.head);\n        cm.focus();\n        e_preventDefault(e);\n      }\n      finishTouch();\n    });\n    on(d.scroller, \"touchcancel\", finishTouch);\n\n    \/\/ Sync scrolling between fake scrollbars and real scrollable\n    \/\/ area, ensure viewport is updated when scrolling.\n    on(d.scroller, \"scroll\", function () {\n      if (d.scroller.clientHeight) {\n        updateScrollTop(cm, d.scroller.scrollTop);\n        setScrollLeft(cm, d.scroller.scrollLeft, true);\n        signal(cm, \"scroll\", cm);\n      }\n    });\n\n    \/\/ Listen to wheel events in order to try and update the viewport on time.\n    on(d.scroller, \"mousewheel\", function (e) { return onScrollWheel(cm, e); });\n    on(d.scroller, \"DOMMouseScroll\", function (e) { return onScrollWheel(cm, e); });\n\n    \/\/ Prevent wrapper from ever scrolling\n    on(d.wrapper, \"scroll\", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; });\n\n    d.dragFunctions = {\n      enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e); }},\n      over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e); }},\n      start: function (e) { return onDragStart(cm, e); },\n      drop: operation(cm, onDrop),\n      leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm); }}\n    };\n\n    var inp = d.input.getField();\n    on(inp, \"keyup\", function (e) { return onKeyUp.call(cm, e); });\n    on(inp, \"keydown\", operation(cm, onKeyDown));\n    on(inp, \"keypress\", operation(cm, onKeyPress));\n    on(inp, \"focus\", function (e) { return onFocus(cm, e); });\n    on(inp, \"blur\", function (e) { return onBlur(cm, e); });\n  }\n\n  var initHooks = [];\n  CodeMirror.defineInitHook = function (f) { return initHooks.push(f); };\n\n  \/\/ Indent the given line. The how parameter can be \"smart\",\n  \/\/ \"add\"\/null, \"subtract\", or \"prev\". When aggressive is false\n  \/\/ (typically set to true for forced single-line indents), empty\n  \/\/ lines are not indented, and places where the mode returns Pass\n  \/\/ are left alone.\n  function indentLine(cm, n, how, aggressive) {\n    var doc = cm.doc, state;\n    if (how == null) { how = \"add\"; }\n    if (how == \"smart\") {\n      \/\/ Fall back to \"prev\" when the mode doesn't have an indentation\n      \/\/ method.\n      if (!doc.mode.indent) { how = \"prev\"; }\n      else { state = getContextBefore(cm, n).state; }\n    }\n\n    var tabSize = cm.options.tabSize;\n    var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize);\n    if (line.stateAfter) { line.stateAfter = null; }\n    var curSpaceString = line.text.match(\/^\\s*\/)[0], indentation;\n    if (!aggressive && !\/\\S\/.test(line.text)) {\n      indentation = 0;\n      how = \"not\";\n    } else if (how == \"smart\") {\n      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n      if (indentation == Pass || indentation > 150) {\n        if (!aggressive) { return }\n        how = \"prev\";\n      }\n    }\n    if (how == \"prev\") {\n      if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize); }\n      else { indentation = 0; }\n    } else if (how == \"add\") {\n      indentation = curSpace + cm.options.indentUnit;\n    } else if (how == \"subtract\") {\n      indentation = curSpace - cm.options.indentUnit;\n    } else if (typeof how == \"number\") {\n      indentation = curSpace + how;\n    }\n    indentation = Math.max(0, indentation);\n\n    var indentString = \"\", pos = 0;\n    if (cm.options.indentWithTabs)\n      { for (var i = Math.floor(indentation \/ tabSize); i; --i) {pos += tabSize; indentString += \"\\t\";} }\n    if (pos < indentation) { indentString += spaceStr(indentation - pos); }\n\n    if (indentString != curSpaceString) {\n      replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n      line.stateAfter = null;\n      return true\n    } else {\n      \/\/ Ensure that, if the cursor was in the whitespace at the start\n      \/\/ of the line, it is moved to the end of that space.\n      for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n        var range = doc.sel.ranges[i$1];\n        if (range.head.line == n && range.head.ch < curSpaceString.length) {\n          var pos$1 = Pos(n, curSpaceString.length);\n          replaceOneSelection(doc, i$1, new Range(pos$1, pos$1));\n          break\n        }\n      }\n    }\n  }\n\n  \/\/ This will be set to a {lineWise: bool, text: [string]} object, so\n  \/\/ that, when pasting, we know what kind of selections the copied\n  \/\/ text was made out of.\n  var lastCopied = null;\n\n  function setLastCopied(newLastCopied) {\n    lastCopied = newLastCopied;\n  }\n\n  function applyTextInput(cm, inserted, deleted, sel, origin) {\n    var doc = cm.doc;\n    cm.display.shift = false;\n    if (!sel) { sel = doc.sel; }\n\n    var recent = +new Date - 200;\n    var paste = origin == \"paste\" || cm.state.pasteIncoming > recent;\n    var textLines = splitLinesAuto(inserted), multiPaste = null;\n    \/\/ When pasting N lines into N selections, insert one line per selection\n    if (paste && sel.ranges.length > 1) {\n      if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n        if (sel.ranges.length % lastCopied.text.length == 0) {\n          multiPaste = [];\n          for (var i = 0; i < lastCopied.text.length; i++)\n            { multiPaste.push(doc.splitLines(lastCopied.text[i])); }\n        }\n      } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {\n        multiPaste = map(textLines, function (l) { return [l]; });\n      }\n    }\n\n    var updateInput = cm.curOp.updateInput;\n    \/\/ Normal behavior is to insert the new text into every selection\n    for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n      var range = sel.ranges[i$1];\n      var from = range.from(), to = range.to();\n      if (range.empty()) {\n        if (deleted && deleted > 0) \/\/ Handle deletion\n          { from = Pos(from.line, from.ch - deleted); }\n        else if (cm.state.overwrite && !paste) \/\/ Handle overwrite\n          { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)); }\n        else if (paste && lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == textLines.join(\"\\n\"))\n          { from = to = Pos(from.line, 0); }\n      }\n      var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n                         origin: origin || (paste ? \"paste\" : cm.state.cutIncoming > recent ? \"cut\" : \"+input\")};\n      makeChange(cm.doc, changeEvent);\n      signalLater(cm, \"inputRead\", cm, changeEvent);\n    }\n    if (inserted && !paste)\n      { triggerElectric(cm, inserted); }\n\n    ensureCursorVisible(cm);\n    if (cm.curOp.updateInput < 2) { cm.curOp.updateInput = updateInput; }\n    cm.curOp.typing = true;\n    cm.state.pasteIncoming = cm.state.cutIncoming = -1;\n  }\n\n  function handlePaste(e, cm) {\n    var pasted = e.clipboardData && e.clipboardData.getData(\"Text\");\n    if (pasted) {\n      e.preventDefault();\n      if (!cm.isReadOnly() && !cm.options.disableInput)\n        { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, \"paste\"); }); }\n      return true\n    }\n  }\n\n  function triggerElectric(cm, inserted) {\n    \/\/ When an 'electric' character is inserted, immediately trigger a reindent\n    if (!cm.options.electricChars || !cm.options.smartIndent) { return }\n    var sel = cm.doc.sel;\n\n    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n      var range = sel.ranges[i];\n      if (range.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range.head.line)) { continue }\n      var mode = cm.getModeAt(range.head);\n      var indented = false;\n      if (mode.electricChars) {\n        for (var j = 0; j < mode.electricChars.length; j++)\n          { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n            indented = indentLine(cm, range.head.line, \"smart\");\n            break\n          } }\n      } else if (mode.electricInput) {\n        if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch)))\n          { indented = indentLine(cm, range.head.line, \"smart\"); }\n      }\n      if (indented) { signalLater(cm, \"electricInput\", cm, range.head.line); }\n    }\n  }\n\n  function copyableRanges(cm) {\n    var text = [], ranges = [];\n    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n      var line = cm.doc.sel.ranges[i].head.line;\n      var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)};\n      ranges.push(lineRange);\n      text.push(cm.getRange(lineRange.anchor, lineRange.head));\n    }\n    return {text: text, ranges: ranges}\n  }\n\n  function disableBrowserMagic(field, spellcheck, autocorrect, autocapitalize) {\n    field.setAttribute(\"autocorrect\", autocorrect ? \"\" : \"off\");\n    field.setAttribute(\"autocapitalize\", autocapitalize ? \"\" : \"off\");\n    field.setAttribute(\"spellcheck\", !!spellcheck);\n  }\n\n  function hiddenTextarea() {\n    var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\");\n    var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");\n    \/\/ The textarea is kept positioned near the cursor to prevent the\n    \/\/ fact that it'll be scrolled into view on input from scrolling\n    \/\/ our fake cursor out of view. On webkit, when wrap=off, paste is\n    \/\/ very slow. So make the area wide instead.\n    if (webkit) { te.style.width = \"1000px\"; }\n    else { te.setAttribute(\"wrap\", \"off\"); }\n    \/\/ If border: 0; -- iOS fails to open keyboard (issue #1287)\n    if (ios) { te.style.border = \"1px solid black\"; }\n    disableBrowserMagic(te);\n    return div\n  }\n\n  \/\/ The publicly visible API. Note that methodOp(f) means\n  \/\/ 'wrap f in an operation, performed on its `this` parameter'.\n\n  \/\/ This is not the complete set of editor methods. Most of the\n  \/\/ methods defined on the Doc type are also injected into\n  \/\/ CodeMirror.prototype, for backwards compatibility and\n  \/\/ convenience.\n\n  function addEditorMethods(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    var helpers = CodeMirror.helpers = {};\n\n    CodeMirror.prototype = {\n      constructor: CodeMirror,\n      focus: function(){window.focus(); this.display.input.focus();},\n\n      setOption: function(option, value) {\n        var options = this.options, old = options[option];\n        if (options[option] == value && option != \"mode\") { return }\n        options[option] = value;\n        if (optionHandlers.hasOwnProperty(option))\n          { operation(this, optionHandlers[option])(this, value, old); }\n        signal(this, \"optionChange\", this, option);\n      },\n\n      getOption: function(option) {return this.options[option]},\n      getDoc: function() {return this.doc},\n\n      addKeyMap: function(map, bottom) {\n        this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map));\n      },\n      removeKeyMap: function(map) {\n        var maps = this.state.keyMaps;\n        for (var i = 0; i < maps.length; ++i)\n          { if (maps[i] == map || maps[i].name == map) {\n            maps.splice(i, 1);\n            return true\n          } }\n      },\n\n      addOverlay: methodOp(function(spec, options) {\n        var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n        if (mode.startState) { throw new Error(\"Overlays may not be stateful.\") }\n        insertSorted(this.state.overlays,\n                     {mode: mode, modeSpec: spec, opaque: options && options.opaque,\n                      priority: (options && options.priority) || 0},\n                     function (overlay) { return overlay.priority; });\n        this.state.modeGen++;\n        regChange(this);\n      }),\n      removeOverlay: methodOp(function(spec) {\n        var overlays = this.state.overlays;\n        for (var i = 0; i < overlays.length; ++i) {\n          var cur = overlays[i].modeSpec;\n          if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n            overlays.splice(i, 1);\n            this.state.modeGen++;\n            regChange(this);\n            return\n          }\n        }\n      }),\n\n      indentLine: methodOp(function(n, dir, aggressive) {\n        if (typeof dir != \"string\" && typeof dir != \"number\") {\n          if (dir == null) { dir = this.options.smartIndent ? \"smart\" : \"prev\"; }\n          else { dir = dir ? \"add\" : \"subtract\"; }\n        }\n        if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive); }\n      }),\n      indentSelection: methodOp(function(how) {\n        var ranges = this.doc.sel.ranges, end = -1;\n        for (var i = 0; i < ranges.length; i++) {\n          var range = ranges[i];\n          if (!range.empty()) {\n            var from = range.from(), to = range.to();\n            var start = Math.max(end, from.line);\n            end = Math.min(this.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n            for (var j = start; j < end; ++j)\n              { indentLine(this, j, how); }\n            var newRanges = this.doc.sel.ranges;\n            if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\n              { replaceOneSelection(this.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll); }\n          } else if (range.head.line > end) {\n            indentLine(this, range.head.line, how, true);\n            end = range.head.line;\n            if (i == this.doc.sel.primIndex) { ensureCursorVisible(this); }\n          }\n        }\n      }),\n\n      \/\/ Fetch the parser token for a given character. Useful for hacks\n      \/\/ that want to inspect the mode state (say, for completion).\n      getTokenAt: function(pos, precise) {\n        return takeToken(this, pos, precise)\n      },\n\n      getLineTokens: function(line, precise) {\n        return takeToken(this, Pos(line), precise, true)\n      },\n\n      getTokenTypeAt: function(pos) {\n        pos = clipPos(this.doc, pos);\n        var styles = getLineStyles(this, getLine(this.doc, pos.line));\n        var before = 0, after = (styles.length - 1) \/ 2, ch = pos.ch;\n        var type;\n        if (ch == 0) { type = styles[2]; }\n        else { for (;;) {\n          var mid = (before + after) >> 1;\n          if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid; }\n          else if (styles[mid * 2 + 1] < ch) { before = mid + 1; }\n          else { type = styles[mid * 2 + 2]; break }\n        } }\n        var cut = type ? type.indexOf(\"overlay \") : -1;\n        return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)\n      },\n\n      getModeAt: function(pos) {\n        var mode = this.doc.mode;\n        if (!mode.innerMode) { return mode }\n        return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode\n      },\n\n      getHelper: function(pos, type) {\n        return this.getHelpers(pos, type)[0]\n      },\n\n      getHelpers: function(pos, type) {\n        var found = [];\n        if (!helpers.hasOwnProperty(type)) { return found }\n        var help = helpers[type], mode = this.getModeAt(pos);\n        if (typeof mode[type] == \"string\") {\n          if (help[mode[type]]) { found.push(help[mode[type]]); }\n        } else if (mode[type]) {\n          for (var i = 0; i < mode[type].length; i++) {\n            var val = help[mode[type][i]];\n            if (val) { found.push(val); }\n          }\n        } else if (mode.helperType && help[mode.helperType]) {\n          found.push(help[mode.helperType]);\n        } else if (help[mode.name]) {\n          found.push(help[mode.name]);\n        }\n        for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n          var cur = help._global[i$1];\n          if (cur.pred(mode, this) && indexOf(found, cur.val) == -1)\n            { found.push(cur.val); }\n        }\n        return found\n      },\n\n      getStateAfter: function(line, precise) {\n        var doc = this.doc;\n        line = clipLine(doc, line == null ? doc.first + doc.size - 1: line);\n        return getContextBefore(this, line + 1, precise).state\n      },\n\n      cursorCoords: function(start, mode) {\n        var pos, range = this.doc.sel.primary();\n        if (start == null) { pos = range.head; }\n        else if (typeof start == \"object\") { pos = clipPos(this.doc, start); }\n        else { pos = start ? range.from() : range.to(); }\n        return cursorCoords(this, pos, mode || \"page\")\n      },\n\n      charCoords: function(pos, mode) {\n        return charCoords(this, clipPos(this.doc, pos), mode || \"page\")\n      },\n\n      coordsChar: function(coords, mode) {\n        coords = fromCoordSystem(this, coords, mode || \"page\");\n        return coordsChar(this, coords.left, coords.top)\n      },\n\n      lineAtHeight: function(height, mode) {\n        height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top;\n        return lineAtHeight(this.doc, height + this.display.viewOffset)\n      },\n      heightAtLine: function(line, mode, includeWidgets) {\n        var end = false, lineObj;\n        if (typeof line == \"number\") {\n          var last = this.doc.first + this.doc.size - 1;\n          if (line < this.doc.first) { line = this.doc.first; }\n          else if (line > last) { line = last; end = true; }\n          lineObj = getLine(this.doc, line);\n        } else {\n          lineObj = line;\n        }\n        return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\", includeWidgets || end).top +\n          (end ? this.doc.height - heightAtLine(lineObj) : 0)\n      },\n\n      defaultTextHeight: function() { return textHeight(this.display) },\n      defaultCharWidth: function() { return charWidth(this.display) },\n\n      getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},\n\n      addWidget: function(pos, node, scroll, vert, horiz) {\n        var display = this.display;\n        pos = cursorCoords(this, clipPos(this.doc, pos));\n        var top = pos.bottom, left = pos.left;\n        node.style.position = \"absolute\";\n        node.setAttribute(\"cm-ignore-events\", \"true\");\n        this.display.input.setUneditable(node);\n        display.sizer.appendChild(node);\n        if (vert == \"over\") {\n          top = pos.top;\n        } else if (vert == \"above\" || vert == \"near\") {\n          var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n          hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);\n          \/\/ Default to positioning above (if specified and possible); otherwise default to positioning below\n          if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\n            { top = pos.top - node.offsetHeight; }\n          else if (pos.bottom + node.offsetHeight <= vspace)\n            { top = pos.bottom; }\n          if (left + node.offsetWidth > hspace)\n            { left = hspace - node.offsetWidth; }\n        }\n        node.style.top = top + \"px\";\n        node.style.left = node.style.right = \"\";\n        if (horiz == \"right\") {\n          left = display.sizer.clientWidth - node.offsetWidth;\n          node.style.right = \"0px\";\n        } else {\n          if (horiz == \"left\") { left = 0; }\n          else if (horiz == \"middle\") { left = (display.sizer.clientWidth - node.offsetWidth) \/ 2; }\n          node.style.left = left + \"px\";\n        }\n        if (scroll)\n          { scrollIntoView(this, {left: left, top: top, right: left + node.offsetWidth, bottom: top + node.offsetHeight}); }\n      },\n\n      triggerOnKeyDown: methodOp(onKeyDown),\n      triggerOnKeyPress: methodOp(onKeyPress),\n      triggerOnKeyUp: onKeyUp,\n      triggerOnMouseDown: methodOp(onMouseDown),\n\n      execCommand: function(cmd) {\n        if (commands.hasOwnProperty(cmd))\n          { return commands[cmd].call(null, this) }\n      },\n\n      triggerElectric: methodOp(function(text) { triggerElectric(this, text); }),\n\n      findPosH: function(from, amount, unit, visually) {\n        var dir = 1;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          cur = findPosH(this.doc, cur, dir, unit, visually);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveH: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        this.extendSelectionsBy(function (range) {\n          if (this$1.display.shift || this$1.doc.extend || range.empty())\n            { return findPosH(this$1.doc, range.head, dir, unit, this$1.options.rtlMoveVisually) }\n          else\n            { return dir < 0 ? range.from() : range.to() }\n        }, sel_move);\n      }),\n\n      deleteH: methodOp(function(dir, unit) {\n        var sel = this.doc.sel, doc = this.doc;\n        if (sel.somethingSelected())\n          { doc.replaceSelection(\"\", null, \"+delete\"); }\n        else\n          { deleteNearSelection(this, function (range) {\n            var other = findPosH(doc, range.head, dir, unit, false);\n            return dir < 0 ? {from: other, to: range.head} : {from: range.head, to: other}\n          }); }\n      }),\n\n      findPosV: function(from, amount, unit, goalColumn) {\n        var dir = 1, x = goalColumn;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          var coords = cursorCoords(this, cur, \"div\");\n          if (x == null) { x = coords.left; }\n          else { coords.left = x; }\n          cur = findPosV(this, coords, dir, unit);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveV: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        var doc = this.doc, goals = [];\n        var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected();\n        doc.extendSelectionsBy(function (range) {\n          if (collapse)\n            { return dir < 0 ? range.from() : range.to() }\n          var headPos = cursorCoords(this$1, range.head, \"div\");\n          if (range.goalColumn != null) { headPos.left = range.goalColumn; }\n          goals.push(headPos.left);\n          var pos = findPosV(this$1, headPos, dir, unit);\n          if (unit == \"page\" && range == doc.sel.primary())\n            { addToScrollTop(this$1, charCoords(this$1, pos, \"div\").top - headPos.top); }\n          return pos\n        }, sel_move);\n        if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)\n          { doc.sel.ranges[i].goalColumn = goals[i]; } }\n      }),\n\n      \/\/ Find the word at the given position (as returned by coordsChar).\n      findWordAt: function(pos) {\n        var doc = this.doc, line = getLine(doc, pos.line).text;\n        var start = pos.ch, end = pos.ch;\n        if (line) {\n          var helper = this.getHelper(pos, \"wordChars\");\n          if ((pos.sticky == \"before\" || end == line.length) && start) { --start; } else { ++end; }\n          var startChar = line.charAt(start);\n          var check = isWordChar(startChar, helper)\n            ? function (ch) { return isWordChar(ch, helper); }\n            : \/\\s\/.test(startChar) ? function (ch) { return \/\\s\/.test(ch); }\n            : function (ch) { return (!\/\\s\/.test(ch) && !isWordChar(ch)); };\n          while (start > 0 && check(line.charAt(start - 1))) { --start; }\n          while (end < line.length && check(line.charAt(end))) { ++end; }\n        }\n        return new Range(Pos(pos.line, start), Pos(pos.line, end))\n      },\n\n      toggleOverwrite: function(value) {\n        if (value != null && value == this.state.overwrite) { return }\n        if (this.state.overwrite = !this.state.overwrite)\n          { addClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n        else\n          { rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n\n        signal(this, \"overwriteToggle\", this, this.state.overwrite);\n      },\n      hasFocus: function() { return this.display.input.getField() == activeElt() },\n      isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },\n\n      scrollTo: methodOp(function (x, y) { scrollToCoords(this, x, y); }),\n      getScrollInfo: function() {\n        var scroller = this.display.scroller;\n        return {left: scroller.scrollLeft, top: scroller.scrollTop,\n                height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n                width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n                clientHeight: displayHeight(this), clientWidth: displayWidth(this)}\n      },\n\n      scrollIntoView: methodOp(function(range, margin) {\n        if (range == null) {\n          range = {from: this.doc.sel.primary().head, to: null};\n          if (margin == null) { margin = this.options.cursorScrollMargin; }\n        } else if (typeof range == \"number\") {\n          range = {from: Pos(range, 0), to: null};\n        } else if (range.from == null) {\n          range = {from: range, to: null};\n        }\n        if (!range.to) { range.to = range.from; }\n        range.margin = margin || 0;\n\n        if (range.from.line != null) {\n          scrollToRange(this, range);\n        } else {\n          scrollToCoordsRange(this, range.from, range.to, range.margin);\n        }\n      }),\n\n      setSize: methodOp(function(width, height) {\n        var this$1 = this;\n\n        var interpret = function (val) { return typeof val == \"number\" || \/^\\d+$\/.test(String(val)) ? val + \"px\" : val; };\n        if (width != null) { this.display.wrapper.style.width = interpret(width); }\n        if (height != null) { this.display.wrapper.style.height = interpret(height); }\n        if (this.options.lineWrapping) { clearLineMeasurementCache(this); }\n        var lineNo = this.display.viewFrom;\n        this.doc.iter(lineNo, this.display.viewTo, function (line) {\n          if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)\n            { if (line.widgets[i].noHScroll) { regLineChange(this$1, lineNo, \"widget\"); break } } }\n          ++lineNo;\n        });\n        this.curOp.forceUpdate = true;\n        signal(this, \"refresh\", this);\n      }),\n\n      operation: function(f){return runInOp(this, f)},\n      startOperation: function(){return startOperation(this)},\n      endOperation: function(){return endOperation(this)},\n\n      refresh: methodOp(function() {\n        var oldHeight = this.display.cachedTextHeight;\n        regChange(this);\n        this.curOp.forceUpdate = true;\n        clearCaches(this);\n        scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop);\n        updateGutterSpace(this.display);\n        if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5 || this.options.lineWrapping)\n          { estimateLineHeights(this); }\n        signal(this, \"refresh\", this);\n      }),\n\n      swapDoc: methodOp(function(doc) {\n        var old = this.doc;\n        old.cm = null;\n        \/\/ Cancel the current text selection if any (#5821)\n        if (this.state.selectingText) { this.state.selectingText(); }\n        attachDoc(this, doc);\n        clearCaches(this);\n        this.display.input.reset();\n        scrollToCoords(this, doc.scrollLeft, doc.scrollTop);\n        this.curOp.forceScroll = true;\n        signalLater(this, \"swapDoc\", this, old);\n        return old\n      }),\n\n      phrase: function(phraseText) {\n        var phrases = this.options.phrases;\n        return phrases && Object.prototype.hasOwnProperty.call(phrases, phraseText) ? phrases[phraseText] : phraseText\n      },\n\n      getInputField: function(){return this.display.input.getField()},\n      getWrapperElement: function(){return this.display.wrapper},\n      getScrollerElement: function(){return this.display.scroller},\n      getGutterElement: function(){return this.display.gutters}\n    };\n    eventMixin(CodeMirror);\n\n    CodeMirror.registerHelper = function(type, name, value) {\n      if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []}; }\n      helpers[type][name] = value;\n    };\n    CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\n      CodeMirror.registerHelper(type, name, value);\n      helpers[type]._global.push({pred: predicate, val: value});\n    };\n  }\n\n  \/\/ Used for horizontal relative motion. Dir is -1 or 1 (left or\n  \/\/ right), unit can be \"codepoint\", \"char\", \"column\" (like char, but\n  \/\/ doesn't cross line boundaries), \"word\" (across next word), or\n  \/\/ \"group\" (to the start of next group of word or\n  \/\/ non-word-non-whitespace chars). The visually param controls\n  \/\/ whether, in right-to-left text, direction 1 means to move towards\n  \/\/ the next index in the string, or towards the character to the right\n  \/\/ of the current position. The resulting position will have a\n  \/\/ hitSide=true property if it reached the end of the document.\n  function findPosH(doc, pos, dir, unit, visually) {\n    var oldPos = pos;\n    var origDir = dir;\n    var lineObj = getLine(doc, pos.line);\n    var lineDir = visually && doc.direction == \"rtl\" ? -dir : dir;\n    function findNextLine() {\n      var l = pos.line + lineDir;\n      if (l < doc.first || l >= doc.first + doc.size) { return false }\n      pos = new Pos(l, pos.ch, pos.sticky);\n      return lineObj = getLine(doc, l)\n    }\n    function moveOnce(boundToLine) {\n      var next;\n      if (unit == \"codepoint\") {\n        var ch = lineObj.text.charCodeAt(pos.ch + (dir > 0 ? 0 : -1));\n        if (isNaN(ch)) {\n          next = null;\n        } else {\n          var astral = dir > 0 ? ch >= 0xD800 && ch < 0xDC00 : ch >= 0xDC00 && ch < 0xDFFF;\n          next = new Pos(pos.line, Math.max(0, Math.min(lineObj.text.length, pos.ch + dir * (astral ? 2 : 1))), -dir);\n        }\n      } else if (visually) {\n        next = moveVisually(doc.cm, lineObj, pos, dir);\n      } else {\n        next = moveLogically(lineObj, pos, dir);\n      }\n      if (next == null) {\n        if (!boundToLine && findNextLine())\n          { pos = endOfLine(visually, doc.cm, lineObj, pos.line, lineDir); }\n        else\n          { return false }\n      } else {\n        pos = next;\n      }\n      return true\n    }\n\n    if (unit == \"char\" || unit == \"codepoint\") {\n      moveOnce();\n    } else if (unit == \"column\") {\n      moveOnce(true);\n    } else if (unit == \"word\" || unit == \"group\") {\n      var sawType = null, group = unit == \"group\";\n      var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n      for (var first = true;; first = false) {\n        if (dir < 0 && !moveOnce(!first)) { break }\n        var cur = lineObj.text.charAt(pos.ch) || \"\\n\";\n        var type = isWordChar(cur, helper) ? \"w\"\n          : group && cur == \"\\n\" ? \"n\"\n          : !group || \/\\s\/.test(cur) ? null\n          : \"p\";\n        if (group && !first && !type) { type = \"s\"; }\n        if (sawType && sawType != type) {\n          if (dir < 0) {dir = 1; moveOnce(); pos.sticky = \"after\";}\n          break\n        }\n\n        if (type) { sawType = type; }\n        if (dir > 0 && !moveOnce(!first)) { break }\n      }\n    }\n    var result = skipAtomic(doc, pos, oldPos, origDir, true);\n    if (equalCursorPos(oldPos, result)) { result.hitSide = true; }\n    return result\n  }\n\n  \/\/ For relative vertical movement. Dir may be -1 or 1. Unit can be\n  \/\/ \"page\" or \"line\". The resulting position will have a hitSide=true\n  \/\/ property if it reached the end of the document.\n  function findPosV(cm, pos, dir, unit) {\n    var doc = cm.doc, x = pos.left, y;\n    if (unit == \"page\") {\n      var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);\n      var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3);\n      y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount;\n\n    } else if (unit == \"line\") {\n      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n    }\n    var target;\n    for (;;) {\n      target = coordsChar(cm, x, y);\n      if (!target.outside) { break }\n      if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }\n      y += dir * 5;\n    }\n    return target\n  }\n\n  \/\/ CONTENTEDITABLE INPUT STYLE\n\n  var ContentEditableInput = function(cm) {\n    this.cm = cm;\n    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n    this.polling = new Delayed();\n    this.composing = null;\n    this.gracePeriod = false;\n    this.readDOMTimeout = null;\n  };\n\n  ContentEditableInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = input.cm;\n    var div = input.div = display.lineDiv;\n    disableBrowserMagic(div, cm.options.spellcheck, cm.options.autocorrect, cm.options.autocapitalize);\n\n    function belongsToInput(e) {\n      for (var t = e.target; t; t = t.parentNode) {\n        if (t == div) { return true }\n        if (\/\\bCodeMirror-(?:line)?widget\\b\/.test(t.className)) { break }\n      }\n      return false\n    }\n\n    on(div, \"paste\", function (e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n      \/\/ IE doesn't fire input events, so we schedule a read for the pasted content in this way\n      if (ie_version <= 11) { setTimeout(operation(cm, function () { return this$1.updateFromDOM(); }), 20); }\n    });\n\n    on(div, \"compositionstart\", function (e) {\n      this$1.composing = {data: e.data, done: false};\n    });\n    on(div, \"compositionupdate\", function (e) {\n      if (!this$1.composing) { this$1.composing = {data: e.data, done: false}; }\n    });\n    on(div, \"compositionend\", function (e) {\n      if (this$1.composing) {\n        if (e.data != this$1.composing.data) { this$1.readFromDOMSoon(); }\n        this$1.composing.done = true;\n      }\n    });\n\n    on(div, \"touchstart\", function () { return input.forceCompositionEnd(); });\n\n    on(div, \"input\", function () {\n      if (!this$1.composing) { this$1.readFromDOMSoon(); }\n    });\n\n    function onCopyCut(e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n        if (e.type == \"cut\") { cm.replaceSelection(\"\", null, \"cut\"); }\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.operation(function () {\n            cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n            cm.replaceSelection(\"\", null, \"cut\");\n          });\n        }\n      }\n      if (e.clipboardData) {\n        e.clipboardData.clearData();\n        var content = lastCopied.text.join(\"\\n\");\n        \/\/ iOS exposes the clipboard API, but seems to discard content inserted into it\n        e.clipboardData.setData(\"Text\", content);\n        if (e.clipboardData.getData(\"Text\") == content) {\n          e.preventDefault();\n          return\n        }\n      }\n      \/\/ Old-fashioned briefly-focus-a-textarea hack\n      var kludge = hiddenTextarea(), te = kludge.firstChild;\n      cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n      te.value = lastCopied.text.join(\"\\n\");\n      var hadFocus = document.activeElement;\n      selectInput(te);\n      setTimeout(function () {\n        cm.display.lineSpace.removeChild(kludge);\n        hadFocus.focus();\n        if (hadFocus == div) { input.showPrimarySelection(); }\n      }, 50);\n    }\n    on(div, \"copy\", onCopyCut);\n    on(div, \"cut\", onCopyCut);\n  };\n\n  ContentEditableInput.prototype.screenReaderLabelChanged = function (label) {\n    \/\/ Label for screenreaders, accessibility\n    if(label) {\n      this.div.setAttribute('aria-label', label);\n    } else {\n      this.div.removeAttribute('aria-label');\n    }\n  };\n\n  ContentEditableInput.prototype.prepareSelection = function () {\n    var result = prepareSelection(this.cm, false);\n    result.focus = document.activeElement == this.div;\n    return result\n  };\n\n  ContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n    if (!info || !this.cm.display.view.length) { return }\n    if (info.focus || takeFocus) { this.showPrimarySelection(); }\n    this.showMultipleSelections(info);\n  };\n\n  ContentEditableInput.prototype.getSelection = function () {\n    return this.cm.display.wrapper.ownerDocument.getSelection()\n  };\n\n  ContentEditableInput.prototype.showPrimarySelection = function () {\n    var sel = this.getSelection(), cm = this.cm, prim = cm.doc.sel.primary();\n    var from = prim.from(), to = prim.to();\n\n    if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\n        cmp(minPos(curAnchor, curFocus), from) == 0 &&\n        cmp(maxPos(curAnchor, curFocus), to) == 0)\n      { return }\n\n    var view = cm.display.view;\n    var start = (from.line >= cm.display.viewFrom && posToDOM(cm, from)) ||\n        {node: view[0].measure.map[2], offset: 0};\n    var end = to.line < cm.display.viewTo && posToDOM(cm, to);\n    if (!end) {\n      var measure = view[view.length - 1].measure;\n      var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n      end = {node: map[map.length - 1], offset: map[map.length - 2] - map[map.length - 3]};\n    }\n\n    if (!start || !end) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var old = sel.rangeCount && sel.getRangeAt(0), rng;\n    try { rng = range(start.node, start.offset, end.offset, end.node); }\n    catch(e) {} \/\/ Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n    if (rng) {\n      if (!gecko && cm.state.focused) {\n        sel.collapse(start.node, start.offset);\n        if (!rng.collapsed) {\n          sel.removeAllRanges();\n          sel.addRange(rng);\n        }\n      } else {\n        sel.removeAllRanges();\n        sel.addRange(rng);\n      }\n      if (old && sel.anchorNode == null) { sel.addRange(old); }\n      else if (gecko) { this.startGracePeriod(); }\n    }\n    this.rememberSelection();\n  };\n\n  ContentEditableInput.prototype.startGracePeriod = function () {\n      var this$1 = this;\n\n    clearTimeout(this.gracePeriod);\n    this.gracePeriod = setTimeout(function () {\n      this$1.gracePeriod = false;\n      if (this$1.selectionChanged())\n        { this$1.cm.operation(function () { return this$1.cm.curOp.selectionChanged = true; }); }\n    }, 20);\n  };\n\n  ContentEditableInput.prototype.showMultipleSelections = function (info) {\n    removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n    removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n  };\n\n  ContentEditableInput.prototype.rememberSelection = function () {\n    var sel = this.getSelection();\n    this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset;\n    this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset;\n  };\n\n  ContentEditableInput.prototype.selectionInEditor = function () {\n    var sel = this.getSelection();\n    if (!sel.rangeCount) { return false }\n    var node = sel.getRangeAt(0).commonAncestorContainer;\n    return contains(this.div, node)\n  };\n\n  ContentEditableInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\") {\n      if (!this.selectionInEditor() || document.activeElement != this.div)\n        { this.showSelection(this.prepareSelection(), true); }\n      this.div.focus();\n    }\n  };\n  ContentEditableInput.prototype.blur = function () { this.div.blur(); };\n  ContentEditableInput.prototype.getField = function () { return this.div };\n\n  ContentEditableInput.prototype.supportsTouch = function () { return true };\n\n  ContentEditableInput.prototype.receivedFocus = function () {\n    var input = this;\n    if (this.selectionInEditor())\n      { this.pollSelection(); }\n    else\n      { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }); }\n\n    function poll() {\n      if (input.cm.state.focused) {\n        input.pollSelection();\n        input.polling.set(input.cm.options.pollInterval, poll);\n      }\n    }\n    this.polling.set(this.cm.options.pollInterval, poll);\n  };\n\n  ContentEditableInput.prototype.selectionChanged = function () {\n    var sel = this.getSelection();\n    return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\n      sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset\n  };\n\n  ContentEditableInput.prototype.pollSelection = function () {\n    if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) { return }\n    var sel = this.getSelection(), cm = this.cm;\n    \/\/ On Android Chrome (version 56, at least), backspacing into an\n    \/\/ uneditable block element will put the cursor in that element,\n    \/\/ and then, because it's not editable, hide the virtual keyboard.\n    \/\/ Because Android doesn't allow us to actually detect backspace\n    \/\/ presses in a sane way, this code checks for when that happens\n    \/\/ and simulates a backspace press in this case.\n    if (android && chrome && this.cm.display.gutterSpecs.length && isInGutter(sel.anchorNode)) {\n      this.cm.triggerOnKeyDown({type: \"keydown\", keyCode: 8, preventDefault: Math.abs});\n      this.blur();\n      this.focus();\n      return\n    }\n    if (this.composing) { return }\n    this.rememberSelection();\n    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (anchor && head) { runInOp(cm, function () {\n      setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n      if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true; }\n    }); }\n  };\n\n  ContentEditableInput.prototype.pollContent = function () {\n    if (this.readDOMTimeout != null) {\n      clearTimeout(this.readDOMTimeout);\n      this.readDOMTimeout = null;\n    }\n\n    var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary();\n    var from = sel.from(), to = sel.to();\n    if (from.ch == 0 && from.line > cm.firstLine())\n      { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length); }\n    if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())\n      { to = Pos(to.line + 1, 0); }\n    if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }\n\n    var fromIndex, fromLine, fromNode;\n    if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n      fromLine = lineNo(display.view[0].line);\n      fromNode = display.view[0].node;\n    } else {\n      fromLine = lineNo(display.view[fromIndex].line);\n      fromNode = display.view[fromIndex - 1].node.nextSibling;\n    }\n    var toIndex = findViewIndex(cm, to.line);\n    var toLine, toNode;\n    if (toIndex == display.view.length - 1) {\n      toLine = display.viewTo - 1;\n      toNode = display.lineDiv.lastChild;\n    } else {\n      toLine = lineNo(display.view[toIndex + 1].line) - 1;\n      toNode = display.view[toIndex + 1].node.previousSibling;\n    }\n\n    if (!fromNode) { return false }\n    var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n    var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n    while (newText.length > 1 && oldText.length > 1) {\n      if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine--; }\n      else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++; }\n      else { break }\n    }\n\n    var cutFront = 0, cutEnd = 0;\n    var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length);\n    while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\n      { ++cutFront; }\n    var newBot = lst(newText), oldBot = lst(oldText);\n    var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\n                             oldBot.length - (oldText.length == 1 ? cutFront : 0));\n    while (cutEnd < maxCutEnd &&\n           newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\n      { ++cutEnd; }\n    \/\/ Try to move start of change to start of selection if ambiguous\n    if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {\n      while (cutFront && cutFront > from.ch &&\n             newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n        cutFront--;\n        cutEnd++;\n      }\n    }\n\n    newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(\/^\\u200b+\/, \"\");\n    newText[0] = newText[0].slice(cutFront).replace(\/\\u200b+$\/, \"\");\n\n    var chFrom = Pos(fromLine, cutFront);\n    var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n    if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n      replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n      return true\n    }\n  };\n\n  ContentEditableInput.prototype.ensurePolled = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.reset = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.forceCompositionEnd = function () {\n    if (!this.composing) { return }\n    clearTimeout(this.readDOMTimeout);\n    this.composing = null;\n    this.updateFromDOM();\n    this.div.blur();\n    this.div.focus();\n  };\n  ContentEditableInput.prototype.readFromDOMSoon = function () {\n      var this$1 = this;\n\n    if (this.readDOMTimeout != null) { return }\n    this.readDOMTimeout = setTimeout(function () {\n      this$1.readDOMTimeout = null;\n      if (this$1.composing) {\n        if (this$1.composing.done) { this$1.composing = null; }\n        else { return }\n      }\n      this$1.updateFromDOM();\n    }, 80);\n  };\n\n  ContentEditableInput.prototype.updateFromDOM = function () {\n      var this$1 = this;\n\n    if (this.cm.isReadOnly() || !this.pollContent())\n      { runInOp(this.cm, function () { return regChange(this$1.cm); }); }\n  };\n\n  ContentEditableInput.prototype.setUneditable = function (node) {\n    node.contentEditable = \"false\";\n  };\n\n  ContentEditableInput.prototype.onKeyPress = function (e) {\n    if (e.charCode == 0 || this.composing) { return }\n    e.preventDefault();\n    if (!this.cm.isReadOnly())\n      { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0); }\n  };\n\n  ContentEditableInput.prototype.readOnlyChanged = function (val) {\n    this.div.contentEditable = String(val != \"nocursor\");\n  };\n\n  ContentEditableInput.prototype.onContextMenu = function () {};\n  ContentEditableInput.prototype.resetPosition = function () {};\n\n  ContentEditableInput.prototype.needsContentAttribute = true;\n\n  function posToDOM(cm, pos) {\n    var view = findViewForLine(cm, pos.line);\n    if (!view || view.hidden) { return null }\n    var line = getLine(cm.doc, pos.line);\n    var info = mapFromLineView(view, line, pos.line);\n\n    var order = getOrder(line, cm.doc.direction), side = \"left\";\n    if (order) {\n      var partPos = getBidiPartAt(order, pos.ch);\n      side = partPos % 2 ? \"right\" : \"left\";\n    }\n    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n    result.offset = result.collapse == \"right\" ? result.end : result.start;\n    return result\n  }\n\n  function isInGutter(node) {\n    for (var scan = node; scan; scan = scan.parentNode)\n      { if (\/CodeMirror-gutter-wrapper\/.test(scan.className)) { return true } }\n    return false\n  }\n\n  function badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }\n\n  function domTextBetween(cm, from, to, fromLine, toLine) {\n    var text = \"\", closing = false, lineSep = cm.doc.lineSeparator(), extraLinebreak = false;\n    function recognizeMarker(id) { return function (marker) { return marker.id == id; } }\n    function close() {\n      if (closing) {\n        text += lineSep;\n        if (extraLinebreak) { text += lineSep; }\n        closing = extraLinebreak = false;\n      }\n    }\n    function addText(str) {\n      if (str) {\n        close();\n        text += str;\n      }\n    }\n    function walk(node) {\n      if (node.nodeType == 1) {\n        var cmText = node.getAttribute(\"cm-text\");\n        if (cmText) {\n          addText(cmText);\n          return\n        }\n        var markerID = node.getAttribute(\"cm-marker\"), range;\n        if (markerID) {\n          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n          if (found.length && (range = found[0].find(0)))\n            { addText(getBetween(cm.doc, range.from, range.to).join(lineSep)); }\n          return\n        }\n        if (node.getAttribute(\"contenteditable\") == \"false\") { return }\n        var isBlock = \/^(pre|div|p|li|table|br)$\/i.test(node.nodeName);\n        if (!\/^br$\/i.test(node.nodeName) && node.textContent.length == 0) { return }\n\n        if (isBlock) { close(); }\n        for (var i = 0; i < node.childNodes.length; i++)\n          { walk(node.childNodes[i]); }\n\n        if (\/^(pre|p)$\/i.test(node.nodeName)) { extraLinebreak = true; }\n        if (isBlock) { closing = true; }\n      } else if (node.nodeType == 3) {\n        addText(node.nodeValue.replace(\/\\u200b\/g, \"\").replace(\/\\u00a0\/g, \" \"));\n      }\n    }\n    for (;;) {\n      walk(from);\n      if (from == to) { break }\n      from = from.nextSibling;\n      extraLinebreak = false;\n    }\n    return text\n  }\n\n  function domToPos(cm, node, offset) {\n    var lineNode;\n    if (node == cm.display.lineDiv) {\n      lineNode = cm.display.lineDiv.childNodes[offset];\n      if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }\n      node = null; offset = 0;\n    } else {\n      for (lineNode = node;; lineNode = lineNode.parentNode) {\n        if (!lineNode || lineNode == cm.display.lineDiv) { return null }\n        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }\n      }\n    }\n    for (var i = 0; i < cm.display.view.length; i++) {\n      var lineView = cm.display.view[i];\n      if (lineView.node == lineNode)\n        { return locateNodeInLineView(lineView, node, offset) }\n    }\n  }\n\n  function locateNodeInLineView(lineView, node, offset) {\n    var wrapper = lineView.text.firstChild, bad = false;\n    if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }\n    if (node == wrapper) {\n      bad = true;\n      node = wrapper.childNodes[offset];\n      offset = 0;\n      if (!node) {\n        var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n        return badPos(Pos(lineNo(line), line.text.length), bad)\n      }\n    }\n\n    var textNode = node.nodeType == 3 ? node : null, topNode = node;\n    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n      textNode = node.firstChild;\n      if (offset) { offset = textNode.nodeValue.length; }\n    }\n    while (topNode.parentNode != wrapper) { topNode = topNode.parentNode; }\n    var measure = lineView.measure, maps = measure.maps;\n\n    function find(textNode, topNode, offset) {\n      for (var i = -1; i < (maps ? maps.length : 0); i++) {\n        var map = i < 0 ? measure.map : maps[i];\n        for (var j = 0; j < map.length; j += 3) {\n          var curNode = map[j + 2];\n          if (curNode == textNode || curNode == topNode) {\n            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n            var ch = map[j] + offset;\n            if (offset < 0 || curNode != textNode) { ch = map[j + (offset ? 1 : 0)]; }\n            return Pos(line, ch)\n          }\n        }\n      }\n    }\n    var found = find(textNode, topNode, offset);\n    if (found) { return badPos(found, bad) }\n\n    \/\/ FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n      found = find(after, after.firstChild, 0);\n      if (found)\n        { return badPos(Pos(found.line, found.ch - dist), bad) }\n      else\n        { dist += after.textContent.length; }\n    }\n    for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n      found = find(before, before.firstChild, -1);\n      if (found)\n        { return badPos(Pos(found.line, found.ch + dist$1), bad) }\n      else\n        { dist$1 += before.textContent.length; }\n    }\n  }\n\n  \/\/ TEXTAREA INPUT STYLE\n\n  var TextareaInput = function(cm) {\n    this.cm = cm;\n    \/\/ See input.poll and input.reset\n    this.prevInput = \"\";\n\n    \/\/ Flag that indicates whether we expect input to appear real soon\n    \/\/ now (after some event like 'keypress' or 'input') and are\n    \/\/ polling intensively.\n    this.pollingFast = false;\n    \/\/ Self-resetting timeout for the poller\n    this.polling = new Delayed();\n    \/\/ Used to work around IE issue with selection being forgotten when focus moves away from textarea\n    this.hasSelection = false;\n    this.composing = null;\n  };\n\n  TextareaInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = this.cm;\n    this.createField(display);\n    var te = this.textarea;\n\n    display.wrapper.insertBefore(this.wrapper, display.wrapper.firstChild);\n\n    \/\/ Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n    if (ios) { te.style.width = \"0px\"; }\n\n    on(te, \"input\", function () {\n      if (ie && ie_version >= 9 && this$1.hasSelection) { this$1.hasSelection = null; }\n      input.poll();\n    });\n\n    on(te, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n\n      cm.state.pasteIncoming = +new Date;\n      input.fastPoll();\n    });\n\n    function prepareCopyCut(e) {\n      if (signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.setSelections(ranges.ranges, null, sel_dontScroll);\n        } else {\n          input.prevInput = \"\";\n          te.value = ranges.text.join(\"\\n\");\n          selectInput(te);\n        }\n      }\n      if (e.type == \"cut\") { cm.state.cutIncoming = +new Date; }\n    }\n    on(te, \"cut\", prepareCopyCut);\n    on(te, \"copy\", prepareCopyCut);\n\n    on(display.scroller, \"paste\", function (e) {\n      if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }\n      if (!te.dispatchEvent) {\n        cm.state.pasteIncoming = +new Date;\n        input.focus();\n        return\n      }\n\n      \/\/ Pass the `paste` event to the textarea so it's handled by its event listener.\n      var event = new Event(\"paste\");\n      event.clipboardData = e.clipboardData;\n      te.dispatchEvent(event);\n    });\n\n    \/\/ Prevent normal selection in the editor (we handle our own)\n    on(display.lineSpace, \"selectstart\", function (e) {\n      if (!eventInWidget(display, e)) { e_preventDefault(e); }\n    });\n\n    on(te, \"compositionstart\", function () {\n      var start = cm.getCursor(\"from\");\n      if (input.composing) { input.composing.range.clear(); }\n      input.composing = {\n        start: start,\n        range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\n      };\n    });\n    on(te, \"compositionend\", function () {\n      if (input.composing) {\n        input.poll();\n        input.composing.range.clear();\n        input.composing = null;\n      }\n    });\n  };\n\n  TextareaInput.prototype.createField = function (_display) {\n    \/\/ Wraps and hides input textarea\n    this.wrapper = hiddenTextarea();\n    \/\/ The semihidden textarea that is focused when the editor is\n    \/\/ focused, and receives input.\n    this.textarea = this.wrapper.firstChild;\n  };\n\n  TextareaInput.prototype.screenReaderLabelChanged = function (label) {\n    \/\/ Label for screenreaders, accessibility\n    if(label) {\n      this.textarea.setAttribute('aria-label', label);\n    } else {\n      this.textarea.removeAttribute('aria-label');\n    }\n  };\n\n  TextareaInput.prototype.prepareSelection = function () {\n    \/\/ Redraw the selection and\/or cursor\n    var cm = this.cm, display = cm.display, doc = cm.doc;\n    var result = prepareSelection(cm);\n\n    \/\/ Move the hidden textarea near the cursor to prevent scrolling artifacts\n    if (cm.options.moveInputWithCursor) {\n      var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\");\n      var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();\n      result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\n                                          headPos.top + lineOff.top - wrapOff.top));\n      result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\n                                           headPos.left + lineOff.left - wrapOff.left));\n    }\n\n    return result\n  };\n\n  TextareaInput.prototype.showSelection = function (drawn) {\n    var cm = this.cm, display = cm.display;\n    removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n    removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n    if (drawn.teTop != null) {\n      this.wrapper.style.top = drawn.teTop + \"px\";\n      this.wrapper.style.left = drawn.teLeft + \"px\";\n    }\n  };\n\n  \/\/ Reset the input to correspond to the selection (or to be empty,\n  \/\/ when not typing and nothing is selected)\n  TextareaInput.prototype.reset = function (typing) {\n    if (this.contextMenuPending || this.composing) { return }\n    var cm = this.cm;\n    if (cm.somethingSelected()) {\n      this.prevInput = \"\";\n      var content = cm.getSelection();\n      this.textarea.value = content;\n      if (cm.state.focused) { selectInput(this.textarea); }\n      if (ie && ie_version >= 9) { this.hasSelection = content; }\n    } else if (!typing) {\n      this.prevInput = this.textarea.value = \"\";\n      if (ie && ie_version >= 9) { this.hasSelection = null; }\n    }\n  };\n\n  TextareaInput.prototype.getField = function () { return this.textarea };\n\n  TextareaInput.prototype.supportsTouch = function () { return false };\n\n  TextareaInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n      try { this.textarea.focus(); }\n      catch (e) {} \/\/ IE8 will throw if the textarea is display: none or not in DOM\n    }\n  };\n\n  TextareaInput.prototype.blur = function () { this.textarea.blur(); };\n\n  TextareaInput.prototype.resetPosition = function () {\n    this.wrapper.style.top = this.wrapper.style.left = 0;\n  };\n\n  TextareaInput.prototype.receivedFocus = function () { this.slowPoll(); };\n\n  \/\/ Poll for input changes, using the normal rate of polling. This\n  \/\/ runs as long as the editor is focused.\n  TextareaInput.prototype.slowPoll = function () {\n      var this$1 = this;\n\n    if (this.pollingFast) { return }\n    this.polling.set(this.cm.options.pollInterval, function () {\n      this$1.poll();\n      if (this$1.cm.state.focused) { this$1.slowPoll(); }\n    });\n  };\n\n  \/\/ When an event has just come in that is likely to add or change\n  \/\/ something in the input textarea, we poll faster, to ensure that\n  \/\/ the change appears on the screen quickly.\n  TextareaInput.prototype.fastPoll = function () {\n    var missed = false, input = this;\n    input.pollingFast = true;\n    function p() {\n      var changed = input.poll();\n      if (!changed && !missed) {missed = true; input.polling.set(60, p);}\n      else {input.pollingFast = false; input.slowPoll();}\n    }\n    input.polling.set(20, p);\n  };\n\n  \/\/ Read input from the textarea, and update the document to match.\n  \/\/ When something is selected, it is present in the textarea, and\n  \/\/ selected (unless it is huge, in which case a placeholder is\n  \/\/ used). When nothing is selected, the cursor sits after previously\n  \/\/ seen text (can be empty), which is stored in prevInput (we must\n  \/\/ not reset the textarea when typing, because that breaks IME).\n  TextareaInput.prototype.poll = function () {\n      var this$1 = this;\n\n    var cm = this.cm, input = this.textarea, prevInput = this.prevInput;\n    \/\/ Since this is called a *lot*, try to bail out as cheaply as\n    \/\/ possible when it is clear that nothing happened. hasSelection\n    \/\/ will be the case when there is a lot of text in the textarea,\n    \/\/ in which case reading its value would be expensive.\n    if (this.contextMenuPending || !cm.state.focused ||\n        (hasSelection(input) && !prevInput && !this.composing) ||\n        cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\n      { return false }\n\n    var text = input.value;\n    \/\/ If nothing changed, bail.\n    if (text == prevInput && !cm.somethingSelected()) { return false }\n    \/\/ Work around nonsensical selection resetting in IE9\/10, and\n    \/\/ inexplicable appearance of private area unicode characters on\n    \/\/ some key combos in Mac (#2689).\n    if (ie && ie_version >= 9 && this.hasSelection === text ||\n        mac && \/[\\uf700-\\uf7ff]\/.test(text)) {\n      cm.display.input.reset();\n      return false\n    }\n\n    if (cm.doc.sel == cm.display.selForContextMenu) {\n      var first = text.charCodeAt(0);\n      if (first == 0x200b && !prevInput) { prevInput = \"\\u200b\"; }\n      if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\") }\n    }\n    \/\/ Find the part of the input that is actually new\n    var same = 0, l = Math.min(prevInput.length, text.length);\n    while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same; }\n\n    runInOp(cm, function () {\n      applyTextInput(cm, text.slice(same), prevInput.length - same,\n                     null, this$1.composing ? \"*compose\" : null);\n\n      \/\/ Don't leave long text in the textarea, since it makes further polling slow\n      if (text.length > 1000 || text.indexOf(\"\\n\") > -1) { input.value = this$1.prevInput = \"\"; }\n      else { this$1.prevInput = text; }\n\n      if (this$1.composing) {\n        this$1.composing.range.clear();\n        this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"),\n                                           {className: \"CodeMirror-composing\"});\n      }\n    });\n    return true\n  };\n\n  TextareaInput.prototype.ensurePolled = function () {\n    if (this.pollingFast && this.poll()) { this.pollingFast = false; }\n  };\n\n  TextareaInput.prototype.onKeyPress = function () {\n    if (ie && ie_version >= 9) { this.hasSelection = null; }\n    this.fastPoll();\n  };\n\n  TextareaInput.prototype.onContextMenu = function (e) {\n    var input = this, cm = input.cm, display = cm.display, te = input.textarea;\n    if (input.contextMenuPending) { input.contextMenuPending(); }\n    var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;\n    if (!pos || presto) { return } \/\/ Opera is difficult.\n\n    \/\/ Reset the current text selection only if the click is done outside of the selection\n    \/\/ and 'resetSelectionOnContextMenu' option is true.\n    var reset = cm.options.resetSelectionOnContextMenu;\n    if (reset && cm.doc.sel.contains(pos) == -1)\n      { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll); }\n\n    var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText;\n    var wrapperBox = input.wrapper.offsetParent.getBoundingClientRect();\n    input.wrapper.style.cssText = \"position: static\";\n    te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n    var oldScrollY;\n    if (webkit) { oldScrollY = window.scrollY; } \/\/ Work around Chrome issue (#2712)\n    display.input.focus();\n    if (webkit) { window.scrollTo(null, oldScrollY); }\n    display.input.reset();\n    \/\/ Adds \"Select all\" to context menu in FF\n    if (!cm.somethingSelected()) { te.value = input.prevInput = \" \"; }\n    input.contextMenuPending = rehide;\n    display.selForContextMenu = cm.doc.sel;\n    clearTimeout(display.detectingSelectAll);\n\n    \/\/ Select-all will be greyed out if there's nothing to select, so\n    \/\/ this adds a zero-width space so that we can later check whether\n    \/\/ it got selected.\n    function prepareSelectAllHack() {\n      if (te.selectionStart != null) {\n        var selected = cm.somethingSelected();\n        var extval = \"\\u200b\" + (selected ? te.value : \"\");\n        te.value = \"\\u21da\"; \/\/ Used to catch context-menu undo\n        te.value = extval;\n        input.prevInput = selected ? \"\" : \"\\u200b\";\n        te.selectionStart = 1; te.selectionEnd = extval.length;\n        \/\/ Re-set this, in case some other handler touched the\n        \/\/ selection in the meantime.\n        display.selForContextMenu = cm.doc.sel;\n      }\n    }\n    function rehide() {\n      if (input.contextMenuPending != rehide) { return }\n      input.contextMenuPending = false;\n      input.wrapper.style.cssText = oldWrapperCSS;\n      te.style.cssText = oldCSS;\n      if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos); }\n\n      \/\/ Try to detect the user choosing select-all\n      if (te.selectionStart != null) {\n        if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack(); }\n        var i = 0, poll = function () {\n          if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\n              te.selectionEnd > 0 && input.prevInput == \"\\u200b\") {\n            operation(cm, selectAll)(cm);\n          } else if (i++ < 10) {\n            display.detectingSelectAll = setTimeout(poll, 500);\n          } else {\n            display.selForContextMenu = null;\n            display.input.reset();\n          }\n        };\n        display.detectingSelectAll = setTimeout(poll, 200);\n      }\n    }\n\n    if (ie && ie_version >= 9) { prepareSelectAllHack(); }\n    if (captureRightClick) {\n      e_stop(e);\n      var mouseup = function () {\n        off(window, \"mouseup\", mouseup);\n        setTimeout(rehide, 20);\n      };\n      on(window, \"mouseup\", mouseup);\n    } else {\n      setTimeout(rehide, 50);\n    }\n  };\n\n  TextareaInput.prototype.readOnlyChanged = function (val) {\n    if (!val) { this.reset(); }\n    this.textarea.disabled = val == \"nocursor\";\n    this.textarea.readOnly = !!val;\n  };\n\n  TextareaInput.prototype.setUneditable = function () {};\n\n  TextareaInput.prototype.needsContentAttribute = false;\n\n  function fromTextArea(textarea, options) {\n    options = options ? copyObj(options) : {};\n    options.value = textarea.value;\n    if (!options.tabindex && textarea.tabIndex)\n      { options.tabindex = textarea.tabIndex; }\n    if (!options.placeholder && textarea.placeholder)\n      { options.placeholder = textarea.placeholder; }\n    \/\/ Set autofocus to true if this textarea is focused, or if it has\n    \/\/ autofocus and no other element is focused.\n    if (options.autofocus == null) {\n      var hasFocus = activeElt();\n      options.autofocus = hasFocus == textarea ||\n        textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n    }\n\n    function save() {textarea.value = cm.getValue();}\n\n    var realSubmit;\n    if (textarea.form) {\n      on(textarea.form, \"submit\", save);\n      \/\/ Deplorable hack to make the submit method do the right thing.\n      if (!options.leaveSubmitMethodAlone) {\n        var form = textarea.form;\n        realSubmit = form.submit;\n        try {\n          var wrappedSubmit = form.submit = function () {\n            save();\n            form.submit = realSubmit;\n            form.submit();\n            form.submit = wrappedSubmit;\n          };\n        } catch(e) {}\n      }\n    }\n\n    options.finishInit = function (cm) {\n      cm.save = save;\n      cm.getTextArea = function () { return textarea; };\n      cm.toTextArea = function () {\n        cm.toTextArea = isNaN; \/\/ Prevent this from being ran twice\n        save();\n        textarea.parentNode.removeChild(cm.getWrapperElement());\n        textarea.style.display = \"\";\n        if (textarea.form) {\n          off(textarea.form, \"submit\", save);\n          if (!options.leaveSubmitMethodAlone && typeof textarea.form.submit == \"function\")\n            { textarea.form.submit = realSubmit; }\n        }\n      };\n    };\n\n    textarea.style.display = \"none\";\n    var cm = CodeMirror(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },\n      options);\n    return cm\n  }\n\n  function addLegacyProps(CodeMirror) {\n    CodeMirror.off = off;\n    CodeMirror.on = on;\n    CodeMirror.wheelEventPixels = wheelEventPixels;\n    CodeMirror.Doc = Doc;\n    CodeMirror.splitLines = splitLinesAuto;\n    CodeMirror.countColumn = countColumn;\n    CodeMirror.findColumn = findColumn;\n    CodeMirror.isWordChar = isWordCharBasic;\n    CodeMirror.Pass = Pass;\n    CodeMirror.signal = signal;\n    CodeMirror.Line = Line;\n    CodeMirror.changeEnd = changeEnd;\n    CodeMirror.scrollbarModel = scrollbarModel;\n    CodeMirror.Pos = Pos;\n    CodeMirror.cmpPos = cmp;\n    CodeMirror.modes = modes;\n    CodeMirror.mimeModes = mimeModes;\n    CodeMirror.resolveMode = resolveMode;\n    CodeMirror.getMode = getMode;\n    CodeMirror.modeExtensions = modeExtensions;\n    CodeMirror.extendMode = extendMode;\n    CodeMirror.copyState = copyState;\n    CodeMirror.startState = startState;\n    CodeMirror.innerMode = innerMode;\n    CodeMirror.commands = commands;\n    CodeMirror.keyMap = keyMap;\n    CodeMirror.keyName = keyName;\n    CodeMirror.isModifierKey = isModifierKey;\n    CodeMirror.lookupKey = lookupKey;\n    CodeMirror.normalizeKeyMap = normalizeKeyMap;\n    CodeMirror.StringStream = StringStream;\n    CodeMirror.SharedTextMarker = SharedTextMarker;\n    CodeMirror.TextMarker = TextMarker;\n    CodeMirror.LineWidget = LineWidget;\n    CodeMirror.e_preventDefault = e_preventDefault;\n    CodeMirror.e_stopPropagation = e_stopPropagation;\n    CodeMirror.e_stop = e_stop;\n    CodeMirror.addClass = addClass;\n    CodeMirror.contains = contains;\n    CodeMirror.rmClass = rmClass;\n    CodeMirror.keyNames = keyNames;\n  }\n\n  \/\/ EDITOR CONSTRUCTOR\n\n  defineOptions(CodeMirror);\n\n  addEditorMethods(CodeMirror);\n\n  \/\/ Set up methods on CodeMirror's prototype to redirect to the editor's document.\n  var dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\n  for (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\n    { CodeMirror.prototype[prop] = (function(method) {\n      return function() {return method.apply(this.doc, arguments)}\n    })(Doc.prototype[prop]); } }\n\n  eventMixin(Doc);\n  CodeMirror.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput};\n\n  \/\/ Extra arguments are stored as the mode's dependencies, which is\n  \/\/ used by (legacy) mechanisms like loadmode.js to automatically\n  \/\/ load a mode. (Preferred mechanism is the require\/define calls.)\n  CodeMirror.defineMode = function(name\/*, mode, \u2026*\/) {\n    if (!CodeMirror.defaults.mode && name != \"null\") { CodeMirror.defaults.mode = name; }\n    defineMode.apply(this, arguments);\n  };\n\n  CodeMirror.defineMIME = defineMIME;\n\n  \/\/ Minimal default mode.\n  CodeMirror.defineMode(\"null\", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); });\n  CodeMirror.defineMIME(\"text\/plain\", \"null\");\n\n  \/\/ EXTENSIONS\n\n  CodeMirror.defineExtension = function (name, func) {\n    CodeMirror.prototype[name] = func;\n  };\n  CodeMirror.defineDocExtension = function (name, func) {\n    Doc.prototype[name] = func;\n  };\n\n  CodeMirror.fromTextArea = fromTextArea;\n\n  addLegacyProps(CodeMirror);\n\n  CodeMirror.version = \"5.59.2\";\n\n  return CodeMirror;\n\n})));\n\n};","shadow$provide[255] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  var ie_lt8 = \/MSIE \\d\/.test(navigator.userAgent) &&\n    (document.documentMode == null || document.documentMode < 8);\n\n  var Pos = CodeMirror.Pos;\n\n  var matching = {\"(\": \")>\", \")\": \"(<\", \"[\": \"]>\", \"]\": \"[<\", \"{\": \"}>\", \"}\": \"{<\", \"<\": \">>\", \">\": \"<<\"};\n\n  function bracketRegex(config) {\n    return config && config.bracketRegex || \/[(){}[\\]]\/\n  }\n\n  function findMatchingBracket(cm, where, config) {\n    var line = cm.getLineHandle(where.line), pos = where.ch - 1;\n    var afterCursor = config && config.afterCursor\n    if (afterCursor == null)\n      afterCursor = \/(^| )cm-fat-cursor($| )\/.test(cm.getWrapperElement().className)\n    var re = bracketRegex(config)\n\n    \/\/ A cursor is defined as between two characters, but in in vim command mode\n    \/\/ (i.e. not insert mode), the cursor is visually represented as a\n    \/\/ highlighted box on top of the 2nd character. Otherwise, we allow matches\n    \/\/ from before or after the cursor.\n    var match = (!afterCursor && pos >= 0 && re.test(line.text.charAt(pos)) && matching[line.text.charAt(pos)]) ||\n        re.test(line.text.charAt(pos + 1)) && matching[line.text.charAt(++pos)];\n    if (!match) return null;\n    var dir = match.charAt(1) == \">\" ? 1 : -1;\n    if (config && config.strict && (dir > 0) != (pos == where.ch)) return null;\n    var style = cm.getTokenTypeAt(Pos(where.line, pos + 1));\n\n    var found = scanForBracket(cm, Pos(where.line, pos + (dir > 0 ? 1 : 0)), dir, style, config);\n    if (found == null) return null;\n    return {from: Pos(where.line, pos), to: found && found.pos,\n            match: found && found.ch == match.charAt(0), forward: dir > 0};\n  }\n\n  \/\/ bracketRegex is used to specify which type of bracket to scan\n  \/\/ should be a regexp, e.g. \/[[\\]]\/\n  \/\/\n  \/\/ Note: If \"where\" is on an open bracket, then this bracket is ignored.\n  \/\/\n  \/\/ Returns false when no bracket was found, null when it reached\n  \/\/ maxScanLines and gave up\n  function scanForBracket(cm, where, dir, style, config) {\n    var maxScanLen = (config && config.maxScanLineLength) || 10000;\n    var maxScanLines = (config && config.maxScanLines) || 1000;\n\n    var stack = [];\n    var re = bracketRegex(config)\n    var lineEnd = dir > 0 ? Math.min(where.line + maxScanLines, cm.lastLine() + 1)\n                          : Math.max(cm.firstLine() - 1, where.line - maxScanLines);\n    for (var lineNo = where.line; lineNo != lineEnd; lineNo += dir) {\n      var line = cm.getLine(lineNo);\n      if (!line) continue;\n      var pos = dir > 0 ? 0 : line.length - 1, end = dir > 0 ? line.length : -1;\n      if (line.length > maxScanLen) continue;\n      if (lineNo == where.line) pos = where.ch - (dir < 0 ? 1 : 0);\n      for (; pos != end; pos += dir) {\n        var ch = line.charAt(pos);\n        if (re.test(ch) && (style === undefined ||\n                            (cm.getTokenTypeAt(Pos(lineNo, pos + 1)) || \"\") == (style || \"\"))) {\n          var match = matching[ch];\n          if (match && (match.charAt(1) == \">\") == (dir > 0)) stack.push(ch);\n          else if (!stack.length) return {pos: Pos(lineNo, pos), ch: ch};\n          else stack.pop();\n        }\n      }\n    }\n    return lineNo - dir == (dir > 0 ? cm.lastLine() : cm.firstLine()) ? false : null;\n  }\n\n  function matchBrackets(cm, autoclear, config) {\n    \/\/ Disable brace matching in long lines, since it'll cause hugely slow updates\n    var maxHighlightLen = cm.state.matchBrackets.maxHighlightLineLength || 1000,\n      highlightNonMatching = config && config.highlightNonMatching;\n    var marks = [], ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      var match = ranges[i].empty() && findMatchingBracket(cm, ranges[i].head, config);\n      if (match && (match.match || highlightNonMatching !== false) && cm.getLine(match.from.line).length <= maxHighlightLen) {\n        var style = match.match ? \"CodeMirror-matchingbracket\" : \"CodeMirror-nonmatchingbracket\";\n        marks.push(cm.markText(match.from, Pos(match.from.line, match.from.ch + 1), {className: style}));\n        if (match.to && cm.getLine(match.to.line).length <= maxHighlightLen)\n          marks.push(cm.markText(match.to, Pos(match.to.line, match.to.ch + 1), {className: style}));\n      }\n    }\n\n    if (marks.length) {\n      \/\/ Kludge to work around the IE bug from issue #1193, where text\n      \/\/ input stops going to the textarea whenever this fires.\n      if (ie_lt8 && cm.state.focused) cm.focus();\n\n      var clear = function() {\n        cm.operation(function() {\n          for (var i = 0; i < marks.length; i++) marks[i].clear();\n        });\n      };\n      if (autoclear) setTimeout(clear, 800);\n      else return clear;\n    }\n  }\n\n  function doMatchBrackets(cm) {\n    cm.operation(function() {\n      if (cm.state.matchBrackets.currentlyHighlighted) {\n        cm.state.matchBrackets.currentlyHighlighted();\n        cm.state.matchBrackets.currentlyHighlighted = null;\n      }\n      cm.state.matchBrackets.currentlyHighlighted = matchBrackets(cm, false, cm.state.matchBrackets);\n    });\n  }\n\n  function clearHighlighted(cm) {\n    if (cm.state.matchBrackets && cm.state.matchBrackets.currentlyHighlighted) {\n      cm.state.matchBrackets.currentlyHighlighted();\n      cm.state.matchBrackets.currentlyHighlighted = null;\n    }\n  }\n\n  CodeMirror.defineOption(\"matchBrackets\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.off(\"cursorActivity\", doMatchBrackets);\n      cm.off(\"focus\", doMatchBrackets)\n      cm.off(\"blur\", clearHighlighted)\n      clearHighlighted(cm);\n    }\n    if (val) {\n      cm.state.matchBrackets = typeof val == \"object\" ? val : {};\n      cm.on(\"cursorActivity\", doMatchBrackets);\n      cm.on(\"focus\", doMatchBrackets)\n      cm.on(\"blur\", clearHighlighted)\n    }\n  });\n\n  CodeMirror.defineExtension(\"matchBrackets\", function() {matchBrackets(this, true);});\n  CodeMirror.defineExtension(\"findMatchingBracket\", function(pos, config, oldConfig){\n    \/\/ Backwards-compatibility kludge\n    if (oldConfig || typeof config == \"boolean\") {\n      if (!oldConfig) {\n        config = config ? {strict: true} : null\n      } else {\n        oldConfig.strict = config\n        config = oldConfig\n      }\n    }\n    return findMatchingBracket(this, pos, config)\n  });\n  CodeMirror.defineExtension(\"scanForBracket\", function(pos, dir, style, config){\n    return scanForBracket(this, pos, dir, style, config);\n  });\n});\n\n};","shadow$provide[256] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  var defaults = {\n    pairs: \"()[]{}''\\\"\\\"\",\n    closeBefore: \")]}'\\\":;>\",\n    triples: \"\",\n    explode: \"[]{}\"\n  };\n\n  var Pos = CodeMirror.Pos;\n\n  CodeMirror.defineOption(\"autoCloseBrackets\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.removeKeyMap(keyMap);\n      cm.state.closeBrackets = null;\n    }\n    if (val) {\n      ensureBound(getOption(val, \"pairs\"))\n      cm.state.closeBrackets = val;\n      cm.addKeyMap(keyMap);\n    }\n  });\n\n  function getOption(conf, name) {\n    if (name == \"pairs\" && typeof conf == \"string\") return conf;\n    if (typeof conf == \"object\" && conf[name] != null) return conf[name];\n    return defaults[name];\n  }\n\n  var keyMap = {Backspace: handleBackspace, Enter: handleEnter};\n  function ensureBound(chars) {\n    for (var i = 0; i < chars.length; i++) {\n      var ch = chars.charAt(i), key = \"'\" + ch + \"'\"\n      if (!keyMap[key]) keyMap[key] = handler(ch)\n    }\n  }\n  ensureBound(defaults.pairs + \"`\")\n\n  function handler(ch) {\n    return function(cm) { return handleChar(cm, ch); };\n  }\n\n  function getConfig(cm) {\n    var deflt = cm.state.closeBrackets;\n    if (!deflt || deflt.override) return deflt;\n    var mode = cm.getModeAt(cm.getCursor());\n    return mode.closeBrackets || deflt;\n  }\n\n  function handleBackspace(cm) {\n    var conf = getConfig(cm);\n    if (!conf || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var pairs = getOption(conf, \"pairs\");\n    var ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) return CodeMirror.Pass;\n      var around = charsAround(cm, ranges[i].head);\n      if (!around || pairs.indexOf(around) % 2 != 0) return CodeMirror.Pass;\n    }\n    for (var i = ranges.length - 1; i >= 0; i--) {\n      var cur = ranges[i].head;\n      cm.replaceRange(\"\", Pos(cur.line, cur.ch - 1), Pos(cur.line, cur.ch + 1), \"+delete\");\n    }\n  }\n\n  function handleEnter(cm) {\n    var conf = getConfig(cm);\n    var explode = conf && getOption(conf, \"explode\");\n    if (!explode || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) return CodeMirror.Pass;\n      var around = charsAround(cm, ranges[i].head);\n      if (!around || explode.indexOf(around) % 2 != 0) return CodeMirror.Pass;\n    }\n    cm.operation(function() {\n      var linesep = cm.lineSeparator() || \"\\n\";\n      cm.replaceSelection(linesep + linesep, null);\n      moveSel(cm, -1)\n      ranges = cm.listSelections();\n      for (var i = 0; i < ranges.length; i++) {\n        var line = ranges[i].head.line;\n        cm.indentLine(line, null, true);\n        cm.indentLine(line + 1, null, true);\n      }\n    });\n  }\n\n  function moveSel(cm, dir) {\n    var newRanges = [], ranges = cm.listSelections(), primary = 0\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i]\n      if (range.head == cm.getCursor()) primary = i\n      var pos = range.head.ch || dir > 0 ? {line: range.head.line, ch: range.head.ch + dir} : {line: range.head.line - 1}\n      newRanges.push({anchor: pos, head: pos})\n    }\n    cm.setSelections(newRanges, primary)\n  }\n\n  function contractSelection(sel) {\n    var inverted = CodeMirror.cmpPos(sel.anchor, sel.head) > 0;\n    return {anchor: new Pos(sel.anchor.line, sel.anchor.ch + (inverted ? -1 : 1)),\n            head: new Pos(sel.head.line, sel.head.ch + (inverted ? 1 : -1))};\n  }\n\n  function handleChar(cm, ch) {\n    var conf = getConfig(cm);\n    if (!conf || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var pairs = getOption(conf, \"pairs\");\n    var pos = pairs.indexOf(ch);\n    if (pos == -1) return CodeMirror.Pass;\n\n    var closeBefore = getOption(conf,\"closeBefore\");\n\n    var triples = getOption(conf, \"triples\");\n\n    var identical = pairs.charAt(pos + 1) == ch;\n    var ranges = cm.listSelections();\n    var opening = pos % 2 == 0;\n\n    var type;\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i], cur = range.head, curType;\n      var next = cm.getRange(cur, Pos(cur.line, cur.ch + 1));\n      if (opening && !range.empty()) {\n        curType = \"surround\";\n      } else if ((identical || !opening) && next == ch) {\n        if (identical && stringStartsAfter(cm, cur))\n          curType = \"both\";\n        else if (triples.indexOf(ch) >= 0 && cm.getRange(cur, Pos(cur.line, cur.ch + 3)) == ch + ch + ch)\n          curType = \"skipThree\";\n        else\n          curType = \"skip\";\n      } else if (identical && cur.ch > 1 && triples.indexOf(ch) >= 0 &&\n                 cm.getRange(Pos(cur.line, cur.ch - 2), cur) == ch + ch) {\n        if (cur.ch > 2 && \/\\bstring\/.test(cm.getTokenTypeAt(Pos(cur.line, cur.ch - 2)))) return CodeMirror.Pass;\n        curType = \"addFour\";\n      } else if (identical) {\n        var prev = cur.ch == 0 ? \" \" : cm.getRange(Pos(cur.line, cur.ch - 1), cur)\n        if (!CodeMirror.isWordChar(next) && prev != ch && !CodeMirror.isWordChar(prev)) curType = \"both\";\n        else return CodeMirror.Pass;\n      } else if (opening && (next.length === 0 || \/\\s\/.test(next) || closeBefore.indexOf(next) > -1)) {\n        curType = \"both\";\n      } else {\n        return CodeMirror.Pass;\n      }\n      if (!type) type = curType;\n      else if (type != curType) return CodeMirror.Pass;\n    }\n\n    var left = pos % 2 ? pairs.charAt(pos - 1) : ch;\n    var right = pos % 2 ? ch : pairs.charAt(pos + 1);\n    cm.operation(function() {\n      if (type == \"skip\") {\n        moveSel(cm, 1)\n      } else if (type == \"skipThree\") {\n        moveSel(cm, 3)\n      } else if (type == \"surround\") {\n        var sels = cm.getSelections();\n        for (var i = 0; i < sels.length; i++)\n          sels[i] = left + sels[i] + right;\n        cm.replaceSelections(sels, \"around\");\n        sels = cm.listSelections().slice();\n        for (var i = 0; i < sels.length; i++)\n          sels[i] = contractSelection(sels[i]);\n        cm.setSelections(sels);\n      } else if (type == \"both\") {\n        cm.replaceSelection(left + right, null);\n        cm.triggerElectric(left + right);\n        moveSel(cm, -1)\n      } else if (type == \"addFour\") {\n        cm.replaceSelection(left + left + left + left, \"before\");\n        moveSel(cm, 1)\n      }\n    });\n  }\n\n  function charsAround(cm, pos) {\n    var str = cm.getRange(Pos(pos.line, pos.ch - 1),\n                          Pos(pos.line, pos.ch + 1));\n    return str.length == 2 ? str : null;\n  }\n\n  function stringStartsAfter(cm, pos) {\n    var token = cm.getTokenAt(Pos(pos.line, pos.ch + 1))\n    return \/\\bstring\/.test(token.type) && token.start == pos.ch &&\n      (pos.ch == 0 || !\/\\bstring\/.test(cm.getTokenTypeAt(pos)))\n  }\n});\n\n};","shadow$provide[257] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n  var WRAP_CLASS = \"CodeMirror-activeline\";\n  var BACK_CLASS = \"CodeMirror-activeline-background\";\n  var GUTT_CLASS = \"CodeMirror-activeline-gutter\";\n\n  CodeMirror.defineOption(\"styleActiveLine\", false, function(cm, val, old) {\n    var prev = old == CodeMirror.Init ? false : old;\n    if (val == prev) return\n    if (prev) {\n      cm.off(\"beforeSelectionChange\", selectionChange);\n      clearActiveLines(cm);\n      delete cm.state.activeLines;\n    }\n    if (val) {\n      cm.state.activeLines = [];\n      updateActiveLines(cm, cm.listSelections());\n      cm.on(\"beforeSelectionChange\", selectionChange);\n    }\n  });\n\n  function clearActiveLines(cm) {\n    for (var i = 0; i < cm.state.activeLines.length; i++) {\n      cm.removeLineClass(cm.state.activeLines[i], \"wrap\", WRAP_CLASS);\n      cm.removeLineClass(cm.state.activeLines[i], \"background\", BACK_CLASS);\n      cm.removeLineClass(cm.state.activeLines[i], \"gutter\", GUTT_CLASS);\n    }\n  }\n\n  function sameArray(a, b) {\n    if (a.length != b.length) return false;\n    for (var i = 0; i < a.length; i++)\n      if (a[i] != b[i]) return false;\n    return true;\n  }\n\n  function updateActiveLines(cm, ranges) {\n    var active = [];\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i];\n      var option = cm.getOption(\"styleActiveLine\");\n      if (typeof option == \"object\" && option.nonEmpty ? range.anchor.line != range.head.line : !range.empty())\n        continue\n      var line = cm.getLineHandleVisualStart(range.head.line);\n      if (active[active.length - 1] != line) active.push(line);\n    }\n    if (sameArray(cm.state.activeLines, active)) return;\n    cm.operation(function() {\n      clearActiveLines(cm);\n      for (var i = 0; i < active.length; i++) {\n        cm.addLineClass(active[i], \"wrap\", WRAP_CLASS);\n        cm.addLineClass(active[i], \"background\", BACK_CLASS);\n        cm.addLineClass(active[i], \"gutter\", GUTT_CLASS);\n      }\n      cm.state.activeLines = active;\n    });\n  }\n\n  function selectionChange(cm, sel) {\n    updateActiveLines(cm, sel.ranges);\n  }\n});\n\n};","shadow$provide[258] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports === \"object\" && typeof module === \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define === \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"clojure\", function (options) {\n  var atoms = [\"false\", \"nil\", \"true\"];\n  var specialForms = [\".\", \"catch\", \"def\", \"do\", \"if\", \"monitor-enter\",\n      \"monitor-exit\", \"new\", \"quote\", \"recur\", \"set!\", \"throw\", \"try\", \"var\"];\n  var coreSymbols = [\"*\", \"*'\", \"*1\", \"*2\", \"*3\", \"*agent*\",\n      \"*allow-unresolved-vars*\", \"*assert*\", \"*clojure-version*\",\n      \"*command-line-args*\", \"*compile-files*\", \"*compile-path*\",\n      \"*compiler-options*\", \"*data-readers*\", \"*default-data-reader-fn*\", \"*e\",\n      \"*err*\", \"*file*\", \"*flush-on-newline*\", \"*fn-loader*\", \"*in*\",\n      \"*math-context*\", \"*ns*\", \"*out*\", \"*print-dup*\", \"*print-length*\",\n      \"*print-level*\", \"*print-meta*\", \"*print-namespace-maps*\",\n      \"*print-readably*\", \"*read-eval*\", \"*reader-resolver*\", \"*source-path*\",\n      \"*suppress-read*\", \"*unchecked-math*\", \"*use-context-classloader*\",\n      \"*verbose-defrecords*\", \"*warn-on-reflection*\", \"+\", \"+'\", \"-\", \"-'\",\n      \"->\", \"->>\", \"->ArrayChunk\", \"->Eduction\", \"->Vec\", \"->VecNode\",\n      \"->VecSeq\", \"-cache-protocol-fn\", \"-reset-methods\", \"..\", \"\/\", \"<\", \"<=\",\n      \"=\", \"==\", \">\", \">=\", \"EMPTY-NODE\", \"Inst\", \"StackTraceElement->vec\",\n      \"Throwable->map\", \"accessor\", \"aclone\", \"add-classpath\", \"add-watch\",\n      \"agent\", \"agent-error\", \"agent-errors\", \"aget\", \"alength\", \"alias\",\n      \"all-ns\", \"alter\", \"alter-meta!\", \"alter-var-root\", \"amap\", \"ancestors\",\n      \"and\", \"any?\", \"apply\", \"areduce\", \"array-map\", \"as->\", \"aset\",\n      \"aset-boolean\", \"aset-byte\", \"aset-char\", \"aset-double\", \"aset-float\",\n      \"aset-int\", \"aset-long\", \"aset-short\", \"assert\", \"assoc\", \"assoc!\",\n      \"assoc-in\", \"associative?\", \"atom\", \"await\", \"await-for\", \"await1\",\n      \"bases\", \"bean\", \"bigdec\", \"bigint\", \"biginteger\", \"binding\", \"bit-and\",\n      \"bit-and-not\", \"bit-clear\", \"bit-flip\", \"bit-not\", \"bit-or\", \"bit-set\",\n      \"bit-shift-left\", \"bit-shift-right\", \"bit-test\", \"bit-xor\", \"boolean\",\n      \"boolean-array\", \"boolean?\", \"booleans\", \"bound-fn\", \"bound-fn*\",\n      \"bound?\", \"bounded-count\", \"butlast\", \"byte\", \"byte-array\", \"bytes\",\n      \"bytes?\", \"case\", \"cast\", \"cat\", \"char\", \"char-array\",\n      \"char-escape-string\", \"char-name-string\", \"char?\", \"chars\", \"chunk\",\n      \"chunk-append\", \"chunk-buffer\", \"chunk-cons\", \"chunk-first\", \"chunk-next\",\n      \"chunk-rest\", \"chunked-seq?\", \"class\", \"class?\", \"clear-agent-errors\",\n      \"clojure-version\", \"coll?\", \"comment\", \"commute\", \"comp\", \"comparator\",\n      \"compare\", \"compare-and-set!\", \"compile\", \"complement\", \"completing\",\n      \"concat\", \"cond\", \"cond->\", \"cond->>\", \"condp\", \"conj\", \"conj!\", \"cons\",\n      \"constantly\", \"construct-proxy\", \"contains?\", \"count\", \"counted?\",\n      \"create-ns\", \"create-struct\", \"cycle\", \"dec\", \"dec'\", \"decimal?\",\n      \"declare\", \"dedupe\", \"default-data-readers\", \"definline\", \"definterface\",\n      \"defmacro\", \"defmethod\", \"defmulti\", \"defn\", \"defn-\", \"defonce\",\n      \"defprotocol\", \"defrecord\", \"defstruct\", \"deftype\", \"delay\", \"delay?\",\n      \"deliver\", \"denominator\", \"deref\", \"derive\", \"descendants\", \"destructure\",\n      \"disj\", \"disj!\", \"dissoc\", \"dissoc!\", \"distinct\", \"distinct?\", \"doall\",\n      \"dorun\", \"doseq\", \"dosync\", \"dotimes\", \"doto\", \"double\", \"double-array\",\n      \"double?\", \"doubles\", \"drop\", \"drop-last\", \"drop-while\", \"eduction\",\n      \"empty\", \"empty?\", \"ensure\", \"ensure-reduced\", \"enumeration-seq\",\n      \"error-handler\", \"error-mode\", \"eval\", \"even?\", \"every-pred\", \"every?\",\n      \"ex-data\", \"ex-info\", \"extend\", \"extend-protocol\", \"extend-type\",\n      \"extenders\", \"extends?\", \"false?\", \"ffirst\", \"file-seq\", \"filter\",\n      \"filterv\", \"find\", \"find-keyword\", \"find-ns\", \"find-protocol-impl\",\n      \"find-protocol-method\", \"find-var\", \"first\", \"flatten\", \"float\",\n      \"float-array\", \"float?\", \"floats\", \"flush\", \"fn\", \"fn?\", \"fnext\", \"fnil\",\n      \"for\", \"force\", \"format\", \"frequencies\", \"future\", \"future-call\",\n      \"future-cancel\", \"future-cancelled?\", \"future-done?\", \"future?\",\n      \"gen-class\", \"gen-interface\", \"gensym\", \"get\", \"get-in\", \"get-method\",\n      \"get-proxy-class\", \"get-thread-bindings\", \"get-validator\", \"group-by\",\n      \"halt-when\", \"hash\", \"hash-combine\", \"hash-map\", \"hash-ordered-coll\",\n      \"hash-set\", \"hash-unordered-coll\", \"ident?\", \"identical?\", \"identity\",\n      \"if-let\", \"if-not\", \"if-some\", \"ifn?\", \"import\", \"in-ns\", \"inc\", \"inc'\",\n      \"indexed?\", \"init-proxy\", \"inst-ms\", \"inst-ms*\", \"inst?\", \"instance?\",\n      \"int\", \"int-array\", \"int?\", \"integer?\", \"interleave\", \"intern\",\n      \"interpose\", \"into\", \"into-array\", \"ints\", \"io!\", \"isa?\", \"iterate\",\n      \"iterator-seq\", \"juxt\", \"keep\", \"keep-indexed\", \"key\", \"keys\", \"keyword\",\n      \"keyword?\", \"last\", \"lazy-cat\", \"lazy-seq\", \"let\", \"letfn\", \"line-seq\",\n      \"list\", \"list*\", \"list?\", \"load\", \"load-file\", \"load-reader\",\n      \"load-string\", \"loaded-libs\", \"locking\", \"long\", \"long-array\", \"longs\",\n      \"loop\", \"macroexpand\", \"macroexpand-1\", \"make-array\", \"make-hierarchy\",\n      \"map\", \"map-entry?\", \"map-indexed\", \"map?\", \"mapcat\", \"mapv\", \"max\",\n      \"max-key\", \"memfn\", \"memoize\", \"merge\", \"merge-with\", \"meta\",\n      \"method-sig\", \"methods\", \"min\", \"min-key\", \"mix-collection-hash\", \"mod\",\n      \"munge\", \"name\", \"namespace\", \"namespace-munge\", \"nat-int?\", \"neg-int?\",\n      \"neg?\", \"newline\", \"next\", \"nfirst\", \"nil?\", \"nnext\", \"not\", \"not-any?\",\n      \"not-empty\", \"not-every?\", \"not=\", \"ns\", \"ns-aliases\", \"ns-imports\",\n      \"ns-interns\", \"ns-map\", \"ns-name\", \"ns-publics\", \"ns-refers\",\n      \"ns-resolve\", \"ns-unalias\", \"ns-unmap\", \"nth\", \"nthnext\", \"nthrest\",\n      \"num\", \"number?\", \"numerator\", \"object-array\", \"odd?\", \"or\", \"parents\",\n      \"partial\", \"partition\", \"partition-all\", \"partition-by\", \"pcalls\", \"peek\",\n      \"persistent!\", \"pmap\", \"pop\", \"pop!\", \"pop-thread-bindings\", \"pos-int?\",\n      \"pos?\", \"pr\", \"pr-str\", \"prefer-method\", \"prefers\",\n      \"primitives-classnames\", \"print\", \"print-ctor\", \"print-dup\",\n      \"print-method\", \"print-simple\", \"print-str\", \"printf\", \"println\",\n      \"println-str\", \"prn\", \"prn-str\", \"promise\", \"proxy\",\n      \"proxy-call-with-super\", \"proxy-mappings\", \"proxy-name\", \"proxy-super\",\n      \"push-thread-bindings\", \"pvalues\", \"qualified-ident?\",\n      \"qualified-keyword?\", \"qualified-symbol?\", \"quot\", \"rand\", \"rand-int\",\n      \"rand-nth\", \"random-sample\", \"range\", \"ratio?\", \"rational?\",\n      \"rationalize\", \"re-find\", \"re-groups\", \"re-matcher\", \"re-matches\",\n      \"re-pattern\", \"re-seq\", \"read\", \"read-line\", \"read-string\",\n      \"reader-conditional\", \"reader-conditional?\", \"realized?\", \"record?\",\n      \"reduce\", \"reduce-kv\", \"reduced\", \"reduced?\", \"reductions\", \"ref\",\n      \"ref-history-count\", \"ref-max-history\", \"ref-min-history\", \"ref-set\",\n      \"refer\", \"refer-clojure\", \"reify\", \"release-pending-sends\", \"rem\",\n      \"remove\", \"remove-all-methods\", \"remove-method\", \"remove-ns\",\n      \"remove-watch\", \"repeat\", \"repeatedly\", \"replace\", \"replicate\", \"require\",\n      \"reset!\", \"reset-meta!\", \"reset-vals!\", \"resolve\", \"rest\",\n      \"restart-agent\", \"resultset-seq\", \"reverse\", \"reversible?\", \"rseq\",\n      \"rsubseq\", \"run!\", \"satisfies?\", \"second\", \"select-keys\", \"send\",\n      \"send-off\", \"send-via\", \"seq\", \"seq?\", \"seqable?\", \"seque\", \"sequence\",\n      \"sequential?\", \"set\", \"set-agent-send-executor!\",\n      \"set-agent-send-off-executor!\", \"set-error-handler!\", \"set-error-mode!\",\n      \"set-validator!\", \"set?\", \"short\", \"short-array\", \"shorts\", \"shuffle\",\n      \"shutdown-agents\", \"simple-ident?\", \"simple-keyword?\", \"simple-symbol?\",\n      \"slurp\", \"some\", \"some->\", \"some->>\", \"some-fn\", \"some?\", \"sort\",\n      \"sort-by\", \"sorted-map\", \"sorted-map-by\", \"sorted-set\", \"sorted-set-by\",\n      \"sorted?\", \"special-symbol?\", \"spit\", \"split-at\", \"split-with\", \"str\",\n      \"string?\", \"struct\", \"struct-map\", \"subs\", \"subseq\", \"subvec\", \"supers\",\n      \"swap!\", \"swap-vals!\", \"symbol\", \"symbol?\", \"sync\", \"tagged-literal\",\n      \"tagged-literal?\", \"take\", \"take-last\", \"take-nth\", \"take-while\", \"test\",\n      \"the-ns\", \"thread-bound?\", \"time\", \"to-array\", \"to-array-2d\",\n      \"trampoline\", \"transduce\", \"transient\", \"tree-seq\", \"true?\", \"type\",\n      \"unchecked-add\", \"unchecked-add-int\", \"unchecked-byte\", \"unchecked-char\",\n      \"unchecked-dec\", \"unchecked-dec-int\", \"unchecked-divide-int\",\n      \"unchecked-double\", \"unchecked-float\", \"unchecked-inc\",\n      \"unchecked-inc-int\", \"unchecked-int\", \"unchecked-long\",\n      \"unchecked-multiply\", \"unchecked-multiply-int\", \"unchecked-negate\",\n      \"unchecked-negate-int\", \"unchecked-remainder-int\", \"unchecked-short\",\n      \"unchecked-subtract\", \"unchecked-subtract-int\", \"underive\", \"unquote\",\n      \"unquote-splicing\", \"unreduced\", \"unsigned-bit-shift-right\", \"update\",\n      \"update-in\", \"update-proxy\", \"uri?\", \"use\", \"uuid?\", \"val\", \"vals\",\n      \"var-get\", \"var-set\", \"var?\", \"vary-meta\", \"vec\", \"vector\", \"vector-of\",\n      \"vector?\", \"volatile!\", \"volatile?\", \"vreset!\", \"vswap!\", \"when\",\n      \"when-first\", \"when-let\", \"when-not\", \"when-some\", \"while\",\n      \"with-bindings\", \"with-bindings*\", \"with-in-str\", \"with-loading-context\",\n      \"with-local-vars\", \"with-meta\", \"with-open\", \"with-out-str\",\n      \"with-precision\", \"with-redefs\", \"with-redefs-fn\", \"xml-seq\", \"zero?\",\n      \"zipmap\"];\n  var haveBodyParameter = [\n      \"->\", \"->>\", \"as->\", \"binding\", \"bound-fn\", \"case\", \"catch\", \"comment\",\n      \"cond\", \"cond->\", \"cond->>\", \"condp\", \"def\", \"definterface\", \"defmethod\",\n      \"defn\", \"defmacro\", \"defprotocol\", \"defrecord\", \"defstruct\", \"deftype\",\n      \"do\", \"doseq\", \"dotimes\", \"doto\", \"extend\", \"extend-protocol\",\n      \"extend-type\", \"fn\", \"for\", \"future\", \"if\", \"if-let\", \"if-not\", \"if-some\",\n      \"let\", \"letfn\", \"locking\", \"loop\", \"ns\", \"proxy\", \"reify\", \"struct-map\",\n      \"some->\", \"some->>\", \"try\", \"when\", \"when-first\", \"when-let\", \"when-not\",\n      \"when-some\", \"while\", \"with-bindings\", \"with-bindings*\", \"with-in-str\",\n      \"with-loading-context\", \"with-local-vars\", \"with-meta\", \"with-open\",\n      \"with-out-str\", \"with-precision\", \"with-redefs\", \"with-redefs-fn\"];\n\n  CodeMirror.registerHelper(\"hintWords\", \"clojure\",\n    [].concat(atoms, specialForms, coreSymbols));\n\n  var atom = createLookupMap(atoms);\n  var specialForm = createLookupMap(specialForms);\n  var coreSymbol = createLookupMap(coreSymbols);\n  var hasBodyParameter = createLookupMap(haveBodyParameter);\n  var delimiter = \/^(?:[\\\\\\[\\]\\s\"(),;@^`{}~]|$)\/;\n  var numberLiteral = \/^(?:[+\\-]?\\d+(?:(?:N|(?:[eE][+\\-]?\\d+))|(?:\\.?\\d*(?:M|(?:[eE][+\\-]?\\d+))?)|\\\/\\d+|[xX][0-9a-fA-F]+|r[0-9a-zA-Z]+)?(?=[\\\\\\[\\]\\s\"#'(),;@^`{}~]|$))\/;\n  var characterLiteral = \/^(?:\\\\(?:backspace|formfeed|newline|return|space|tab|o[0-7]{3}|u[0-9A-Fa-f]{4}|x[0-9A-Fa-f]{4}|.)?(?=[\\\\\\[\\]\\s\"(),;@^`{}~]|$))\/;\n\n  \/\/ simple-namespace := \/^[^\\\\\\\/\\[\\]\\d\\s\"#'(),;@^`{}~.][^\\\\\\[\\]\\s\"(),;@^`{}~.\\\/]*\/\n  \/\/ simple-symbol    := \/^(?:\\\/|[^\\\\\\\/\\[\\]\\d\\s\"#'(),;@^`{}~][^\\\\\\[\\]\\s\"(),;@^`{}~]*)\/\n  \/\/ qualified-symbol := (<simple-namespace>(<.><simple-namespace>)*<\/>)?<simple-symbol>\n  var qualifiedSymbol = \/^(?:(?:[^\\\\\\\/\\[\\]\\d\\s\"#'(),;@^`{}~.][^\\\\\\[\\]\\s\"(),;@^`{}~.\\\/]*(?:\\.[^\\\\\\\/\\[\\]\\d\\s\"#'(),;@^`{}~.][^\\\\\\[\\]\\s\"(),;@^`{}~.\\\/]*)*\\\/)?(?:\\\/|[^\\\\\\\/\\[\\]\\d\\s\"#'(),;@^`{}~][^\\\\\\[\\]\\s\"(),;@^`{}~]*)*(?=[\\\\\\[\\]\\s\"(),;@^`{}~]|$))\/;\n\n  function base(stream, state) {\n    if (stream.eatSpace() || stream.eat(\",\")) return [\"space\", null];\n    if (stream.match(numberLiteral)) return [null, \"number\"];\n    if (stream.match(characterLiteral)) return [null, \"string-2\"];\n    if (stream.eat(\/^\"\/)) return (state.tokenize = inString)(stream, state);\n    if (stream.eat(\/^[(\\[{]\/)) return [\"open\", \"bracket\"];\n    if (stream.eat(\/^[)\\]}]\/)) return [\"close\", \"bracket\"];\n    if (stream.eat(\/^;\/)) {stream.skipToEnd(); return [\"space\", \"comment\"];}\n    if (stream.eat(\/^[#'@^`~]\/)) return [null, \"meta\"];\n\n    var matches = stream.match(qualifiedSymbol);\n    var symbol = matches && matches[0];\n\n    if (!symbol) {\n      \/\/ advance stream by at least one character so we don't get stuck.\n      stream.next();\n      stream.eatWhile(function (c) {return !is(c, delimiter);});\n      return [null, \"error\"];\n    }\n\n    if (symbol === \"comment\" && state.lastToken === \"(\")\n      return (state.tokenize = inComment)(stream, state);\n    if (is(symbol, atom) || symbol.charAt(0) === \":\") return [\"symbol\", \"atom\"];\n    if (is(symbol, specialForm) || is(symbol, coreSymbol)) return [\"symbol\", \"keyword\"];\n    if (state.lastToken === \"(\") return [\"symbol\", \"builtin\"]; \/\/ other operator\n\n    return [\"symbol\", \"variable\"];\n  }\n\n  function inString(stream, state) {\n    var escaped = false, next;\n\n    while (next = stream.next()) {\n      if (next === \"\\\"\" && !escaped) {state.tokenize = base; break;}\n      escaped = !escaped && next === \"\\\\\";\n    }\n\n    return [null, \"string\"];\n  }\n\n  function inComment(stream, state) {\n    var parenthesisCount = 1;\n    var next;\n\n    while (next = stream.next()) {\n      if (next === \")\") parenthesisCount--;\n      if (next === \"(\") parenthesisCount++;\n      if (parenthesisCount === 0) {\n        stream.backUp(1);\n        state.tokenize = base;\n        break;\n      }\n    }\n\n    return [\"space\", \"comment\"];\n  }\n\n  function createLookupMap(words) {\n    var obj = {};\n\n    for (var i = 0; i < words.length; ++i) obj[words[i]] = true;\n\n    return obj;\n  }\n\n  function is(value, test) {\n    if (test instanceof RegExp) return test.test(value);\n    if (test instanceof Object) return test.propertyIsEnumerable(value);\n  }\n\n  return {\n    startState: function () {\n      return {\n        ctx: {prev: null, start: 0, indentTo: 0},\n        lastToken: null,\n        tokenize: base\n      };\n    },\n\n    token: function (stream, state) {\n      if (stream.sol() && (typeof state.ctx.indentTo !== \"number\"))\n        state.ctx.indentTo = state.ctx.start + 1;\n\n      var typeStylePair = state.tokenize(stream, state);\n      var type = typeStylePair[0];\n      var style = typeStylePair[1];\n      var current = stream.current();\n\n      if (type !== \"space\") {\n        if (state.lastToken === \"(\" && state.ctx.indentTo === null) {\n          if (type === \"symbol\" && is(current, hasBodyParameter))\n            state.ctx.indentTo = state.ctx.start + options.indentUnit;\n          else state.ctx.indentTo = \"next\";\n        } else if (state.ctx.indentTo === \"next\") {\n          state.ctx.indentTo = stream.column();\n        }\n\n        state.lastToken = current;\n      }\n\n      if (type === \"open\")\n        state.ctx = {prev: state.ctx, start: stream.column(), indentTo: null};\n      else if (type === \"close\") state.ctx = state.ctx.prev || state.ctx;\n\n      return style;\n    },\n\n    indent: function (state) {\n      var i = state.ctx.indentTo;\n\n      return (typeof i === \"number\") ?\n        i :\n        state.ctx.start + 1;\n    },\n\n    closeBrackets: {pairs: \"()[]{}\\\"\\\"\"},\n    lineComment: \";;\"\n  };\n});\n\nCodeMirror.defineMIME(\"text\/x-clojure\", \"clojure\");\nCodeMirror.defineMIME(\"text\/x-clojurescript\", \"clojure\");\nCodeMirror.defineMIME(\"application\/edn\", \"clojure\");\n\n});\n\n};","shadow$provide[259] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  'use strict';\n  if (typeof exports == 'object' && typeof module == 'object') \/\/ CommonJS\n    mod(require('..\/..\/lib\/codemirror'));\n  else if (typeof define == 'function' && define.amd) \/\/ AMD\n    define(['..\/..\/lib\/codemirror'], mod);\n  else \/\/ Plain browser env\n    mod(window.CodeMirror);\n})(function(CodeMirror) {\n'use strict';\n\nCodeMirror.defineMode('powershell', function() {\n  function buildRegexp(patterns, options) {\n    options = options || {};\n    var prefix = options.prefix !== undefined ? options.prefix : '^';\n    var suffix = options.suffix !== undefined ? options.suffix : '\\\\b';\n\n    for (var i = 0; i < patterns.length; i++) {\n      if (patterns[i] instanceof RegExp) {\n        patterns[i] = patterns[i].source;\n      }\n      else {\n        patterns[i] = patterns[i].replace(\/[-\\\/\\\\^$*+?.()|[\\]{}]\/g, '\\\\$&');\n      }\n    }\n\n    return new RegExp(prefix + '(' + patterns.join('|') + ')' + suffix, 'i');\n  }\n\n  var notCharacterOrDash = '(?=[^A-Za-z\\\\d\\\\-_]|$)';\n  var varNames = \/[\\w\\-:]\/\n  var keywords = buildRegexp([\n    \/begin|break|catch|continue|data|default|do|dynamicparam\/,\n    \/else|elseif|end|exit|filter|finally|for|foreach|from|function|if|in\/,\n    \/param|process|return|switch|throw|trap|try|until|where|while\/\n  ], { suffix: notCharacterOrDash });\n\n  var punctuation = \/[\\[\\]{},;`\\\\\\.]|@[({]\/;\n  var wordOperators = buildRegexp([\n    'f',\n    \/b?not\/,\n    \/[ic]?split\/, 'join',\n    \/is(not)?\/, 'as',\n    \/[ic]?(eq|ne|[gl][te])\/,\n    \/[ic]?(not)?(like|match|contains)\/,\n    \/[ic]?replace\/,\n    \/b?(and|or|xor)\/\n  ], { prefix: '-' });\n  var symbolOperators = \/[+\\-*\\\/%]=|\\+\\+|--|\\.\\.|[+\\-*&^%:=!|\\\/]|<(?!#)|(?!#)>\/;\n  var operators = buildRegexp([wordOperators, symbolOperators], { suffix: '' });\n\n  var numbers = \/^((0x[\\da-f]+)|((\\d+\\.\\d+|\\d\\.|\\.\\d+|\\d+)(e[\\+\\-]?\\d+)?))[ld]?([kmgtp]b)?\/i;\n\n  var identifiers = \/^[A-Za-z\\_][A-Za-z\\-\\_\\d]*\\b\/;\n\n  var symbolBuiltins = \/[A-Z]:|%|\\?\/i;\n  var namedBuiltins = buildRegexp([\n    \/Add-(Computer|Content|History|Member|PSSnapin|Type)\/,\n    \/Checkpoint-Computer\/,\n    \/Clear-(Content|EventLog|History|Host|Item(Property)?|Variable)\/,\n    \/Compare-Object\/,\n    \/Complete-Transaction\/,\n    \/Connect-PSSession\/,\n    \/ConvertFrom-(Csv|Json|SecureString|StringData)\/,\n    \/Convert-Path\/,\n    \/ConvertTo-(Csv|Html|Json|SecureString|Xml)\/,\n    \/Copy-Item(Property)?\/,\n    \/Debug-Process\/,\n    \/Disable-(ComputerRestore|PSBreakpoint|PSRemoting|PSSessionConfiguration)\/,\n    \/Disconnect-PSSession\/,\n    \/Enable-(ComputerRestore|PSBreakpoint|PSRemoting|PSSessionConfiguration)\/,\n    \/(Enter|Exit)-PSSession\/,\n    \/Export-(Alias|Clixml|Console|Counter|Csv|FormatData|ModuleMember|PSSession)\/,\n    \/ForEach-Object\/,\n    \/Format-(Custom|List|Table|Wide)\/,\n    new RegExp('Get-(Acl|Alias|AuthenticodeSignature|ChildItem|Command|ComputerRestorePoint|Content|ControlPanelItem|Counter|Credential'\n      + '|Culture|Date|Event|EventLog|EventSubscriber|ExecutionPolicy|FormatData|Help|History|Host|HotFix|Item|ItemProperty|Job'\n      + '|Location|Member|Module|PfxCertificate|Process|PSBreakpoint|PSCallStack|PSDrive|PSProvider|PSSession|PSSessionConfiguration'\n      + '|PSSnapin|Random|Service|TraceSource|Transaction|TypeData|UICulture|Unique|Variable|Verb|WinEvent|WmiObject)'),\n    \/Group-Object\/,\n    \/Import-(Alias|Clixml|Counter|Csv|LocalizedData|Module|PSSession)\/,\n    \/ImportSystemModules\/,\n    \/Invoke-(Command|Expression|History|Item|RestMethod|WebRequest|WmiMethod)\/,\n    \/Join-Path\/,\n    \/Limit-EventLog\/,\n    \/Measure-(Command|Object)\/,\n    \/Move-Item(Property)?\/,\n    new RegExp('New-(Alias|Event|EventLog|Item(Property)?|Module|ModuleManifest|Object|PSDrive|PSSession|PSSessionConfigurationFile'\n      + '|PSSessionOption|PSTransportOption|Service|TimeSpan|Variable|WebServiceProxy|WinEvent)'),\n    \/Out-(Default|File|GridView|Host|Null|Printer|String)\/,\n    \/Pause\/,\n    \/(Pop|Push)-Location\/,\n    \/Read-Host\/,\n    \/Receive-(Job|PSSession)\/,\n    \/Register-(EngineEvent|ObjectEvent|PSSessionConfiguration|WmiEvent)\/,\n    \/Remove-(Computer|Event|EventLog|Item(Property)?|Job|Module|PSBreakpoint|PSDrive|PSSession|PSSnapin|TypeData|Variable|WmiObject)\/,\n    \/Rename-(Computer|Item(Property)?)\/,\n    \/Reset-ComputerMachinePassword\/,\n    \/Resolve-Path\/,\n    \/Restart-(Computer|Service)\/,\n    \/Restore-Computer\/,\n    \/Resume-(Job|Service)\/,\n    \/Save-Help\/,\n    \/Select-(Object|String|Xml)\/,\n    \/Send-MailMessage\/,\n    new RegExp('Set-(Acl|Alias|AuthenticodeSignature|Content|Date|ExecutionPolicy|Item(Property)?|Location|PSBreakpoint|PSDebug' +\n               '|PSSessionConfiguration|Service|StrictMode|TraceSource|Variable|WmiInstance)'),\n    \/Show-(Command|ControlPanelItem|EventLog)\/,\n    \/Sort-Object\/,\n    \/Split-Path\/,\n    \/Start-(Job|Process|Service|Sleep|Transaction|Transcript)\/,\n    \/Stop-(Computer|Job|Process|Service|Transcript)\/,\n    \/Suspend-(Job|Service)\/,\n    \/TabExpansion2\/,\n    \/Tee-Object\/,\n    \/Test-(ComputerSecureChannel|Connection|ModuleManifest|Path|PSSessionConfigurationFile)\/,\n    \/Trace-Command\/,\n    \/Unblock-File\/,\n    \/Undo-Transaction\/,\n    \/Unregister-(Event|PSSessionConfiguration)\/,\n    \/Update-(FormatData|Help|List|TypeData)\/,\n    \/Use-Transaction\/,\n    \/Wait-(Event|Job|Process)\/,\n    \/Where-Object\/,\n    \/Write-(Debug|Error|EventLog|Host|Output|Progress|Verbose|Warning)\/,\n    \/cd|help|mkdir|more|oss|prompt\/,\n    \/ac|asnp|cat|cd|chdir|clc|clear|clhy|cli|clp|cls|clv|cnsn|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|dnsn|ebp\/,\n    \/echo|epal|epcsv|epsn|erase|etsn|exsn|fc|fl|foreach|ft|fw|gal|gbp|gc|gci|gcm|gcs|gdr|ghy|gi|gjb|gl|gm|gmo|gp|gps\/,\n    \/group|gsn|gsnp|gsv|gu|gv|gwmi|h|history|icm|iex|ihy|ii|ipal|ipcsv|ipmo|ipsn|irm|ise|iwmi|iwr|kill|lp|ls|man|md\/,\n    \/measure|mi|mount|move|mp|mv|nal|ndr|ni|nmo|npssc|nsn|nv|ogv|oh|popd|ps|pushd|pwd|r|rbp|rcjb|rcsn|rd|rdr|ren|ri\/,\n    \/rjb|rm|rmdir|rmo|rni|rnp|rp|rsn|rsnp|rujb|rv|rvpa|rwmi|sajb|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls\/,\n    \/sort|sp|spjb|spps|spsv|start|sujb|sv|swmi|tee|trcm|type|where|wjb|write\/\n  ], { prefix: '', suffix: '' });\n  var variableBuiltins = buildRegexp([\n    \/[$?^_]|Args|ConfirmPreference|ConsoleFileName|DebugPreference|Error|ErrorActionPreference|ErrorView|ExecutionContext\/,\n    \/FormatEnumerationLimit|Home|Host|Input|MaximumAliasCount|MaximumDriveCount|MaximumErrorCount|MaximumFunctionCount\/,\n    \/MaximumHistoryCount|MaximumVariableCount|MyInvocation|NestedPromptLevel|OutputEncoding|Pid|Profile|ProgressPreference\/,\n    \/PSBoundParameters|PSCommandPath|PSCulture|PSDefaultParameterValues|PSEmailServer|PSHome|PSScriptRoot|PSSessionApplicationName\/,\n    \/PSSessionConfigurationName|PSSessionOption|PSUICulture|PSVersionTable|Pwd|ShellId|StackTrace|VerbosePreference\/,\n    \/WarningPreference|WhatIfPreference\/,\n\n    \/Event|EventArgs|EventSubscriber|Sender\/,\n    \/Matches|Ofs|ForEach|LastExitCode|PSCmdlet|PSItem|PSSenderInfo|This\/,\n    \/true|false|null\/\n  ], { prefix: '\\\\$', suffix: '' });\n\n  var builtins = buildRegexp([symbolBuiltins, namedBuiltins, variableBuiltins], { suffix: notCharacterOrDash });\n\n  var grammar = {\n    keyword: keywords,\n    number: numbers,\n    operator: operators,\n    builtin: builtins,\n    punctuation: punctuation,\n    identifier: identifiers\n  };\n\n  \/\/ tokenizers\n  function tokenBase(stream, state) {\n    \/\/ Handle Comments\n    \/\/var ch = stream.peek();\n\n    var parent = state.returnStack[state.returnStack.length - 1];\n    if (parent && parent.shouldReturnFrom(state)) {\n      state.tokenize = parent.tokenize;\n      state.returnStack.pop();\n      return state.tokenize(stream, state);\n    }\n\n    if (stream.eatSpace()) {\n      return null;\n    }\n\n    if (stream.eat('(')) {\n      state.bracketNesting += 1;\n      return 'punctuation';\n    }\n\n    if (stream.eat(')')) {\n      state.bracketNesting -= 1;\n      return 'punctuation';\n    }\n\n    for (var key in grammar) {\n      if (stream.match(grammar[key])) {\n        return key;\n      }\n    }\n\n    var ch = stream.next();\n\n    \/\/ single-quote string\n    if (ch === \"'\") {\n      return tokenSingleQuoteString(stream, state);\n    }\n\n    if (ch === '$') {\n      return tokenVariable(stream, state);\n    }\n\n    \/\/ double-quote string\n    if (ch === '\"') {\n      return tokenDoubleQuoteString(stream, state);\n    }\n\n    if (ch === '<' && stream.eat('#')) {\n      state.tokenize = tokenComment;\n      return tokenComment(stream, state);\n    }\n\n    if (ch === '#') {\n      stream.skipToEnd();\n      return 'comment';\n    }\n\n    if (ch === '@') {\n      var quoteMatch = stream.eat(\/[\"']\/);\n      if (quoteMatch && stream.eol()) {\n        state.tokenize = tokenMultiString;\n        state.startQuote = quoteMatch[0];\n        return tokenMultiString(stream, state);\n      } else if (stream.eol()) {\n        return 'error';\n      } else if (stream.peek().match(\/[({]\/)) {\n        return 'punctuation';\n      } else if (stream.peek().match(varNames)) {\n        \/\/ splatted variable\n        return tokenVariable(stream, state);\n      }\n    }\n    return 'error';\n  }\n\n  function tokenSingleQuoteString(stream, state) {\n    var ch;\n    while ((ch = stream.peek()) != null) {\n      stream.next();\n\n      if (ch === \"'\" && !stream.eat(\"'\")) {\n        state.tokenize = tokenBase;\n        return 'string';\n      }\n    }\n\n    return 'error';\n  }\n\n  function tokenDoubleQuoteString(stream, state) {\n    var ch;\n    while ((ch = stream.peek()) != null) {\n      if (ch === '$') {\n        state.tokenize = tokenStringInterpolation;\n        return 'string';\n      }\n\n      stream.next();\n      if (ch === '`') {\n        stream.next();\n        continue;\n      }\n\n      if (ch === '\"' && !stream.eat('\"')) {\n        state.tokenize = tokenBase;\n        return 'string';\n      }\n    }\n\n    return 'error';\n  }\n\n  function tokenStringInterpolation(stream, state) {\n    return tokenInterpolation(stream, state, tokenDoubleQuoteString);\n  }\n\n  function tokenMultiStringReturn(stream, state) {\n    state.tokenize = tokenMultiString;\n    state.startQuote = '\"'\n    return tokenMultiString(stream, state);\n  }\n\n  function tokenHereStringInterpolation(stream, state) {\n    return tokenInterpolation(stream, state, tokenMultiStringReturn);\n  }\n\n  function tokenInterpolation(stream, state, parentTokenize) {\n    if (stream.match('$(')) {\n      var savedBracketNesting = state.bracketNesting;\n      state.returnStack.push({\n        \/*jshint loopfunc:true *\/\n        shouldReturnFrom: function(state) {\n          return state.bracketNesting === savedBracketNesting;\n        },\n        tokenize: parentTokenize\n      });\n      state.tokenize = tokenBase;\n      state.bracketNesting += 1;\n      return 'punctuation';\n    } else {\n      stream.next();\n      state.returnStack.push({\n        shouldReturnFrom: function() { return true; },\n        tokenize: parentTokenize\n      });\n      state.tokenize = tokenVariable;\n      return state.tokenize(stream, state);\n    }\n  }\n\n  function tokenComment(stream, state) {\n    var maybeEnd = false, ch;\n    while ((ch = stream.next()) != null) {\n      if (maybeEnd && ch == '>') {\n          state.tokenize = tokenBase;\n          break;\n      }\n      maybeEnd = (ch === '#');\n    }\n    return 'comment';\n  }\n\n  function tokenVariable(stream, state) {\n    var ch = stream.peek();\n    if (stream.eat('{')) {\n      state.tokenize = tokenVariableWithBraces;\n      return tokenVariableWithBraces(stream, state);\n    } else if (ch != undefined && ch.match(varNames)) {\n      stream.eatWhile(varNames);\n      state.tokenize = tokenBase;\n      return 'variable-2';\n    } else {\n      state.tokenize = tokenBase;\n      return 'error';\n    }\n  }\n\n  function tokenVariableWithBraces(stream, state) {\n    var ch;\n    while ((ch = stream.next()) != null) {\n      if (ch === '}') {\n        state.tokenize = tokenBase;\n        break;\n      }\n    }\n    return 'variable-2';\n  }\n\n  function tokenMultiString(stream, state) {\n    var quote = state.startQuote;\n    if (stream.sol() && stream.match(new RegExp(quote + '@'))) {\n      state.tokenize = tokenBase;\n    }\n    else if (quote === '\"') {\n      while (!stream.eol()) {\n        var ch = stream.peek();\n        if (ch === '$') {\n          state.tokenize = tokenHereStringInterpolation;\n          return 'string';\n        }\n\n        stream.next();\n        if (ch === '`') {\n          stream.next();\n        }\n      }\n    }\n    else {\n      stream.skipToEnd();\n    }\n\n    return 'string';\n  }\n\n  var external = {\n    startState: function() {\n      return {\n        returnStack: [],\n        bracketNesting: 0,\n        tokenize: tokenBase\n      };\n    },\n\n    token: function(stream, state) {\n      return state.tokenize(stream, state);\n    },\n\n    blockCommentStart: '<#',\n    blockCommentEnd: '#>',\n    lineComment: '#',\n    fold: 'brace'\n  };\n  return external;\n});\n\nCodeMirror.defineMIME('application\/x-powershell', 'powershell');\n});\n\n};","shadow$provide[260] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"javascript\", function(config, parserConfig) {\n  var indentUnit = config.indentUnit;\n  var statementIndent = parserConfig.statementIndent;\n  var jsonldMode = parserConfig.jsonld;\n  var jsonMode = parserConfig.json || jsonldMode;\n  var isTS = parserConfig.typescript;\n  var wordRE = parserConfig.wordCharacters || \/[\\w$\\xa1-\\uffff]\/;\n\n  \/\/ Tokenizer\n\n  var keywords = function(){\n    function kw(type) {return {type: type, style: \"keyword\"};}\n    var A = kw(\"keyword a\"), B = kw(\"keyword b\"), C = kw(\"keyword c\"), D = kw(\"keyword d\");\n    var operator = kw(\"operator\"), atom = {type: \"atom\", style: \"atom\"};\n\n    return {\n      \"if\": kw(\"if\"), \"while\": A, \"with\": A, \"else\": B, \"do\": B, \"try\": B, \"finally\": B,\n      \"return\": D, \"break\": D, \"continue\": D, \"new\": kw(\"new\"), \"delete\": C, \"void\": C, \"throw\": C,\n      \"debugger\": kw(\"debugger\"), \"var\": kw(\"var\"), \"const\": kw(\"var\"), \"let\": kw(\"var\"),\n      \"function\": kw(\"function\"), \"catch\": kw(\"catch\"),\n      \"for\": kw(\"for\"), \"switch\": kw(\"switch\"), \"case\": kw(\"case\"), \"default\": kw(\"default\"),\n      \"in\": operator, \"typeof\": operator, \"instanceof\": operator,\n      \"true\": atom, \"false\": atom, \"null\": atom, \"undefined\": atom, \"NaN\": atom, \"Infinity\": atom,\n      \"this\": kw(\"this\"), \"class\": kw(\"class\"), \"super\": kw(\"atom\"),\n      \"yield\": C, \"export\": kw(\"export\"), \"import\": kw(\"import\"), \"extends\": C,\n      \"await\": C\n    };\n  }();\n\n  var isOperatorChar = \/[+\\-*&%=<>!?|~^@]\/;\n  var isJsonldKeyword = \/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)\"\/;\n\n  function readRegexp(stream) {\n    var escaped = false, next, inSet = false;\n    while ((next = stream.next()) != null) {\n      if (!escaped) {\n        if (next == \"\/\" && !inSet) return;\n        if (next == \"[\") inSet = true;\n        else if (inSet && next == \"]\") inSet = false;\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n  }\n\n  \/\/ Used as scratch variables to communicate multiple values without\n  \/\/ consing up tons of objects.\n  var type, content;\n  function ret(tp, style, cont) {\n    type = tp; content = cont;\n    return style;\n  }\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (ch == '\"' || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    } else if (ch == \".\" && stream.match(\/^\\d[\\d_]*(?:[eE][+\\-]?[\\d_]+)?\/)) {\n      return ret(\"number\", \"number\");\n    } else if (ch == \".\" && stream.match(\"..\")) {\n      return ret(\"spread\", \"meta\");\n    } else if (\/[\\[\\]{}\\(\\),;\\:\\.]\/.test(ch)) {\n      return ret(ch);\n    } else if (ch == \"=\" && stream.eat(\">\")) {\n      return ret(\"=>\", \"operator\");\n    } else if (ch == \"0\" && stream.match(\/^(?:x[\\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?\/)) {\n      return ret(\"number\", \"number\");\n    } else if (\/\\d\/.test(ch)) {\n      stream.match(\/^[\\d_]*(?:n|(?:\\.[\\d_]*)?(?:[eE][+\\-]?[\\d_]+)?)?\/);\n      return ret(\"number\", \"number\");\n    } else if (ch == \"\/\") {\n      if (stream.eat(\"*\")) {\n        state.tokenize = tokenComment;\n        return tokenComment(stream, state);\n      } else if (stream.eat(\"\/\")) {\n        stream.skipToEnd();\n        return ret(\"comment\", \"comment\");\n      } else if (expressionAllowed(stream, state, 1)) {\n        readRegexp(stream);\n        stream.match(\/^\\b(([gimyus])(?![gimyus]*\\2))+\\b\/);\n        return ret(\"regexp\", \"string-2\");\n      } else {\n        stream.eat(\"=\");\n        return ret(\"operator\", \"operator\", stream.current());\n      }\n    } else if (ch == \"`\") {\n      state.tokenize = tokenQuasi;\n      return tokenQuasi(stream, state);\n    } else if (ch == \"#\" && stream.peek() == \"!\") {\n      stream.skipToEnd();\n      return ret(\"meta\", \"meta\");\n    } else if (ch == \"#\" && stream.eatWhile(wordRE)) {\n      return ret(\"variable\", \"property\")\n    } else if (ch == \"<\" && stream.match(\"!--\") ||\n               (ch == \"-\" && stream.match(\"->\") && !\/\\S\/.test(stream.string.slice(0, stream.start)))) {\n      stream.skipToEnd()\n      return ret(\"comment\", \"comment\")\n    } else if (isOperatorChar.test(ch)) {\n      if (ch != \">\" || !state.lexical || state.lexical.type != \">\") {\n        if (stream.eat(\"=\")) {\n          if (ch == \"!\" || ch == \"=\") stream.eat(\"=\")\n        } else if (\/[<>*+\\-|&?]\/.test(ch)) {\n          stream.eat(ch)\n          if (ch == \">\") stream.eat(ch)\n        }\n      }\n      if (ch == \"?\" && stream.eat(\".\")) return ret(\".\")\n      return ret(\"operator\", \"operator\", stream.current());\n    } else if (wordRE.test(ch)) {\n      stream.eatWhile(wordRE);\n      var word = stream.current()\n      if (state.lastType != \".\") {\n        if (keywords.propertyIsEnumerable(word)) {\n          var kw = keywords[word]\n          return ret(kw.type, kw.style, word)\n        }\n        if (word == \"async\" && stream.match(\/^(\\s|\\\/\\*([^*]|\\*(?!\\\/))*?\\*\\\/)*[\\[\\(\\w]\/, false))\n          return ret(\"async\", \"keyword\", word)\n      }\n      return ret(\"variable\", \"variable\", word)\n    }\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, next;\n      if (jsonldMode && stream.peek() == \"@\" && stream.match(isJsonldKeyword)){\n        state.tokenize = tokenBase;\n        return ret(\"jsonld-keyword\", \"meta\");\n      }\n      while ((next = stream.next()) != null) {\n        if (next == quote && !escaped) break;\n        escaped = !escaped && next == \"\\\\\";\n      }\n      if (!escaped) state.tokenize = tokenBase;\n      return ret(\"string\", \"string\");\n    };\n  }\n\n  function tokenComment(stream, state) {\n    var maybeEnd = false, ch;\n    while (ch = stream.next()) {\n      if (ch == \"\/\" && maybeEnd) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return ret(\"comment\", \"comment\");\n  }\n\n  function tokenQuasi(stream, state) {\n    var escaped = false, next;\n    while ((next = stream.next()) != null) {\n      if (!escaped && (next == \"`\" || next == \"$\" && stream.eat(\"{\"))) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n    return ret(\"quasi\", \"string-2\", stream.current());\n  }\n\n  var brackets = \"([{}])\";\n  \/\/ This is a crude lookahead trick to try and notice that we're\n  \/\/ parsing the argument patterns for a fat-arrow function before we\n  \/\/ actually hit the arrow token. It only works if the arrow is on\n  \/\/ the same line as the arguments and there's no strange noise\n  \/\/ (comments) in between. Fallback is to only notice when we hit the\n  \/\/ arrow, and not declare the arguments as locals for the arrow\n  \/\/ body.\n  function findFatArrow(stream, state) {\n    if (state.fatArrowAt) state.fatArrowAt = null;\n    var arrow = stream.string.indexOf(\"=>\", stream.start);\n    if (arrow < 0) return;\n\n    if (isTS) { \/\/ Try to skip TypeScript return type declarations after the arguments\n      var m = \/:\\s*(?:\\w+(?:<[^>]*>|\\[\\])?|\\{[^}]*\\})\\s*$\/.exec(stream.string.slice(stream.start, arrow))\n      if (m) arrow = m.index\n    }\n\n    var depth = 0, sawSomething = false;\n    for (var pos = arrow - 1; pos >= 0; --pos) {\n      var ch = stream.string.charAt(pos);\n      var bracket = brackets.indexOf(ch);\n      if (bracket >= 0 && bracket < 3) {\n        if (!depth) { ++pos; break; }\n        if (--depth == 0) { if (ch == \"(\") sawSomething = true; break; }\n      } else if (bracket >= 3 && bracket < 6) {\n        ++depth;\n      } else if (wordRE.test(ch)) {\n        sawSomething = true;\n      } else if (\/[\"'\\\/`]\/.test(ch)) {\n        for (;; --pos) {\n          if (pos == 0) return\n          var next = stream.string.charAt(pos - 1)\n          if (next == ch && stream.string.charAt(pos - 2) != \"\\\\\") { pos--; break }\n        }\n      } else if (sawSomething && !depth) {\n        ++pos;\n        break;\n      }\n    }\n    if (sawSomething && !depth) state.fatArrowAt = pos;\n  }\n\n  \/\/ Parser\n\n  var atomicTypes = {\"atom\": true, \"number\": true, \"variable\": true, \"string\": true, \"regexp\": true, \"this\": true, \"jsonld-keyword\": true};\n\n  function JSLexical(indented, column, type, align, prev, info) {\n    this.indented = indented;\n    this.column = column;\n    this.type = type;\n    this.prev = prev;\n    this.info = info;\n    if (align != null) this.align = align;\n  }\n\n  function inScope(state, varname) {\n    for (var v = state.localVars; v; v = v.next)\n      if (v.name == varname) return true;\n    for (var cx = state.context; cx; cx = cx.prev) {\n      for (var v = cx.vars; v; v = v.next)\n        if (v.name == varname) return true;\n    }\n  }\n\n  function parseJS(state, style, type, content, stream) {\n    var cc = state.cc;\n    \/\/ Communicate our context to the combinators.\n    \/\/ (Less wasteful than consing up a hundred closures on every call.)\n    cx.state = state; cx.stream = stream; cx.marked = null, cx.cc = cc; cx.style = style;\n\n    if (!state.lexical.hasOwnProperty(\"align\"))\n      state.lexical.align = true;\n\n    while(true) {\n      var combinator = cc.length ? cc.pop() : jsonMode ? expression : statement;\n      if (combinator(type, content)) {\n        while(cc.length && cc[cc.length - 1].lex)\n          cc.pop()();\n        if (cx.marked) return cx.marked;\n        if (type == \"variable\" && inScope(state, content)) return \"variable-2\";\n        return style;\n      }\n    }\n  }\n\n  \/\/ Combinator utils\n\n  var cx = {state: null, column: null, marked: null, cc: null};\n  function pass() {\n    for (var i = arguments.length - 1; i >= 0; i--) cx.cc.push(arguments[i]);\n  }\n  function cont() {\n    pass.apply(null, arguments);\n    return true;\n  }\n  function inList(name, list) {\n    for (var v = list; v; v = v.next) if (v.name == name) return true\n    return false;\n  }\n  function register(varname) {\n    var state = cx.state;\n    cx.marked = \"def\";\n    if (state.context) {\n      if (state.lexical.info == \"var\" && state.context && state.context.block) {\n        \/\/ FIXME function decls are also not block scoped\n        var newContext = registerVarScoped(varname, state.context)\n        if (newContext != null) {\n          state.context = newContext\n          return\n        }\n      } else if (!inList(varname, state.localVars)) {\n        state.localVars = new Var(varname, state.localVars)\n        return\n      }\n    }\n    \/\/ Fall through means this is global\n    if (parserConfig.globalVars && !inList(varname, state.globalVars))\n      state.globalVars = new Var(varname, state.globalVars)\n  }\n  function registerVarScoped(varname, context) {\n    if (!context) {\n      return null\n    } else if (context.block) {\n      var inner = registerVarScoped(varname, context.prev)\n      if (!inner) return null\n      if (inner == context.prev) return context\n      return new Context(inner, context.vars, true)\n    } else if (inList(varname, context.vars)) {\n      return context\n    } else {\n      return new Context(context.prev, new Var(varname, context.vars), false)\n    }\n  }\n\n  function isModifier(name) {\n    return name == \"public\" || name == \"private\" || name == \"protected\" || name == \"abstract\" || name == \"readonly\"\n  }\n\n  \/\/ Combinators\n\n  function Context(prev, vars, block) { this.prev = prev; this.vars = vars; this.block = block }\n  function Var(name, next) { this.name = name; this.next = next }\n\n  var defaultVars = new Var(\"this\", new Var(\"arguments\", null))\n  function pushcontext() {\n    cx.state.context = new Context(cx.state.context, cx.state.localVars, false)\n    cx.state.localVars = defaultVars\n  }\n  function pushblockcontext() {\n    cx.state.context = new Context(cx.state.context, cx.state.localVars, true)\n    cx.state.localVars = null\n  }\n  function popcontext() {\n    cx.state.localVars = cx.state.context.vars\n    cx.state.context = cx.state.context.prev\n  }\n  popcontext.lex = true\n  function pushlex(type, info) {\n    var result = function() {\n      var state = cx.state, indent = state.indented;\n      if (state.lexical.type == \"stat\") indent = state.lexical.indented;\n      else for (var outer = state.lexical; outer && outer.type == \")\" && outer.align; outer = outer.prev)\n        indent = outer.indented;\n      state.lexical = new JSLexical(indent, cx.stream.column(), type, null, state.lexical, info);\n    };\n    result.lex = true;\n    return result;\n  }\n  function poplex() {\n    var state = cx.state;\n    if (state.lexical.prev) {\n      if (state.lexical.type == \")\")\n        state.indented = state.lexical.indented;\n      state.lexical = state.lexical.prev;\n    }\n  }\n  poplex.lex = true;\n\n  function expect(wanted) {\n    function exp(type) {\n      if (type == wanted) return cont();\n      else if (wanted == \";\" || type == \"}\" || type == \")\" || type == \"]\") return pass();\n      else return cont(exp);\n    };\n    return exp;\n  }\n\n  function statement(type, value) {\n    if (type == \"var\") return cont(pushlex(\"vardef\", value), vardef, expect(\";\"), poplex);\n    if (type == \"keyword a\") return cont(pushlex(\"form\"), parenExpr, statement, poplex);\n    if (type == \"keyword b\") return cont(pushlex(\"form\"), statement, poplex);\n    if (type == \"keyword d\") return cx.stream.match(\/^\\s*$\/, false) ? cont() : cont(pushlex(\"stat\"), maybeexpression, expect(\";\"), poplex);\n    if (type == \"debugger\") return cont(expect(\";\"));\n    if (type == \"{\") return cont(pushlex(\"}\"), pushblockcontext, block, poplex, popcontext);\n    if (type == \";\") return cont();\n    if (type == \"if\") {\n      if (cx.state.lexical.info == \"else\" && cx.state.cc[cx.state.cc.length - 1] == poplex)\n        cx.state.cc.pop()();\n      return cont(pushlex(\"form\"), parenExpr, statement, poplex, maybeelse);\n    }\n    if (type == \"function\") return cont(functiondef);\n    if (type == \"for\") return cont(pushlex(\"form\"), forspec, statement, poplex);\n    if (type == \"class\" || (isTS && value == \"interface\")) {\n      cx.marked = \"keyword\"\n      return cont(pushlex(\"form\", type == \"class\" ? type : value), className, poplex)\n    }\n    if (type == \"variable\") {\n      if (isTS && value == \"declare\") {\n        cx.marked = \"keyword\"\n        return cont(statement)\n      } else if (isTS && (value == \"module\" || value == \"enum\" || value == \"type\") && cx.stream.match(\/^\\s*\\w\/, false)) {\n        cx.marked = \"keyword\"\n        if (value == \"enum\") return cont(enumdef);\n        else if (value == \"type\") return cont(typename, expect(\"operator\"), typeexpr, expect(\";\"));\n        else return cont(pushlex(\"form\"), pattern, expect(\"{\"), pushlex(\"}\"), block, poplex, poplex)\n      } else if (isTS && value == \"namespace\") {\n        cx.marked = \"keyword\"\n        return cont(pushlex(\"form\"), expression, statement, poplex)\n      } else if (isTS && value == \"abstract\") {\n        cx.marked = \"keyword\"\n        return cont(statement)\n      } else {\n        return cont(pushlex(\"stat\"), maybelabel);\n      }\n    }\n    if (type == \"switch\") return cont(pushlex(\"form\"), parenExpr, expect(\"{\"), pushlex(\"}\", \"switch\"), pushblockcontext,\n                                      block, poplex, poplex, popcontext);\n    if (type == \"case\") return cont(expression, expect(\":\"));\n    if (type == \"default\") return cont(expect(\":\"));\n    if (type == \"catch\") return cont(pushlex(\"form\"), pushcontext, maybeCatchBinding, statement, poplex, popcontext);\n    if (type == \"export\") return cont(pushlex(\"stat\"), afterExport, poplex);\n    if (type == \"import\") return cont(pushlex(\"stat\"), afterImport, poplex);\n    if (type == \"async\") return cont(statement)\n    if (value == \"@\") return cont(expression, statement)\n    return pass(pushlex(\"stat\"), expression, expect(\";\"), poplex);\n  }\n  function maybeCatchBinding(type) {\n    if (type == \"(\") return cont(funarg, expect(\")\"))\n  }\n  function expression(type, value) {\n    return expressionInner(type, value, false);\n  }\n  function expressionNoComma(type, value) {\n    return expressionInner(type, value, true);\n  }\n  function parenExpr(type) {\n    if (type != \"(\") return pass()\n    return cont(pushlex(\")\"), maybeexpression, expect(\")\"), poplex)\n  }\n  function expressionInner(type, value, noComma) {\n    if (cx.state.fatArrowAt == cx.stream.start) {\n      var body = noComma ? arrowBodyNoComma : arrowBody;\n      if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, expect(\"=>\"), body, popcontext);\n      else if (type == \"variable\") return pass(pushcontext, pattern, expect(\"=>\"), body, popcontext);\n    }\n\n    var maybeop = noComma ? maybeoperatorNoComma : maybeoperatorComma;\n    if (atomicTypes.hasOwnProperty(type)) return cont(maybeop);\n    if (type == \"function\") return cont(functiondef, maybeop);\n    if (type == \"class\" || (isTS && value == \"interface\")) { cx.marked = \"keyword\"; return cont(pushlex(\"form\"), classExpression, poplex); }\n    if (type == \"keyword c\" || type == \"async\") return cont(noComma ? expressionNoComma : expression);\n    if (type == \"(\") return cont(pushlex(\")\"), maybeexpression, expect(\")\"), poplex, maybeop);\n    if (type == \"operator\" || type == \"spread\") return cont(noComma ? expressionNoComma : expression);\n    if (type == \"[\") return cont(pushlex(\"]\"), arrayLiteral, poplex, maybeop);\n    if (type == \"{\") return contCommasep(objprop, \"}\", null, maybeop);\n    if (type == \"quasi\") return pass(quasi, maybeop);\n    if (type == \"new\") return cont(maybeTarget(noComma));\n    if (type == \"import\") return cont(expression);\n    return cont();\n  }\n  function maybeexpression(type) {\n    if (type.match(\/[;\\}\\)\\],]\/)) return pass();\n    return pass(expression);\n  }\n\n  function maybeoperatorComma(type, value) {\n    if (type == \",\") return cont(maybeexpression);\n    return maybeoperatorNoComma(type, value, false);\n  }\n  function maybeoperatorNoComma(type, value, noComma) {\n    var me = noComma == false ? maybeoperatorComma : maybeoperatorNoComma;\n    var expr = noComma == false ? expression : expressionNoComma;\n    if (type == \"=>\") return cont(pushcontext, noComma ? arrowBodyNoComma : arrowBody, popcontext);\n    if (type == \"operator\") {\n      if (\/\\+\\+|--\/.test(value) || isTS && value == \"!\") return cont(me);\n      if (isTS && value == \"<\" && cx.stream.match(\/^([^<>]|<[^<>]*>)*>\\s*\\(\/, false))\n        return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, me);\n      if (value == \"?\") return cont(expression, expect(\":\"), expr);\n      return cont(expr);\n    }\n    if (type == \"quasi\") { return pass(quasi, me); }\n    if (type == \";\") return;\n    if (type == \"(\") return contCommasep(expressionNoComma, \")\", \"call\", me);\n    if (type == \".\") return cont(property, me);\n    if (type == \"[\") return cont(pushlex(\"]\"), maybeexpression, expect(\"]\"), poplex, me);\n    if (isTS && value == \"as\") { cx.marked = \"keyword\"; return cont(typeexpr, me) }\n    if (type == \"regexp\") {\n      cx.state.lastType = cx.marked = \"operator\"\n      cx.stream.backUp(cx.stream.pos - cx.stream.start - 1)\n      return cont(expr)\n    }\n  }\n  function quasi(type, value) {\n    if (type != \"quasi\") return pass();\n    if (value.slice(value.length - 2) != \"${\") return cont(quasi);\n    return cont(expression, continueQuasi);\n  }\n  function continueQuasi(type) {\n    if (type == \"}\") {\n      cx.marked = \"string-2\";\n      cx.state.tokenize = tokenQuasi;\n      return cont(quasi);\n    }\n  }\n  function arrowBody(type) {\n    findFatArrow(cx.stream, cx.state);\n    return pass(type == \"{\" ? statement : expression);\n  }\n  function arrowBodyNoComma(type) {\n    findFatArrow(cx.stream, cx.state);\n    return pass(type == \"{\" ? statement : expressionNoComma);\n  }\n  function maybeTarget(noComma) {\n    return function(type) {\n      if (type == \".\") return cont(noComma ? targetNoComma : target);\n      else if (type == \"variable\" && isTS) return cont(maybeTypeArgs, noComma ? maybeoperatorNoComma : maybeoperatorComma)\n      else return pass(noComma ? expressionNoComma : expression);\n    };\n  }\n  function target(_, value) {\n    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorComma); }\n  }\n  function targetNoComma(_, value) {\n    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorNoComma); }\n  }\n  function maybelabel(type) {\n    if (type == \":\") return cont(poplex, statement);\n    return pass(maybeoperatorComma, expect(\";\"), poplex);\n  }\n  function property(type) {\n    if (type == \"variable\") {cx.marked = \"property\"; return cont();}\n  }\n  function objprop(type, value) {\n    if (type == \"async\") {\n      cx.marked = \"property\";\n      return cont(objprop);\n    } else if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\";\n      if (value == \"get\" || value == \"set\") return cont(getterSetter);\n      var m \/\/ Work around fat-arrow-detection complication for detecting typescript typed arrow params\n      if (isTS && cx.state.fatArrowAt == cx.stream.start && (m = cx.stream.match(\/^\\s*:\\s*\/, false)))\n        cx.state.fatArrowAt = cx.stream.pos + m[0].length\n      return cont(afterprop);\n    } else if (type == \"number\" || type == \"string\") {\n      cx.marked = jsonldMode ? \"property\" : (cx.style + \" property\");\n      return cont(afterprop);\n    } else if (type == \"jsonld-keyword\") {\n      return cont(afterprop);\n    } else if (isTS && isModifier(value)) {\n      cx.marked = \"keyword\"\n      return cont(objprop)\n    } else if (type == \"[\") {\n      return cont(expression, maybetype, expect(\"]\"), afterprop);\n    } else if (type == \"spread\") {\n      return cont(expressionNoComma, afterprop);\n    } else if (value == \"*\") {\n      cx.marked = \"keyword\";\n      return cont(objprop);\n    } else if (type == \":\") {\n      return pass(afterprop)\n    }\n  }\n  function getterSetter(type) {\n    if (type != \"variable\") return pass(afterprop);\n    cx.marked = \"property\";\n    return cont(functiondef);\n  }\n  function afterprop(type) {\n    if (type == \":\") return cont(expressionNoComma);\n    if (type == \"(\") return pass(functiondef);\n  }\n  function commasep(what, end, sep) {\n    function proceed(type, value) {\n      if (sep ? sep.indexOf(type) > -1 : type == \",\") {\n        var lex = cx.state.lexical;\n        if (lex.info == \"call\") lex.pos = (lex.pos || 0) + 1;\n        return cont(function(type, value) {\n          if (type == end || value == end) return pass()\n          return pass(what)\n        }, proceed);\n      }\n      if (type == end || value == end) return cont();\n      if (sep && sep.indexOf(\";\") > -1) return pass(what)\n      return cont(expect(end));\n    }\n    return function(type, value) {\n      if (type == end || value == end) return cont();\n      return pass(what, proceed);\n    };\n  }\n  function contCommasep(what, end, info) {\n    for (var i = 3; i < arguments.length; i++)\n      cx.cc.push(arguments[i]);\n    return cont(pushlex(end, info), commasep(what, end), poplex);\n  }\n  function block(type) {\n    if (type == \"}\") return cont();\n    return pass(statement, block);\n  }\n  function maybetype(type, value) {\n    if (isTS) {\n      if (type == \":\") return cont(typeexpr);\n      if (value == \"?\") return cont(maybetype);\n    }\n  }\n  function maybetypeOrIn(type, value) {\n    if (isTS && (type == \":\" || value == \"in\")) return cont(typeexpr)\n  }\n  function mayberettype(type) {\n    if (isTS && type == \":\") {\n      if (cx.stream.match(\/^\\s*\\w+\\s+is\\b\/, false)) return cont(expression, isKW, typeexpr)\n      else return cont(typeexpr)\n    }\n  }\n  function isKW(_, value) {\n    if (value == \"is\") {\n      cx.marked = \"keyword\"\n      return cont()\n    }\n  }\n  function typeexpr(type, value) {\n    if (value == \"keyof\" || value == \"typeof\" || value == \"infer\") {\n      cx.marked = \"keyword\"\n      return cont(value == \"typeof\" ? expressionNoComma : typeexpr)\n    }\n    if (type == \"variable\" || value == \"void\") {\n      cx.marked = \"type\"\n      return cont(afterType)\n    }\n    if (value == \"|\" || value == \"&\") return cont(typeexpr)\n    if (type == \"string\" || type == \"number\" || type == \"atom\") return cont(afterType);\n    if (type == \"[\") return cont(pushlex(\"]\"), commasep(typeexpr, \"]\", \",\"), poplex, afterType)\n    if (type == \"{\") return cont(pushlex(\"}\"), typeprops, poplex, afterType)\n    if (type == \"(\") return cont(commasep(typearg, \")\"), maybeReturnType, afterType)\n    if (type == \"<\") return cont(commasep(typeexpr, \">\"), typeexpr)\n  }\n  function maybeReturnType(type) {\n    if (type == \"=>\") return cont(typeexpr)\n  }\n  function typeprops(type) {\n    if (type.match(\/[\\}\\)\\]]\/)) return cont()\n    if (type == \",\" || type == \";\") return cont(typeprops)\n    return pass(typeprop, typeprops)\n  }\n  function typeprop(type, value) {\n    if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\"\n      return cont(typeprop)\n    } else if (value == \"?\" || type == \"number\" || type == \"string\") {\n      return cont(typeprop)\n    } else if (type == \":\") {\n      return cont(typeexpr)\n    } else if (type == \"[\") {\n      return cont(expect(\"variable\"), maybetypeOrIn, expect(\"]\"), typeprop)\n    } else if (type == \"(\") {\n      return pass(functiondecl, typeprop)\n    } else if (!type.match(\/[;\\}\\)\\],]\/)) {\n      return cont()\n    }\n  }\n  function typearg(type, value) {\n    if (type == \"variable\" && cx.stream.match(\/^\\s*[?:]\/, false) || value == \"?\") return cont(typearg)\n    if (type == \":\") return cont(typeexpr)\n    if (type == \"spread\") return cont(typearg)\n    return pass(typeexpr)\n  }\n  function afterType(type, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, afterType)\n    if (value == \"|\" || type == \".\" || value == \"&\") return cont(typeexpr)\n    if (type == \"[\") return cont(typeexpr, expect(\"]\"), afterType)\n    if (value == \"extends\" || value == \"implements\") { cx.marked = \"keyword\"; return cont(typeexpr) }\n    if (value == \"?\") return cont(typeexpr, expect(\":\"), typeexpr)\n  }\n  function maybeTypeArgs(_, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, afterType)\n  }\n  function typeparam() {\n    return pass(typeexpr, maybeTypeDefault)\n  }\n  function maybeTypeDefault(_, value) {\n    if (value == \"=\") return cont(typeexpr)\n  }\n  function vardef(_, value) {\n    if (value == \"enum\") {cx.marked = \"keyword\"; return cont(enumdef)}\n    return pass(pattern, maybetype, maybeAssign, vardefCont);\n  }\n  function pattern(type, value) {\n    if (isTS && isModifier(value)) { cx.marked = \"keyword\"; return cont(pattern) }\n    if (type == \"variable\") { register(value); return cont(); }\n    if (type == \"spread\") return cont(pattern);\n    if (type == \"[\") return contCommasep(eltpattern, \"]\");\n    if (type == \"{\") return contCommasep(proppattern, \"}\");\n  }\n  function proppattern(type, value) {\n    if (type == \"variable\" && !cx.stream.match(\/^\\s*:\/, false)) {\n      register(value);\n      return cont(maybeAssign);\n    }\n    if (type == \"variable\") cx.marked = \"property\";\n    if (type == \"spread\") return cont(pattern);\n    if (type == \"}\") return pass();\n    if (type == \"[\") return cont(expression, expect(']'), expect(':'), proppattern);\n    return cont(expect(\":\"), pattern, maybeAssign);\n  }\n  function eltpattern() {\n    return pass(pattern, maybeAssign)\n  }\n  function maybeAssign(_type, value) {\n    if (value == \"=\") return cont(expressionNoComma);\n  }\n  function vardefCont(type) {\n    if (type == \",\") return cont(vardef);\n  }\n  function maybeelse(type, value) {\n    if (type == \"keyword b\" && value == \"else\") return cont(pushlex(\"form\", \"else\"), statement, poplex);\n  }\n  function forspec(type, value) {\n    if (value == \"await\") return cont(forspec);\n    if (type == \"(\") return cont(pushlex(\")\"), forspec1, poplex);\n  }\n  function forspec1(type) {\n    if (type == \"var\") return cont(vardef, forspec2);\n    if (type == \"variable\") return cont(forspec2);\n    return pass(forspec2)\n  }\n  function forspec2(type, value) {\n    if (type == \")\") return cont()\n    if (type == \";\") return cont(forspec2)\n    if (value == \"in\" || value == \"of\") { cx.marked = \"keyword\"; return cont(expression, forspec2) }\n    return pass(expression, forspec2)\n  }\n  function functiondef(type, value) {\n    if (value == \"*\") {cx.marked = \"keyword\"; return cont(functiondef);}\n    if (type == \"variable\") {register(value); return cont(functiondef);}\n    if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, mayberettype, statement, popcontext);\n    if (isTS && value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, functiondef)\n  }\n  function functiondecl(type, value) {\n    if (value == \"*\") {cx.marked = \"keyword\"; return cont(functiondecl);}\n    if (type == \"variable\") {register(value); return cont(functiondecl);}\n    if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, mayberettype, popcontext);\n    if (isTS && value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, functiondecl)\n  }\n  function typename(type, value) {\n    if (type == \"keyword\" || type == \"variable\") {\n      cx.marked = \"type\"\n      return cont(typename)\n    } else if (value == \"<\") {\n      return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex)\n    }\n  }\n  function funarg(type, value) {\n    if (value == \"@\") cont(expression, funarg)\n    if (type == \"spread\") return cont(funarg);\n    if (isTS && isModifier(value)) { cx.marked = \"keyword\"; return cont(funarg); }\n    if (isTS && type == \"this\") return cont(maybetype, maybeAssign)\n    return pass(pattern, maybetype, maybeAssign);\n  }\n  function classExpression(type, value) {\n    \/\/ Class expressions may have an optional name.\n    if (type == \"variable\") return className(type, value);\n    return classNameAfter(type, value);\n  }\n  function className(type, value) {\n    if (type == \"variable\") {register(value); return cont(classNameAfter);}\n  }\n  function classNameAfter(type, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, classNameAfter)\n    if (value == \"extends\" || value == \"implements\" || (isTS && type == \",\")) {\n      if (value == \"implements\") cx.marked = \"keyword\";\n      return cont(isTS ? typeexpr : expression, classNameAfter);\n    }\n    if (type == \"{\") return cont(pushlex(\"}\"), classBody, poplex);\n  }\n  function classBody(type, value) {\n    if (type == \"async\" ||\n        (type == \"variable\" &&\n         (value == \"static\" || value == \"get\" || value == \"set\" || (isTS && isModifier(value))) &&\n         cx.stream.match(\/^\\s+[\\w$\\xa1-\\uffff]\/, false))) {\n      cx.marked = \"keyword\";\n      return cont(classBody);\n    }\n    if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\";\n      return cont(classfield, classBody);\n    }\n    if (type == \"number\" || type == \"string\") return cont(classfield, classBody);\n    if (type == \"[\")\n      return cont(expression, maybetype, expect(\"]\"), classfield, classBody)\n    if (value == \"*\") {\n      cx.marked = \"keyword\";\n      return cont(classBody);\n    }\n    if (isTS && type == \"(\") return pass(functiondecl, classBody)\n    if (type == \";\" || type == \",\") return cont(classBody);\n    if (type == \"}\") return cont();\n    if (value == \"@\") return cont(expression, classBody)\n  }\n  function classfield(type, value) {\n    if (value == \"?\") return cont(classfield)\n    if (type == \":\") return cont(typeexpr, maybeAssign)\n    if (value == \"=\") return cont(expressionNoComma)\n    var context = cx.state.lexical.prev, isInterface = context && context.info == \"interface\"\n    return pass(isInterface ? functiondecl : functiondef)\n  }\n  function afterExport(type, value) {\n    if (value == \"*\") { cx.marked = \"keyword\"; return cont(maybeFrom, expect(\";\")); }\n    if (value == \"default\") { cx.marked = \"keyword\"; return cont(expression, expect(\";\")); }\n    if (type == \"{\") return cont(commasep(exportField, \"}\"), maybeFrom, expect(\";\"));\n    return pass(statement);\n  }\n  function exportField(type, value) {\n    if (value == \"as\") { cx.marked = \"keyword\"; return cont(expect(\"variable\")); }\n    if (type == \"variable\") return pass(expressionNoComma, exportField);\n  }\n  function afterImport(type) {\n    if (type == \"string\") return cont();\n    if (type == \"(\") return pass(expression);\n    return pass(importSpec, maybeMoreImports, maybeFrom);\n  }\n  function importSpec(type, value) {\n    if (type == \"{\") return contCommasep(importSpec, \"}\");\n    if (type == \"variable\") register(value);\n    if (value == \"*\") cx.marked = \"keyword\";\n    return cont(maybeAs);\n  }\n  function maybeMoreImports(type) {\n    if (type == \",\") return cont(importSpec, maybeMoreImports)\n  }\n  function maybeAs(_type, value) {\n    if (value == \"as\") { cx.marked = \"keyword\"; return cont(importSpec); }\n  }\n  function maybeFrom(_type, value) {\n    if (value == \"from\") { cx.marked = \"keyword\"; return cont(expression); }\n  }\n  function arrayLiteral(type) {\n    if (type == \"]\") return cont();\n    return pass(commasep(expressionNoComma, \"]\"));\n  }\n  function enumdef() {\n    return pass(pushlex(\"form\"), pattern, expect(\"{\"), pushlex(\"}\"), commasep(enummember, \"}\"), poplex, poplex)\n  }\n  function enummember() {\n    return pass(pattern, maybeAssign);\n  }\n\n  function isContinuedStatement(state, textAfter) {\n    return state.lastType == \"operator\" || state.lastType == \",\" ||\n      isOperatorChar.test(textAfter.charAt(0)) ||\n      \/[,.]\/.test(textAfter.charAt(0));\n  }\n\n  function expressionAllowed(stream, state, backUp) {\n    return state.tokenize == tokenBase &&\n      \/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\\[{}\\(,;:]|=>)$\/.test(state.lastType) ||\n      (state.lastType == \"quasi\" && \/\\{\\s*$\/.test(stream.string.slice(0, stream.pos - (backUp || 0))))\n  }\n\n  \/\/ Interface\n\n  return {\n    startState: function(basecolumn) {\n      var state = {\n        tokenize: tokenBase,\n        lastType: \"sof\",\n        cc: [],\n        lexical: new JSLexical((basecolumn || 0) - indentUnit, 0, \"block\", false),\n        localVars: parserConfig.localVars,\n        context: parserConfig.localVars && new Context(null, null, false),\n        indented: basecolumn || 0\n      };\n      if (parserConfig.globalVars && typeof parserConfig.globalVars == \"object\")\n        state.globalVars = parserConfig.globalVars;\n      return state;\n    },\n\n    token: function(stream, state) {\n      if (stream.sol()) {\n        if (!state.lexical.hasOwnProperty(\"align\"))\n          state.lexical.align = false;\n        state.indented = stream.indentation();\n        findFatArrow(stream, state);\n      }\n      if (state.tokenize != tokenComment && stream.eatSpace()) return null;\n      var style = state.tokenize(stream, state);\n      if (type == \"comment\") return style;\n      state.lastType = type == \"operator\" && (content == \"++\" || content == \"--\") ? \"incdec\" : type;\n      return parseJS(state, style, type, content, stream);\n    },\n\n    indent: function(state, textAfter) {\n      if (state.tokenize == tokenComment || state.tokenize == tokenQuasi) return CodeMirror.Pass;\n      if (state.tokenize != tokenBase) return 0;\n      var firstChar = textAfter && textAfter.charAt(0), lexical = state.lexical, top\n      \/\/ Kludge to prevent 'maybelse' from blocking lexical scope pops\n      if (!\/^\\s*else\\b\/.test(textAfter)) for (var i = state.cc.length - 1; i >= 0; --i) {\n        var c = state.cc[i];\n        if (c == poplex) lexical = lexical.prev;\n        else if (c != maybeelse) break;\n      }\n      while ((lexical.type == \"stat\" || lexical.type == \"form\") &&\n             (firstChar == \"}\" || ((top = state.cc[state.cc.length - 1]) &&\n                                   (top == maybeoperatorComma || top == maybeoperatorNoComma) &&\n                                   !\/^[,\\.=+\\-*:?[\\(]\/.test(textAfter))))\n        lexical = lexical.prev;\n      if (statementIndent && lexical.type == \")\" && lexical.prev.type == \"stat\")\n        lexical = lexical.prev;\n      var type = lexical.type, closing = firstChar == type;\n\n      if (type == \"vardef\") return lexical.indented + (state.lastType == \"operator\" || state.lastType == \",\" ? lexical.info.length + 1 : 0);\n      else if (type == \"form\" && firstChar == \"{\") return lexical.indented;\n      else if (type == \"form\") return lexical.indented + indentUnit;\n      else if (type == \"stat\")\n        return lexical.indented + (isContinuedStatement(state, textAfter) ? statementIndent || indentUnit : 0);\n      else if (lexical.info == \"switch\" && !closing && parserConfig.doubleIndentSwitch != false)\n        return lexical.indented + (\/^(?:case|default)\\b\/.test(textAfter) ? indentUnit : 2 * indentUnit);\n      else if (lexical.align) return lexical.column + (closing ? 0 : 1);\n      else return lexical.indented + (closing ? 0 : indentUnit);\n    },\n\n    electricInput: \/^\\s*(?:case .*?:|default:|\\{|\\})$\/,\n    blockCommentStart: jsonMode ? null : \"\/*\",\n    blockCommentEnd: jsonMode ? null : \"*\/\",\n    blockCommentContinue: jsonMode ? null : \" * \",\n    lineComment: jsonMode ? null : \"\/\/\",\n    fold: \"brace\",\n    closeBrackets: \"()[]{}''\\\"\\\"``\",\n\n    helperType: jsonMode ? \"json\" : \"javascript\",\n    jsonldMode: jsonldMode,\n    jsonMode: jsonMode,\n\n    expressionAllowed: expressionAllowed,\n\n    skipExpression: function(state) {\n      var top = state.cc[state.cc.length - 1]\n      if (top == expression || top == expressionNoComma) state.cc.pop()\n    }\n  };\n});\n\nCodeMirror.registerHelper(\"wordChars\", \"javascript\", \/[\\w$]\/);\n\nCodeMirror.defineMIME(\"text\/javascript\", \"javascript\");\nCodeMirror.defineMIME(\"text\/ecmascript\", \"javascript\");\nCodeMirror.defineMIME(\"application\/javascript\", \"javascript\");\nCodeMirror.defineMIME(\"application\/x-javascript\", \"javascript\");\nCodeMirror.defineMIME(\"application\/ecmascript\", \"javascript\");\nCodeMirror.defineMIME(\"application\/json\", { name: \"javascript\", json: true });\nCodeMirror.defineMIME(\"application\/x-json\", { name: \"javascript\", json: true });\nCodeMirror.defineMIME(\"application\/manifest+json\", { name: \"javascript\", json: true })\nCodeMirror.defineMIME(\"application\/ld+json\", { name: \"javascript\", jsonld: true });\nCodeMirror.defineMIME(\"text\/typescript\", { name: \"javascript\", typescript: true });\nCodeMirror.defineMIME(\"application\/typescript\", { name: \"javascript\", typescript: true });\n\n});\n\n};","shadow$provide[261] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nvar htmlConfig = {\n  autoSelfClosers: {'area': true, 'base': true, 'br': true, 'col': true, 'command': true,\n                    'embed': true, 'frame': true, 'hr': true, 'img': true, 'input': true,\n                    'keygen': true, 'link': true, 'meta': true, 'param': true, 'source': true,\n                    'track': true, 'wbr': true, 'menuitem': true},\n  implicitlyClosed: {'dd': true, 'li': true, 'optgroup': true, 'option': true, 'p': true,\n                     'rp': true, 'rt': true, 'tbody': true, 'td': true, 'tfoot': true,\n                     'th': true, 'tr': true},\n  contextGrabbers: {\n    'dd': {'dd': true, 'dt': true},\n    'dt': {'dd': true, 'dt': true},\n    'li': {'li': true},\n    'option': {'option': true, 'optgroup': true},\n    'optgroup': {'optgroup': true},\n    'p': {'address': true, 'article': true, 'aside': true, 'blockquote': true, 'dir': true,\n          'div': true, 'dl': true, 'fieldset': true, 'footer': true, 'form': true,\n          'h1': true, 'h2': true, 'h3': true, 'h4': true, 'h5': true, 'h6': true,\n          'header': true, 'hgroup': true, 'hr': true, 'menu': true, 'nav': true, 'ol': true,\n          'p': true, 'pre': true, 'section': true, 'table': true, 'ul': true},\n    'rp': {'rp': true, 'rt': true},\n    'rt': {'rp': true, 'rt': true},\n    'tbody': {'tbody': true, 'tfoot': true},\n    'td': {'td': true, 'th': true},\n    'tfoot': {'tbody': true},\n    'th': {'td': true, 'th': true},\n    'thead': {'tbody': true, 'tfoot': true},\n    'tr': {'tr': true}\n  },\n  doNotIndent: {\"pre\": true},\n  allowUnquoted: true,\n  allowMissing: true,\n  caseFold: true\n}\n\nvar xmlConfig = {\n  autoSelfClosers: {},\n  implicitlyClosed: {},\n  contextGrabbers: {},\n  doNotIndent: {},\n  allowUnquoted: false,\n  allowMissing: false,\n  allowMissingTagName: false,\n  caseFold: false\n}\n\nCodeMirror.defineMode(\"xml\", function(editorConf, config_) {\n  var indentUnit = editorConf.indentUnit\n  var config = {}\n  var defaults = config_.htmlMode ? htmlConfig : xmlConfig\n  for (var prop in defaults) config[prop] = defaults[prop]\n  for (var prop in config_) config[prop] = config_[prop]\n\n  \/\/ Return variables for tokenizers\n  var type, setStyle;\n\n  function inText(stream, state) {\n    function chain(parser) {\n      state.tokenize = parser;\n      return parser(stream, state);\n    }\n\n    var ch = stream.next();\n    if (ch == \"<\") {\n      if (stream.eat(\"!\")) {\n        if (stream.eat(\"[\")) {\n          if (stream.match(\"CDATA[\")) return chain(inBlock(\"atom\", \"]]>\"));\n          else return null;\n        } else if (stream.match(\"--\")) {\n          return chain(inBlock(\"comment\", \"-->\"));\n        } else if (stream.match(\"DOCTYPE\", true, true)) {\n          stream.eatWhile(\/[\\w\\._\\-]\/);\n          return chain(doctype(1));\n        } else {\n          return null;\n        }\n      } else if (stream.eat(\"?\")) {\n        stream.eatWhile(\/[\\w\\._\\-]\/);\n        state.tokenize = inBlock(\"meta\", \"?>\");\n        return \"meta\";\n      } else {\n        type = stream.eat(\"\/\") ? \"closeTag\" : \"openTag\";\n        state.tokenize = inTag;\n        return \"tag bracket\";\n      }\n    } else if (ch == \"&\") {\n      var ok;\n      if (stream.eat(\"#\")) {\n        if (stream.eat(\"x\")) {\n          ok = stream.eatWhile(\/[a-fA-F\\d]\/) && stream.eat(\";\");\n        } else {\n          ok = stream.eatWhile(\/[\\d]\/) && stream.eat(\";\");\n        }\n      } else {\n        ok = stream.eatWhile(\/[\\w\\.\\-:]\/) && stream.eat(\";\");\n      }\n      return ok ? \"atom\" : \"error\";\n    } else {\n      stream.eatWhile(\/[^&<]\/);\n      return null;\n    }\n  }\n  inText.isInText = true;\n\n  function inTag(stream, state) {\n    var ch = stream.next();\n    if (ch == \">\" || (ch == \"\/\" && stream.eat(\">\"))) {\n      state.tokenize = inText;\n      type = ch == \">\" ? \"endTag\" : \"selfcloseTag\";\n      return \"tag bracket\";\n    } else if (ch == \"=\") {\n      type = \"equals\";\n      return null;\n    } else if (ch == \"<\") {\n      state.tokenize = inText;\n      state.state = baseState;\n      state.tagName = state.tagStart = null;\n      var next = state.tokenize(stream, state);\n      return next ? next + \" tag error\" : \"tag error\";\n    } else if (\/[\\'\\\"]\/.test(ch)) {\n      state.tokenize = inAttribute(ch);\n      state.stringStartCol = stream.column();\n      return state.tokenize(stream, state);\n    } else {\n      stream.match(\/^[^\\s\\u00a0=<>\\\"\\']*[^\\s\\u00a0=<>\\\"\\'\\\/]\/);\n      return \"word\";\n    }\n  }\n\n  function inAttribute(quote) {\n    var closure = function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.next() == quote) {\n          state.tokenize = inTag;\n          break;\n        }\n      }\n      return \"string\";\n    };\n    closure.isInAttribute = true;\n    return closure;\n  }\n\n  function inBlock(style, terminator) {\n    return function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.match(terminator)) {\n          state.tokenize = inText;\n          break;\n        }\n        stream.next();\n      }\n      return style;\n    }\n  }\n\n  function doctype(depth) {\n    return function(stream, state) {\n      var ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == \"<\") {\n          state.tokenize = doctype(depth + 1);\n          return state.tokenize(stream, state);\n        } else if (ch == \">\") {\n          if (depth == 1) {\n            state.tokenize = inText;\n            break;\n          } else {\n            state.tokenize = doctype(depth - 1);\n            return state.tokenize(stream, state);\n          }\n        }\n      }\n      return \"meta\";\n    };\n  }\n\n  function Context(state, tagName, startOfLine) {\n    this.prev = state.context;\n    this.tagName = tagName || \"\";\n    this.indent = state.indented;\n    this.startOfLine = startOfLine;\n    if (config.doNotIndent.hasOwnProperty(tagName) || (state.context && state.context.noIndent))\n      this.noIndent = true;\n  }\n  function popContext(state) {\n    if (state.context) state.context = state.context.prev;\n  }\n  function maybePopContext(state, nextTagName) {\n    var parentTagName;\n    while (true) {\n      if (!state.context) {\n        return;\n      }\n      parentTagName = state.context.tagName;\n      if (!config.contextGrabbers.hasOwnProperty(parentTagName) ||\n          !config.contextGrabbers[parentTagName].hasOwnProperty(nextTagName)) {\n        return;\n      }\n      popContext(state);\n    }\n  }\n\n  function baseState(type, stream, state) {\n    if (type == \"openTag\") {\n      state.tagStart = stream.column();\n      return tagNameState;\n    } else if (type == \"closeTag\") {\n      return closeTagNameState;\n    } else {\n      return baseState;\n    }\n  }\n  function tagNameState(type, stream, state) {\n    if (type == \"word\") {\n      state.tagName = stream.current();\n      setStyle = \"tag\";\n      return attrState;\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return attrState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return tagNameState;\n    }\n  }\n  function closeTagNameState(type, stream, state) {\n    if (type == \"word\") {\n      var tagName = stream.current();\n      if (state.context && state.context.tagName != tagName &&\n          config.implicitlyClosed.hasOwnProperty(state.context.tagName))\n        popContext(state);\n      if ((state.context && state.context.tagName == tagName) || config.matchClosing === false) {\n        setStyle = \"tag\";\n        return closeState;\n      } else {\n        setStyle = \"tag error\";\n        return closeStateErr;\n      }\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return closeState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return closeStateErr;\n    }\n  }\n\n  function closeState(type, _stream, state) {\n    if (type != \"endTag\") {\n      setStyle = \"error\";\n      return closeState;\n    }\n    popContext(state);\n    return baseState;\n  }\n  function closeStateErr(type, stream, state) {\n    setStyle = \"error\";\n    return closeState(type, stream, state);\n  }\n\n  function attrState(type, _stream, state) {\n    if (type == \"word\") {\n      setStyle = \"attribute\";\n      return attrEqState;\n    } else if (type == \"endTag\" || type == \"selfcloseTag\") {\n      var tagName = state.tagName, tagStart = state.tagStart;\n      state.tagName = state.tagStart = null;\n      if (type == \"selfcloseTag\" ||\n          config.autoSelfClosers.hasOwnProperty(tagName)) {\n        maybePopContext(state, tagName);\n      } else {\n        maybePopContext(state, tagName);\n        state.context = new Context(state, tagName, tagStart == state.indented);\n      }\n      return baseState;\n    }\n    setStyle = \"error\";\n    return attrState;\n  }\n  function attrEqState(type, stream, state) {\n    if (type == \"equals\") return attrValueState;\n    if (!config.allowMissing) setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrValueState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    if (type == \"word\" && config.allowUnquoted) {setStyle = \"string\"; return attrState;}\n    setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrContinuedState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    return attrState(type, stream, state);\n  }\n\n  return {\n    startState: function(baseIndent) {\n      var state = {tokenize: inText,\n                   state: baseState,\n                   indented: baseIndent || 0,\n                   tagName: null, tagStart: null,\n                   context: null}\n      if (baseIndent != null) state.baseIndent = baseIndent\n      return state\n    },\n\n    token: function(stream, state) {\n      if (!state.tagName && stream.sol())\n        state.indented = stream.indentation();\n\n      if (stream.eatSpace()) return null;\n      type = null;\n      var style = state.tokenize(stream, state);\n      if ((style || type) && style != \"comment\") {\n        setStyle = null;\n        state.state = state.state(type || style, stream, state);\n        if (setStyle)\n          style = setStyle == \"error\" ? style + \" error\" : setStyle;\n      }\n      return style;\n    },\n\n    indent: function(state, textAfter, fullLine) {\n      var context = state.context;\n      \/\/ Indent multi-line strings (e.g. css).\n      if (state.tokenize.isInAttribute) {\n        if (state.tagStart == state.indented)\n          return state.stringStartCol + 1;\n        else\n          return state.indented + indentUnit;\n      }\n      if (context && context.noIndent) return CodeMirror.Pass;\n      if (state.tokenize != inTag && state.tokenize != inText)\n        return fullLine ? fullLine.match(\/^(\\s*)\/)[0].length : 0;\n      \/\/ Indent the starts of attribute names.\n      if (state.tagName) {\n        if (config.multilineTagIndentPastTag !== false)\n          return state.tagStart + state.tagName.length + 2;\n        else\n          return state.tagStart + indentUnit * (config.multilineTagIndentFactor || 1);\n      }\n      if (config.alignCDATA && \/<!\\[CDATA\\[\/.test(textAfter)) return 0;\n      var tagAfter = textAfter && \/^<(\\\/)?([\\w_:\\.-]*)\/.exec(textAfter);\n      if (tagAfter && tagAfter[1]) { \/\/ Closing tag spotted\n        while (context) {\n          if (context.tagName == tagAfter[2]) {\n            context = context.prev;\n            break;\n          } else if (config.implicitlyClosed.hasOwnProperty(context.tagName)) {\n            context = context.prev;\n          } else {\n            break;\n          }\n        }\n      } else if (tagAfter) { \/\/ Opening tag spotted\n        while (context) {\n          var grabbers = config.contextGrabbers[context.tagName];\n          if (grabbers && grabbers.hasOwnProperty(tagAfter[2]))\n            context = context.prev;\n          else\n            break;\n        }\n      }\n      while (context && context.prev && !context.startOfLine)\n        context = context.prev;\n      if (context) return context.indent + indentUnit;\n      else return state.baseIndent || 0;\n    },\n\n    electricInput: \/<\\\/[\\s\\w:]+>$\/,\n    blockCommentStart: \"<!--\",\n    blockCommentEnd: \"-->\",\n\n    configuration: config.htmlMode ? \"html\" : \"xml\",\n    helperType: config.htmlMode ? \"html\" : \"xml\",\n\n    skipAttribute: function(state) {\n      if (state.state == attrValueState)\n        state.state = attrState\n    },\n\n    xmlCurrentTag: function(state) {\n      return state.tagName ? {name: state.tagName, close: state.type == \"closeTag\"} : null\n    },\n\n    xmlCurrentContext: function(state) {\n      var context = []\n      for (var cx = state.context; cx; cx = cx.prev)\n        context.push(cx.tagName)\n      return context.reverse()\n    }\n  };\n});\n\nCodeMirror.defineMIME(\"text\/xml\", \"xml\");\nCodeMirror.defineMIME(\"application\/xml\", \"xml\");\nif (!CodeMirror.mimeModes.hasOwnProperty(\"text\/html\"))\n  CodeMirror.defineMIME(\"text\/html\", {name: \"xml\", htmlMode: true});\n\n});\n\n};","shadow$provide[262] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"), require(\"..\/xml\/xml\"), require(\"..\/javascript\/javascript\"))\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\", \"..\/xml\/xml\", \"..\/javascript\/javascript\"], mod)\n  else \/\/ Plain browser env\n    mod(CodeMirror)\n})(function(CodeMirror) {\n  \"use strict\"\n\n  \/\/ Depth means the amount of open braces in JS context, in XML\n  \/\/ context 0 means not in tag, 1 means in tag, and 2 means in tag\n  \/\/ and js block comment.\n  function Context(state, mode, depth, prev) {\n    this.state = state; this.mode = mode; this.depth = depth; this.prev = prev\n  }\n\n  function copyContext(context) {\n    return new Context(CodeMirror.copyState(context.mode, context.state),\n                       context.mode,\n                       context.depth,\n                       context.prev && copyContext(context.prev))\n  }\n\n  CodeMirror.defineMode(\"jsx\", function(config, modeConfig) {\n    var xmlMode = CodeMirror.getMode(config, {name: \"xml\", allowMissing: true, multilineTagIndentPastTag: false, allowMissingTagName: true})\n    var jsMode = CodeMirror.getMode(config, modeConfig && modeConfig.base || \"javascript\")\n\n    function flatXMLIndent(state) {\n      var tagName = state.tagName\n      state.tagName = null\n      var result = xmlMode.indent(state, \"\", \"\")\n      state.tagName = tagName\n      return result\n    }\n\n    function token(stream, state) {\n      if (state.context.mode == xmlMode)\n        return xmlToken(stream, state, state.context)\n      else\n        return jsToken(stream, state, state.context)\n    }\n\n    function xmlToken(stream, state, cx) {\n      if (cx.depth == 2) { \/\/ Inside a JS \/* *\/ comment\n        if (stream.match(\/^.*?\\*\\\/\/)) cx.depth = 1\n        else stream.skipToEnd()\n        return \"comment\"\n      }\n\n      if (stream.peek() == \"{\") {\n        xmlMode.skipAttribute(cx.state)\n\n        var indent = flatXMLIndent(cx.state), xmlContext = cx.state.context\n        \/\/ If JS starts on same line as tag\n        if (xmlContext && stream.match(\/^[^>]*>\\s*$\/, false)) {\n          while (xmlContext.prev && !xmlContext.startOfLine)\n            xmlContext = xmlContext.prev\n          \/\/ If tag starts the line, use XML indentation level\n          if (xmlContext.startOfLine) indent -= config.indentUnit\n          \/\/ Else use JS indentation level\n          else if (cx.prev.state.lexical) indent = cx.prev.state.lexical.indented\n        \/\/ Else if inside of tag\n        } else if (cx.depth == 1) {\n          indent += config.indentUnit\n        }\n\n        state.context = new Context(CodeMirror.startState(jsMode, indent),\n                                    jsMode, 0, state.context)\n        return null\n      }\n\n      if (cx.depth == 1) { \/\/ Inside of tag\n        if (stream.peek() == \"<\") { \/\/ Tag inside of tag\n          xmlMode.skipAttribute(cx.state)\n          state.context = new Context(CodeMirror.startState(xmlMode, flatXMLIndent(cx.state)),\n                                      xmlMode, 0, state.context)\n          return null\n        } else if (stream.match(\"\/\/\")) {\n          stream.skipToEnd()\n          return \"comment\"\n        } else if (stream.match(\"\/*\")) {\n          cx.depth = 2\n          return token(stream, state)\n        }\n      }\n\n      var style = xmlMode.token(stream, cx.state), cur = stream.current(), stop\n      if (\/\\btag\\b\/.test(style)) {\n        if (\/>$\/.test(cur)) {\n          if (cx.state.context) cx.depth = 0\n          else state.context = state.context.prev\n        } else if (\/^<\/.test(cur)) {\n          cx.depth = 1\n        }\n      } else if (!style && (stop = cur.indexOf(\"{\")) > -1) {\n        stream.backUp(cur.length - stop)\n      }\n      return style\n    }\n\n    function jsToken(stream, state, cx) {\n      if (stream.peek() == \"<\" && jsMode.expressionAllowed(stream, cx.state)) {\n        jsMode.skipExpression(cx.state)\n        state.context = new Context(CodeMirror.startState(xmlMode, jsMode.indent(cx.state, \"\", \"\")),\n                                    xmlMode, 0, state.context)\n        return null\n      }\n\n      var style = jsMode.token(stream, cx.state)\n      if (!style && cx.depth != null) {\n        var cur = stream.current()\n        if (cur == \"{\") {\n          cx.depth++\n        } else if (cur == \"}\") {\n          if (--cx.depth == 0) state.context = state.context.prev\n        }\n      }\n      return style\n    }\n\n    return {\n      startState: function() {\n        return {context: new Context(CodeMirror.startState(jsMode), jsMode)}\n      },\n\n      copyState: function(state) {\n        return {context: copyContext(state.context)}\n      },\n\n      token: token,\n\n      indent: function(state, textAfter, fullLine) {\n        return state.context.mode.indent(state.context.state, textAfter, fullLine)\n      },\n\n      innerMode: function(state) {\n        return state.context\n      }\n    }\n  }, \"xml\", \"javascript\")\n\n  CodeMirror.defineMIME(\"text\/jsx\", \"jsx\")\n  CodeMirror.defineMIME(\"text\/typescript-jsx\", {name: \"jsx\", base: {name: \"javascript\", typescript: true}})\n});\n\n};","shadow$provide[263] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nfunction Context(indented, column, type, info, align, prev) {\n  this.indented = indented;\n  this.column = column;\n  this.type = type;\n  this.info = info;\n  this.align = align;\n  this.prev = prev;\n}\nfunction pushContext(state, col, type, info) {\n  var indent = state.indented;\n  if (state.context && state.context.type == \"statement\" && type != \"statement\")\n    indent = state.context.indented;\n  return state.context = new Context(indent, col, type, info, null, state.context);\n}\nfunction popContext(state) {\n  var t = state.context.type;\n  if (t == \")\" || t == \"]\" || t == \"}\")\n    state.indented = state.context.indented;\n  return state.context = state.context.prev;\n}\n\nfunction typeBefore(stream, state, pos) {\n  if (state.prevToken == \"variable\" || state.prevToken == \"type\") return true;\n  if (\/\\S(?:[^- ]>|[*\\]])\\s*$|\\*$\/.test(stream.string.slice(0, pos))) return true;\n  if (state.typeAtEndOfLine && stream.column() == stream.indentation()) return true;\n}\n\nfunction isTopScope(context) {\n  for (;;) {\n    if (!context || context.type == \"top\") return true;\n    if (context.type == \"}\" && context.prev.info != \"namespace\") return false;\n    context = context.prev;\n  }\n}\n\nCodeMirror.defineMode(\"clike\", function(config, parserConfig) {\n  var indentUnit = config.indentUnit,\n      statementIndentUnit = parserConfig.statementIndentUnit || indentUnit,\n      dontAlignCalls = parserConfig.dontAlignCalls,\n      keywords = parserConfig.keywords || {},\n      types = parserConfig.types || {},\n      builtin = parserConfig.builtin || {},\n      blockKeywords = parserConfig.blockKeywords || {},\n      defKeywords = parserConfig.defKeywords || {},\n      atoms = parserConfig.atoms || {},\n      hooks = parserConfig.hooks || {},\n      multiLineStrings = parserConfig.multiLineStrings,\n      indentStatements = parserConfig.indentStatements !== false,\n      indentSwitch = parserConfig.indentSwitch !== false,\n      namespaceSeparator = parserConfig.namespaceSeparator,\n      isPunctuationChar = parserConfig.isPunctuationChar || \/[\\[\\]{}\\(\\),;\\:\\.]\/,\n      numberStart = parserConfig.numberStart || \/[\\d\\.]\/,\n      number = parserConfig.number || \/^(?:0x[a-f\\d]+|0b[01]+|(?:\\d+\\.?\\d*|\\.\\d+)(?:e[-+]?\\d+)?)(u|ll?|l|f)?\/i,\n      isOperatorChar = parserConfig.isOperatorChar || \/[+\\-*&%=<>!?|\\\/]\/,\n      isIdentifierChar = parserConfig.isIdentifierChar || \/[\\w\\$_\\xa1-\\uffff]\/,\n      \/\/ An optional function that takes a {string} token and returns true if it\n      \/\/ should be treated as a builtin.\n      isReservedIdentifier = parserConfig.isReservedIdentifier || false;\n\n  var curPunc, isDefKeyword;\n\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (hooks[ch]) {\n      var result = hooks[ch](stream, state);\n      if (result !== false) return result;\n    }\n    if (ch == '\"' || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    }\n    if (numberStart.test(ch)) {\n      stream.backUp(1)\n      if (stream.match(number)) return \"number\"\n      stream.next()\n    }\n    if (isPunctuationChar.test(ch)) {\n      curPunc = ch;\n      return null;\n    }\n    if (ch == \"\/\") {\n      if (stream.eat(\"*\")) {\n        state.tokenize = tokenComment;\n        return tokenComment(stream, state);\n      }\n      if (stream.eat(\"\/\")) {\n        stream.skipToEnd();\n        return \"comment\";\n      }\n    }\n    if (isOperatorChar.test(ch)) {\n      while (!stream.match(\/^\\\/[\\\/*]\/, false) && stream.eat(isOperatorChar)) {}\n      return \"operator\";\n    }\n    stream.eatWhile(isIdentifierChar);\n    if (namespaceSeparator) while (stream.match(namespaceSeparator))\n      stream.eatWhile(isIdentifierChar);\n\n    var cur = stream.current();\n    if (contains(keywords, cur)) {\n      if (contains(blockKeywords, cur)) curPunc = \"newstatement\";\n      if (contains(defKeywords, cur)) isDefKeyword = true;\n      return \"keyword\";\n    }\n    if (contains(types, cur)) return \"type\";\n    if (contains(builtin, cur)\n        || (isReservedIdentifier && isReservedIdentifier(cur))) {\n      if (contains(blockKeywords, cur)) curPunc = \"newstatement\";\n      return \"builtin\";\n    }\n    if (contains(atoms, cur)) return \"atom\";\n    return \"variable\";\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, next, end = false;\n      while ((next = stream.next()) != null) {\n        if (next == quote && !escaped) {end = true; break;}\n        escaped = !escaped && next == \"\\\\\";\n      }\n      if (end || !(escaped || multiLineStrings))\n        state.tokenize = null;\n      return \"string\";\n    };\n  }\n\n  function tokenComment(stream, state) {\n    var maybeEnd = false, ch;\n    while (ch = stream.next()) {\n      if (ch == \"\/\" && maybeEnd) {\n        state.tokenize = null;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return \"comment\";\n  }\n\n  function maybeEOL(stream, state) {\n    if (parserConfig.typeFirstDefinitions && stream.eol() && isTopScope(state.context))\n      state.typeAtEndOfLine = typeBefore(stream, state, stream.pos)\n  }\n\n  \/\/ Interface\n\n  return {\n    startState: function(basecolumn) {\n      return {\n        tokenize: null,\n        context: new Context((basecolumn || 0) - indentUnit, 0, \"top\", null, false),\n        indented: 0,\n        startOfLine: true,\n        prevToken: null\n      };\n    },\n\n    token: function(stream, state) {\n      var ctx = state.context;\n      if (stream.sol()) {\n        if (ctx.align == null) ctx.align = false;\n        state.indented = stream.indentation();\n        state.startOfLine = true;\n      }\n      if (stream.eatSpace()) { maybeEOL(stream, state); return null; }\n      curPunc = isDefKeyword = null;\n      var style = (state.tokenize || tokenBase)(stream, state);\n      if (style == \"comment\" || style == \"meta\") return style;\n      if (ctx.align == null) ctx.align = true;\n\n      if (curPunc == \";\" || curPunc == \":\" || (curPunc == \",\" && stream.match(\/^\\s*(?:\\\/\\\/.*)?$\/, false)))\n        while (state.context.type == \"statement\") popContext(state);\n      else if (curPunc == \"{\") pushContext(state, stream.column(), \"}\");\n      else if (curPunc == \"[\") pushContext(state, stream.column(), \"]\");\n      else if (curPunc == \"(\") pushContext(state, stream.column(), \")\");\n      else if (curPunc == \"}\") {\n        while (ctx.type == \"statement\") ctx = popContext(state);\n        if (ctx.type == \"}\") ctx = popContext(state);\n        while (ctx.type == \"statement\") ctx = popContext(state);\n      }\n      else if (curPunc == ctx.type) popContext(state);\n      else if (indentStatements &&\n               (((ctx.type == \"}\" || ctx.type == \"top\") && curPunc != \";\") ||\n                (ctx.type == \"statement\" && curPunc == \"newstatement\"))) {\n        pushContext(state, stream.column(), \"statement\", stream.current());\n      }\n\n      if (style == \"variable\" &&\n          ((state.prevToken == \"def\" ||\n            (parserConfig.typeFirstDefinitions && typeBefore(stream, state, stream.start) &&\n             isTopScope(state.context) && stream.match(\/^\\s*\\(\/, false)))))\n        style = \"def\";\n\n      if (hooks.token) {\n        var result = hooks.token(stream, state, style);\n        if (result !== undefined) style = result;\n      }\n\n      if (style == \"def\" && parserConfig.styleDefs === false) style = \"variable\";\n\n      state.startOfLine = false;\n      state.prevToken = isDefKeyword ? \"def\" : style || curPunc;\n      maybeEOL(stream, state);\n      return style;\n    },\n\n    indent: function(state, textAfter) {\n      if (state.tokenize != tokenBase && state.tokenize != null || state.typeAtEndOfLine) return CodeMirror.Pass;\n      var ctx = state.context, firstChar = textAfter && textAfter.charAt(0);\n      var closing = firstChar == ctx.type;\n      if (ctx.type == \"statement\" && firstChar == \"}\") ctx = ctx.prev;\n      if (parserConfig.dontIndentStatements)\n        while (ctx.type == \"statement\" && parserConfig.dontIndentStatements.test(ctx.info))\n          ctx = ctx.prev\n      if (hooks.indent) {\n        var hook = hooks.indent(state, ctx, textAfter, indentUnit);\n        if (typeof hook == \"number\") return hook\n      }\n      var switchBlock = ctx.prev && ctx.prev.info == \"switch\";\n      if (parserConfig.allmanIndentation && \/[{(]\/.test(firstChar)) {\n        while (ctx.type != \"top\" && ctx.type != \"}\") ctx = ctx.prev\n        return ctx.indented\n      }\n      if (ctx.type == \"statement\")\n        return ctx.indented + (firstChar == \"{\" ? 0 : statementIndentUnit);\n      if (ctx.align && (!dontAlignCalls || ctx.type != \")\"))\n        return ctx.column + (closing ? 0 : 1);\n      if (ctx.type == \")\" && !closing)\n        return ctx.indented + statementIndentUnit;\n\n      return ctx.indented + (closing ? 0 : indentUnit) +\n        (!closing && switchBlock && !\/^(?:case|default)\\b\/.test(textAfter) ? indentUnit : 0);\n    },\n\n    electricInput: indentSwitch ? \/^\\s*(?:case .*?:|default:|\\{\\}?|\\})$\/ : \/^\\s*[{}]$\/,\n    blockCommentStart: \"\/*\",\n    blockCommentEnd: \"*\/\",\n    blockCommentContinue: \" * \",\n    lineComment: \"\/\/\",\n    fold: \"brace\"\n  };\n});\n\n  function words(str) {\n    var obj = {}, words = str.split(\" \");\n    for (var i = 0; i < words.length; ++i) obj[words[i]] = true;\n    return obj;\n  }\n  function contains(words, word) {\n    if (typeof words === \"function\") {\n      return words(word);\n    } else {\n      return words.propertyIsEnumerable(word);\n    }\n  }\n  var cKeywords = \"auto if break case register continue return default do sizeof \" +\n    \"static else struct switch extern typedef union for goto while enum const \" +\n    \"volatile inline restrict asm fortran\";\n\n  \/\/ Keywords from https:\/\/en.cppreference.com\/w\/cpp\/keyword includes C++20.\n  var cppKeywords = \"alignas alignof and and_eq audit axiom bitand bitor catch \" +\n  \"class compl concept constexpr const_cast decltype delete dynamic_cast \" +\n  \"explicit export final friend import module mutable namespace new noexcept \" +\n  \"not not_eq operator or or_eq override private protected public \" +\n  \"reinterpret_cast requires static_assert static_cast template this \" +\n  \"thread_local throw try typeid typename using virtual xor xor_eq\";\n\n  var objCKeywords = \"bycopy byref in inout oneway out self super atomic nonatomic retain copy \" +\n  \"readwrite readonly strong weak assign typeof nullable nonnull null_resettable _cmd \" +\n  \"@interface @implementation @end @protocol @encode @property @synthesize @dynamic @class \" +\n  \"@public @package @private @protected @required @optional @try @catch @finally @import \" +\n  \"@selector @encode @defs @synchronized @autoreleasepool @compatibility_alias @available\";\n\n  var objCBuiltins = \"FOUNDATION_EXPORT FOUNDATION_EXTERN NS_INLINE NS_FORMAT_FUNCTION \" +\n  \" NS_RETURNS_RETAINEDNS_ERROR_ENUM NS_RETURNS_NOT_RETAINED NS_RETURNS_INNER_POINTER \" +\n  \"NS_DESIGNATED_INITIALIZER NS_ENUM NS_OPTIONS NS_REQUIRES_NIL_TERMINATION \" +\n  \"NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_SWIFT_NAME NS_REFINED_FOR_SWIFT\"\n\n  \/\/ Do not use this. Use the cTypes function below. This is global just to avoid\n  \/\/ excessive calls when cTypes is being called multiple times during a parse.\n  var basicCTypes = words(\"int long char short double float unsigned signed \" +\n    \"void bool\");\n\n  \/\/ Do not use this. Use the objCTypes function below. This is global just to avoid\n  \/\/ excessive calls when objCTypes is being called multiple times during a parse.\n  var basicObjCTypes = words(\"SEL instancetype id Class Protocol BOOL\");\n\n  \/\/ Returns true if identifier is a \"C\" type.\n  \/\/ C type is defined as those that are reserved by the compiler (basicTypes),\n  \/\/ and those that end in _t (Reserved by POSIX for types)\n  \/\/ http:\/\/www.gnu.org\/software\/libc\/manual\/html_node\/Reserved-Names.html\n  function cTypes(identifier) {\n    return contains(basicCTypes, identifier) || \/.+_t$\/.test(identifier);\n  }\n\n  \/\/ Returns true if identifier is a \"Objective C\" type.\n  function objCTypes(identifier) {\n    return cTypes(identifier) || contains(basicObjCTypes, identifier);\n  }\n\n  var cBlockKeywords = \"case do else for if switch while struct enum union\";\n  var cDefKeywords = \"struct enum union\";\n\n  function cppHook(stream, state) {\n    if (!state.startOfLine) return false\n    for (var ch, next = null; ch = stream.peek();) {\n      if (ch == \"\\\\\" && stream.match(\/^.$\/)) {\n        next = cppHook\n        break\n      } else if (ch == \"\/\" && stream.match(\/^\\\/[\\\/\\*]\/, false)) {\n        break\n      }\n      stream.next()\n    }\n    state.tokenize = next\n    return \"meta\"\n  }\n\n  function pointerHook(_stream, state) {\n    if (state.prevToken == \"type\") return \"type\";\n    return false;\n  }\n\n  \/\/ For C and C++ (and ObjC): identifiers starting with __\n  \/\/ or _ followed by a capital letter are reserved for the compiler.\n  function cIsReservedIdentifier(token) {\n    if (!token || token.length < 2) return false;\n    if (token[0] != '_') return false;\n    return (token[1] == '_') || (token[1] !== token[1].toLowerCase());\n  }\n\n  function cpp14Literal(stream) {\n    stream.eatWhile(\/[\\w\\.']\/);\n    return \"number\";\n  }\n\n  function cpp11StringHook(stream, state) {\n    stream.backUp(1);\n    \/\/ Raw strings.\n    if (stream.match(\/^(?:R|u8R|uR|UR|LR)\/)) {\n      var match = stream.match(\/^\"([^\\s\\\\()]{0,16})\\(\/);\n      if (!match) {\n        return false;\n      }\n      state.cpp11RawStringDelim = match[1];\n      state.tokenize = tokenRawString;\n      return tokenRawString(stream, state);\n    }\n    \/\/ Unicode strings\/chars.\n    if (stream.match(\/^(?:u8|u|U|L)\/)) {\n      if (stream.match(\/^[\"']\/, \/* eat *\/ false)) {\n        return \"string\";\n      }\n      return false;\n    }\n    \/\/ Ignore this hook.\n    stream.next();\n    return false;\n  }\n\n  function cppLooksLikeConstructor(word) {\n    var lastTwo = \/(\\w+)::~?(\\w+)$\/.exec(word);\n    return lastTwo && lastTwo[1] == lastTwo[2];\n  }\n\n  \/\/ C#-style strings where \"\" escapes a quote.\n  function tokenAtString(stream, state) {\n    var next;\n    while ((next = stream.next()) != null) {\n      if (next == '\"' && !stream.eat('\"')) {\n        state.tokenize = null;\n        break;\n      }\n    }\n    return \"string\";\n  }\n\n  \/\/ C++11 raw string literal is <prefix>\"<delim>( anything )<delim>\", where\n  \/\/ <delim> can be a string up to 16 characters long.\n  function tokenRawString(stream, state) {\n    \/\/ Escape characters that have special regex meanings.\n    var delim = state.cpp11RawStringDelim.replace(\/[^\\w\\s]\/g, '\\\\$&');\n    var match = stream.match(new RegExp(\".*?\\\\)\" + delim + '\"'));\n    if (match)\n      state.tokenize = null;\n    else\n      stream.skipToEnd();\n    return \"string\";\n  }\n\n  function def(mimes, mode) {\n    if (typeof mimes == \"string\") mimes = [mimes];\n    var words = [];\n    function add(obj) {\n      if (obj) for (var prop in obj) if (obj.hasOwnProperty(prop))\n        words.push(prop);\n    }\n    add(mode.keywords);\n    add(mode.types);\n    add(mode.builtin);\n    add(mode.atoms);\n    if (words.length) {\n      mode.helperType = mimes[0];\n      CodeMirror.registerHelper(\"hintWords\", mimes[0], words);\n    }\n\n    for (var i = 0; i < mimes.length; ++i)\n      CodeMirror.defineMIME(mimes[i], mode);\n  }\n\n  def([\"text\/x-csrc\", \"text\/x-c\", \"text\/x-chdr\"], {\n    name: \"clike\",\n    keywords: words(cKeywords),\n    types: cTypes,\n    blockKeywords: words(cBlockKeywords),\n    defKeywords: words(cDefKeywords),\n    typeFirstDefinitions: true,\n    atoms: words(\"NULL true false\"),\n    isReservedIdentifier: cIsReservedIdentifier,\n    hooks: {\n      \"#\": cppHook,\n      \"*\": pointerHook,\n    },\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def([\"text\/x-c++src\", \"text\/x-c++hdr\"], {\n    name: \"clike\",\n    keywords: words(cKeywords + \" \" + cppKeywords),\n    types: cTypes,\n    blockKeywords: words(cBlockKeywords + \" class try catch\"),\n    defKeywords: words(cDefKeywords + \" class namespace\"),\n    typeFirstDefinitions: true,\n    atoms: words(\"true false NULL nullptr\"),\n    dontIndentStatements: \/^template$\/,\n    isIdentifierChar: \/[\\w\\$_~\\xa1-\\uffff]\/,\n    isReservedIdentifier: cIsReservedIdentifier,\n    hooks: {\n      \"#\": cppHook,\n      \"*\": pointerHook,\n      \"u\": cpp11StringHook,\n      \"U\": cpp11StringHook,\n      \"L\": cpp11StringHook,\n      \"R\": cpp11StringHook,\n      \"0\": cpp14Literal,\n      \"1\": cpp14Literal,\n      \"2\": cpp14Literal,\n      \"3\": cpp14Literal,\n      \"4\": cpp14Literal,\n      \"5\": cpp14Literal,\n      \"6\": cpp14Literal,\n      \"7\": cpp14Literal,\n      \"8\": cpp14Literal,\n      \"9\": cpp14Literal,\n      token: function(stream, state, style) {\n        if (style == \"variable\" && stream.peek() == \"(\" &&\n            (state.prevToken == \";\" || state.prevToken == null ||\n             state.prevToken == \"}\") &&\n            cppLooksLikeConstructor(stream.current()))\n          return \"def\";\n      }\n    },\n    namespaceSeparator: \"::\",\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text\/x-java\", {\n    name: \"clike\",\n    keywords: words(\"abstract assert break case catch class const continue default \" +\n                    \"do else enum extends final finally for goto if implements import \" +\n                    \"instanceof interface native new package private protected public \" +\n                    \"return static strictfp super switch synchronized this throw throws transient \" +\n                    \"try volatile while @interface\"),\n    types: words(\"byte short int long float double boolean char void Boolean Byte Character Double Float \" +\n                 \"Integer Long Number Object Short String StringBuffer StringBuilder Void\"),\n    blockKeywords: words(\"catch class do else finally for if switch try while\"),\n    defKeywords: words(\"class interface enum @interface\"),\n    typeFirstDefinitions: true,\n    atoms: words(\"true false null\"),\n    number: \/^(?:0x[a-f\\d_]+|0b[01_]+|(?:[\\d_]+\\.?\\d*|\\.\\d+)(?:e[-+]?[\\d_]+)?)(u|ll?|l|f)?\/i,\n    hooks: {\n      \"@\": function(stream) {\n        \/\/ Don't match the @interface keyword.\n        if (stream.match('interface', false)) return false;\n\n        stream.eatWhile(\/[\\w\\$_]\/);\n        return \"meta\";\n      }\n    },\n    modeProps: {fold: [\"brace\", \"import\"]}\n  });\n\n  def(\"text\/x-csharp\", {\n    name: \"clike\",\n    keywords: words(\"abstract as async await base break case catch checked class const continue\" +\n                    \" default delegate do else enum event explicit extern finally fixed for\" +\n                    \" foreach goto if implicit in interface internal is lock namespace new\" +\n                    \" operator out override params private protected public readonly ref return sealed\" +\n                    \" sizeof stackalloc static struct switch this throw try typeof unchecked\" +\n                    \" unsafe using virtual void volatile while add alias ascending descending dynamic from get\" +\n                    \" global group into join let orderby partial remove select set value var yield\"),\n    types: words(\"Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func\" +\n                 \" Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32\" +\n                 \" UInt64 bool byte char decimal double short int long object\"  +\n                 \" sbyte float string ushort uint ulong\"),\n    blockKeywords: words(\"catch class do else finally for foreach if struct switch try while\"),\n    defKeywords: words(\"class interface namespace struct var\"),\n    typeFirstDefinitions: true,\n    atoms: words(\"true false null\"),\n    hooks: {\n      \"@\": function(stream, state) {\n        if (stream.eat('\"')) {\n          state.tokenize = tokenAtString;\n          return tokenAtString(stream, state);\n        }\n        stream.eatWhile(\/[\\w\\$_]\/);\n        return \"meta\";\n      }\n    }\n  });\n\n  function tokenTripleString(stream, state) {\n    var escaped = false;\n    while (!stream.eol()) {\n      if (!escaped && stream.match('\"\"\"')) {\n        state.tokenize = null;\n        break;\n      }\n      escaped = stream.next() == \"\\\\\" && !escaped;\n    }\n    return \"string\";\n  }\n\n  function tokenNestedComment(depth) {\n    return function (stream, state) {\n      var ch\n      while (ch = stream.next()) {\n        if (ch == \"*\" && stream.eat(\"\/\")) {\n          if (depth == 1) {\n            state.tokenize = null\n            break\n          } else {\n            state.tokenize = tokenNestedComment(depth - 1)\n            return state.tokenize(stream, state)\n          }\n        } else if (ch == \"\/\" && stream.eat(\"*\")) {\n          state.tokenize = tokenNestedComment(depth + 1)\n          return state.tokenize(stream, state)\n        }\n      }\n      return \"comment\"\n    }\n  }\n\n  def(\"text\/x-scala\", {\n    name: \"clike\",\n    keywords: words(\n      \/* scala *\/\n      \"abstract case catch class def do else extends final finally for forSome if \" +\n      \"implicit import lazy match new null object override package private protected return \" +\n      \"sealed super this throw trait try type val var while with yield _ \" +\n\n      \/* package scala *\/\n      \"assert assume require print println printf readLine readBoolean readByte readShort \" +\n      \"readChar readInt readLong readFloat readDouble\"\n    ),\n    types: words(\n      \"AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either \" +\n      \"Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable \" +\n      \"Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering \" +\n      \"Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder \" +\n      \"StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector \" +\n\n      \/* package java.lang *\/\n      \"Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable \" +\n      \"Compiler Double Exception Float Integer Long Math Number Object Package Pair Process \" +\n      \"Runtime Runnable SecurityManager Short StackTraceElement StrictMath String \" +\n      \"StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void\"\n    ),\n    multiLineStrings: true,\n    blockKeywords: words(\"catch class enum do else finally for forSome if match switch try while\"),\n    defKeywords: words(\"class enum def object package trait type val var\"),\n    atoms: words(\"true false null\"),\n    indentStatements: false,\n    indentSwitch: false,\n    isOperatorChar: \/[+\\-*&%=<>!?|\\\/#:@]\/,\n    hooks: {\n      \"@\": function(stream) {\n        stream.eatWhile(\/[\\w\\$_]\/);\n        return \"meta\";\n      },\n      '\"': function(stream, state) {\n        if (!stream.match('\"\"')) return false;\n        state.tokenize = tokenTripleString;\n        return state.tokenize(stream, state);\n      },\n      \"'\": function(stream) {\n        stream.eatWhile(\/[\\w\\$_\\xa1-\\uffff]\/);\n        return \"atom\";\n      },\n      \"=\": function(stream, state) {\n        var cx = state.context\n        if (cx.type == \"}\" && cx.align && stream.eat(\">\")) {\n          state.context = new Context(cx.indented, cx.column, cx.type, cx.info, null, cx.prev)\n          return \"operator\"\n        } else {\n          return false\n        }\n      },\n\n      \"\/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false\n        state.tokenize = tokenNestedComment(1)\n        return state.tokenize(stream, state)\n      }\n    },\n    modeProps: {closeBrackets: {pairs: '()[]{}\"\"', triples: '\"'}}\n  });\n\n  function tokenKotlinString(tripleString){\n    return function (stream, state) {\n      var escaped = false, next, end = false;\n      while (!stream.eol()) {\n        if (!tripleString && !escaped && stream.match('\"') ) {end = true; break;}\n        if (tripleString && stream.match('\"\"\"')) {end = true; break;}\n        next = stream.next();\n        if(!escaped && next == \"$\" && stream.match('{'))\n          stream.skipTo(\"}\");\n        escaped = !escaped && next == \"\\\\\" && !tripleString;\n      }\n      if (end || !tripleString)\n        state.tokenize = null;\n      return \"string\";\n    }\n  }\n\n  def(\"text\/x-kotlin\", {\n    name: \"clike\",\n    keywords: words(\n      \/*keywords*\/\n      \"package as typealias class interface this super val operator \" +\n      \"var fun for is in This throw return annotation \" +\n      \"break continue object if else while do try when !in !is as? \" +\n\n      \/*soft keywords*\/\n      \"file import where by get set abstract enum open inner override private public internal \" +\n      \"protected catch finally out final vararg reified dynamic companion constructor init \" +\n      \"sealed field property receiver param sparam lateinit data inline noinline tailrec \" +\n      \"external annotation crossinline const operator infix suspend actual expect setparam\"\n    ),\n    types: words(\n      \/* package java.lang *\/\n      \"Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable \" +\n      \"Compiler Double Exception Float Integer Long Math Number Object Package Pair Process \" +\n      \"Runtime Runnable SecurityManager Short StackTraceElement StrictMath String \" +\n      \"StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void Annotation Any BooleanArray \" +\n      \"ByteArray Char CharArray DeprecationLevel DoubleArray Enum FloatArray Function Int IntArray Lazy \" +\n      \"LazyThreadSafetyMode LongArray Nothing ShortArray Unit\"\n    ),\n    intendSwitch: false,\n    indentStatements: false,\n    multiLineStrings: true,\n    number: \/^(?:0x[a-f\\d_]+|0b[01_]+|(?:[\\d_]+(\\.\\d+)?|\\.\\d+)(?:e[-+]?[\\d_]+)?)(u|ll?|l|f)?\/i,\n    blockKeywords: words(\"catch class do else finally for if where try while enum\"),\n    defKeywords: words(\"class val var object interface fun\"),\n    atoms: words(\"true false null this\"),\n    hooks: {\n      \"@\": function(stream) {\n        stream.eatWhile(\/[\\w\\$_]\/);\n        return \"meta\";\n      },\n      '*': function(_stream, state) {\n        return state.prevToken == '.' ? 'variable' : 'operator';\n      },\n      '\"': function(stream, state) {\n        state.tokenize = tokenKotlinString(stream.match('\"\"'));\n        return state.tokenize(stream, state);\n      },\n      \"\/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false;\n        state.tokenize = tokenNestedComment(1);\n        return state.tokenize(stream, state)\n      },\n      indent: function(state, ctx, textAfter, indentUnit) {\n        var firstChar = textAfter && textAfter.charAt(0);\n        if ((state.prevToken == \"}\" || state.prevToken == \")\") && textAfter == \"\")\n          return state.indented;\n        if ((state.prevToken == \"operator\" && textAfter != \"}\" && state.context.type != \"}\") ||\n          state.prevToken == \"variable\" && firstChar == \".\" ||\n          (state.prevToken == \"}\" || state.prevToken == \")\") && firstChar == \".\")\n          return indentUnit * 2 + ctx.indented;\n        if (ctx.align && ctx.type == \"}\")\n          return ctx.indented + (state.context.type == (textAfter || \"\").charAt(0) ? 0 : indentUnit);\n      }\n    },\n    modeProps: {closeBrackets: {triples: '\"'}}\n  });\n\n  def([\"x-shader\/x-vertex\", \"x-shader\/x-fragment\"], {\n    name: \"clike\",\n    keywords: words(\"sampler1D sampler2D sampler3D samplerCube \" +\n                    \"sampler1DShadow sampler2DShadow \" +\n                    \"const attribute uniform varying \" +\n                    \"break continue discard return \" +\n                    \"for while do if else struct \" +\n                    \"in out inout\"),\n    types: words(\"float int bool void \" +\n                 \"vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 \" +\n                 \"mat2 mat3 mat4\"),\n    blockKeywords: words(\"for while do if else struct\"),\n    builtin: words(\"radians degrees sin cos tan asin acos atan \" +\n                    \"pow exp log exp2 sqrt inversesqrt \" +\n                    \"abs sign floor ceil fract mod min max clamp mix step smoothstep \" +\n                    \"length distance dot cross normalize ftransform faceforward \" +\n                    \"reflect refract matrixCompMult \" +\n                    \"lessThan lessThanEqual greaterThan greaterThanEqual \" +\n                    \"equal notEqual any all not \" +\n                    \"texture1D texture1DProj texture1DLod texture1DProjLod \" +\n                    \"texture2D texture2DProj texture2DLod texture2DProjLod \" +\n                    \"texture3D texture3DProj texture3DLod texture3DProjLod \" +\n                    \"textureCube textureCubeLod \" +\n                    \"shadow1D shadow2D shadow1DProj shadow2DProj \" +\n                    \"shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod \" +\n                    \"dFdx dFdy fwidth \" +\n                    \"noise1 noise2 noise3 noise4\"),\n    atoms: words(\"true false \" +\n                \"gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex \" +\n                \"gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 \" +\n                \"gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 \" +\n                \"gl_FogCoord gl_PointCoord \" +\n                \"gl_Position gl_PointSize gl_ClipVertex \" +\n                \"gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor \" +\n                \"gl_TexCoord gl_FogFragCoord \" +\n                \"gl_FragCoord gl_FrontFacing \" +\n                \"gl_FragData gl_FragDepth \" +\n                \"gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix \" +\n                \"gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse \" +\n                \"gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse \" +\n                \"gl_TextureMatrixTranspose gl_ModelViewMatrixInverseTranspose \" +\n                \"gl_ProjectionMatrixInverseTranspose \" +\n                \"gl_ModelViewProjectionMatrixInverseTranspose \" +\n                \"gl_TextureMatrixInverseTranspose \" +\n                \"gl_NormalScale gl_DepthRange gl_ClipPlane \" +\n                \"gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel \" +\n                \"gl_FrontLightModelProduct gl_BackLightModelProduct \" +\n                \"gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ \" +\n                \"gl_FogParameters \" +\n                \"gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords \" +\n                \"gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats \" +\n                \"gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits \" +\n                \"gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits \" +\n                \"gl_MaxDrawBuffers\"),\n    indentSwitch: false,\n    hooks: {\"#\": cppHook},\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text\/x-nesc\", {\n    name: \"clike\",\n    keywords: words(cKeywords + \" as atomic async call command component components configuration event generic \" +\n                    \"implementation includes interface module new norace nx_struct nx_union post provides \" +\n                    \"signal task uses abstract extends\"),\n    types: cTypes,\n    blockKeywords: words(cBlockKeywords),\n    atoms: words(\"null true false\"),\n    hooks: {\"#\": cppHook},\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text\/x-objectivec\", {\n    name: \"clike\",\n    keywords: words(cKeywords + \" \" + objCKeywords),\n    types: objCTypes,\n    builtin: words(objCBuiltins),\n    blockKeywords: words(cBlockKeywords + \" @synthesize @try @catch @finally @autoreleasepool @synchronized\"),\n    defKeywords: words(cDefKeywords + \" @interface @implementation @protocol @class\"),\n    dontIndentStatements: \/^@.*$\/,\n    typeFirstDefinitions: true,\n    atoms: words(\"YES NO NULL Nil nil true false nullptr\"),\n    isReservedIdentifier: cIsReservedIdentifier,\n    hooks: {\n      \"#\": cppHook,\n      \"*\": pointerHook,\n    },\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text\/x-objectivec++\", {\n    name: \"clike\",\n    keywords: words(cKeywords + \" \" + objCKeywords + \" \" + cppKeywords),\n    types: objCTypes,\n    builtin: words(objCBuiltins),\n    blockKeywords: words(cBlockKeywords + \" @synthesize @try @catch @finally @autoreleasepool @synchronized class try catch\"),\n    defKeywords: words(cDefKeywords + \" @interface @implementation @protocol @class class namespace\"),\n    dontIndentStatements: \/^@.*$|^template$\/,\n    typeFirstDefinitions: true,\n    atoms: words(\"YES NO NULL Nil nil true false nullptr\"),\n    isReservedIdentifier: cIsReservedIdentifier,\n    hooks: {\n      \"#\": cppHook,\n      \"*\": pointerHook,\n      \"u\": cpp11StringHook,\n      \"U\": cpp11StringHook,\n      \"L\": cpp11StringHook,\n      \"R\": cpp11StringHook,\n      \"0\": cpp14Literal,\n      \"1\": cpp14Literal,\n      \"2\": cpp14Literal,\n      \"3\": cpp14Literal,\n      \"4\": cpp14Literal,\n      \"5\": cpp14Literal,\n      \"6\": cpp14Literal,\n      \"7\": cpp14Literal,\n      \"8\": cpp14Literal,\n      \"9\": cpp14Literal,\n      token: function(stream, state, style) {\n        if (style == \"variable\" && stream.peek() == \"(\" &&\n            (state.prevToken == \";\" || state.prevToken == null ||\n             state.prevToken == \"}\") &&\n            cppLooksLikeConstructor(stream.current()))\n          return \"def\";\n      }\n    },\n    namespaceSeparator: \"::\",\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text\/x-squirrel\", {\n    name: \"clike\",\n    keywords: words(\"base break clone continue const default delete enum extends function in class\" +\n                    \" foreach local resume return this throw typeof yield constructor instanceof static\"),\n    types: cTypes,\n    blockKeywords: words(\"case catch class else for foreach if switch try while\"),\n    defKeywords: words(\"function local class\"),\n    typeFirstDefinitions: true,\n    atoms: words(\"true false null\"),\n    hooks: {\"#\": cppHook},\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  \/\/ Ceylon Strings need to deal with interpolation\n  var stringTokenizer = null;\n  function tokenCeylonString(type) {\n    return function(stream, state) {\n      var escaped = false, next, end = false;\n      while (!stream.eol()) {\n        if (!escaped && stream.match('\"') &&\n              (type == \"single\" || stream.match('\"\"'))) {\n          end = true;\n          break;\n        }\n        if (!escaped && stream.match('``')) {\n          stringTokenizer = tokenCeylonString(type);\n          end = true;\n          break;\n        }\n        next = stream.next();\n        escaped = type == \"single\" && !escaped && next == \"\\\\\";\n      }\n      if (end)\n          state.tokenize = null;\n      return \"string\";\n    }\n  }\n\n  def(\"text\/x-ceylon\", {\n    name: \"clike\",\n    keywords: words(\"abstracts alias assembly assert assign break case catch class continue dynamic else\" +\n                    \" exists extends finally for function given if import in interface is let module new\" +\n                    \" nonempty object of out outer package return satisfies super switch then this throw\" +\n                    \" try value void while\"),\n    types: function(word) {\n        \/\/ In Ceylon all identifiers that start with an uppercase are types\n        var first = word.charAt(0);\n        return (first === first.toUpperCase() && first !== first.toLowerCase());\n    },\n    blockKeywords: words(\"case catch class dynamic else finally for function if interface module new object switch try while\"),\n    defKeywords: words(\"class dynamic function interface module object package value\"),\n    builtin: words(\"abstract actual aliased annotation by default deprecated doc final formal late license\" +\n                   \" native optional sealed see serializable shared suppressWarnings tagged throws variable\"),\n    isPunctuationChar: \/[\\[\\]{}\\(\\),;\\:\\.`]\/,\n    isOperatorChar: \/[+\\-*&%=<>!?|^~:\\\/]\/,\n    numberStart: \/[\\d#$]\/,\n    number: \/^(?:#[\\da-fA-F_]+|\\$[01_]+|[\\d_]+[kMGTPmunpf]?|[\\d_]+\\.[\\d_]+(?:[eE][-+]?\\d+|[kMGTPmunpf]|)|)\/i,\n    multiLineStrings: true,\n    typeFirstDefinitions: true,\n    atoms: words(\"true false null larger smaller equal empty finished\"),\n    indentSwitch: false,\n    styleDefs: false,\n    hooks: {\n      \"@\": function(stream) {\n        stream.eatWhile(\/[\\w\\$_]\/);\n        return \"meta\";\n      },\n      '\"': function(stream, state) {\n          state.tokenize = tokenCeylonString(stream.match('\"\"') ? \"triple\" : \"single\");\n          return state.tokenize(stream, state);\n        },\n      '`': function(stream, state) {\n          if (!stringTokenizer || !stream.match('`')) return false;\n          state.tokenize = stringTokenizer;\n          stringTokenizer = null;\n          return state.tokenize(stream, state);\n        },\n      \"'\": function(stream) {\n        stream.eatWhile(\/[\\w\\$_\\xa1-\\uffff]\/);\n        return \"atom\";\n      },\n      token: function(_stream, state, style) {\n          if ((style == \"variable\" || style == \"type\") &&\n              state.prevToken == \".\") {\n            return \"variable-2\";\n          }\n        }\n    },\n    modeProps: {\n        fold: [\"brace\", \"import\"],\n        closeBrackets: {triples: '\"'}\n    }\n  });\n\n});\n\n};","shadow$provide[265] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n\/**\n * Link to the project's GitHub page:\n * https:\/\/github.com\/pickhardt\/coffeescript-codemirror-mode\n *\/\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"coffeescript\", function(conf, parserConf) {\n  var ERRORCLASS = \"error\";\n\n  function wordRegexp(words) {\n    return new RegExp(\"^((\" + words.join(\")|(\") + \"))\\\\b\");\n  }\n\n  var operators = \/^(?:->|=>|\\+[+=]?|-[\\-=]?|\\*[\\*=]?|\\\/[\\\/=]?|[=!]=|<[><]?=?|>>?=?|%=?|&=?|\\|=?|\\^=?|\\~|!|\\?|(or|and|\\|\\||&&|\\?)=)\/;\n  var delimiters = \/^(?:[()\\[\\]{},:`=;]|\\.\\.?\\.?)\/;\n  var identifiers = \/^[_A-Za-z$][_A-Za-z$0-9]*\/;\n  var atProp = \/^@[_A-Za-z$][_A-Za-z$0-9]*\/;\n\n  var wordOperators = wordRegexp([\"and\", \"or\", \"not\",\n                                  \"is\", \"isnt\", \"in\",\n                                  \"instanceof\", \"typeof\"]);\n  var indentKeywords = [\"for\", \"while\", \"loop\", \"if\", \"unless\", \"else\",\n                        \"switch\", \"try\", \"catch\", \"finally\", \"class\"];\n  var commonKeywords = [\"break\", \"by\", \"continue\", \"debugger\", \"delete\",\n                        \"do\", \"in\", \"of\", \"new\", \"return\", \"then\",\n                        \"this\", \"@\", \"throw\", \"when\", \"until\", \"extends\"];\n\n  var keywords = wordRegexp(indentKeywords.concat(commonKeywords));\n\n  indentKeywords = wordRegexp(indentKeywords);\n\n\n  var stringPrefixes = \/^('{3}|\\\"{3}|['\\\"])\/;\n  var regexPrefixes = \/^(\\\/{3}|\\\/)\/;\n  var commonConstants = [\"Infinity\", \"NaN\", \"undefined\", \"null\", \"true\", \"false\", \"on\", \"off\", \"yes\", \"no\"];\n  var constants = wordRegexp(commonConstants);\n\n  \/\/ Tokenizers\n  function tokenBase(stream, state) {\n    \/\/ Handle scope changes\n    if (stream.sol()) {\n      if (state.scope.align === null) state.scope.align = false;\n      var scopeOffset = state.scope.offset;\n      if (stream.eatSpace()) {\n        var lineOffset = stream.indentation();\n        if (lineOffset > scopeOffset && state.scope.type == \"coffee\") {\n          return \"indent\";\n        } else if (lineOffset < scopeOffset) {\n          return \"dedent\";\n        }\n        return null;\n      } else {\n        if (scopeOffset > 0) {\n          dedent(stream, state);\n        }\n      }\n    }\n    if (stream.eatSpace()) {\n      return null;\n    }\n\n    var ch = stream.peek();\n\n    \/\/ Handle docco title comment (single line)\n    if (stream.match(\"####\")) {\n      stream.skipToEnd();\n      return \"comment\";\n    }\n\n    \/\/ Handle multi line comments\n    if (stream.match(\"###\")) {\n      state.tokenize = longComment;\n      return state.tokenize(stream, state);\n    }\n\n    \/\/ Single line comment\n    if (ch === \"#\") {\n      stream.skipToEnd();\n      return \"comment\";\n    }\n\n    \/\/ Handle number literals\n    if (stream.match(\/^-?[0-9\\.]\/, false)) {\n      var floatLiteral = false;\n      \/\/ Floats\n      if (stream.match(\/^-?\\d*\\.\\d+(e[\\+\\-]?\\d+)?\/i)) {\n        floatLiteral = true;\n      }\n      if (stream.match(\/^-?\\d+\\.\\d*\/)) {\n        floatLiteral = true;\n      }\n      if (stream.match(\/^-?\\.\\d+\/)) {\n        floatLiteral = true;\n      }\n\n      if (floatLiteral) {\n        \/\/ prevent from getting extra . on 1..\n        if (stream.peek() == \".\"){\n          stream.backUp(1);\n        }\n        return \"number\";\n      }\n      \/\/ Integers\n      var intLiteral = false;\n      \/\/ Hex\n      if (stream.match(\/^-?0x[0-9a-f]+\/i)) {\n        intLiteral = true;\n      }\n      \/\/ Decimal\n      if (stream.match(\/^-?[1-9]\\d*(e[\\+\\-]?\\d+)?\/)) {\n        intLiteral = true;\n      }\n      \/\/ Zero by itself with no other piece of number.\n      if (stream.match(\/^-?0(?![\\dx])\/i)) {\n        intLiteral = true;\n      }\n      if (intLiteral) {\n        return \"number\";\n      }\n    }\n\n    \/\/ Handle strings\n    if (stream.match(stringPrefixes)) {\n      state.tokenize = tokenFactory(stream.current(), false, \"string\");\n      return state.tokenize(stream, state);\n    }\n    \/\/ Handle regex literals\n    if (stream.match(regexPrefixes)) {\n      if (stream.current() != \"\/\" || stream.match(\/^.*\\\/\/, false)) { \/\/ prevent highlight of division\n        state.tokenize = tokenFactory(stream.current(), true, \"string-2\");\n        return state.tokenize(stream, state);\n      } else {\n        stream.backUp(1);\n      }\n    }\n\n\n\n    \/\/ Handle operators and delimiters\n    if (stream.match(operators) || stream.match(wordOperators)) {\n      return \"operator\";\n    }\n    if (stream.match(delimiters)) {\n      return \"punctuation\";\n    }\n\n    if (stream.match(constants)) {\n      return \"atom\";\n    }\n\n    if (stream.match(atProp) || state.prop && stream.match(identifiers)) {\n      return \"property\";\n    }\n\n    if (stream.match(keywords)) {\n      return \"keyword\";\n    }\n\n    if (stream.match(identifiers)) {\n      return \"variable\";\n    }\n\n    \/\/ Handle non-detected items\n    stream.next();\n    return ERRORCLASS;\n  }\n\n  function tokenFactory(delimiter, singleline, outclass) {\n    return function(stream, state) {\n      while (!stream.eol()) {\n        stream.eatWhile(\/[^'\"\\\/\\\\]\/);\n        if (stream.eat(\"\\\\\")) {\n          stream.next();\n          if (singleline && stream.eol()) {\n            return outclass;\n          }\n        } else if (stream.match(delimiter)) {\n          state.tokenize = tokenBase;\n          return outclass;\n        } else {\n          stream.eat(\/['\"\\\/]\/);\n        }\n      }\n      if (singleline) {\n        if (parserConf.singleLineStringErrors) {\n          outclass = ERRORCLASS;\n        } else {\n          state.tokenize = tokenBase;\n        }\n      }\n      return outclass;\n    };\n  }\n\n  function longComment(stream, state) {\n    while (!stream.eol()) {\n      stream.eatWhile(\/[^#]\/);\n      if (stream.match(\"###\")) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      stream.eatWhile(\"#\");\n    }\n    return \"comment\";\n  }\n\n  function indent(stream, state, type) {\n    type = type || \"coffee\";\n    var offset = 0, align = false, alignOffset = null;\n    for (var scope = state.scope; scope; scope = scope.prev) {\n      if (scope.type === \"coffee\" || scope.type == \"}\") {\n        offset = scope.offset + conf.indentUnit;\n        break;\n      }\n    }\n    if (type !== \"coffee\") {\n      align = null;\n      alignOffset = stream.column() + stream.current().length;\n    } else if (state.scope.align) {\n      state.scope.align = false;\n    }\n    state.scope = {\n      offset: offset,\n      type: type,\n      prev: state.scope,\n      align: align,\n      alignOffset: alignOffset\n    };\n  }\n\n  function dedent(stream, state) {\n    if (!state.scope.prev) return;\n    if (state.scope.type === \"coffee\") {\n      var _indent = stream.indentation();\n      var matched = false;\n      for (var scope = state.scope; scope; scope = scope.prev) {\n        if (_indent === scope.offset) {\n          matched = true;\n          break;\n        }\n      }\n      if (!matched) {\n        return true;\n      }\n      while (state.scope.prev && state.scope.offset !== _indent) {\n        state.scope = state.scope.prev;\n      }\n      return false;\n    } else {\n      state.scope = state.scope.prev;\n      return false;\n    }\n  }\n\n  function tokenLexer(stream, state) {\n    var style = state.tokenize(stream, state);\n    var current = stream.current();\n\n    \/\/ Handle scope changes.\n    if (current === \"return\") {\n      state.dedent = true;\n    }\n    if (((current === \"->\" || current === \"=>\") && stream.eol())\n        || style === \"indent\") {\n      indent(stream, state);\n    }\n    var delimiter_index = \"[({\".indexOf(current);\n    if (delimiter_index !== -1) {\n      indent(stream, state, \"])}\".slice(delimiter_index, delimiter_index+1));\n    }\n    if (indentKeywords.exec(current)){\n      indent(stream, state);\n    }\n    if (current == \"then\"){\n      dedent(stream, state);\n    }\n\n\n    if (style === \"dedent\") {\n      if (dedent(stream, state)) {\n        return ERRORCLASS;\n      }\n    }\n    delimiter_index = \"])}\".indexOf(current);\n    if (delimiter_index !== -1) {\n      while (state.scope.type == \"coffee\" && state.scope.prev)\n        state.scope = state.scope.prev;\n      if (state.scope.type == current)\n        state.scope = state.scope.prev;\n    }\n    if (state.dedent && stream.eol()) {\n      if (state.scope.type == \"coffee\" && state.scope.prev)\n        state.scope = state.scope.prev;\n      state.dedent = false;\n    }\n\n    return style;\n  }\n\n  var external = {\n    startState: function(basecolumn) {\n      return {\n        tokenize: tokenBase,\n        scope: {offset:basecolumn || 0, type:\"coffee\", prev: null, align: false},\n        prop: false,\n        dedent: 0\n      };\n    },\n\n    token: function(stream, state) {\n      var fillAlign = state.scope.align === null && state.scope;\n      if (fillAlign && stream.sol()) fillAlign.align = false;\n\n      var style = tokenLexer(stream, state);\n      if (style && style != \"comment\") {\n        if (fillAlign) fillAlign.align = true;\n        state.prop = style == \"punctuation\" && stream.current() == \".\"\n      }\n\n      return style;\n    },\n\n    indent: function(state, text) {\n      if (state.tokenize != tokenBase) return 0;\n      var scope = state.scope;\n      var closer = text && \"])}\".indexOf(text.charAt(0)) > -1;\n      if (closer) while (scope.type == \"coffee\" && scope.prev) scope = scope.prev;\n      var closes = closer && scope.type === text.charAt(0);\n      if (scope.align)\n        return scope.alignOffset - (closes ? 1 : 0);\n      else\n        return (closes ? scope.prev : scope).offset;\n    },\n\n    lineComment: \"#\",\n    fold: \"indent\"\n  };\n  return external;\n});\n\n\/\/ IANA registered media type\n\/\/ https:\/\/www.iana.org\/assignments\/media-types\/\nCodeMirror.defineMIME(\"application\/vnd.coffeescript\", \"coffeescript\");\n\nCodeMirror.defineMIME(\"text\/x-coffeescript\", \"coffeescript\");\nCodeMirror.defineMIME(\"text\/coffeescript\", \"coffeescript\");\n\n});\n\n};","shadow$provide[266] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"css\", function(config, parserConfig) {\n  var inline = parserConfig.inline\n  if (!parserConfig.propertyKeywords) parserConfig = CodeMirror.resolveMode(\"text\/css\");\n\n  var indentUnit = config.indentUnit,\n      tokenHooks = parserConfig.tokenHooks,\n      documentTypes = parserConfig.documentTypes || {},\n      mediaTypes = parserConfig.mediaTypes || {},\n      mediaFeatures = parserConfig.mediaFeatures || {},\n      mediaValueKeywords = parserConfig.mediaValueKeywords || {},\n      propertyKeywords = parserConfig.propertyKeywords || {},\n      nonStandardPropertyKeywords = parserConfig.nonStandardPropertyKeywords || {},\n      fontProperties = parserConfig.fontProperties || {},\n      counterDescriptors = parserConfig.counterDescriptors || {},\n      colorKeywords = parserConfig.colorKeywords || {},\n      valueKeywords = parserConfig.valueKeywords || {},\n      allowNested = parserConfig.allowNested,\n      lineComment = parserConfig.lineComment,\n      supportsAtComponent = parserConfig.supportsAtComponent === true,\n      highlightNonStandardPropertyKeywords = config.highlightNonStandardPropertyKeywords !== false;\n\n  var type, override;\n  function ret(style, tp) { type = tp; return style; }\n\n  \/\/ Tokenizers\n\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (tokenHooks[ch]) {\n      var result = tokenHooks[ch](stream, state);\n      if (result !== false) return result;\n    }\n    if (ch == \"@\") {\n      stream.eatWhile(\/[\\w\\\\\\-]\/);\n      return ret(\"def\", stream.current());\n    } else if (ch == \"=\" || (ch == \"~\" || ch == \"|\") && stream.eat(\"=\")) {\n      return ret(null, \"compare\");\n    } else if (ch == \"\\\"\" || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    } else if (ch == \"#\") {\n      stream.eatWhile(\/[\\w\\\\\\-]\/);\n      return ret(\"atom\", \"hash\");\n    } else if (ch == \"!\") {\n      stream.match(\/^\\s*\\w*\/);\n      return ret(\"keyword\", \"important\");\n    } else if (\/\\d\/.test(ch) || ch == \".\" && stream.eat(\/\\d\/)) {\n      stream.eatWhile(\/[\\w.%]\/);\n      return ret(\"number\", \"unit\");\n    } else if (ch === \"-\") {\n      if (\/[\\d.]\/.test(stream.peek())) {\n        stream.eatWhile(\/[\\w.%]\/);\n        return ret(\"number\", \"unit\");\n      } else if (stream.match(\/^-[\\w\\\\\\-]*\/)) {\n        stream.eatWhile(\/[\\w\\\\\\-]\/);\n        if (stream.match(\/^\\s*:\/, false))\n          return ret(\"variable-2\", \"variable-definition\");\n        return ret(\"variable-2\", \"variable\");\n      } else if (stream.match(\/^\\w+-\/)) {\n        return ret(\"meta\", \"meta\");\n      }\n    } else if (\/[,+>*\\\/]\/.test(ch)) {\n      return ret(null, \"select-op\");\n    } else if (ch == \".\" && stream.match(\/^-?[_a-z][_a-z0-9-]*\/i)) {\n      return ret(\"qualifier\", \"qualifier\");\n    } else if (\/[:;{}\\[\\]\\(\\)]\/.test(ch)) {\n      return ret(null, ch);\n    } else if (stream.match(\/^[\\w-.]+(?=\\()\/)) {\n      if (\/^(url(-prefix)?|domain|regexp)$\/i.test(stream.current())) {\n        state.tokenize = tokenParenthesized;\n      }\n      return ret(\"variable callee\", \"variable\");\n    } else if (\/[\\w\\\\\\-]\/.test(ch)) {\n      stream.eatWhile(\/[\\w\\\\\\-]\/);\n      return ret(\"property\", \"word\");\n    } else {\n      return ret(null, null);\n    }\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == quote && !escaped) {\n          if (quote == \")\") stream.backUp(1);\n          break;\n        }\n        escaped = !escaped && ch == \"\\\\\";\n      }\n      if (ch == quote || !escaped && quote != \")\") state.tokenize = null;\n      return ret(\"string\", \"string\");\n    };\n  }\n\n  function tokenParenthesized(stream, state) {\n    stream.next(); \/\/ Must be '('\n    if (!stream.match(\/^\\s*[\\\"\\')]\/, false))\n      state.tokenize = tokenString(\")\");\n    else\n      state.tokenize = null;\n    return ret(null, \"(\");\n  }\n\n  \/\/ Context management\n\n  function Context(type, indent, prev) {\n    this.type = type;\n    this.indent = indent;\n    this.prev = prev;\n  }\n\n  function pushContext(state, stream, type, indent) {\n    state.context = new Context(type, stream.indentation() + (indent === false ? 0 : indentUnit), state.context);\n    return type;\n  }\n\n  function popContext(state) {\n    if (state.context.prev)\n      state.context = state.context.prev;\n    return state.context.type;\n  }\n\n  function pass(type, stream, state) {\n    return states[state.context.type](type, stream, state);\n  }\n  function popAndPass(type, stream, state, n) {\n    for (var i = n || 1; i > 0; i--)\n      state.context = state.context.prev;\n    return pass(type, stream, state);\n  }\n\n  \/\/ Parser\n\n  function wordAsValue(stream) {\n    var word = stream.current().toLowerCase();\n    if (valueKeywords.hasOwnProperty(word))\n      override = \"atom\";\n    else if (colorKeywords.hasOwnProperty(word))\n      override = \"keyword\";\n    else\n      override = \"variable\";\n  }\n\n  var states = {};\n\n  states.top = function(type, stream, state) {\n    if (type == \"{\") {\n      return pushContext(state, stream, \"block\");\n    } else if (type == \"}\" && state.context.prev) {\n      return popContext(state);\n    } else if (supportsAtComponent && \/@component\/i.test(type)) {\n      return pushContext(state, stream, \"atComponentBlock\");\n    } else if (\/^@(-moz-)?document$\/i.test(type)) {\n      return pushContext(state, stream, \"documentTypes\");\n    } else if (\/^@(media|supports|(-moz-)?document|import)$\/i.test(type)) {\n      return pushContext(state, stream, \"atBlock\");\n    } else if (\/^@(font-face|counter-style)\/i.test(type)) {\n      state.stateArg = type;\n      return \"restricted_atBlock_before\";\n    } else if (\/^@(-(moz|ms|o|webkit)-)?keyframes$\/i.test(type)) {\n      return \"keyframes\";\n    } else if (type && type.charAt(0) == \"@\") {\n      return pushContext(state, stream, \"at\");\n    } else if (type == \"hash\") {\n      override = \"builtin\";\n    } else if (type == \"word\") {\n      override = \"tag\";\n    } else if (type == \"variable-definition\") {\n      return \"maybeprop\";\n    } else if (type == \"interpolation\") {\n      return pushContext(state, stream, \"interpolation\");\n    } else if (type == \":\") {\n      return \"pseudo\";\n    } else if (allowNested && type == \"(\") {\n      return pushContext(state, stream, \"parens\");\n    }\n    return state.context.type;\n  };\n\n  states.block = function(type, stream, state) {\n    if (type == \"word\") {\n      var word = stream.current().toLowerCase();\n      if (propertyKeywords.hasOwnProperty(word)) {\n        override = \"property\";\n        return \"maybeprop\";\n      } else if (nonStandardPropertyKeywords.hasOwnProperty(word)) {\n        override = highlightNonStandardPropertyKeywords ? \"string-2\" : \"property\";\n        return \"maybeprop\";\n      } else if (allowNested) {\n        override = stream.match(\/^\\s*:(?:\\s|$)\/, false) ? \"property\" : \"tag\";\n        return \"block\";\n      } else {\n        override += \" error\";\n        return \"maybeprop\";\n      }\n    } else if (type == \"meta\") {\n      return \"block\";\n    } else if (!allowNested && (type == \"hash\" || type == \"qualifier\")) {\n      override = \"error\";\n      return \"block\";\n    } else {\n      return states.top(type, stream, state);\n    }\n  };\n\n  states.maybeprop = function(type, stream, state) {\n    if (type == \":\") return pushContext(state, stream, \"prop\");\n    return pass(type, stream, state);\n  };\n\n  states.prop = function(type, stream, state) {\n    if (type == \";\") return popContext(state);\n    if (type == \"{\" && allowNested) return pushContext(state, stream, \"propBlock\");\n    if (type == \"}\" || type == \"{\") return popAndPass(type, stream, state);\n    if (type == \"(\") return pushContext(state, stream, \"parens\");\n\n    if (type == \"hash\" && !\/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$\/.test(stream.current())) {\n      override += \" error\";\n    } else if (type == \"word\") {\n      wordAsValue(stream);\n    } else if (type == \"interpolation\") {\n      return pushContext(state, stream, \"interpolation\");\n    }\n    return \"prop\";\n  };\n\n  states.propBlock = function(type, _stream, state) {\n    if (type == \"}\") return popContext(state);\n    if (type == \"word\") { override = \"property\"; return \"maybeprop\"; }\n    return state.context.type;\n  };\n\n  states.parens = function(type, stream, state) {\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state);\n    if (type == \")\") return popContext(state);\n    if (type == \"(\") return pushContext(state, stream, \"parens\");\n    if (type == \"interpolation\") return pushContext(state, stream, \"interpolation\");\n    if (type == \"word\") wordAsValue(stream);\n    return \"parens\";\n  };\n\n  states.pseudo = function(type, stream, state) {\n    if (type == \"meta\") return \"pseudo\";\n\n    if (type == \"word\") {\n      override = \"variable-3\";\n      return state.context.type;\n    }\n    return pass(type, stream, state);\n  };\n\n  states.documentTypes = function(type, stream, state) {\n    if (type == \"word\" && documentTypes.hasOwnProperty(stream.current())) {\n      override = \"tag\";\n      return state.context.type;\n    } else {\n      return states.atBlock(type, stream, state);\n    }\n  };\n\n  states.atBlock = function(type, stream, state) {\n    if (type == \"(\") return pushContext(state, stream, \"atBlock_parens\");\n    if (type == \"}\" || type == \";\") return popAndPass(type, stream, state);\n    if (type == \"{\") return popContext(state) && pushContext(state, stream, allowNested ? \"block\" : \"top\");\n\n    if (type == \"interpolation\") return pushContext(state, stream, \"interpolation\");\n\n    if (type == \"word\") {\n      var word = stream.current().toLowerCase();\n      if (word == \"only\" || word == \"not\" || word == \"and\" || word == \"or\")\n        override = \"keyword\";\n      else if (mediaTypes.hasOwnProperty(word))\n        override = \"attribute\";\n      else if (mediaFeatures.hasOwnProperty(word))\n        override = \"property\";\n      else if (mediaValueKeywords.hasOwnProperty(word))\n        override = \"keyword\";\n      else if (propertyKeywords.hasOwnProperty(word))\n        override = \"property\";\n      else if (nonStandardPropertyKeywords.hasOwnProperty(word))\n        override = highlightNonStandardPropertyKeywords ? \"string-2\" : \"property\";\n      else if (valueKeywords.hasOwnProperty(word))\n        override = \"atom\";\n      else if (colorKeywords.hasOwnProperty(word))\n        override = \"keyword\";\n      else\n        override = \"error\";\n    }\n    return state.context.type;\n  };\n\n  states.atComponentBlock = function(type, stream, state) {\n    if (type == \"}\")\n      return popAndPass(type, stream, state);\n    if (type == \"{\")\n      return popContext(state) && pushContext(state, stream, allowNested ? \"block\" : \"top\", false);\n    if (type == \"word\")\n      override = \"error\";\n    return state.context.type;\n  };\n\n  states.atBlock_parens = function(type, stream, state) {\n    if (type == \")\") return popContext(state);\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state, 2);\n    return states.atBlock(type, stream, state);\n  };\n\n  states.restricted_atBlock_before = function(type, stream, state) {\n    if (type == \"{\")\n      return pushContext(state, stream, \"restricted_atBlock\");\n    if (type == \"word\" && state.stateArg == \"@counter-style\") {\n      override = \"variable\";\n      return \"restricted_atBlock_before\";\n    }\n    return pass(type, stream, state);\n  };\n\n  states.restricted_atBlock = function(type, stream, state) {\n    if (type == \"}\") {\n      state.stateArg = null;\n      return popContext(state);\n    }\n    if (type == \"word\") {\n      if ((state.stateArg == \"@font-face\" && !fontProperties.hasOwnProperty(stream.current().toLowerCase())) ||\n          (state.stateArg == \"@counter-style\" && !counterDescriptors.hasOwnProperty(stream.current().toLowerCase())))\n        override = \"error\";\n      else\n        override = \"property\";\n      return \"maybeprop\";\n    }\n    return \"restricted_atBlock\";\n  };\n\n  states.keyframes = function(type, stream, state) {\n    if (type == \"word\") { override = \"variable\"; return \"keyframes\"; }\n    if (type == \"{\") return pushContext(state, stream, \"top\");\n    return pass(type, stream, state);\n  };\n\n  states.at = function(type, stream, state) {\n    if (type == \";\") return popContext(state);\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state);\n    if (type == \"word\") override = \"tag\";\n    else if (type == \"hash\") override = \"builtin\";\n    return \"at\";\n  };\n\n  states.interpolation = function(type, stream, state) {\n    if (type == \"}\") return popContext(state);\n    if (type == \"{\" || type == \";\") return popAndPass(type, stream, state);\n    if (type == \"word\") override = \"variable\";\n    else if (type != \"variable\" && type != \"(\" && type != \")\") override = \"error\";\n    return \"interpolation\";\n  };\n\n  return {\n    startState: function(base) {\n      return {tokenize: null,\n              state: inline ? \"block\" : \"top\",\n              stateArg: null,\n              context: new Context(inline ? \"block\" : \"top\", base || 0, null)};\n    },\n\n    token: function(stream, state) {\n      if (!state.tokenize && stream.eatSpace()) return null;\n      var style = (state.tokenize || tokenBase)(stream, state);\n      if (style && typeof style == \"object\") {\n        type = style[1];\n        style = style[0];\n      }\n      override = style;\n      if (type != \"comment\")\n        state.state = states[state.state](type, stream, state);\n      return override;\n    },\n\n    indent: function(state, textAfter) {\n      var cx = state.context, ch = textAfter && textAfter.charAt(0);\n      var indent = cx.indent;\n      if (cx.type == \"prop\" && (ch == \"}\" || ch == \")\")) cx = cx.prev;\n      if (cx.prev) {\n        if (ch == \"}\" && (cx.type == \"block\" || cx.type == \"top\" ||\n                          cx.type == \"interpolation\" || cx.type == \"restricted_atBlock\")) {\n          \/\/ Resume indentation from parent context.\n          cx = cx.prev;\n          indent = cx.indent;\n        } else if (ch == \")\" && (cx.type == \"parens\" || cx.type == \"atBlock_parens\") ||\n            ch == \"{\" && (cx.type == \"at\" || cx.type == \"atBlock\")) {\n          \/\/ Dedent relative to current context.\n          indent = Math.max(0, cx.indent - indentUnit);\n        }\n      }\n      return indent;\n    },\n\n    electricChars: \"}\",\n    blockCommentStart: \"\/*\",\n    blockCommentEnd: \"*\/\",\n    blockCommentContinue: \" * \",\n    lineComment: lineComment,\n    fold: \"brace\"\n  };\n});\n\n  function keySet(array) {\n    var keys = {};\n    for (var i = 0; i < array.length; ++i) {\n      keys[array[i].toLowerCase()] = true;\n    }\n    return keys;\n  }\n\n  var documentTypes_ = [\n    \"domain\", \"regexp\", \"url\", \"url-prefix\"\n  ], documentTypes = keySet(documentTypes_);\n\n  var mediaTypes_ = [\n    \"all\", \"aural\", \"braille\", \"handheld\", \"print\", \"projection\", \"screen\",\n    \"tty\", \"tv\", \"embossed\"\n  ], mediaTypes = keySet(mediaTypes_);\n\n  var mediaFeatures_ = [\n    \"width\", \"min-width\", \"max-width\", \"height\", \"min-height\", \"max-height\",\n    \"device-width\", \"min-device-width\", \"max-device-width\", \"device-height\",\n    \"min-device-height\", \"max-device-height\", \"aspect-ratio\",\n    \"min-aspect-ratio\", \"max-aspect-ratio\", \"device-aspect-ratio\",\n    \"min-device-aspect-ratio\", \"max-device-aspect-ratio\", \"color\", \"min-color\",\n    \"max-color\", \"color-index\", \"min-color-index\", \"max-color-index\",\n    \"monochrome\", \"min-monochrome\", \"max-monochrome\", \"resolution\",\n    \"min-resolution\", \"max-resolution\", \"scan\", \"grid\", \"orientation\",\n    \"device-pixel-ratio\", \"min-device-pixel-ratio\", \"max-device-pixel-ratio\",\n    \"pointer\", \"any-pointer\", \"hover\", \"any-hover\", \"prefers-color-scheme\"\n  ], mediaFeatures = keySet(mediaFeatures_);\n\n  var mediaValueKeywords_ = [\n    \"landscape\", \"portrait\", \"none\", \"coarse\", \"fine\", \"on-demand\", \"hover\",\n    \"interlace\", \"progressive\",\n    \"dark\", \"light\"\n  ], mediaValueKeywords = keySet(mediaValueKeywords_);\n\n  var propertyKeywords_ = [\n    \"align-content\", \"align-items\", \"align-self\", \"alignment-adjust\",\n    \"alignment-baseline\", \"all\", \"anchor-point\", \"animation\", \"animation-delay\",\n    \"animation-direction\", \"animation-duration\", \"animation-fill-mode\",\n    \"animation-iteration-count\", \"animation-name\", \"animation-play-state\",\n    \"animation-timing-function\", \"appearance\", \"azimuth\", \"backdrop-filter\",\n    \"backface-visibility\", \"background\", \"background-attachment\",\n    \"background-blend-mode\", \"background-clip\", \"background-color\",\n    \"background-image\", \"background-origin\", \"background-position\",\n    \"background-position-x\", \"background-position-y\", \"background-repeat\",\n    \"background-size\", \"baseline-shift\", \"binding\", \"bleed\", \"block-size\",\n    \"bookmark-label\", \"bookmark-level\", \"bookmark-state\", \"bookmark-target\",\n    \"border\", \"border-bottom\", \"border-bottom-color\", \"border-bottom-left-radius\",\n    \"border-bottom-right-radius\", \"border-bottom-style\", \"border-bottom-width\",\n    \"border-collapse\", \"border-color\", \"border-image\", \"border-image-outset\",\n    \"border-image-repeat\", \"border-image-slice\", \"border-image-source\",\n    \"border-image-width\", \"border-left\", \"border-left-color\", \"border-left-style\",\n    \"border-left-width\", \"border-radius\", \"border-right\", \"border-right-color\",\n    \"border-right-style\", \"border-right-width\", \"border-spacing\", \"border-style\",\n    \"border-top\", \"border-top-color\", \"border-top-left-radius\",\n    \"border-top-right-radius\", \"border-top-style\", \"border-top-width\",\n    \"border-width\", \"bottom\", \"box-decoration-break\", \"box-shadow\", \"box-sizing\",\n    \"break-after\", \"break-before\", \"break-inside\", \"caption-side\", \"caret-color\",\n    \"clear\", \"clip\", \"color\", \"color-profile\", \"column-count\", \"column-fill\",\n    \"column-gap\", \"column-rule\", \"column-rule-color\", \"column-rule-style\",\n    \"column-rule-width\", \"column-span\", \"column-width\", \"columns\", \"contain\",\n    \"content\", \"counter-increment\", \"counter-reset\", \"crop\", \"cue\", \"cue-after\",\n    \"cue-before\", \"cursor\", \"direction\", \"display\", \"dominant-baseline\",\n    \"drop-initial-after-adjust\", \"drop-initial-after-align\",\n    \"drop-initial-before-adjust\", \"drop-initial-before-align\", \"drop-initial-size\",\n    \"drop-initial-value\", \"elevation\", \"empty-cells\", \"fit\", \"fit-position\",\n    \"flex\", \"flex-basis\", \"flex-direction\", \"flex-flow\", \"flex-grow\",\n    \"flex-shrink\", \"flex-wrap\", \"float\", \"float-offset\", \"flow-from\", \"flow-into\",\n    \"font\", \"font-family\", \"font-feature-settings\", \"font-kerning\",\n    \"font-language-override\", \"font-optical-sizing\", \"font-size\",\n    \"font-size-adjust\", \"font-stretch\", \"font-style\", \"font-synthesis\",\n    \"font-variant\", \"font-variant-alternates\", \"font-variant-caps\",\n    \"font-variant-east-asian\", \"font-variant-ligatures\", \"font-variant-numeric\",\n    \"font-variant-position\", \"font-variation-settings\", \"font-weight\", \"gap\",\n    \"grid\", \"grid-area\", \"grid-auto-columns\", \"grid-auto-flow\", \"grid-auto-rows\",\n    \"grid-column\", \"grid-column-end\", \"grid-column-gap\", \"grid-column-start\",\n    \"grid-gap\", \"grid-row\", \"grid-row-end\", \"grid-row-gap\", \"grid-row-start\",\n    \"grid-template\", \"grid-template-areas\", \"grid-template-columns\",\n    \"grid-template-rows\", \"hanging-punctuation\", \"height\", \"hyphens\", \"icon\",\n    \"image-orientation\", \"image-rendering\", \"image-resolution\", \"inline-box-align\",\n    \"inset\", \"inset-block\", \"inset-block-end\", \"inset-block-start\", \"inset-inline\",\n    \"inset-inline-end\", \"inset-inline-start\", \"isolation\", \"justify-content\",\n    \"justify-items\", \"justify-self\", \"left\", \"letter-spacing\", \"line-break\",\n    \"line-height\", \"line-height-step\", \"line-stacking\", \"line-stacking-ruby\",\n    \"line-stacking-shift\", \"line-stacking-strategy\", \"list-style\",\n    \"list-style-image\", \"list-style-position\", \"list-style-type\", \"margin\",\n    \"margin-bottom\", \"margin-left\", \"margin-right\", \"margin-top\", \"marks\",\n    \"marquee-direction\", \"marquee-loop\", \"marquee-play-count\", \"marquee-speed\",\n    \"marquee-style\", \"mask-clip\", \"mask-composite\", \"mask-image\", \"mask-mode\",\n    \"mask-origin\", \"mask-position\", \"mask-repeat\", \"mask-size\",\"mask-type\",\n    \"max-block-size\", \"max-height\", \"max-inline-size\",\n    \"max-width\", \"min-block-size\", \"min-height\", \"min-inline-size\", \"min-width\",\n    \"mix-blend-mode\", \"move-to\", \"nav-down\", \"nav-index\", \"nav-left\", \"nav-right\",\n    \"nav-up\", \"object-fit\", \"object-position\", \"offset\", \"offset-anchor\",\n    \"offset-distance\", \"offset-path\", \"offset-position\", \"offset-rotate\",\n    \"opacity\", \"order\", \"orphans\", \"outline\", \"outline-color\", \"outline-offset\",\n    \"outline-style\", \"outline-width\", \"overflow\", \"overflow-style\",\n    \"overflow-wrap\", \"overflow-x\", \"overflow-y\", \"padding\", \"padding-bottom\",\n    \"padding-left\", \"padding-right\", \"padding-top\", \"page\", \"page-break-after\",\n    \"page-break-before\", \"page-break-inside\", \"page-policy\", \"pause\",\n    \"pause-after\", \"pause-before\", \"perspective\", \"perspective-origin\", \"pitch\",\n    \"pitch-range\", \"place-content\", \"place-items\", \"place-self\", \"play-during\",\n    \"position\", \"presentation-level\", \"punctuation-trim\", \"quotes\",\n    \"region-break-after\", \"region-break-before\", \"region-break-inside\",\n    \"region-fragment\", \"rendering-intent\", \"resize\", \"rest\", \"rest-after\",\n    \"rest-before\", \"richness\", \"right\", \"rotate\", \"rotation\", \"rotation-point\",\n    \"row-gap\", \"ruby-align\", \"ruby-overhang\", \"ruby-position\", \"ruby-span\",\n    \"scale\", \"scroll-behavior\", \"scroll-margin\", \"scroll-margin-block\",\n    \"scroll-margin-block-end\", \"scroll-margin-block-start\", \"scroll-margin-bottom\",\n    \"scroll-margin-inline\", \"scroll-margin-inline-end\",\n    \"scroll-margin-inline-start\", \"scroll-margin-left\", \"scroll-margin-right\",\n    \"scroll-margin-top\", \"scroll-padding\", \"scroll-padding-block\",\n    \"scroll-padding-block-end\", \"scroll-padding-block-start\",\n    \"scroll-padding-bottom\", \"scroll-padding-inline\", \"scroll-padding-inline-end\",\n    \"scroll-padding-inline-start\", \"scroll-padding-left\", \"scroll-padding-right\",\n    \"scroll-padding-top\", \"scroll-snap-align\", \"scroll-snap-type\",\n    \"shape-image-threshold\", \"shape-inside\", \"shape-margin\", \"shape-outside\",\n    \"size\", \"speak\", \"speak-as\", \"speak-header\", \"speak-numeral\",\n    \"speak-punctuation\", \"speech-rate\", \"stress\", \"string-set\", \"tab-size\",\n    \"table-layout\", \"target\", \"target-name\", \"target-new\", \"target-position\",\n    \"text-align\", \"text-align-last\", \"text-combine-upright\", \"text-decoration\",\n    \"text-decoration-color\", \"text-decoration-line\", \"text-decoration-skip\",\n    \"text-decoration-skip-ink\", \"text-decoration-style\", \"text-emphasis\",\n    \"text-emphasis-color\", \"text-emphasis-position\", \"text-emphasis-style\",\n    \"text-height\", \"text-indent\", \"text-justify\", \"text-orientation\",\n    \"text-outline\", \"text-overflow\", \"text-rendering\", \"text-shadow\",\n    \"text-size-adjust\", \"text-space-collapse\", \"text-transform\",\n    \"text-underline-position\", \"text-wrap\", \"top\", \"touch-action\", \"transform\", \"transform-origin\",\n    \"transform-style\", \"transition\", \"transition-delay\", \"transition-duration\",\n    \"transition-property\", \"transition-timing-function\", \"translate\",\n    \"unicode-bidi\", \"user-select\", \"vertical-align\", \"visibility\", \"voice-balance\",\n    \"voice-duration\", \"voice-family\", \"voice-pitch\", \"voice-range\", \"voice-rate\",\n    \"voice-stress\", \"voice-volume\", \"volume\", \"white-space\", \"widows\", \"width\",\n    \"will-change\", \"word-break\", \"word-spacing\", \"word-wrap\", \"writing-mode\", \"z-index\",\n    \/\/ SVG-specific\n    \"clip-path\", \"clip-rule\", \"mask\", \"enable-background\", \"filter\", \"flood-color\",\n    \"flood-opacity\", \"lighting-color\", \"stop-color\", \"stop-opacity\", \"pointer-events\",\n    \"color-interpolation\", \"color-interpolation-filters\",\n    \"color-rendering\", \"fill\", \"fill-opacity\", \"fill-rule\", \"image-rendering\",\n    \"marker\", \"marker-end\", \"marker-mid\", \"marker-start\", \"paint-order\", \"shape-rendering\", \"stroke\",\n    \"stroke-dasharray\", \"stroke-dashoffset\", \"stroke-linecap\", \"stroke-linejoin\",\n    \"stroke-miterlimit\", \"stroke-opacity\", \"stroke-width\", \"text-rendering\",\n    \"baseline-shift\", \"dominant-baseline\", \"glyph-orientation-horizontal\",\n    \"glyph-orientation-vertical\", \"text-anchor\", \"writing-mode\",\n  ], propertyKeywords = keySet(propertyKeywords_);\n\n  var nonStandardPropertyKeywords_ = [\n    \"border-block\", \"border-block-color\", \"border-block-end\",\n    \"border-block-end-color\", \"border-block-end-style\", \"border-block-end-width\",\n    \"border-block-start\", \"border-block-start-color\", \"border-block-start-style\",\n    \"border-block-start-width\", \"border-block-style\", \"border-block-width\",\n    \"border-inline\", \"border-inline-color\", \"border-inline-end\",\n    \"border-inline-end-color\", \"border-inline-end-style\",\n    \"border-inline-end-width\", \"border-inline-start\", \"border-inline-start-color\",\n    \"border-inline-start-style\", \"border-inline-start-width\",\n    \"border-inline-style\", \"border-inline-width\", \"margin-block\",\n    \"margin-block-end\", \"margin-block-start\", \"margin-inline\", \"margin-inline-end\",\n    \"margin-inline-start\", \"padding-block\", \"padding-block-end\",\n    \"padding-block-start\", \"padding-inline\", \"padding-inline-end\",\n    \"padding-inline-start\", \"scroll-snap-stop\", \"scrollbar-3d-light-color\",\n    \"scrollbar-arrow-color\", \"scrollbar-base-color\", \"scrollbar-dark-shadow-color\",\n    \"scrollbar-face-color\", \"scrollbar-highlight-color\", \"scrollbar-shadow-color\",\n    \"scrollbar-track-color\", \"searchfield-cancel-button\", \"searchfield-decoration\",\n    \"searchfield-results-button\", \"searchfield-results-decoration\", \"shape-inside\", \"zoom\"\n  ], nonStandardPropertyKeywords = keySet(nonStandardPropertyKeywords_);\n\n  var fontProperties_ = [\n    \"font-display\", \"font-family\", \"src\", \"unicode-range\", \"font-variant\",\n     \"font-feature-settings\", \"font-stretch\", \"font-weight\", \"font-style\"\n  ], fontProperties = keySet(fontProperties_);\n\n  var counterDescriptors_ = [\n    \"additive-symbols\", \"fallback\", \"negative\", \"pad\", \"prefix\", \"range\",\n    \"speak-as\", \"suffix\", \"symbols\", \"system\"\n  ], counterDescriptors = keySet(counterDescriptors_);\n\n  var colorKeywords_ = [\n    \"aliceblue\", \"antiquewhite\", \"aqua\", \"aquamarine\", \"azure\", \"beige\",\n    \"bisque\", \"black\", \"blanchedalmond\", \"blue\", \"blueviolet\", \"brown\",\n    \"burlywood\", \"cadetblue\", \"chartreuse\", \"chocolate\", \"coral\", \"cornflowerblue\",\n    \"cornsilk\", \"crimson\", \"cyan\", \"darkblue\", \"darkcyan\", \"darkgoldenrod\",\n    \"darkgray\", \"darkgreen\", \"darkkhaki\", \"darkmagenta\", \"darkolivegreen\",\n    \"darkorange\", \"darkorchid\", \"darkred\", \"darksalmon\", \"darkseagreen\",\n    \"darkslateblue\", \"darkslategray\", \"darkturquoise\", \"darkviolet\",\n    \"deeppink\", \"deepskyblue\", \"dimgray\", \"dodgerblue\", \"firebrick\",\n    \"floralwhite\", \"forestgreen\", \"fuchsia\", \"gainsboro\", \"ghostwhite\",\n    \"gold\", \"goldenrod\", \"gray\", \"grey\", \"green\", \"greenyellow\", \"honeydew\",\n    \"hotpink\", \"indianred\", \"indigo\", \"ivory\", \"khaki\", \"lavender\",\n    \"lavenderblush\", \"lawngreen\", \"lemonchiffon\", \"lightblue\", \"lightcoral\",\n    \"lightcyan\", \"lightgoldenrodyellow\", \"lightgray\", \"lightgreen\", \"lightpink\",\n    \"lightsalmon\", \"lightseagreen\", \"lightskyblue\", \"lightslategray\",\n    \"lightsteelblue\", \"lightyellow\", \"lime\", \"limegreen\", \"linen\", \"magenta\",\n    \"maroon\", \"mediumaquamarine\", \"mediumblue\", \"mediumorchid\", \"mediumpurple\",\n    \"mediumseagreen\", \"mediumslateblue\", \"mediumspringgreen\", \"mediumturquoise\",\n    \"mediumvioletred\", \"midnightblue\", \"mintcream\", \"mistyrose\", \"moccasin\",\n    \"navajowhite\", \"navy\", \"oldlace\", \"olive\", \"olivedrab\", \"orange\", \"orangered\",\n    \"orchid\", \"palegoldenrod\", \"palegreen\", \"paleturquoise\", \"palevioletred\",\n    \"papayawhip\", \"peachpuff\", \"peru\", \"pink\", \"plum\", \"powderblue\",\n    \"purple\", \"rebeccapurple\", \"red\", \"rosybrown\", \"royalblue\", \"saddlebrown\",\n    \"salmon\", \"sandybrown\", \"seagreen\", \"seashell\", \"sienna\", \"silver\", \"skyblue\",\n    \"slateblue\", \"slategray\", \"snow\", \"springgreen\", \"steelblue\", \"tan\",\n    \"teal\", \"thistle\", \"tomato\", \"turquoise\", \"violet\", \"wheat\", \"white\",\n    \"whitesmoke\", \"yellow\", \"yellowgreen\"\n  ], colorKeywords = keySet(colorKeywords_);\n\n  var valueKeywords_ = [\n    \"above\", \"absolute\", \"activeborder\", \"additive\", \"activecaption\", \"afar\",\n    \"after-white-space\", \"ahead\", \"alias\", \"all\", \"all-scroll\", \"alphabetic\", \"alternate\",\n    \"always\", \"amharic\", \"amharic-abegede\", \"antialiased\", \"appworkspace\",\n    \"arabic-indic\", \"armenian\", \"asterisks\", \"attr\", \"auto\", \"auto-flow\", \"avoid\", \"avoid-column\", \"avoid-page\",\n    \"avoid-region\", \"axis-pan\", \"background\", \"backwards\", \"baseline\", \"below\", \"bidi-override\", \"binary\",\n    \"bengali\", \"blink\", \"block\", \"block-axis\", \"bold\", \"bolder\", \"border\", \"border-box\",\n    \"both\", \"bottom\", \"break\", \"break-all\", \"break-word\", \"bullets\", \"button\", \"button-bevel\",\n    \"buttonface\", \"buttonhighlight\", \"buttonshadow\", \"buttontext\", \"calc\", \"cambodian\",\n    \"capitalize\", \"caps-lock-indicator\", \"caption\", \"captiontext\", \"caret\",\n    \"cell\", \"center\", \"checkbox\", \"circle\", \"cjk-decimal\", \"cjk-earthly-branch\",\n    \"cjk-heavenly-stem\", \"cjk-ideographic\", \"clear\", \"clip\", \"close-quote\",\n    \"col-resize\", \"collapse\", \"color\", \"color-burn\", \"color-dodge\", \"column\", \"column-reverse\",\n    \"compact\", \"condensed\", \"contain\", \"content\", \"contents\",\n    \"content-box\", \"context-menu\", \"continuous\", \"copy\", \"counter\", \"counters\", \"cover\", \"crop\",\n    \"cross\", \"crosshair\", \"currentcolor\", \"cursive\", \"cyclic\", \"darken\", \"dashed\", \"decimal\",\n    \"decimal-leading-zero\", \"default\", \"default-button\", \"dense\", \"destination-atop\",\n    \"destination-in\", \"destination-out\", \"destination-over\", \"devanagari\", \"difference\",\n    \"disc\", \"discard\", \"disclosure-closed\", \"disclosure-open\", \"document\",\n    \"dot-dash\", \"dot-dot-dash\",\n    \"dotted\", \"double\", \"down\", \"e-resize\", \"ease\", \"ease-in\", \"ease-in-out\", \"ease-out\",\n    \"element\", \"ellipse\", \"ellipsis\", \"embed\", \"end\", \"ethiopic\", \"ethiopic-abegede\",\n    \"ethiopic-abegede-am-et\", \"ethiopic-abegede-gez\", \"ethiopic-abegede-ti-er\",\n    \"ethiopic-abegede-ti-et\", \"ethiopic-halehame-aa-er\",\n    \"ethiopic-halehame-aa-et\", \"ethiopic-halehame-am-et\",\n    \"ethiopic-halehame-gez\", \"ethiopic-halehame-om-et\",\n    \"ethiopic-halehame-sid-et\", \"ethiopic-halehame-so-et\",\n    \"ethiopic-halehame-ti-er\", \"ethiopic-halehame-ti-et\", \"ethiopic-halehame-tig\",\n    \"ethiopic-numeric\", \"ew-resize\", \"exclusion\", \"expanded\", \"extends\", \"extra-condensed\",\n    \"extra-expanded\", \"fantasy\", \"fast\", \"fill\", \"fill-box\", \"fixed\", \"flat\", \"flex\", \"flex-end\", \"flex-start\", \"footnotes\",\n    \"forwards\", \"from\", \"geometricPrecision\", \"georgian\", \"graytext\", \"grid\", \"groove\",\n    \"gujarati\", \"gurmukhi\", \"hand\", \"hangul\", \"hangul-consonant\", \"hard-light\", \"hebrew\",\n    \"help\", \"hidden\", \"hide\", \"higher\", \"highlight\", \"highlighttext\",\n    \"hiragana\", \"hiragana-iroha\", \"horizontal\", \"hsl\", \"hsla\", \"hue\", \"icon\", \"ignore\",\n    \"inactiveborder\", \"inactivecaption\", \"inactivecaptiontext\", \"infinite\",\n    \"infobackground\", \"infotext\", \"inherit\", \"initial\", \"inline\", \"inline-axis\",\n    \"inline-block\", \"inline-flex\", \"inline-grid\", \"inline-table\", \"inset\", \"inside\", \"intrinsic\", \"invert\",\n    \"italic\", \"japanese-formal\", \"japanese-informal\", \"justify\", \"kannada\",\n    \"katakana\", \"katakana-iroha\", \"keep-all\", \"khmer\",\n    \"korean-hangul-formal\", \"korean-hanja-formal\", \"korean-hanja-informal\",\n    \"landscape\", \"lao\", \"large\", \"larger\", \"left\", \"level\", \"lighter\", \"lighten\",\n    \"line-through\", \"linear\", \"linear-gradient\", \"lines\", \"list-item\", \"listbox\", \"listitem\",\n    \"local\", \"logical\", \"loud\", \"lower\", \"lower-alpha\", \"lower-armenian\",\n    \"lower-greek\", \"lower-hexadecimal\", \"lower-latin\", \"lower-norwegian\",\n    \"lower-roman\", \"lowercase\", \"ltr\", \"luminosity\", \"malayalam\", \"manipulation\", \"match\", \"matrix\", \"matrix3d\",\n    \"media-controls-background\", \"media-current-time-display\",\n    \"media-fullscreen-button\", \"media-mute-button\", \"media-play-button\",\n    \"media-return-to-realtime-button\", \"media-rewind-button\",\n    \"media-seek-back-button\", \"media-seek-forward-button\", \"media-slider\",\n    \"media-sliderthumb\", \"media-time-remaining-display\", \"media-volume-slider\",\n    \"media-volume-slider-container\", \"media-volume-sliderthumb\", \"medium\",\n    \"menu\", \"menulist\", \"menulist-button\", \"menulist-text\",\n    \"menulist-textfield\", \"menutext\", \"message-box\", \"middle\", \"min-intrinsic\",\n    \"mix\", \"mongolian\", \"monospace\", \"move\", \"multiple\", \"multiple_mask_images\", \"multiply\", \"myanmar\", \"n-resize\",\n    \"narrower\", \"ne-resize\", \"nesw-resize\", \"no-close-quote\", \"no-drop\",\n    \"no-open-quote\", \"no-repeat\", \"none\", \"normal\", \"not-allowed\", \"nowrap\",\n    \"ns-resize\", \"numbers\", \"numeric\", \"nw-resize\", \"nwse-resize\", \"oblique\", \"octal\", \"opacity\", \"open-quote\",\n    \"optimizeLegibility\", \"optimizeSpeed\", \"oriya\", \"oromo\", \"outset\",\n    \"outside\", \"outside-shape\", \"overlay\", \"overline\", \"padding\", \"padding-box\",\n    \"painted\", \"page\", \"paused\", \"persian\", \"perspective\", \"pinch-zoom\", \"plus-darker\", \"plus-lighter\",\n    \"pointer\", \"polygon\", \"portrait\", \"pre\", \"pre-line\", \"pre-wrap\", \"preserve-3d\",\n    \"progress\", \"push-button\", \"radial-gradient\", \"radio\", \"read-only\",\n    \"read-write\", \"read-write-plaintext-only\", \"rectangle\", \"region\",\n    \"relative\", \"repeat\", \"repeating-linear-gradient\",\n    \"repeating-radial-gradient\", \"repeat-x\", \"repeat-y\", \"reset\", \"reverse\",\n    \"rgb\", \"rgba\", \"ridge\", \"right\", \"rotate\", \"rotate3d\", \"rotateX\", \"rotateY\",\n    \"rotateZ\", \"round\", \"row\", \"row-resize\", \"row-reverse\", \"rtl\", \"run-in\", \"running\",\n    \"s-resize\", \"sans-serif\", \"saturation\", \"scale\", \"scale3d\", \"scaleX\", \"scaleY\", \"scaleZ\", \"screen\",\n    \"scroll\", \"scrollbar\", \"scroll-position\", \"se-resize\", \"searchfield\",\n    \"searchfield-cancel-button\", \"searchfield-decoration\",\n    \"searchfield-results-button\", \"searchfield-results-decoration\", \"self-start\", \"self-end\",\n    \"semi-condensed\", \"semi-expanded\", \"separate\", \"serif\", \"show\", \"sidama\",\n    \"simp-chinese-formal\", \"simp-chinese-informal\", \"single\",\n    \"skew\", \"skewX\", \"skewY\", \"skip-white-space\", \"slide\", \"slider-horizontal\",\n    \"slider-vertical\", \"sliderthumb-horizontal\", \"sliderthumb-vertical\", \"slow\",\n    \"small\", \"small-caps\", \"small-caption\", \"smaller\", \"soft-light\", \"solid\", \"somali\",\n    \"source-atop\", \"source-in\", \"source-out\", \"source-over\", \"space\", \"space-around\", \"space-between\", \"space-evenly\", \"spell-out\", \"square\",\n    \"square-button\", \"start\", \"static\", \"status-bar\", \"stretch\", \"stroke\", \"stroke-box\", \"sub\",\n    \"subpixel-antialiased\", \"svg_masks\", \"super\", \"sw-resize\", \"symbolic\", \"symbols\", \"system-ui\", \"table\",\n    \"table-caption\", \"table-cell\", \"table-column\", \"table-column-group\",\n    \"table-footer-group\", \"table-header-group\", \"table-row\", \"table-row-group\",\n    \"tamil\",\n    \"telugu\", \"text\", \"text-bottom\", \"text-top\", \"textarea\", \"textfield\", \"thai\",\n    \"thick\", \"thin\", \"threeddarkshadow\", \"threedface\", \"threedhighlight\",\n    \"threedlightshadow\", \"threedshadow\", \"tibetan\", \"tigre\", \"tigrinya-er\",\n    \"tigrinya-er-abegede\", \"tigrinya-et\", \"tigrinya-et-abegede\", \"to\", \"top\",\n    \"trad-chinese-formal\", \"trad-chinese-informal\", \"transform\",\n    \"translate\", \"translate3d\", \"translateX\", \"translateY\", \"translateZ\",\n    \"transparent\", \"ultra-condensed\", \"ultra-expanded\", \"underline\", \"unidirectional-pan\", \"unset\", \"up\",\n    \"upper-alpha\", \"upper-armenian\", \"upper-greek\", \"upper-hexadecimal\",\n    \"upper-latin\", \"upper-norwegian\", \"upper-roman\", \"uppercase\", \"urdu\", \"url\",\n    \"var\", \"vertical\", \"vertical-text\", \"view-box\", \"visible\", \"visibleFill\", \"visiblePainted\",\n    \"visibleStroke\", \"visual\", \"w-resize\", \"wait\", \"wave\", \"wider\",\n    \"window\", \"windowframe\", \"windowtext\", \"words\", \"wrap\", \"wrap-reverse\", \"x-large\", \"x-small\", \"xor\",\n    \"xx-large\", \"xx-small\"\n  ], valueKeywords = keySet(valueKeywords_);\n\n  var allWords = documentTypes_.concat(mediaTypes_).concat(mediaFeatures_).concat(mediaValueKeywords_)\n    .concat(propertyKeywords_).concat(nonStandardPropertyKeywords_).concat(colorKeywords_)\n    .concat(valueKeywords_);\n  CodeMirror.registerHelper(\"hintWords\", \"css\", allWords);\n\n  function tokenCComment(stream, state) {\n    var maybeEnd = false, ch;\n    while ((ch = stream.next()) != null) {\n      if (maybeEnd && ch == \"\/\") {\n        state.tokenize = null;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return [\"comment\", \"comment\"];\n  }\n\n  CodeMirror.defineMIME(\"text\/css\", {\n    documentTypes: documentTypes,\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    fontProperties: fontProperties,\n    counterDescriptors: counterDescriptors,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    tokenHooks: {\n      \"\/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false;\n        state.tokenize = tokenCComment;\n        return tokenCComment(stream, state);\n      }\n    },\n    name: \"css\"\n  });\n\n  CodeMirror.defineMIME(\"text\/x-scss\", {\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    fontProperties: fontProperties,\n    allowNested: true,\n    lineComment: \"\/\/\",\n    tokenHooks: {\n      \"\/\": function(stream, state) {\n        if (stream.eat(\"\/\")) {\n          stream.skipToEnd();\n          return [\"comment\", \"comment\"];\n        } else if (stream.eat(\"*\")) {\n          state.tokenize = tokenCComment;\n          return tokenCComment(stream, state);\n        } else {\n          return [\"operator\", \"operator\"];\n        }\n      },\n      \":\": function(stream) {\n        if (stream.match(\/^\\s*\\{\/, false))\n          return [null, null]\n        return false;\n      },\n      \"$\": function(stream) {\n        stream.match(\/^[\\w-]+\/);\n        if (stream.match(\/^\\s*:\/, false))\n          return [\"variable-2\", \"variable-definition\"];\n        return [\"variable-2\", \"variable\"];\n      },\n      \"#\": function(stream) {\n        if (!stream.eat(\"{\")) return false;\n        return [null, \"interpolation\"];\n      }\n    },\n    name: \"css\",\n    helperType: \"scss\"\n  });\n\n  CodeMirror.defineMIME(\"text\/x-less\", {\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    fontProperties: fontProperties,\n    allowNested: true,\n    lineComment: \"\/\/\",\n    tokenHooks: {\n      \"\/\": function(stream, state) {\n        if (stream.eat(\"\/\")) {\n          stream.skipToEnd();\n          return [\"comment\", \"comment\"];\n        } else if (stream.eat(\"*\")) {\n          state.tokenize = tokenCComment;\n          return tokenCComment(stream, state);\n        } else {\n          return [\"operator\", \"operator\"];\n        }\n      },\n      \"@\": function(stream) {\n        if (stream.eat(\"{\")) return [null, \"interpolation\"];\n        if (stream.match(\/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\\b\/i, false)) return false;\n        stream.eatWhile(\/[\\w\\\\\\-]\/);\n        if (stream.match(\/^\\s*:\/, false))\n          return [\"variable-2\", \"variable-definition\"];\n        return [\"variable-2\", \"variable\"];\n      },\n      \"&\": function() {\n        return [\"atom\", \"atom\"];\n      }\n    },\n    name: \"css\",\n    helperType: \"less\"\n  });\n\n  CodeMirror.defineMIME(\"text\/x-gss\", {\n    documentTypes: documentTypes,\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    fontProperties: fontProperties,\n    counterDescriptors: counterDescriptors,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    supportsAtComponent: true,\n    tokenHooks: {\n      \"\/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false;\n        state.tokenize = tokenCComment;\n        return tokenCComment(stream, state);\n      }\n    },\n    name: \"css\",\n    helperType: \"gss\"\n  });\n\n});\n\n};","shadow$provide[267] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"), require(\"..\/css\/css\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\", \"..\/css\/css\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"sass\", function(config) {\n  var cssMode = CodeMirror.mimeModes[\"text\/css\"];\n  var propertyKeywords = cssMode.propertyKeywords || {},\n      colorKeywords = cssMode.colorKeywords || {},\n      valueKeywords = cssMode.valueKeywords || {},\n      fontProperties = cssMode.fontProperties || {};\n\n  function tokenRegexp(words) {\n    return new RegExp(\"^\" + words.join(\"|\"));\n  }\n\n  var keywords = [\"true\", \"false\", \"null\", \"auto\"];\n  var keywordsRegexp = new RegExp(\"^\" + keywords.join(\"|\"));\n\n  var operators = [\"\\\\(\", \"\\\\)\", \"=\", \">\", \"<\", \"==\", \">=\", \"<=\", \"\\\\+\", \"-\",\n                   \"\\\\!=\", \"\/\", \"\\\\*\", \"%\", \"and\", \"or\", \"not\", \";\",\"\\\\{\",\"\\\\}\",\":\"];\n  var opRegexp = tokenRegexp(operators);\n\n  var pseudoElementsRegexp = \/^::?[a-zA-Z_][\\w\\-]*\/;\n\n  var word;\n\n  function isEndLine(stream) {\n    return !stream.peek() || stream.match(\/\\s+$\/, false);\n  }\n\n  function urlTokens(stream, state) {\n    var ch = stream.peek();\n\n    if (ch === \")\") {\n      stream.next();\n      state.tokenizer = tokenBase;\n      return \"operator\";\n    } else if (ch === \"(\") {\n      stream.next();\n      stream.eatSpace();\n\n      return \"operator\";\n    } else if (ch === \"'\" || ch === '\"') {\n      state.tokenizer = buildStringTokenizer(stream.next());\n      return \"string\";\n    } else {\n      state.tokenizer = buildStringTokenizer(\")\", false);\n      return \"string\";\n    }\n  }\n  function comment(indentation, multiLine) {\n    return function(stream, state) {\n      if (stream.sol() && stream.indentation() <= indentation) {\n        state.tokenizer = tokenBase;\n        return tokenBase(stream, state);\n      }\n\n      if (multiLine && stream.skipTo(\"*\/\")) {\n        stream.next();\n        stream.next();\n        state.tokenizer = tokenBase;\n      } else {\n        stream.skipToEnd();\n      }\n\n      return \"comment\";\n    };\n  }\n\n  function buildStringTokenizer(quote, greedy) {\n    if (greedy == null) { greedy = true; }\n\n    function stringTokenizer(stream, state) {\n      var nextChar = stream.next();\n      var peekChar = stream.peek();\n      var previousChar = stream.string.charAt(stream.pos-2);\n\n      var endingString = ((nextChar !== \"\\\\\" && peekChar === quote) || (nextChar === quote && previousChar !== \"\\\\\"));\n\n      if (endingString) {\n        if (nextChar !== quote && greedy) { stream.next(); }\n        if (isEndLine(stream)) {\n          state.cursorHalf = 0;\n        }\n        state.tokenizer = tokenBase;\n        return \"string\";\n      } else if (nextChar === \"#\" && peekChar === \"{\") {\n        state.tokenizer = buildInterpolationTokenizer(stringTokenizer);\n        stream.next();\n        return \"operator\";\n      } else {\n        return \"string\";\n      }\n    }\n\n    return stringTokenizer;\n  }\n\n  function buildInterpolationTokenizer(currentTokenizer) {\n    return function(stream, state) {\n      if (stream.peek() === \"}\") {\n        stream.next();\n        state.tokenizer = currentTokenizer;\n        return \"operator\";\n      } else {\n        return tokenBase(stream, state);\n      }\n    };\n  }\n\n  function indent(state) {\n    if (state.indentCount == 0) {\n      state.indentCount++;\n      var lastScopeOffset = state.scopes[0].offset;\n      var currentOffset = lastScopeOffset + config.indentUnit;\n      state.scopes.unshift({ offset:currentOffset });\n    }\n  }\n\n  function dedent(state) {\n    if (state.scopes.length == 1) return;\n\n    state.scopes.shift();\n  }\n\n  function tokenBase(stream, state) {\n    var ch = stream.peek();\n\n    \/\/ Comment\n    if (stream.match(\"\/*\")) {\n      state.tokenizer = comment(stream.indentation(), true);\n      return state.tokenizer(stream, state);\n    }\n    if (stream.match(\"\/\/\")) {\n      state.tokenizer = comment(stream.indentation(), false);\n      return state.tokenizer(stream, state);\n    }\n\n    \/\/ Interpolation\n    if (stream.match(\"#{\")) {\n      state.tokenizer = buildInterpolationTokenizer(tokenBase);\n      return \"operator\";\n    }\n\n    \/\/ Strings\n    if (ch === '\"' || ch === \"'\") {\n      stream.next();\n      state.tokenizer = buildStringTokenizer(ch);\n      return \"string\";\n    }\n\n    if(!state.cursorHalf){\/\/ state.cursorHalf === 0\n    \/\/ first half i.e. before : for key-value pairs\n    \/\/ including selectors\n\n      if (ch === \"-\") {\n        if (stream.match(\/^-\\w+-\/)) {\n          return \"meta\";\n        }\n      }\n\n      if (ch === \".\") {\n        stream.next();\n        if (stream.match(\/^[\\w-]+\/)) {\n          indent(state);\n          return \"qualifier\";\n        } else if (stream.peek() === \"#\") {\n          indent(state);\n          return \"tag\";\n        }\n      }\n\n      if (ch === \"#\") {\n        stream.next();\n        \/\/ ID selectors\n        if (stream.match(\/^[\\w-]+\/)) {\n          indent(state);\n          return \"builtin\";\n        }\n        if (stream.peek() === \"#\") {\n          indent(state);\n          return \"tag\";\n        }\n      }\n\n      \/\/ Variables\n      if (ch === \"$\") {\n        stream.next();\n        stream.eatWhile(\/[\\w-]\/);\n        return \"variable-2\";\n      }\n\n      \/\/ Numbers\n      if (stream.match(\/^-?[0-9\\.]+\/))\n        return \"number\";\n\n      \/\/ Units\n      if (stream.match(\/^(px|em|in)\\b\/))\n        return \"unit\";\n\n      if (stream.match(keywordsRegexp))\n        return \"keyword\";\n\n      if (stream.match(\/^url\/) && stream.peek() === \"(\") {\n        state.tokenizer = urlTokens;\n        return \"atom\";\n      }\n\n      if (ch === \"=\") {\n        \/\/ Match shortcut mixin definition\n        if (stream.match(\/^=[\\w-]+\/)) {\n          indent(state);\n          return \"meta\";\n        }\n      }\n\n      if (ch === \"+\") {\n        \/\/ Match shortcut mixin definition\n        if (stream.match(\/^\\+[\\w-]+\/)){\n          return \"variable-3\";\n        }\n      }\n\n      if(ch === \"@\"){\n        if(stream.match('@extend')){\n          if(!stream.match(\/\\s*[\\w]\/))\n            dedent(state);\n        }\n      }\n\n\n      \/\/ Indent Directives\n      if (stream.match(\/^@(else if|if|media|else|for|each|while|mixin|function)\/)) {\n        indent(state);\n        return \"def\";\n      }\n\n      \/\/ Other Directives\n      if (ch === \"@\") {\n        stream.next();\n        stream.eatWhile(\/[\\w-]\/);\n        return \"def\";\n      }\n\n      if (stream.eatWhile(\/[\\w-]\/)){\n        if(stream.match(\/ *: *[\\w-\\+\\$#!\\(\"']\/,false)){\n          word = stream.current().toLowerCase();\n          var prop = state.prevProp + \"-\" + word;\n          if (propertyKeywords.hasOwnProperty(prop)) {\n            return \"property\";\n          } else if (propertyKeywords.hasOwnProperty(word)) {\n            state.prevProp = word;\n            return \"property\";\n          } else if (fontProperties.hasOwnProperty(word)) {\n            return \"property\";\n          }\n          return \"tag\";\n        }\n        else if(stream.match(\/ *:\/,false)){\n          indent(state);\n          state.cursorHalf = 1;\n          state.prevProp = stream.current().toLowerCase();\n          return \"property\";\n        }\n        else if(stream.match(\/ *,\/,false)){\n          return \"tag\";\n        }\n        else{\n          indent(state);\n          return \"tag\";\n        }\n      }\n\n      if(ch === \":\"){\n        if (stream.match(pseudoElementsRegexp)){ \/\/ could be a pseudo-element\n          return \"variable-3\";\n        }\n        stream.next();\n        state.cursorHalf=1;\n        return \"operator\";\n      }\n\n    } \/\/ cursorHalf===0 ends here\n    else{\n\n      if (ch === \"#\") {\n        stream.next();\n        \/\/ Hex numbers\n        if (stream.match(\/[0-9a-fA-F]{6}|[0-9a-fA-F]{3}\/)){\n          if (isEndLine(stream)) {\n            state.cursorHalf = 0;\n          }\n          return \"number\";\n        }\n      }\n\n      \/\/ Numbers\n      if (stream.match(\/^-?[0-9\\.]+\/)){\n        if (isEndLine(stream)) {\n          state.cursorHalf = 0;\n        }\n        return \"number\";\n      }\n\n      \/\/ Units\n      if (stream.match(\/^(px|em|in)\\b\/)){\n        if (isEndLine(stream)) {\n          state.cursorHalf = 0;\n        }\n        return \"unit\";\n      }\n\n      if (stream.match(keywordsRegexp)){\n        if (isEndLine(stream)) {\n          state.cursorHalf = 0;\n        }\n        return \"keyword\";\n      }\n\n      if (stream.match(\/^url\/) && stream.peek() === \"(\") {\n        state.tokenizer = urlTokens;\n        if (isEndLine(stream)) {\n          state.cursorHalf = 0;\n        }\n        return \"atom\";\n      }\n\n      \/\/ Variables\n      if (ch === \"$\") {\n        stream.next();\n        stream.eatWhile(\/[\\w-]\/);\n        if (isEndLine(stream)) {\n          state.cursorHalf = 0;\n        }\n        return \"variable-2\";\n      }\n\n      \/\/ bang character for !important, !default, etc.\n      if (ch === \"!\") {\n        stream.next();\n        state.cursorHalf = 0;\n        return stream.match(\/^[\\w]+\/) ? \"keyword\": \"operator\";\n      }\n\n      if (stream.match(opRegexp)){\n        if (isEndLine(stream)) {\n          state.cursorHalf = 0;\n        }\n        return \"operator\";\n      }\n\n      \/\/ attributes\n      if (stream.eatWhile(\/[\\w-]\/)) {\n        if (isEndLine(stream)) {\n          state.cursorHalf = 0;\n        }\n        word = stream.current().toLowerCase();\n        if (valueKeywords.hasOwnProperty(word)) {\n          return \"atom\";\n        } else if (colorKeywords.hasOwnProperty(word)) {\n          return \"keyword\";\n        } else if (propertyKeywords.hasOwnProperty(word)) {\n          state.prevProp = stream.current().toLowerCase();\n          return \"property\";\n        } else {\n          return \"tag\";\n        }\n      }\n\n      \/\/stream.eatSpace();\n      if (isEndLine(stream)) {\n        state.cursorHalf = 0;\n        return null;\n      }\n\n    } \/\/ else ends here\n\n    if (stream.match(opRegexp))\n      return \"operator\";\n\n    \/\/ If we haven't returned by now, we move 1 character\n    \/\/ and return an error\n    stream.next();\n    return null;\n  }\n\n  function tokenLexer(stream, state) {\n    if (stream.sol()) state.indentCount = 0;\n    var style = state.tokenizer(stream, state);\n    var current = stream.current();\n\n    if (current === \"@return\" || current === \"}\"){\n      dedent(state);\n    }\n\n    if (style !== null) {\n      var startOfToken = stream.pos - current.length;\n\n      var withCurrentIndent = startOfToken + (config.indentUnit * state.indentCount);\n\n      var newScopes = [];\n\n      for (var i = 0; i < state.scopes.length; i++) {\n        var scope = state.scopes[i];\n\n        if (scope.offset <= withCurrentIndent)\n          newScopes.push(scope);\n      }\n\n      state.scopes = newScopes;\n    }\n\n\n    return style;\n  }\n\n  return {\n    startState: function() {\n      return {\n        tokenizer: tokenBase,\n        scopes: [{offset: 0, type: \"sass\"}],\n        indentCount: 0,\n        cursorHalf: 0,  \/\/ cursor half tells us if cursor lies after (1)\n                        \/\/ or before (0) colon (well... more or less)\n        definedVars: [],\n        definedMixins: []\n      };\n    },\n    token: function(stream, state) {\n      var style = tokenLexer(stream, state);\n\n      state.lastToken = { style: style, content: stream.current() };\n\n      return style;\n    },\n\n    indent: function(state) {\n      return state.scopes[0].offset;\n    }\n  };\n}, \"css\");\n\nCodeMirror.defineMIME(\"text\/x-sass\", \"sass\");\n\n});\n\n};","shadow$provide[274] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function (mod) {\n  \"use strict\";\n  if (typeof exports === \"object\" && typeof module === \"object\") {\/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"),\n        require(\"..\/..\/addon\/mode\/overlay\"),\n        require(\"..\/xml\/xml\"),\n        require(\"..\/javascript\/javascript\"),\n        require(\"..\/coffeescript\/coffeescript\"),\n        require(\"..\/css\/css\"),\n        require(\"..\/sass\/sass\"),\n        require(\"..\/stylus\/stylus\"),\n        require(\"..\/pug\/pug\"),\n        require(\"..\/handlebars\/handlebars\"));\n  } else if (typeof define === \"function\" && define.amd) { \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\",\n            \"..\/..\/addon\/mode\/overlay\",\n            \"..\/xml\/xml\",\n            \"..\/javascript\/javascript\",\n            \"..\/coffeescript\/coffeescript\",\n            \"..\/css\/css\",\n            \"..\/sass\/sass\",\n            \"..\/stylus\/stylus\",\n            \"..\/pug\/pug\",\n            \"..\/handlebars\/handlebars\"], mod);\n  } else { \/\/ Plain browser env\n    mod(CodeMirror);\n  }\n})(function (CodeMirror) {\n  var tagLanguages = {\n    script: [\n      [\"lang\", \/coffee(script)?\/, \"coffeescript\"],\n      [\"type\", \/^(?:text|application)\\\/(?:x-)?coffee(?:script)?$\/, \"coffeescript\"],\n      [\"lang\", \/^babel$\/, \"javascript\"],\n      [\"type\", \/^text\\\/babel$\/, \"javascript\"],\n      [\"type\", \/^text\\\/ecmascript-\\d+$\/, \"javascript\"]\n    ],\n    style: [\n      [\"lang\", \/^stylus$\/i, \"stylus\"],\n      [\"lang\", \/^sass$\/i, \"sass\"],\n      [\"lang\", \/^less$\/i, \"text\/x-less\"],\n      [\"lang\", \/^scss$\/i, \"text\/x-scss\"],\n      [\"type\", \/^(text\\\/)?(x-)?styl(us)?$\/i, \"stylus\"],\n      [\"type\", \/^text\\\/sass\/i, \"sass\"],\n      [\"type\", \/^(text\\\/)?(x-)?scss$\/i, \"text\/x-scss\"],\n      [\"type\", \/^(text\\\/)?(x-)?less$\/i, \"text\/x-less\"]\n    ],\n    template: [\n      [\"lang\", \/^vue-template$\/i, \"vue\"],\n      [\"lang\", \/^pug$\/i, \"pug\"],\n      [\"lang\", \/^handlebars$\/i, \"handlebars\"],\n      [\"type\", \/^(text\\\/)?(x-)?pug$\/i, \"pug\"],\n      [\"type\", \/^text\\\/x-handlebars-template$\/i, \"handlebars\"],\n      [null, null, \"vue-template\"]\n    ]\n  };\n\n  CodeMirror.defineMode(\"vue-template\", function (config, parserConfig) {\n    var mustacheOverlay = {\n      token: function (stream) {\n        if (stream.match(\/^\\{\\{.*?\\}\\}\/)) return \"meta mustache\";\n        while (stream.next() && !stream.match(\"{{\", false)) {}\n        return null;\n      }\n    };\n    return CodeMirror.overlayMode(CodeMirror.getMode(config, parserConfig.backdrop || \"text\/html\"), mustacheOverlay);\n  });\n\n  CodeMirror.defineMode(\"vue\", function (config) {\n    return CodeMirror.getMode(config, {name: \"htmlmixed\", tags: tagLanguages});\n  }, \"htmlmixed\", \"xml\", \"javascript\", \"coffeescript\", \"css\", \"sass\", \"stylus\", \"pug\", \"handlebars\");\n\n  CodeMirror.defineMIME(\"script\/x-vue\", \"vue\");\n  CodeMirror.defineMIME(\"text\/x-vue\", \"vue\");\n});\n\n};","shadow$provide[275] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"commonlisp\", function (config) {\n  var specialForm = \/^(block|let*|return-from|catch|load-time-value|setq|eval-when|locally|symbol-macrolet|flet|macrolet|tagbody|function|multiple-value-call|the|go|multiple-value-prog1|throw|if|progn|unwind-protect|labels|progv|let|quote)$\/;\n  var assumeBody = \/^with|^def|^do|^prog|case$|^cond$|bind$|when$|unless$\/;\n  var numLiteral = \/^(?:[+\\-]?(?:\\d+|\\d*\\.\\d+)(?:[efd][+\\-]?\\d+)?|[+\\-]?\\d+(?:\\\/[+\\-]?\\d+)?|#b[+\\-]?[01]+|#o[+\\-]?[0-7]+|#x[+\\-]?[\\da-f]+)\/;\n  var symbol = \/[^\\s'`,@()\\[\\]\";]\/;\n  var type;\n\n  function readSym(stream) {\n    var ch;\n    while (ch = stream.next()) {\n      if (ch == \"\\\\\") stream.next();\n      else if (!symbol.test(ch)) { stream.backUp(1); break; }\n    }\n    return stream.current();\n  }\n\n  function base(stream, state) {\n    if (stream.eatSpace()) {type = \"ws\"; return null;}\n    if (stream.match(numLiteral)) return \"number\";\n    var ch = stream.next();\n    if (ch == \"\\\\\") ch = stream.next();\n\n    if (ch == '\"') return (state.tokenize = inString)(stream, state);\n    else if (ch == \"(\") { type = \"open\"; return \"bracket\"; }\n    else if (ch == \")\" || ch == \"]\") { type = \"close\"; return \"bracket\"; }\n    else if (ch == \";\") { stream.skipToEnd(); type = \"ws\"; return \"comment\"; }\n    else if (\/['`,@]\/.test(ch)) return null;\n    else if (ch == \"|\") {\n      if (stream.skipTo(\"|\")) { stream.next(); return \"symbol\"; }\n      else { stream.skipToEnd(); return \"error\"; }\n    } else if (ch == \"#\") {\n      var ch = stream.next();\n      if (ch == \"(\") { type = \"open\"; return \"bracket\"; }\n      else if (\/[+\\-=\\.']\/.test(ch)) return null;\n      else if (\/\\d\/.test(ch) && stream.match(\/^\\d*#\/)) return null;\n      else if (ch == \"|\") return (state.tokenize = inComment)(stream, state);\n      else if (ch == \":\") { readSym(stream); return \"meta\"; }\n      else if (ch == \"\\\\\") { stream.next(); readSym(stream); return \"string-2\" }\n      else return \"error\";\n    } else {\n      var name = readSym(stream);\n      if (name == \".\") return null;\n      type = \"symbol\";\n      if (name == \"nil\" || name == \"t\" || name.charAt(0) == \":\") return \"atom\";\n      if (state.lastType == \"open\" && (specialForm.test(name) || assumeBody.test(name))) return \"keyword\";\n      if (name.charAt(0) == \"&\") return \"variable-2\";\n      return \"variable\";\n    }\n  }\n\n  function inString(stream, state) {\n    var escaped = false, next;\n    while (next = stream.next()) {\n      if (next == '\"' && !escaped) { state.tokenize = base; break; }\n      escaped = !escaped && next == \"\\\\\";\n    }\n    return \"string\";\n  }\n\n  function inComment(stream, state) {\n    var next, last;\n    while (next = stream.next()) {\n      if (next == \"#\" && last == \"|\") { state.tokenize = base; break; }\n      last = next;\n    }\n    type = \"ws\";\n    return \"comment\";\n  }\n\n  return {\n    startState: function () {\n      return {ctx: {prev: null, start: 0, indentTo: 0}, lastType: null, tokenize: base};\n    },\n\n    token: function (stream, state) {\n      if (stream.sol() && typeof state.ctx.indentTo != \"number\")\n        state.ctx.indentTo = state.ctx.start + 1;\n\n      type = null;\n      var style = state.tokenize(stream, state);\n      if (type != \"ws\") {\n        if (state.ctx.indentTo == null) {\n          if (type == \"symbol\" && assumeBody.test(stream.current()))\n            state.ctx.indentTo = state.ctx.start + config.indentUnit;\n          else\n            state.ctx.indentTo = \"next\";\n        } else if (state.ctx.indentTo == \"next\") {\n          state.ctx.indentTo = stream.column();\n        }\n        state.lastType = type;\n      }\n      if (type == \"open\") state.ctx = {prev: state.ctx, start: stream.column(), indentTo: null};\n      else if (type == \"close\") state.ctx = state.ctx.prev || state.ctx;\n      return style;\n    },\n\n    indent: function (state, _textAfter) {\n      var i = state.ctx.indentTo;\n      return typeof i == \"number\" ? i : state.ctx.start + 1;\n    },\n\n    closeBrackets: {pairs: \"()[]{}\\\"\\\"\"},\n    lineComment: \";;\",\n    blockCommentStart: \"#|\",\n    blockCommentEnd: \"|#\"\n  };\n});\n\nCodeMirror.defineMIME(\"text\/x-common-lisp\", \"commonlisp\");\n\n});\n\n};","shadow$provide[276] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"), require(\"..\/clike\/clike\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\", \"..\/clike\/clike\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var keywords = (\"this super static final const abstract class extends external factory \" +\n    \"implements mixin get native set typedef with enum throw rethrow \" +\n    \"assert break case continue default in return new deferred async await covariant \" +\n    \"try catch finally do else for if switch while import library export \" +\n    \"part of show hide is as extension on yield late required\").split(\" \");\n  var blockKeywords = \"try catch finally do else for if switch while\".split(\" \");\n  var atoms = \"true false null\".split(\" \");\n  var builtins = \"void bool num int double dynamic var String Null Never\".split(\" \");\n\n  function set(words) {\n    var obj = {};\n    for (var i = 0; i < words.length; ++i) obj[words[i]] = true;\n    return obj;\n  }\n\n  function pushInterpolationStack(state) {\n    (state.interpolationStack || (state.interpolationStack = [])).push(state.tokenize);\n  }\n\n  function popInterpolationStack(state) {\n    return (state.interpolationStack || (state.interpolationStack = [])).pop();\n  }\n\n  function sizeInterpolationStack(state) {\n    return state.interpolationStack ? state.interpolationStack.length : 0;\n  }\n\n  CodeMirror.defineMIME(\"application\/dart\", {\n    name: \"clike\",\n    keywords: set(keywords),\n    blockKeywords: set(blockKeywords),\n    builtin: set(builtins),\n    atoms: set(atoms),\n    hooks: {\n      \"@\": function(stream) {\n        stream.eatWhile(\/[\\w\\$_\\.]\/);\n        return \"meta\";\n      },\n\n      \/\/ custom string handling to deal with triple-quoted strings and string interpolation\n      \"'\": function(stream, state) {\n        return tokenString(\"'\", stream, state, false);\n      },\n      \"\\\"\": function(stream, state) {\n        return tokenString(\"\\\"\", stream, state, false);\n      },\n      \"r\": function(stream, state) {\n        var peek = stream.peek();\n        if (peek == \"'\" || peek == \"\\\"\") {\n          return tokenString(stream.next(), stream, state, true);\n        }\n        return false;\n      },\n\n      \"}\": function(_stream, state) {\n        \/\/ \"}\" is end of interpolation, if interpolation stack is non-empty\n        if (sizeInterpolationStack(state) > 0) {\n          state.tokenize = popInterpolationStack(state);\n          return null;\n        }\n        return false;\n      },\n\n      \"\/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false\n        state.tokenize = tokenNestedComment(1)\n        return state.tokenize(stream, state)\n      },\n      token: function(stream, _, style) {\n        if (style == \"variable\") {\n          \/\/ Assume uppercase symbols are classes using variable-2\n          var isUpper = RegExp('^[_$]*[A-Z][a-zA-Z0-9_$]*$','g');\n          if (isUpper.test(stream.current())) {\n            return 'variable-2';\n          }\n        }\n      }\n    }\n  });\n\n  function tokenString(quote, stream, state, raw) {\n    var tripleQuoted = false;\n    if (stream.eat(quote)) {\n      if (stream.eat(quote)) tripleQuoted = true;\n      else return \"string\"; \/\/empty string\n    }\n    function tokenStringHelper(stream, state) {\n      var escaped = false;\n      while (!stream.eol()) {\n        if (!raw && !escaped && stream.peek() == \"$\") {\n          pushInterpolationStack(state);\n          state.tokenize = tokenInterpolation;\n          return \"string\";\n        }\n        var next = stream.next();\n        if (next == quote && !escaped && (!tripleQuoted || stream.match(quote + quote))) {\n          state.tokenize = null;\n          break;\n        }\n        escaped = !raw && !escaped && next == \"\\\\\";\n      }\n      return \"string\";\n    }\n    state.tokenize = tokenStringHelper;\n    return tokenStringHelper(stream, state);\n  }\n\n  function tokenInterpolation(stream, state) {\n    stream.eat(\"$\");\n    if (stream.eat(\"{\")) {\n      \/\/ let clike handle the content of ${...},\n      \/\/ we take over again when \"}\" appears (see hooks).\n      state.tokenize = null;\n    } else {\n      state.tokenize = tokenInterpolationIdentifier;\n    }\n    return null;\n  }\n\n  function tokenInterpolationIdentifier(stream, state) {\n    stream.eatWhile(\/[\\w_]\/);\n    state.tokenize = popInterpolationStack(state);\n    return \"variable\";\n  }\n\n  function tokenNestedComment(depth) {\n    return function (stream, state) {\n      var ch\n      while (ch = stream.next()) {\n        if (ch == \"*\" && stream.eat(\"\/\")) {\n          if (depth == 1) {\n            state.tokenize = null\n            break\n          } else {\n            state.tokenize = tokenNestedComment(depth - 1)\n            return state.tokenize(stream, state)\n          }\n        } else if (ch == \"\/\" && stream.eat(\"*\")) {\n          state.tokenize = tokenNestedComment(depth + 1)\n          return state.tokenize(stream, state)\n        }\n      }\n      return \"comment\"\n    }\n  }\n\n  CodeMirror.registerHelper(\"hintWords\", \"application\/dart\", keywords.concat(atoms).concat(builtins));\n\n  \/\/ This is needed to make loading through meta.js work.\n  CodeMirror.defineMode(\"dart\", function(conf) {\n    return CodeMirror.getMode(conf, \"application\/dart\");\n  }, \"clike\");\n});\n\n};","shadow$provide[277] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"), require(\"..\/..\/addon\/mode\/simple\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\", \"..\/..\/addon\/mode\/simple\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var from = \"from\";\n  var fromRegex = new RegExp(\"^(\\\\s*)\\\\b(\" + from + \")\\\\b\", \"i\");\n\n  var shells = [\"run\", \"cmd\", \"entrypoint\", \"shell\"];\n  var shellsAsArrayRegex = new RegExp(\"^(\\\\s*)(\" + shells.join('|') + \")(\\\\s+\\\\[)\", \"i\");\n\n  var expose = \"expose\";\n  var exposeRegex = new RegExp(\"^(\\\\s*)(\" + expose + \")(\\\\s+)\", \"i\");\n\n  var others = [\n    \"arg\", \"from\", \"maintainer\", \"label\", \"env\",\n    \"add\", \"copy\", \"volume\", \"user\",\n    \"workdir\", \"onbuild\", \"stopsignal\", \"healthcheck\", \"shell\"\n  ];\n\n  \/\/ Collect all Dockerfile directives\n  var instructions = [from, expose].concat(shells).concat(others),\n      instructionRegex = \"(\" + instructions.join('|') + \")\",\n      instructionOnlyLine = new RegExp(\"^(\\\\s*)\" + instructionRegex + \"(\\\\s*)(#.*)?$\", \"i\"),\n      instructionWithArguments = new RegExp(\"^(\\\\s*)\" + instructionRegex + \"(\\\\s+)\", \"i\");\n\n  CodeMirror.defineSimpleMode(\"dockerfile\", {\n    start: [\n      \/\/ Block comment: This is a line starting with a comment\n      {\n        regex: \/^\\s*#.*$\/,\n        sol: true,\n        token: \"comment\"\n      },\n      {\n        regex: fromRegex,\n        token: [null, \"keyword\"],\n        sol: true,\n        next: \"from\"\n      },\n      \/\/ Highlight an instruction without any arguments (for convenience)\n      {\n        regex: instructionOnlyLine,\n        token: [null, \"keyword\", null, \"error\"],\n        sol: true\n      },\n      {\n        regex: shellsAsArrayRegex,\n        token: [null, \"keyword\", null],\n        sol: true,\n        next: \"array\"\n      },\n      {\n        regex: exposeRegex,\n        token: [null, \"keyword\", null],\n        sol: true,\n        next: \"expose\"\n      },\n      \/\/ Highlight an instruction followed by arguments\n      {\n        regex: instructionWithArguments,\n        token: [null, \"keyword\", null],\n        sol: true,\n        next: \"arguments\"\n      },\n      {\n        regex: \/.\/,\n        token: null\n      }\n    ],\n    from: [\n      {\n        regex: \/\\s*$\/,\n        token: null,\n        next: \"start\"\n      },\n      {\n        \/\/ Line comment without instruction arguments is an error\n        regex: \/(\\s*)(#.*)$\/,\n        token: [null, \"error\"],\n        next: \"start\"\n      },\n      {\n        regex: \/(\\s*\\S+\\s+)(as)\/i,\n        token: [null, \"keyword\"],\n        next: \"start\"\n      },\n      \/\/ Fail safe return to start\n      {\n        token: null,\n        next: \"start\"\n      }\n    ],\n    single: [\n      {\n        regex: \/(?:[^\\\\']|\\\\.)\/,\n        token: \"string\"\n      },\n      {\n        regex: \/'\/,\n        token: \"string\",\n        pop: true\n      }\n    ],\n    double: [\n      {\n        regex: \/(?:[^\\\\\"]|\\\\.)\/,\n        token: \"string\"\n      },\n      {\n        regex: \/\"\/,\n        token: \"string\",\n        pop: true\n      }\n    ],\n    array: [\n      {\n        regex: \/\\]\/,\n        token: null,\n        next: \"start\"\n      },\n      {\n        regex: \/\"(?:[^\\\\\"]|\\\\.)*\"?\/,\n        token: \"string\"\n      }\n    ],\n    expose: [\n      {\n        regex: \/\\d+$\/,\n        token: \"number\",\n        next: \"start\"\n      },\n      {\n        regex: \/[^\\d]+$\/,\n        token: null,\n        next: \"start\"\n      },\n      {\n        regex: \/\\d+\/,\n        token: \"number\"\n      },\n      {\n        regex: \/[^\\d]+\/,\n        token: null\n      },\n      \/\/ Fail safe return to start\n      {\n        token: null,\n        next: \"start\"\n      }\n    ],\n    arguments: [\n      {\n        regex: \/^\\s*#.*$\/,\n        sol: true,\n        token: \"comment\"\n      },\n      {\n        regex: \/\"(?:[^\\\\\"]|\\\\.)*\"?$\/,\n        token: \"string\",\n        next: \"start\"\n      },\n      {\n        regex: \/\"\/,\n        token: \"string\",\n        push: \"double\"\n      },\n      {\n        regex: \/'(?:[^\\\\']|\\\\.)*'?$\/,\n        token: \"string\",\n        next: \"start\"\n      },\n      {\n        regex: \/'\/,\n        token: \"string\",\n        push: \"single\"\n      },\n      {\n        regex: \/[^#\"']+[\\\\`]$\/,\n        token: null\n      },\n      {\n        regex: \/[^#\"']+$\/,\n        token: null,\n        next: \"start\"\n      },\n      {\n        regex: \/[^#\"']+\/,\n        token: null\n      },\n      \/\/ Fail safe return to start\n      {\n        token: null,\n        next: \"start\"\n      }\n    ],\n    meta: {\n      lineComment: \"#\"\n    }\n  });\n\n  CodeMirror.defineMIME(\"text\/x-dockerfile\", \"dockerfile\");\n});\n\n};","shadow$provide[278] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: http:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineMode(\"elm\", function() {\n\n    function switchState(source, setState, f)\n    {\n      setState(f);\n      return f(source, setState);\n    }\n\n    var lowerRE = \/[a-z]\/;\n    var upperRE = \/[A-Z]\/;\n    var innerRE = \/[a-zA-Z0-9_]\/;\n\n    var digitRE = \/[0-9]\/;\n    var hexRE = \/[0-9A-Fa-f]\/;\n    var symbolRE = \/[-&*+.\\\\\/<>=?^|:]\/;\n    var specialRE = \/[(),[\\]{}]\/;\n    var spacesRE = \/[ \\v\\f]\/; \/\/ newlines are handled in tokenizer\n\n    function normal()\n    {\n      return function(source, setState)\n      {\n        if (source.eatWhile(spacesRE))\n        {\n          return null;\n        }\n\n        var char = source.next();\n\n        if (specialRE.test(char))\n        {\n          return (char === '{' && source.eat('-'))\n            ? switchState(source, setState, chompMultiComment(1))\n            : (char === '[' && source.match('glsl|'))\n                ? switchState(source, setState, chompGlsl)\n                : 'builtin';\n        }\n\n        if (char === '\\'')\n        {\n          return switchState(source, setState, chompChar);\n        }\n\n        if (char === '\"')\n        {\n          return source.eat('\"')\n            ? source.eat('\"')\n                ? switchState(source, setState, chompMultiString)\n                : 'string'\n            : switchState(source, setState, chompSingleString);\n        }\n\n        if (upperRE.test(char))\n        {\n          source.eatWhile(innerRE);\n          return 'variable-2';\n        }\n\n        if (lowerRE.test(char))\n        {\n          var isDef = source.pos === 1;\n          source.eatWhile(innerRE);\n          return isDef ? \"def\" : \"variable\";\n        }\n\n        if (digitRE.test(char))\n        {\n          if (char === '0')\n          {\n            if (source.eat(\/[xX]\/))\n            {\n              source.eatWhile(hexRE); \/\/ should require at least 1\n              return \"number\";\n            }\n          }\n          else\n          {\n            source.eatWhile(digitRE);\n          }\n          if (source.eat('.'))\n          {\n            source.eatWhile(digitRE); \/\/ should require at least 1\n          }\n          if (source.eat(\/[eE]\/))\n          {\n            source.eat(\/[-+]\/);\n            source.eatWhile(digitRE); \/\/ should require at least 1\n          }\n          return \"number\";\n        }\n\n        if (symbolRE.test(char))\n        {\n          if (char === '-' && source.eat('-'))\n          {\n            source.skipToEnd();\n            return \"comment\";\n          }\n          source.eatWhile(symbolRE);\n          return \"keyword\";\n        }\n\n        if (char === '_')\n        {\n          return \"keyword\";\n        }\n\n        return \"error\";\n      }\n    }\n\n    function chompMultiComment(nest)\n    {\n      if (nest == 0)\n      {\n        return normal();\n      }\n      return function(source, setState)\n      {\n        while (!source.eol())\n        {\n          var char = source.next();\n          if (char == '{' && source.eat('-'))\n          {\n            ++nest;\n          }\n          else if (char == '-' && source.eat('}'))\n          {\n            --nest;\n            if (nest === 0)\n            {\n              setState(normal());\n              return 'comment';\n            }\n          }\n        }\n        setState(chompMultiComment(nest));\n        return 'comment';\n      }\n    }\n\n    function chompMultiString(source, setState)\n    {\n      while (!source.eol())\n      {\n        var char = source.next();\n        if (char === '\"' && source.eat('\"') && source.eat('\"'))\n        {\n          setState(normal());\n          return 'string';\n        }\n      }\n      return 'string';\n    }\n\n    function chompSingleString(source, setState)\n    {\n      while (source.skipTo('\\\\\"')) { source.next(); source.next(); }\n      if (source.skipTo('\"'))\n      {\n        source.next();\n        setState(normal());\n        return 'string';\n      }\n      source.skipToEnd();\n      setState(normal());\n      return 'error';\n    }\n\n    function chompChar(source, setState)\n    {\n      while (source.skipTo(\"\\\\'\")) { source.next(); source.next(); }\n      if (source.skipTo(\"'\"))\n      {\n        source.next();\n        setState(normal());\n        return 'string';\n      }\n      source.skipToEnd();\n      setState(normal());\n      return 'error';\n    }\n\n    function chompGlsl(source, setState)\n    {\n      while (!source.eol())\n      {\n        var char = source.next();\n        if (char === '|' && source.eat(']'))\n        {\n          setState(normal());\n          return 'string';\n        }\n      }\n      return 'string';\n    }\n\n    var wellKnownWords = {\n      case: 1,\n      of: 1,\n      as: 1,\n      if: 1,\n      then: 1,\n      else: 1,\n      let: 1,\n      in: 1,\n      type: 1,\n      alias: 1,\n      module: 1,\n      where: 1,\n      import: 1,\n      exposing: 1,\n      port: 1\n    };\n\n    return {\n      startState: function ()  { return { f: normal() }; },\n      copyState:  function (s) { return { f: s.f }; },\n\n      token: function(stream, state) {\n        var type = state.f(stream, function(s) { state.f = s; });\n        var word = stream.current();\n        return (wellKnownWords.hasOwnProperty(word)) ? 'keyword' : type;\n      }\n    };\n\n  });\n\n  CodeMirror.defineMIME(\"text\/x-elm\", \"elm\");\n});\n\n};","shadow$provide[279] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n\/*jshint unused:true, eqnull:true, curly:true, bitwise:true *\/\n\/*jshint undef:true, latedef:true, trailing:true *\/\n\/*global CodeMirror:true *\/\n\n\/\/ erlang mode.\n\/\/ tokenizer -> token types -> CodeMirror styles\n\/\/ tokenizer maintains a parse stack\n\/\/ indenter uses the parse stack\n\n\/\/ TODO indenter:\n\/\/   bit syntax\n\/\/   old guard\/bif\/conversion clashes (e.g. \"float\/1\")\n\/\/   type\/spec\/opaque\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMIME(\"text\/x-erlang\", \"erlang\");\n\nCodeMirror.defineMode(\"erlang\", function(cmCfg) {\n  \"use strict\";\n\n\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\n\/\/ constants\n\n  var typeWords = [\n    \"-type\", \"-spec\", \"-export_type\", \"-opaque\"];\n\n  var keywordWords = [\n    \"after\",\"begin\",\"catch\",\"case\",\"cond\",\"end\",\"fun\",\"if\",\n    \"let\",\"of\",\"query\",\"receive\",\"try\",\"when\"];\n\n  var separatorRE    = \/[\\->,;]\/;\n  var separatorWords = [\n    \"->\",\";\",\",\"];\n\n  var operatorAtomWords = [\n    \"and\",\"andalso\",\"band\",\"bnot\",\"bor\",\"bsl\",\"bsr\",\"bxor\",\n    \"div\",\"not\",\"or\",\"orelse\",\"rem\",\"xor\"];\n\n  var operatorSymbolRE    = \/[\\+\\-\\*\\\/<>=\\|:!]\/;\n  var operatorSymbolWords = [\n    \"=\",\"+\",\"-\",\"*\",\"\/\",\">\",\">=\",\"<\",\"=<\",\"=:=\",\"==\",\"=\/=\",\"\/=\",\"||\",\"<-\",\"!\"];\n\n  var openParenRE    = \/[<\\(\\[\\{]\/;\n  var openParenWords = [\n    \"<<\",\"(\",\"[\",\"{\"];\n\n  var closeParenRE    = \/[>\\)\\]\\}]\/;\n  var closeParenWords = [\n    \"}\",\"]\",\")\",\">>\"];\n\n  var guardWords = [\n    \"is_atom\",\"is_binary\",\"is_bitstring\",\"is_boolean\",\"is_float\",\n    \"is_function\",\"is_integer\",\"is_list\",\"is_number\",\"is_pid\",\n    \"is_port\",\"is_record\",\"is_reference\",\"is_tuple\",\n    \"atom\",\"binary\",\"bitstring\",\"boolean\",\"function\",\"integer\",\"list\",\n    \"number\",\"pid\",\"port\",\"record\",\"reference\",\"tuple\"];\n\n  var bifWords = [\n    \"abs\",\"adler32\",\"adler32_combine\",\"alive\",\"apply\",\"atom_to_binary\",\n    \"atom_to_list\",\"binary_to_atom\",\"binary_to_existing_atom\",\n    \"binary_to_list\",\"binary_to_term\",\"bit_size\",\"bitstring_to_list\",\n    \"byte_size\",\"check_process_code\",\"contact_binary\",\"crc32\",\n    \"crc32_combine\",\"date\",\"decode_packet\",\"delete_module\",\n    \"disconnect_node\",\"element\",\"erase\",\"exit\",\"float\",\"float_to_list\",\n    \"garbage_collect\",\"get\",\"get_keys\",\"group_leader\",\"halt\",\"hd\",\n    \"integer_to_list\",\"internal_bif\",\"iolist_size\",\"iolist_to_binary\",\n    \"is_alive\",\"is_atom\",\"is_binary\",\"is_bitstring\",\"is_boolean\",\n    \"is_float\",\"is_function\",\"is_integer\",\"is_list\",\"is_number\",\"is_pid\",\n    \"is_port\",\"is_process_alive\",\"is_record\",\"is_reference\",\"is_tuple\",\n    \"length\",\"link\",\"list_to_atom\",\"list_to_binary\",\"list_to_bitstring\",\n    \"list_to_existing_atom\",\"list_to_float\",\"list_to_integer\",\n    \"list_to_pid\",\"list_to_tuple\",\"load_module\",\"make_ref\",\"module_loaded\",\n    \"monitor_node\",\"node\",\"node_link\",\"node_unlink\",\"nodes\",\"notalive\",\n    \"now\",\"open_port\",\"pid_to_list\",\"port_close\",\"port_command\",\n    \"port_connect\",\"port_control\",\"pre_loaded\",\"process_flag\",\n    \"process_info\",\"processes\",\"purge_module\",\"put\",\"register\",\n    \"registered\",\"round\",\"self\",\"setelement\",\"size\",\"spawn\",\"spawn_link\",\n    \"spawn_monitor\",\"spawn_opt\",\"split_binary\",\"statistics\",\n    \"term_to_binary\",\"time\",\"throw\",\"tl\",\"trunc\",\"tuple_size\",\n    \"tuple_to_list\",\"unlink\",\"unregister\",\"whereis\"];\n\n\/\/ upper case: [A-Z] [\u00d8-\u00de] [\u00c0-\u00d6]\n\/\/ lower case: [a-z] [\u00df-\u00f6] [\u00f8-\u00ff]\n  var anumRE       = \/[\\w@\u00d8-\u00de\u00c0-\u00d6\u00df-\u00f6\u00f8-\u00ff]\/;\n  var escapesRE    =\n    \/[0-7]{1,3}|[bdefnrstv\\\\\"']|\\^[a-zA-Z]|x[0-9a-zA-Z]{2}|x{[0-9a-zA-Z]+}\/;\n\n\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\n\/\/ tokenizer\n\n  function tokenizer(stream,state) {\n    \/\/ in multi-line string\n    if (state.in_string) {\n      state.in_string = (!doubleQuote(stream));\n      return rval(state,stream,\"string\");\n    }\n\n    \/\/ in multi-line atom\n    if (state.in_atom) {\n      state.in_atom = (!singleQuote(stream));\n      return rval(state,stream,\"atom\");\n    }\n\n    \/\/ whitespace\n    if (stream.eatSpace()) {\n      return rval(state,stream,\"whitespace\");\n    }\n\n    \/\/ attributes and type specs\n    if (!peekToken(state) &&\n        stream.match(\/-\\s*[a-z\u00df-\u00f6\u00f8-\u00ff][\\w\u00d8-\u00de\u00c0-\u00d6\u00df-\u00f6\u00f8-\u00ff]*\/)) {\n      if (is_member(stream.current(),typeWords)) {\n        return rval(state,stream,\"type\");\n      }else{\n        return rval(state,stream,\"attribute\");\n      }\n    }\n\n    var ch = stream.next();\n\n    \/\/ comment\n    if (ch == '%') {\n      stream.skipToEnd();\n      return rval(state,stream,\"comment\");\n    }\n\n    \/\/ colon\n    if (ch == \":\") {\n      return rval(state,stream,\"colon\");\n    }\n\n    \/\/ macro\n    if (ch == '?') {\n      stream.eatSpace();\n      stream.eatWhile(anumRE);\n      return rval(state,stream,\"macro\");\n    }\n\n    \/\/ record\n    if (ch == \"#\") {\n      stream.eatSpace();\n      stream.eatWhile(anumRE);\n      return rval(state,stream,\"record\");\n    }\n\n    \/\/ dollar escape\n    if (ch == \"$\") {\n      if (stream.next() == \"\\\\\" && !stream.match(escapesRE)) {\n        return rval(state,stream,\"error\");\n      }\n      return rval(state,stream,\"number\");\n    }\n\n    \/\/ dot\n    if (ch == \".\") {\n      return rval(state,stream,\"dot\");\n    }\n\n    \/\/ quoted atom\n    if (ch == '\\'') {\n      if (!(state.in_atom = (!singleQuote(stream)))) {\n        if (stream.match(\/\\s*\\\/\\s*[0-9]\/,false)) {\n          stream.match(\/\\s*\\\/\\s*[0-9]\/,true);\n          return rval(state,stream,\"fun\");      \/\/ 'f'\/0 style fun\n        }\n        if (stream.match(\/\\s*\\(\/,false) || stream.match(\/\\s*:\/,false)) {\n          return rval(state,stream,\"function\");\n        }\n      }\n      return rval(state,stream,\"atom\");\n    }\n\n    \/\/ string\n    if (ch == '\"') {\n      state.in_string = (!doubleQuote(stream));\n      return rval(state,stream,\"string\");\n    }\n\n    \/\/ variable\n    if (\/[A-Z_\u00d8-\u00de\u00c0-\u00d6]\/.test(ch)) {\n      stream.eatWhile(anumRE);\n      return rval(state,stream,\"variable\");\n    }\n\n    \/\/ atom\/keyword\/BIF\/function\n    if (\/[a-z_\u00df-\u00f6\u00f8-\u00ff]\/.test(ch)) {\n      stream.eatWhile(anumRE);\n\n      if (stream.match(\/\\s*\\\/\\s*[0-9]\/,false)) {\n        stream.match(\/\\s*\\\/\\s*[0-9]\/,true);\n        return rval(state,stream,\"fun\");      \/\/ f\/0 style fun\n      }\n\n      var w = stream.current();\n\n      if (is_member(w,keywordWords)) {\n        return rval(state,stream,\"keyword\");\n      }else if (is_member(w,operatorAtomWords)) {\n        return rval(state,stream,\"operator\");\n      }else if (stream.match(\/\\s*\\(\/,false)) {\n        \/\/ 'put' and 'erlang:put' are bifs, 'foo:put' is not\n        if (is_member(w,bifWords) &&\n            ((peekToken(state).token != \":\") ||\n             (peekToken(state,2).token == \"erlang\"))) {\n          return rval(state,stream,\"builtin\");\n        }else if (is_member(w,guardWords)) {\n          return rval(state,stream,\"guard\");\n        }else{\n          return rval(state,stream,\"function\");\n        }\n      }else if (lookahead(stream) == \":\") {\n        if (w == \"erlang\") {\n          return rval(state,stream,\"builtin\");\n        } else {\n          return rval(state,stream,\"function\");\n        }\n      }else if (is_member(w,[\"true\",\"false\"])) {\n        return rval(state,stream,\"boolean\");\n      }else{\n        return rval(state,stream,\"atom\");\n      }\n    }\n\n    \/\/ number\n    var digitRE      = \/[0-9]\/;\n    var radixRE      = \/[0-9a-zA-Z]\/;         \/\/ 36#zZ style int\n    if (digitRE.test(ch)) {\n      stream.eatWhile(digitRE);\n      if (stream.eat('#')) {                \/\/ 36#aZ  style integer\n        if (!stream.eatWhile(radixRE)) {\n          stream.backUp(1);                 \/\/\"36#\" - syntax error\n        }\n      } else if (stream.eat('.')) {       \/\/ float\n        if (!stream.eatWhile(digitRE)) {\n          stream.backUp(1);        \/\/ \"3.\" - probably end of function\n        } else {\n          if (stream.eat(\/[eE]\/)) {        \/\/ float with exponent\n            if (stream.eat(\/[-+]\/)) {\n              if (!stream.eatWhile(digitRE)) {\n                stream.backUp(2);            \/\/ \"2e-\" - syntax error\n              }\n            } else {\n              if (!stream.eatWhile(digitRE)) {\n                stream.backUp(1);            \/\/ \"2e\" - syntax error\n              }\n            }\n          }\n        }\n      }\n      return rval(state,stream,\"number\");   \/\/ normal integer\n    }\n\n    \/\/ open parens\n    if (nongreedy(stream,openParenRE,openParenWords)) {\n      return rval(state,stream,\"open_paren\");\n    }\n\n    \/\/ close parens\n    if (nongreedy(stream,closeParenRE,closeParenWords)) {\n      return rval(state,stream,\"close_paren\");\n    }\n\n    \/\/ separators\n    if (greedy(stream,separatorRE,separatorWords)) {\n      return rval(state,stream,\"separator\");\n    }\n\n    \/\/ operators\n    if (greedy(stream,operatorSymbolRE,operatorSymbolWords)) {\n      return rval(state,stream,\"operator\");\n    }\n\n    return rval(state,stream,null);\n  }\n\n\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\n\/\/ utilities\n  function nongreedy(stream,re,words) {\n    if (stream.current().length == 1 && re.test(stream.current())) {\n      stream.backUp(1);\n      while (re.test(stream.peek())) {\n        stream.next();\n        if (is_member(stream.current(),words)) {\n          return true;\n        }\n      }\n      stream.backUp(stream.current().length-1);\n    }\n    return false;\n  }\n\n  function greedy(stream,re,words) {\n    if (stream.current().length == 1 && re.test(stream.current())) {\n      while (re.test(stream.peek())) {\n        stream.next();\n      }\n      while (0 < stream.current().length) {\n        if (is_member(stream.current(),words)) {\n          return true;\n        }else{\n          stream.backUp(1);\n        }\n      }\n      stream.next();\n    }\n    return false;\n  }\n\n  function doubleQuote(stream) {\n    return quote(stream, '\"', '\\\\');\n  }\n\n  function singleQuote(stream) {\n    return quote(stream,'\\'','\\\\');\n  }\n\n  function quote(stream,quoteChar,escapeChar) {\n    while (!stream.eol()) {\n      var ch = stream.next();\n      if (ch == quoteChar) {\n        return true;\n      }else if (ch == escapeChar) {\n        stream.next();\n      }\n    }\n    return false;\n  }\n\n  function lookahead(stream) {\n    var m = stream.match(\/([\\n\\s]+|%[^\\n]*\\n)*(.)\/,false);\n    return m ? m.pop() : \"\";\n  }\n\n  function is_member(element,list) {\n    return (-1 < list.indexOf(element));\n  }\n\n  function rval(state,stream,type) {\n\n    \/\/ parse stack\n    pushToken(state,realToken(type,stream));\n\n    \/\/ map erlang token type to CodeMirror style class\n    \/\/     erlang             -> CodeMirror tag\n    switch (type) {\n      case \"atom\":        return \"atom\";\n      case \"attribute\":   return \"attribute\";\n      case \"boolean\":     return \"atom\";\n      case \"builtin\":     return \"builtin\";\n      case \"close_paren\": return null;\n      case \"colon\":       return null;\n      case \"comment\":     return \"comment\";\n      case \"dot\":         return null;\n      case \"error\":       return \"error\";\n      case \"fun\":         return \"meta\";\n      case \"function\":    return \"tag\";\n      case \"guard\":       return \"property\";\n      case \"keyword\":     return \"keyword\";\n      case \"macro\":       return \"variable-2\";\n      case \"number\":      return \"number\";\n      case \"open_paren\":  return null;\n      case \"operator\":    return \"operator\";\n      case \"record\":      return \"bracket\";\n      case \"separator\":   return null;\n      case \"string\":      return \"string\";\n      case \"type\":        return \"def\";\n      case \"variable\":    return \"variable\";\n      default:            return null;\n    }\n  }\n\n  function aToken(tok,col,ind,typ) {\n    return {token:  tok,\n            column: col,\n            indent: ind,\n            type:   typ};\n  }\n\n  function realToken(type,stream) {\n    return aToken(stream.current(),\n                 stream.column(),\n                 stream.indentation(),\n                 type);\n  }\n\n  function fakeToken(type) {\n    return aToken(type,0,0,type);\n  }\n\n  function peekToken(state,depth) {\n    var len = state.tokenStack.length;\n    var dep = (depth ? depth : 1);\n\n    if (len < dep) {\n      return false;\n    }else{\n      return state.tokenStack[len-dep];\n    }\n  }\n\n  function pushToken(state,token) {\n\n    if (!(token.type == \"comment\" || token.type == \"whitespace\")) {\n      state.tokenStack = maybe_drop_pre(state.tokenStack,token);\n      state.tokenStack = maybe_drop_post(state.tokenStack);\n    }\n  }\n\n  function maybe_drop_pre(s,token) {\n    var last = s.length-1;\n\n    if (0 < last && s[last].type === \"record\" && token.type === \"dot\") {\n      s.pop();\n    }else if (0 < last && s[last].type === \"group\") {\n      s.pop();\n      s.push(token);\n    }else{\n      s.push(token);\n    }\n    return s;\n  }\n\n  function maybe_drop_post(s) {\n    if (!s.length) return s\n    var last = s.length-1;\n\n    if (s[last].type === \"dot\") {\n      return [];\n    }\n    if (last > 1 && s[last].type === \"fun\" && s[last-1].token === \"fun\") {\n      return s.slice(0,last-1);\n    }\n    switch (s[last].token) {\n      case \"}\":    return d(s,{g:[\"{\"]});\n      case \"]\":    return d(s,{i:[\"[\"]});\n      case \")\":    return d(s,{i:[\"(\"]});\n      case \">>\":   return d(s,{i:[\"<<\"]});\n      case \"end\":  return d(s,{i:[\"begin\",\"case\",\"fun\",\"if\",\"receive\",\"try\"]});\n      case \",\":    return d(s,{e:[\"begin\",\"try\",\"when\",\"->\",\n                                  \",\",\"(\",\"[\",\"{\",\"<<\"]});\n      case \"->\":   return d(s,{r:[\"when\"],\n                               m:[\"try\",\"if\",\"case\",\"receive\"]});\n      case \";\":    return d(s,{E:[\"case\",\"fun\",\"if\",\"receive\",\"try\",\"when\"]});\n      case \"catch\":return d(s,{e:[\"try\"]});\n      case \"of\":   return d(s,{e:[\"case\"]});\n      case \"after\":return d(s,{e:[\"receive\",\"try\"]});\n      default:     return s;\n    }\n  }\n\n  function d(stack,tt) {\n    \/\/ stack is a stack of Token objects.\n    \/\/ tt is an object; {type:tokens}\n    \/\/ type is a char, tokens is a list of token strings.\n    \/\/ The function returns (possibly truncated) stack.\n    \/\/ It will descend the stack, looking for a Token such that Token.token\n    \/\/  is a member of tokens. If it does not find that, it will normally (but\n    \/\/  see \"E\" below) return stack. If it does find a match, it will remove\n    \/\/  all the Tokens between the top and the matched Token.\n    \/\/ If type is \"m\", that is all it does.\n    \/\/ If type is \"i\", it will also remove the matched Token and the top Token.\n    \/\/ If type is \"g\", like \"i\", but add a fake \"group\" token at the top.\n    \/\/ If type is \"r\", it will remove the matched Token, but not the top Token.\n    \/\/ If type is \"e\", it will keep the matched Token but not the top Token.\n    \/\/ If type is \"E\", it behaves as for type \"e\", except if there is no match,\n    \/\/  in which case it will return an empty stack.\n\n    for (var type in tt) {\n      var len = stack.length-1;\n      var tokens = tt[type];\n      for (var i = len-1; -1 < i ; i--) {\n        if (is_member(stack[i].token,tokens)) {\n          var ss = stack.slice(0,i);\n          switch (type) {\n              case \"m\": return ss.concat(stack[i]).concat(stack[len]);\n              case \"r\": return ss.concat(stack[len]);\n              case \"i\": return ss;\n              case \"g\": return ss.concat(fakeToken(\"group\"));\n              case \"E\": return ss.concat(stack[i]);\n              case \"e\": return ss.concat(stack[i]);\n          }\n        }\n      }\n    }\n    return (type == \"E\" ? [] : stack);\n  }\n\n\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\n\/\/ indenter\n\n  function indenter(state,textAfter) {\n    var t;\n    var unit = cmCfg.indentUnit;\n    var wordAfter = wordafter(textAfter);\n    var currT = peekToken(state,1);\n    var prevT = peekToken(state,2);\n\n    if (state.in_string || state.in_atom) {\n      return CodeMirror.Pass;\n    }else if (!prevT) {\n      return 0;\n    }else if (currT.token == \"when\") {\n      return currT.column+unit;\n    }else if (wordAfter === \"when\" && prevT.type === \"function\") {\n      return prevT.indent+unit;\n    }else if (wordAfter === \"(\" && currT.token === \"fun\") {\n      return  currT.column+3;\n    }else if (wordAfter === \"catch\" && (t = getToken(state,[\"try\"]))) {\n      return t.column;\n    }else if (is_member(wordAfter,[\"end\",\"after\",\"of\"])) {\n      t = getToken(state,[\"begin\",\"case\",\"fun\",\"if\",\"receive\",\"try\"]);\n      return t ? t.column : CodeMirror.Pass;\n    }else if (is_member(wordAfter,closeParenWords)) {\n      t = getToken(state,openParenWords);\n      return t ? t.column : CodeMirror.Pass;\n    }else if (is_member(currT.token,[\",\",\"|\",\"||\"]) ||\n              is_member(wordAfter,[\",\",\"|\",\"||\"])) {\n      t = postcommaToken(state);\n      return t ? t.column+t.token.length : unit;\n    }else if (currT.token == \"->\") {\n      if (is_member(prevT.token, [\"receive\",\"case\",\"if\",\"try\"])) {\n        return prevT.column+unit+unit;\n      }else{\n        return prevT.column+unit;\n      }\n    }else if (is_member(currT.token,openParenWords)) {\n      return currT.column+currT.token.length;\n    }else{\n      t = defaultToken(state);\n      return truthy(t) ? t.column+unit : 0;\n    }\n  }\n\n  function wordafter(str) {\n    var m = str.match(\/,|[a-z]+|\\}|\\]|\\)|>>|\\|+|\\(\/);\n\n    return truthy(m) && (m.index === 0) ? m[0] : \"\";\n  }\n\n  function postcommaToken(state) {\n    var objs = state.tokenStack.slice(0,-1);\n    var i = getTokenIndex(objs,\"type\",[\"open_paren\"]);\n\n    return truthy(objs[i]) ? objs[i] : false;\n  }\n\n  function defaultToken(state) {\n    var objs = state.tokenStack;\n    var stop = getTokenIndex(objs,\"type\",[\"open_paren\",\"separator\",\"keyword\"]);\n    var oper = getTokenIndex(objs,\"type\",[\"operator\"]);\n\n    if (truthy(stop) && truthy(oper) && stop < oper) {\n      return objs[stop+1];\n    } else if (truthy(stop)) {\n      return objs[stop];\n    } else {\n      return false;\n    }\n  }\n\n  function getToken(state,tokens) {\n    var objs = state.tokenStack;\n    var i = getTokenIndex(objs,\"token\",tokens);\n\n    return truthy(objs[i]) ? objs[i] : false;\n  }\n\n  function getTokenIndex(objs,propname,propvals) {\n\n    for (var i = objs.length-1; -1 < i ; i--) {\n      if (is_member(objs[i][propname],propvals)) {\n        return i;\n      }\n    }\n    return false;\n  }\n\n  function truthy(x) {\n    return (x !== false) && (x != null);\n  }\n\n\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\n\/\/ this object defines the mode\n\n  return {\n    startState:\n      function() {\n        return {tokenStack: [],\n                in_string:  false,\n                in_atom:    false};\n      },\n\n    token:\n      function(stream, state) {\n        return tokenizer(stream, state);\n      },\n\n    indent:\n      function(state, textAfter) {\n        return indenter(state,textAfter);\n      },\n\n    lineComment: \"%\"\n  };\n});\n\n});\n\n};","shadow$provide[280] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"go\", function(config) {\n  var indentUnit = config.indentUnit;\n\n  var keywords = {\n    \"break\":true, \"case\":true, \"chan\":true, \"const\":true, \"continue\":true,\n    \"default\":true, \"defer\":true, \"else\":true, \"fallthrough\":true, \"for\":true,\n    \"func\":true, \"go\":true, \"goto\":true, \"if\":true, \"import\":true,\n    \"interface\":true, \"map\":true, \"package\":true, \"range\":true, \"return\":true,\n    \"select\":true, \"struct\":true, \"switch\":true, \"type\":true, \"var\":true,\n    \"bool\":true, \"byte\":true, \"complex64\":true, \"complex128\":true,\n    \"float32\":true, \"float64\":true, \"int8\":true, \"int16\":true, \"int32\":true,\n    \"int64\":true, \"string\":true, \"uint8\":true, \"uint16\":true, \"uint32\":true,\n    \"uint64\":true, \"int\":true, \"uint\":true, \"uintptr\":true, \"error\": true,\n    \"rune\":true\n  };\n\n  var atoms = {\n    \"true\":true, \"false\":true, \"iota\":true, \"nil\":true, \"append\":true,\n    \"cap\":true, \"close\":true, \"complex\":true, \"copy\":true, \"delete\":true, \"imag\":true,\n    \"len\":true, \"make\":true, \"new\":true, \"panic\":true, \"print\":true,\n    \"println\":true, \"real\":true, \"recover\":true\n  };\n\n  var isOperatorChar = \/[+\\-*&^%:=<>!|\\\/]\/;\n\n  var curPunc;\n\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (ch == '\"' || ch == \"'\" || ch == \"`\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    }\n    if (\/[\\d\\.]\/.test(ch)) {\n      if (ch == \".\") {\n        stream.match(\/^[0-9]+([eE][\\-+]?[0-9]+)?\/);\n      } else if (ch == \"0\") {\n        stream.match(\/^[xX][0-9a-fA-F]+\/) || stream.match(\/^0[0-7]+\/);\n      } else {\n        stream.match(\/^[0-9]*\\.?[0-9]*([eE][\\-+]?[0-9]+)?\/);\n      }\n      return \"number\";\n    }\n    if (\/[\\[\\]{}\\(\\),;\\:\\.]\/.test(ch)) {\n      curPunc = ch;\n      return null;\n    }\n    if (ch == \"\/\") {\n      if (stream.eat(\"*\")) {\n        state.tokenize = tokenComment;\n        return tokenComment(stream, state);\n      }\n      if (stream.eat(\"\/\")) {\n        stream.skipToEnd();\n        return \"comment\";\n      }\n    }\n    if (isOperatorChar.test(ch)) {\n      stream.eatWhile(isOperatorChar);\n      return \"operator\";\n    }\n    stream.eatWhile(\/[\\w\\$_\\xa1-\\uffff]\/);\n    var cur = stream.current();\n    if (keywords.propertyIsEnumerable(cur)) {\n      if (cur == \"case\" || cur == \"default\") curPunc = \"case\";\n      return \"keyword\";\n    }\n    if (atoms.propertyIsEnumerable(cur)) return \"atom\";\n    return \"variable\";\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, next, end = false;\n      while ((next = stream.next()) != null) {\n        if (next == quote && !escaped) {end = true; break;}\n        escaped = !escaped && quote != \"`\" && next == \"\\\\\";\n      }\n      if (end || !(escaped || quote == \"`\"))\n        state.tokenize = tokenBase;\n      return \"string\";\n    };\n  }\n\n  function tokenComment(stream, state) {\n    var maybeEnd = false, ch;\n    while (ch = stream.next()) {\n      if (ch == \"\/\" && maybeEnd) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return \"comment\";\n  }\n\n  function Context(indented, column, type, align, prev) {\n    this.indented = indented;\n    this.column = column;\n    this.type = type;\n    this.align = align;\n    this.prev = prev;\n  }\n  function pushContext(state, col, type) {\n    return state.context = new Context(state.indented, col, type, null, state.context);\n  }\n  function popContext(state) {\n    if (!state.context.prev) return;\n    var t = state.context.type;\n    if (t == \")\" || t == \"]\" || t == \"}\")\n      state.indented = state.context.indented;\n    return state.context = state.context.prev;\n  }\n\n  \/\/ Interface\n\n  return {\n    startState: function(basecolumn) {\n      return {\n        tokenize: null,\n        context: new Context((basecolumn || 0) - indentUnit, 0, \"top\", false),\n        indented: 0,\n        startOfLine: true\n      };\n    },\n\n    token: function(stream, state) {\n      var ctx = state.context;\n      if (stream.sol()) {\n        if (ctx.align == null) ctx.align = false;\n        state.indented = stream.indentation();\n        state.startOfLine = true;\n        if (ctx.type == \"case\") ctx.type = \"}\";\n      }\n      if (stream.eatSpace()) return null;\n      curPunc = null;\n      var style = (state.tokenize || tokenBase)(stream, state);\n      if (style == \"comment\") return style;\n      if (ctx.align == null) ctx.align = true;\n\n      if (curPunc == \"{\") pushContext(state, stream.column(), \"}\");\n      else if (curPunc == \"[\") pushContext(state, stream.column(), \"]\");\n      else if (curPunc == \"(\") pushContext(state, stream.column(), \")\");\n      else if (curPunc == \"case\") ctx.type = \"case\";\n      else if (curPunc == \"}\" && ctx.type == \"}\") popContext(state);\n      else if (curPunc == ctx.type) popContext(state);\n      state.startOfLine = false;\n      return style;\n    },\n\n    indent: function(state, textAfter) {\n      if (state.tokenize != tokenBase && state.tokenize != null) return CodeMirror.Pass;\n      var ctx = state.context, firstChar = textAfter && textAfter.charAt(0);\n      if (ctx.type == \"case\" && \/^(?:case|default)\\b\/.test(textAfter)) {\n        state.context.type = \"}\";\n        return ctx.indented;\n      }\n      var closing = firstChar == ctx.type;\n      if (ctx.align) return ctx.column + (closing ? 0 : 1);\n      else return ctx.indented + (closing ? 0 : indentUnit);\n    },\n\n    electricChars: \"{}):\",\n    closeBrackets: \"()[]{}''\\\"\\\"``\",\n    fold: \"brace\",\n    blockCommentStart: \"\/*\",\n    blockCommentEnd: \"*\/\",\n    lineComment: \"\/\/\"\n  };\n});\n\nCodeMirror.defineMIME(\"text\/x-go\", \"go\");\n\n});\n\n};","shadow$provide[281] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"haskell\", function(_config, modeConfig) {\n\n  function switchState(source, setState, f) {\n    setState(f);\n    return f(source, setState);\n  }\n\n  \/\/ These should all be Unicode extended, as per the Haskell 2010 report\n  var smallRE = \/[a-z_]\/;\n  var largeRE = \/[A-Z]\/;\n  var digitRE = \/\\d\/;\n  var hexitRE = \/[0-9A-Fa-f]\/;\n  var octitRE = \/[0-7]\/;\n  var idRE = \/[a-z_A-Z0-9'\\xa1-\\uffff]\/;\n  var symbolRE = \/[-!#$%&*+.\\\/<=>?@\\\\^|~:]\/;\n  var specialRE = \/[(),;[\\]`{}]\/;\n  var whiteCharRE = \/[ \\t\\v\\f]\/; \/\/ newlines are handled in tokenizer\n\n  function normal(source, setState) {\n    if (source.eatWhile(whiteCharRE)) {\n      return null;\n    }\n\n    var ch = source.next();\n    if (specialRE.test(ch)) {\n      if (ch == '{' && source.eat('-')) {\n        var t = \"comment\";\n        if (source.eat('#')) {\n          t = \"meta\";\n        }\n        return switchState(source, setState, ncomment(t, 1));\n      }\n      return null;\n    }\n\n    if (ch == '\\'') {\n      if (source.eat('\\\\')) {\n        source.next();  \/\/ should handle other escapes here\n      }\n      else {\n        source.next();\n      }\n      if (source.eat('\\'')) {\n        return \"string\";\n      }\n      return \"string error\";\n    }\n\n    if (ch == '\"') {\n      return switchState(source, setState, stringLiteral);\n    }\n\n    if (largeRE.test(ch)) {\n      source.eatWhile(idRE);\n      if (source.eat('.')) {\n        return \"qualifier\";\n      }\n      return \"variable-2\";\n    }\n\n    if (smallRE.test(ch)) {\n      source.eatWhile(idRE);\n      return \"variable\";\n    }\n\n    if (digitRE.test(ch)) {\n      if (ch == '0') {\n        if (source.eat(\/[xX]\/)) {\n          source.eatWhile(hexitRE); \/\/ should require at least 1\n          return \"integer\";\n        }\n        if (source.eat(\/[oO]\/)) {\n          source.eatWhile(octitRE); \/\/ should require at least 1\n          return \"number\";\n        }\n      }\n      source.eatWhile(digitRE);\n      var t = \"number\";\n      if (source.match(\/^\\.\\d+\/)) {\n        t = \"number\";\n      }\n      if (source.eat(\/[eE]\/)) {\n        t = \"number\";\n        source.eat(\/[-+]\/);\n        source.eatWhile(digitRE); \/\/ should require at least 1\n      }\n      return t;\n    }\n\n    if (ch == \".\" && source.eat(\".\"))\n      return \"keyword\";\n\n    if (symbolRE.test(ch)) {\n      if (ch == '-' && source.eat(\/-\/)) {\n        source.eatWhile(\/-\/);\n        if (!source.eat(symbolRE)) {\n          source.skipToEnd();\n          return \"comment\";\n        }\n      }\n      var t = \"variable\";\n      if (ch == ':') {\n        t = \"variable-2\";\n      }\n      source.eatWhile(symbolRE);\n      return t;\n    }\n\n    return \"error\";\n  }\n\n  function ncomment(type, nest) {\n    if (nest == 0) {\n      return normal;\n    }\n    return function(source, setState) {\n      var currNest = nest;\n      while (!source.eol()) {\n        var ch = source.next();\n        if (ch == '{' && source.eat('-')) {\n          ++currNest;\n        }\n        else if (ch == '-' && source.eat('}')) {\n          --currNest;\n          if (currNest == 0) {\n            setState(normal);\n            return type;\n          }\n        }\n      }\n      setState(ncomment(type, currNest));\n      return type;\n    };\n  }\n\n  function stringLiteral(source, setState) {\n    while (!source.eol()) {\n      var ch = source.next();\n      if (ch == '\"') {\n        setState(normal);\n        return \"string\";\n      }\n      if (ch == '\\\\') {\n        if (source.eol() || source.eat(whiteCharRE)) {\n          setState(stringGap);\n          return \"string\";\n        }\n        if (source.eat('&')) {\n        }\n        else {\n          source.next(); \/\/ should handle other escapes here\n        }\n      }\n    }\n    setState(normal);\n    return \"string error\";\n  }\n\n  function stringGap(source, setState) {\n    if (source.eat('\\\\')) {\n      return switchState(source, setState, stringLiteral);\n    }\n    source.next();\n    setState(normal);\n    return \"error\";\n  }\n\n\n  var wellKnownWords = (function() {\n    var wkw = {};\n    function setType(t) {\n      return function () {\n        for (var i = 0; i < arguments.length; i++)\n          wkw[arguments[i]] = t;\n      };\n    }\n\n    setType(\"keyword\")(\n      \"case\", \"class\", \"data\", \"default\", \"deriving\", \"do\", \"else\", \"foreign\",\n      \"if\", \"import\", \"in\", \"infix\", \"infixl\", \"infixr\", \"instance\", \"let\",\n      \"module\", \"newtype\", \"of\", \"then\", \"type\", \"where\", \"_\");\n\n    setType(\"keyword\")(\n      \"\\.\\.\", \":\", \"::\", \"=\", \"\\\\\", \"<-\", \"->\", \"@\", \"~\", \"=>\");\n\n    setType(\"builtin\")(\n      \"!!\", \"$!\", \"$\", \"&&\", \"+\", \"++\", \"-\", \".\", \"\/\", \"\/=\", \"<\", \"<*\", \"<=\",\n      \"<$>\", \"<*>\", \"=<<\", \"==\", \">\", \">=\", \">>\", \">>=\", \"^\", \"^^\", \"||\", \"*\",\n      \"*>\", \"**\");\n\n    setType(\"builtin\")(\n      \"Applicative\", \"Bool\", \"Bounded\", \"Char\", \"Double\", \"EQ\", \"Either\", \"Enum\",\n      \"Eq\", \"False\", \"FilePath\", \"Float\", \"Floating\", \"Fractional\", \"Functor\",\n      \"GT\", \"IO\", \"IOError\", \"Int\", \"Integer\", \"Integral\", \"Just\", \"LT\", \"Left\",\n      \"Maybe\", \"Monad\", \"Nothing\", \"Num\", \"Ord\", \"Ordering\", \"Rational\", \"Read\",\n      \"ReadS\", \"Real\", \"RealFloat\", \"RealFrac\", \"Right\", \"Show\", \"ShowS\",\n      \"String\", \"True\");\n\n    setType(\"builtin\")(\n      \"abs\", \"acos\", \"acosh\", \"all\", \"and\", \"any\", \"appendFile\", \"asTypeOf\",\n      \"asin\", \"asinh\", \"atan\", \"atan2\", \"atanh\", \"break\", \"catch\", \"ceiling\",\n      \"compare\", \"concat\", \"concatMap\", \"const\", \"cos\", \"cosh\", \"curry\",\n      \"cycle\", \"decodeFloat\", \"div\", \"divMod\", \"drop\", \"dropWhile\", \"either\",\n      \"elem\", \"encodeFloat\", \"enumFrom\", \"enumFromThen\", \"enumFromThenTo\",\n      \"enumFromTo\", \"error\", \"even\", \"exp\", \"exponent\", \"fail\", \"filter\",\n      \"flip\", \"floatDigits\", \"floatRadix\", \"floatRange\", \"floor\", \"fmap\",\n      \"foldl\", \"foldl1\", \"foldr\", \"foldr1\", \"fromEnum\", \"fromInteger\",\n      \"fromIntegral\", \"fromRational\", \"fst\", \"gcd\", \"getChar\", \"getContents\",\n      \"getLine\", \"head\", \"id\", \"init\", \"interact\", \"ioError\", \"isDenormalized\",\n      \"isIEEE\", \"isInfinite\", \"isNaN\", \"isNegativeZero\", \"iterate\", \"last\",\n      \"lcm\", \"length\", \"lex\", \"lines\", \"log\", \"logBase\", \"lookup\", \"map\",\n      \"mapM\", \"mapM_\", \"max\", \"maxBound\", \"maximum\", \"maybe\", \"min\", \"minBound\",\n      \"minimum\", \"mod\", \"negate\", \"not\", \"notElem\", \"null\", \"odd\", \"or\",\n      \"otherwise\", \"pi\", \"pred\", \"print\", \"product\", \"properFraction\", \"pure\",\n      \"putChar\", \"putStr\", \"putStrLn\", \"quot\", \"quotRem\", \"read\", \"readFile\",\n      \"readIO\", \"readList\", \"readLn\", \"readParen\", \"reads\", \"readsPrec\",\n      \"realToFrac\", \"recip\", \"rem\", \"repeat\", \"replicate\", \"return\", \"reverse\",\n      \"round\", \"scaleFloat\", \"scanl\", \"scanl1\", \"scanr\", \"scanr1\", \"seq\",\n      \"sequence\", \"sequence_\", \"show\", \"showChar\", \"showList\", \"showParen\",\n      \"showString\", \"shows\", \"showsPrec\", \"significand\", \"signum\", \"sin\",\n      \"sinh\", \"snd\", \"span\", \"splitAt\", \"sqrt\", \"subtract\", \"succ\", \"sum\",\n      \"tail\", \"take\", \"takeWhile\", \"tan\", \"tanh\", \"toEnum\", \"toInteger\",\n      \"toRational\", \"truncate\", \"uncurry\", \"undefined\", \"unlines\", \"until\",\n      \"unwords\", \"unzip\", \"unzip3\", \"userError\", \"words\", \"writeFile\", \"zip\",\n      \"zip3\", \"zipWith\", \"zipWith3\");\n\n    var override = modeConfig.overrideKeywords;\n    if (override) for (var word in override) if (override.hasOwnProperty(word))\n      wkw[word] = override[word];\n\n    return wkw;\n  })();\n\n\n\n  return {\n    startState: function ()  { return { f: normal }; },\n    copyState:  function (s) { return { f: s.f }; },\n\n    token: function(stream, state) {\n      var t = state.f(stream, function(s) { state.f = s; });\n      var w = stream.current();\n      return wellKnownWords.hasOwnProperty(w) ? wellKnownWords[w] : t;\n    },\n\n    blockCommentStart: \"{-\",\n    blockCommentEnd: \"-}\",\n    lineComment: \"--\"\n  };\n\n});\n\nCodeMirror.defineMIME(\"text\/x-haskell\", \"haskell\");\n\n});\n\n};","shadow$provide[282] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n\/\/ LUA mode. Ported to CodeMirror 2 from Franciszek Wawrzak's\n\/\/ CodeMirror 1 mode.\n\/\/ highlights keywords, strings, comments (no leveling supported! (\"[==[\")), tokens, basic indenting\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"lua\", function(config, parserConfig) {\n  var indentUnit = config.indentUnit;\n\n  function prefixRE(words) {\n    return new RegExp(\"^(?:\" + words.join(\"|\") + \")\", \"i\");\n  }\n  function wordRE(words) {\n    return new RegExp(\"^(?:\" + words.join(\"|\") + \")$\", \"i\");\n  }\n  var specials = wordRE(parserConfig.specials || []);\n\n  \/\/ long list of standard functions from lua manual\n  var builtins = wordRE([\n    \"_G\",\"_VERSION\",\"assert\",\"collectgarbage\",\"dofile\",\"error\",\"getfenv\",\"getmetatable\",\"ipairs\",\"load\",\n    \"loadfile\",\"loadstring\",\"module\",\"next\",\"pairs\",\"pcall\",\"print\",\"rawequal\",\"rawget\",\"rawset\",\"require\",\n    \"select\",\"setfenv\",\"setmetatable\",\"tonumber\",\"tostring\",\"type\",\"unpack\",\"xpcall\",\n\n    \"coroutine.create\",\"coroutine.resume\",\"coroutine.running\",\"coroutine.status\",\"coroutine.wrap\",\"coroutine.yield\",\n\n    \"debug.debug\",\"debug.getfenv\",\"debug.gethook\",\"debug.getinfo\",\"debug.getlocal\",\"debug.getmetatable\",\n    \"debug.getregistry\",\"debug.getupvalue\",\"debug.setfenv\",\"debug.sethook\",\"debug.setlocal\",\"debug.setmetatable\",\n    \"debug.setupvalue\",\"debug.traceback\",\n\n    \"close\",\"flush\",\"lines\",\"read\",\"seek\",\"setvbuf\",\"write\",\n\n    \"io.close\",\"io.flush\",\"io.input\",\"io.lines\",\"io.open\",\"io.output\",\"io.popen\",\"io.read\",\"io.stderr\",\"io.stdin\",\n    \"io.stdout\",\"io.tmpfile\",\"io.type\",\"io.write\",\n\n    \"math.abs\",\"math.acos\",\"math.asin\",\"math.atan\",\"math.atan2\",\"math.ceil\",\"math.cos\",\"math.cosh\",\"math.deg\",\n    \"math.exp\",\"math.floor\",\"math.fmod\",\"math.frexp\",\"math.huge\",\"math.ldexp\",\"math.log\",\"math.log10\",\"math.max\",\n    \"math.min\",\"math.modf\",\"math.pi\",\"math.pow\",\"math.rad\",\"math.random\",\"math.randomseed\",\"math.sin\",\"math.sinh\",\n    \"math.sqrt\",\"math.tan\",\"math.tanh\",\n\n    \"os.clock\",\"os.date\",\"os.difftime\",\"os.execute\",\"os.exit\",\"os.getenv\",\"os.remove\",\"os.rename\",\"os.setlocale\",\n    \"os.time\",\"os.tmpname\",\n\n    \"package.cpath\",\"package.loaded\",\"package.loaders\",\"package.loadlib\",\"package.path\",\"package.preload\",\n    \"package.seeall\",\n\n    \"string.byte\",\"string.char\",\"string.dump\",\"string.find\",\"string.format\",\"string.gmatch\",\"string.gsub\",\n    \"string.len\",\"string.lower\",\"string.match\",\"string.rep\",\"string.reverse\",\"string.sub\",\"string.upper\",\n\n    \"table.concat\",\"table.insert\",\"table.maxn\",\"table.remove\",\"table.sort\"\n  ]);\n  var keywords = wordRE([\"and\",\"break\",\"elseif\",\"false\",\"nil\",\"not\",\"or\",\"return\",\n                         \"true\",\"function\", \"end\", \"if\", \"then\", \"else\", \"do\",\n                         \"while\", \"repeat\", \"until\", \"for\", \"in\", \"local\" ]);\n\n  var indentTokens = wordRE([\"function\", \"if\",\"repeat\",\"do\", \"\\\\(\", \"{\"]);\n  var dedentTokens = wordRE([\"end\", \"until\", \"\\\\)\", \"}\"]);\n  var dedentPartial = prefixRE([\"end\", \"until\", \"\\\\)\", \"}\", \"else\", \"elseif\"]);\n\n  function readBracket(stream) {\n    var level = 0;\n    while (stream.eat(\"=\")) ++level;\n    stream.eat(\"[\");\n    return level;\n  }\n\n  function normal(stream, state) {\n    var ch = stream.next();\n    if (ch == \"-\" && stream.eat(\"-\")) {\n      if (stream.eat(\"[\") && stream.eat(\"[\"))\n        return (state.cur = bracketed(readBracket(stream), \"comment\"))(stream, state);\n      stream.skipToEnd();\n      return \"comment\";\n    }\n    if (ch == \"\\\"\" || ch == \"'\")\n      return (state.cur = string(ch))(stream, state);\n    if (ch == \"[\" && \/[\\[=]\/.test(stream.peek()))\n      return (state.cur = bracketed(readBracket(stream), \"string\"))(stream, state);\n    if (\/\\d\/.test(ch)) {\n      stream.eatWhile(\/[\\w.%]\/);\n      return \"number\";\n    }\n    if (\/[\\w_]\/.test(ch)) {\n      stream.eatWhile(\/[\\w\\\\\\-_.]\/);\n      return \"variable\";\n    }\n    return null;\n  }\n\n  function bracketed(level, style) {\n    return function(stream, state) {\n      var curlev = null, ch;\n      while ((ch = stream.next()) != null) {\n        if (curlev == null) {if (ch == \"]\") curlev = 0;}\n        else if (ch == \"=\") ++curlev;\n        else if (ch == \"]\" && curlev == level) { state.cur = normal; break; }\n        else curlev = null;\n      }\n      return style;\n    };\n  }\n\n  function string(quote) {\n    return function(stream, state) {\n      var escaped = false, ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == quote && !escaped) break;\n        escaped = !escaped && ch == \"\\\\\";\n      }\n      if (!escaped) state.cur = normal;\n      return \"string\";\n    };\n  }\n\n  return {\n    startState: function(basecol) {\n      return {basecol: basecol || 0, indentDepth: 0, cur: normal};\n    },\n\n    token: function(stream, state) {\n      if (stream.eatSpace()) return null;\n      var style = state.cur(stream, state);\n      var word = stream.current();\n      if (style == \"variable\") {\n        if (keywords.test(word)) style = \"keyword\";\n        else if (builtins.test(word)) style = \"builtin\";\n        else if (specials.test(word)) style = \"variable-2\";\n      }\n      if ((style != \"comment\") && (style != \"string\")){\n        if (indentTokens.test(word)) ++state.indentDepth;\n        else if (dedentTokens.test(word)) --state.indentDepth;\n      }\n      return style;\n    },\n\n    indent: function(state, textAfter) {\n      var closing = dedentPartial.test(textAfter);\n      return state.basecol + indentUnit * (state.indentDepth - (closing ? 1 : 0));\n    },\n\n    lineComment: \"--\",\n    blockCommentStart: \"--[[\",\n    blockCommentEnd: \"]]\"\n  };\n});\n\nCodeMirror.defineMIME(\"text\/x-lua\", \"lua\");\n\n});\n\n};","shadow$provide[283] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n\/\/ Mathematica mode copyright (c) 2015 by Calin Barbat\n\/\/ Based on code by Patrick Scheibe (halirutan)\n\/\/ See: https:\/\/github.com\/halirutan\/Mathematica-Source-Highlighting\/tree\/master\/src\/lang-mma.js\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode('mathematica', function(_config, _parserConfig) {\n\n  \/\/ used pattern building blocks\n  var Identifier = '[a-zA-Z\\\\$][a-zA-Z0-9\\\\$]*';\n  var pBase      = \"(?:\\\\d+)\";\n  var pFloat     = \"(?:\\\\.\\\\d+|\\\\d+\\\\.\\\\d*|\\\\d+)\";\n  var pFloatBase = \"(?:\\\\.\\\\w+|\\\\w+\\\\.\\\\w*|\\\\w+)\";\n  var pPrecision = \"(?:`(?:`?\"+pFloat+\")?)\";\n\n  \/\/ regular expressions\n  var reBaseForm        = new RegExp('(?:'+pBase+'(?:\\\\^\\\\^'+pFloatBase+pPrecision+'?(?:\\\\*\\\\^[+-]?\\\\d+)?))');\n  var reFloatForm       = new RegExp('(?:' + pFloat + pPrecision + '?(?:\\\\*\\\\^[+-]?\\\\d+)?)');\n  var reIdInContext     = new RegExp('(?:`?)(?:' + Identifier + ')(?:`(?:' + Identifier + '))*(?:`?)');\n\n  function tokenBase(stream, state) {\n    var ch;\n\n    \/\/ get next character\n    ch = stream.next();\n\n    \/\/ string\n    if (ch === '\"') {\n      state.tokenize = tokenString;\n      return state.tokenize(stream, state);\n    }\n\n    \/\/ comment\n    if (ch === '(') {\n      if (stream.eat('*')) {\n        state.commentLevel++;\n        state.tokenize = tokenComment;\n        return state.tokenize(stream, state);\n      }\n    }\n\n    \/\/ go back one character\n    stream.backUp(1);\n\n    \/\/ look for numbers\n    \/\/ Numbers in a baseform\n    if (stream.match(reBaseForm, true, false)) {\n      return 'number';\n    }\n\n    \/\/ Mathematica numbers. Floats (1.2, .2, 1.) can have optionally a precision (`float) or an accuracy definition\n    \/\/ (``float). Note: while 1.2` is possible 1.2`` is not. At the end an exponent (float*^+12) can follow.\n    if (stream.match(reFloatForm, true, false)) {\n      return 'number';\n    }\n\n    \/* In[23] and Out[34] *\/\n    if (stream.match(\/(?:In|Out)\\[[0-9]*\\]\/, true, false)) {\n      return 'atom';\n    }\n\n    \/\/ usage\n    if (stream.match(\/([a-zA-Z\\$][a-zA-Z0-9\\$]*(?:`[a-zA-Z0-9\\$]+)*::usage)\/, true, false)) {\n      return 'meta';\n    }\n\n    \/\/ message\n    if (stream.match(\/([a-zA-Z\\$][a-zA-Z0-9\\$]*(?:`[a-zA-Z0-9\\$]+)*::[a-zA-Z\\$][a-zA-Z0-9\\$]*):?\/, true, false)) {\n      return 'string-2';\n    }\n\n    \/\/ this makes a look-ahead match for something like variable:{_Integer}\n    \/\/ the match is then forwarded to the mma-patterns tokenizer.\n    if (stream.match(\/([a-zA-Z\\$][a-zA-Z0-9\\$]*\\s*:)(?:(?:[a-zA-Z\\$][a-zA-Z0-9\\$]*)|(?:[^:=>~@\\^\\&\\*\\)\\[\\]'\\?,\\|])).*\/, true, false)) {\n      return 'variable-2';\n    }\n\n    \/\/ catch variables which are used together with Blank (_), BlankSequence (__) or BlankNullSequence (___)\n    \/\/ Cannot start with a number, but can have numbers at any other position. Examples\n    \/\/ blub__Integer, a1_, b34_Integer32\n    if (stream.match(\/[a-zA-Z\\$][a-zA-Z0-9\\$]*_+[a-zA-Z\\$][a-zA-Z0-9\\$]*\/, true, false)) {\n      return 'variable-2';\n    }\n    if (stream.match(\/[a-zA-Z\\$][a-zA-Z0-9\\$]*_+\/, true, false)) {\n      return 'variable-2';\n    }\n    if (stream.match(\/_+[a-zA-Z\\$][a-zA-Z0-9\\$]*\/, true, false)) {\n      return 'variable-2';\n    }\n\n    \/\/ Named characters in Mathematica, like \\[Gamma].\n    if (stream.match(\/\\\\\\[[a-zA-Z\\$][a-zA-Z0-9\\$]*\\]\/, true, false)) {\n      return 'variable-3';\n    }\n\n    \/\/ Match all braces separately\n    if (stream.match(\/(?:\\[|\\]|{|}|\\(|\\))\/, true, false)) {\n      return 'bracket';\n    }\n\n    \/\/ Catch Slots (#, ##, #3, ##9 and the V10 named slots #name). I have never seen someone using more than one digit after #, so we match\n    \/\/ only one.\n    if (stream.match(\/(?:#[a-zA-Z\\$][a-zA-Z0-9\\$]*|#+[0-9]?)\/, true, false)) {\n      return 'variable-2';\n    }\n\n    \/\/ Literals like variables, keywords, functions\n    if (stream.match(reIdInContext, true, false)) {\n      return 'keyword';\n    }\n\n    \/\/ operators. Note that operators like @@ or \/; are matched separately for each symbol.\n    if (stream.match(\/(?:\\\\|\\+|\\-|\\*|\\\/|,|;|\\.|:|@|~|=|>|<|&|\\||_|`|'|\\^|\\?|!|%)\/, true, false)) {\n      return 'operator';\n    }\n\n    \/\/ everything else is an error\n    stream.next(); \/\/ advance the stream.\n    return 'error';\n  }\n\n  function tokenString(stream, state) {\n    var next, end = false, escaped = false;\n    while ((next = stream.next()) != null) {\n      if (next === '\"' && !escaped) {\n        end = true;\n        break;\n      }\n      escaped = !escaped && next === '\\\\';\n    }\n    if (end && !escaped) {\n      state.tokenize = tokenBase;\n    }\n    return 'string';\n  };\n\n  function tokenComment(stream, state) {\n    var prev, next;\n    while(state.commentLevel > 0 && (next = stream.next()) != null) {\n      if (prev === '(' && next === '*') state.commentLevel++;\n      if (prev === '*' && next === ')') state.commentLevel--;\n      prev = next;\n    }\n    if (state.commentLevel <= 0) {\n      state.tokenize = tokenBase;\n    }\n    return 'comment';\n  }\n\n  return {\n    startState: function() {return {tokenize: tokenBase, commentLevel: 0};},\n    token: function(stream, state) {\n      if (stream.eatSpace()) return null;\n      return state.tokenize(stream, state);\n    },\n    blockCommentStart: \"(*\",\n    blockCommentEnd: \"*)\"\n  };\n});\n\nCodeMirror.defineMIME('text\/x-mathematica', {\n  name: 'mathematica'\n});\n\n});\n\n};","shadow$provide[284] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n\/\/ CodeMirror2 mode\/perl\/perl.js (text\/x-perl) beta 0.10 (2011-11-08)\n\/\/ This is a part of CodeMirror from https:\/\/github.com\/sabaca\/CodeMirror_mode_perl (mail@sabaca.com)\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"perl\",function(){\n        \/\/ http:\/\/perldoc.perl.org\n        var PERL={                                      \/\/   null - magic touch\n                                                        \/\/   1 - keyword\n                                                        \/\/   2 - def\n                                                        \/\/   3 - atom\n                                                        \/\/   4 - operator\n                                                        \/\/   5 - variable-2 (predefined)\n                                                        \/\/   [x,y] - x=1,2,3; y=must be defined if x{...}\n                                                \/\/      PERL operators\n                '->'                            :   4,\n                '++'                            :   4,\n                '--'                            :   4,\n                '**'                            :   4,\n                                                        \/\/   ! ~ \\ and unary + and -\n                '=~'                            :   4,\n                '!~'                            :   4,\n                '*'                             :   4,\n                '\/'                             :   4,\n                '%'                             :   4,\n                'x'                             :   4,\n                '+'                             :   4,\n                '-'                             :   4,\n                '.'                             :   4,\n                '<<'                            :   4,\n                '>>'                            :   4,\n                                                        \/\/   named unary operators\n                '<'                             :   4,\n                '>'                             :   4,\n                '<='                            :   4,\n                '>='                            :   4,\n                'lt'                            :   4,\n                'gt'                            :   4,\n                'le'                            :   4,\n                'ge'                            :   4,\n                '=='                            :   4,\n                '!='                            :   4,\n                '<=>'                           :   4,\n                'eq'                            :   4,\n                'ne'                            :   4,\n                'cmp'                           :   4,\n                '~~'                            :   4,\n                '&'                             :   4,\n                '|'                             :   4,\n                '^'                             :   4,\n                '&&'                            :   4,\n                '||'                            :   4,\n                '\/\/'                            :   4,\n                '..'                            :   4,\n                '...'                           :   4,\n                '?'                             :   4,\n                ':'                             :   4,\n                '='                             :   4,\n                '+='                            :   4,\n                '-='                            :   4,\n                '*='                            :   4,  \/\/   etc. ???\n                ','                             :   4,\n                '=>'                            :   4,\n                '::'                            :   4,\n                                                        \/\/   list operators (rightward)\n                'not'                           :   4,\n                'and'                           :   4,\n                'or'                            :   4,\n                'xor'                           :   4,\n                                                \/\/      PERL predefined variables (I know, what this is a paranoid idea, but may be needed for people, who learn PERL, and for me as well, ...and may be for you?;)\n                'BEGIN'                         :   [5,1],\n                'END'                           :   [5,1],\n                'PRINT'                         :   [5,1],\n                'PRINTF'                        :   [5,1],\n                'GETC'                          :   [5,1],\n                'READ'                          :   [5,1],\n                'READLINE'                      :   [5,1],\n                'DESTROY'                       :   [5,1],\n                'TIE'                           :   [5,1],\n                'TIEHANDLE'                     :   [5,1],\n                'UNTIE'                         :   [5,1],\n                'STDIN'                         :    5,\n                'STDIN_TOP'                     :    5,\n                'STDOUT'                        :    5,\n                'STDOUT_TOP'                    :    5,\n                'STDERR'                        :    5,\n                'STDERR_TOP'                    :    5,\n                '$ARG'                          :    5,\n                '$_'                            :    5,\n                '@ARG'                          :    5,\n                '@_'                            :    5,\n                '$LIST_SEPARATOR'               :    5,\n                '$\"'                            :    5,\n                '$PROCESS_ID'                   :    5,\n                '$PID'                          :    5,\n                '$$'                            :    5,\n                '$REAL_GROUP_ID'                :    5,\n                '$GID'                          :    5,\n                '$('                            :    5,\n                '$EFFECTIVE_GROUP_ID'           :    5,\n                '$EGID'                         :    5,\n                '$)'                            :    5,\n                '$PROGRAM_NAME'                 :    5,\n                '$0'                            :    5,\n                '$SUBSCRIPT_SEPARATOR'          :    5,\n                '$SUBSEP'                       :    5,\n                '$;'                            :    5,\n                '$REAL_USER_ID'                 :    5,\n                '$UID'                          :    5,\n                '$<'                            :    5,\n                '$EFFECTIVE_USER_ID'            :    5,\n                '$EUID'                         :    5,\n                '$>'                            :    5,\n                '$a'                            :    5,\n                '$b'                            :    5,\n                '$COMPILING'                    :    5,\n                '$^C'                           :    5,\n                '$DEBUGGING'                    :    5,\n                '$^D'                           :    5,\n                '${^ENCODING}'                  :    5,\n                '$ENV'                          :    5,\n                '%ENV'                          :    5,\n                '$SYSTEM_FD_MAX'                :    5,\n                '$^F'                           :    5,\n                '@F'                            :    5,\n                '${^GLOBAL_PHASE}'              :    5,\n                '$^H'                           :    5,\n                '%^H'                           :    5,\n                '@INC'                          :    5,\n                '%INC'                          :    5,\n                '$INPLACE_EDIT'                 :    5,\n                '$^I'                           :    5,\n                '$^M'                           :    5,\n                '$OSNAME'                       :    5,\n                '$^O'                           :    5,\n                '${^OPEN}'                      :    5,\n                '$PERLDB'                       :    5,\n                '$^P'                           :    5,\n                '$SIG'                          :    5,\n                '%SIG'                          :    5,\n                '$BASETIME'                     :    5,\n                '$^T'                           :    5,\n                '${^TAINT}'                     :    5,\n                '${^UNICODE}'                   :    5,\n                '${^UTF8CACHE}'                 :    5,\n                '${^UTF8LOCALE}'                :    5,\n                '$PERL_VERSION'                 :    5,\n                '$^V'                           :    5,\n                '${^WIN32_SLOPPY_STAT}'         :    5,\n                '$EXECUTABLE_NAME'              :    5,\n                '$^X'                           :    5,\n                '$1'                            :    5, \/\/ - regexp $1, $2...\n                '$MATCH'                        :    5,\n                '$&'                            :    5,\n                '${^MATCH}'                     :    5,\n                '$PREMATCH'                     :    5,\n                '$`'                            :    5,\n                '${^PREMATCH}'                  :    5,\n                '$POSTMATCH'                    :    5,\n                \"$'\"                            :    5,\n                '${^POSTMATCH}'                 :    5,\n                '$LAST_PAREN_MATCH'             :    5,\n                '$+'                            :    5,\n                '$LAST_SUBMATCH_RESULT'         :    5,\n                '$^N'                           :    5,\n                '@LAST_MATCH_END'               :    5,\n                '@+'                            :    5,\n                '%LAST_PAREN_MATCH'             :    5,\n                '%+'                            :    5,\n                '@LAST_MATCH_START'             :    5,\n                '@-'                            :    5,\n                '%LAST_MATCH_START'             :    5,\n                '%-'                            :    5,\n                '$LAST_REGEXP_CODE_RESULT'      :    5,\n                '$^R'                           :    5,\n                '${^RE_DEBUG_FLAGS}'            :    5,\n                '${^RE_TRIE_MAXBUF}'            :    5,\n                '$ARGV'                         :    5,\n                '@ARGV'                         :    5,\n                'ARGV'                          :    5,\n                'ARGVOUT'                       :    5,\n                '$OUTPUT_FIELD_SEPARATOR'       :    5,\n                '$OFS'                          :    5,\n                '$,'                            :    5,\n                '$INPUT_LINE_NUMBER'            :    5,\n                '$NR'                           :    5,\n                '$.'                            :    5,\n                '$INPUT_RECORD_SEPARATOR'       :    5,\n                '$RS'                           :    5,\n                '$\/'                            :    5,\n                '$OUTPUT_RECORD_SEPARATOR'      :    5,\n                '$ORS'                          :    5,\n                '$\\\\'                           :    5,\n                '$OUTPUT_AUTOFLUSH'             :    5,\n                '$|'                            :    5,\n                '$ACCUMULATOR'                  :    5,\n                '$^A'                           :    5,\n                '$FORMAT_FORMFEED'              :    5,\n                '$^L'                           :    5,\n                '$FORMAT_PAGE_NUMBER'           :    5,\n                '$%'                            :    5,\n                '$FORMAT_LINES_LEFT'            :    5,\n                '$-'                            :    5,\n                '$FORMAT_LINE_BREAK_CHARACTERS' :    5,\n                '$:'                            :    5,\n                '$FORMAT_LINES_PER_PAGE'        :    5,\n                '$='                            :    5,\n                '$FORMAT_TOP_NAME'              :    5,\n                '$^'                            :    5,\n                '$FORMAT_NAME'                  :    5,\n                '$~'                            :    5,\n                '${^CHILD_ERROR_NATIVE}'        :    5,\n                '$EXTENDED_OS_ERROR'            :    5,\n                '$^E'                           :    5,\n                '$EXCEPTIONS_BEING_CAUGHT'      :    5,\n                '$^S'                           :    5,\n                '$WARNING'                      :    5,\n                '$^W'                           :    5,\n                '${^WARNING_BITS}'              :    5,\n                '$OS_ERROR'                     :    5,\n                '$ERRNO'                        :    5,\n                '$!'                            :    5,\n                '%OS_ERROR'                     :    5,\n                '%ERRNO'                        :    5,\n                '%!'                            :    5,\n                '$CHILD_ERROR'                  :    5,\n                '$?'                            :    5,\n                '$EVAL_ERROR'                   :    5,\n                '$@'                            :    5,\n                '$OFMT'                         :    5,\n                '$#'                            :    5,\n                '$*'                            :    5,\n                '$ARRAY_BASE'                   :    5,\n                '$['                            :    5,\n                '$OLD_PERL_VERSION'             :    5,\n                '$]'                            :    5,\n                                                \/\/      PERL blocks\n                'if'                            :[1,1],\n                elsif                           :[1,1],\n                'else'                          :[1,1],\n                'while'                         :[1,1],\n                unless                          :[1,1],\n                'for'                           :[1,1],\n                foreach                         :[1,1],\n                                                \/\/      PERL functions\n                'abs'                           :1,     \/\/ - absolute value function\n                accept                          :1,     \/\/ - accept an incoming socket connect\n                alarm                           :1,     \/\/ - schedule a SIGALRM\n                'atan2'                         :1,     \/\/ - arctangent of Y\/X in the range -PI to PI\n                bind                            :1,     \/\/ - binds an address to a socket\n                binmode                         :1,     \/\/ - prepare binary files for I\/O\n                bless                           :1,     \/\/ - create an object\n                bootstrap                       :1,     \/\/\n                'break'                         :1,     \/\/ - break out of a \"given\" block\n                caller                          :1,     \/\/ - get context of the current subroutine call\n                chdir                           :1,     \/\/ - change your current working directory\n                chmod                           :1,     \/\/ - changes the permissions on a list of files\n                chomp                           :1,     \/\/ - remove a trailing record separator from a string\n                chop                            :1,     \/\/ - remove the last character from a string\n                chown                           :1,     \/\/ - change the ownership on a list of files\n                chr                             :1,     \/\/ - get character this number represents\n                chroot                          :1,     \/\/ - make directory new root for path lookups\n                close                           :1,     \/\/ - close file (or pipe or socket) handle\n                closedir                        :1,     \/\/ - close directory handle\n                connect                         :1,     \/\/ - connect to a remote socket\n                'continue'                      :[1,1], \/\/ - optional trailing block in a while or foreach\n                'cos'                           :1,     \/\/ - cosine function\n                crypt                           :1,     \/\/ - one-way passwd-style encryption\n                dbmclose                        :1,     \/\/ - breaks binding on a tied dbm file\n                dbmopen                         :1,     \/\/ - create binding on a tied dbm file\n                'default'                       :1,     \/\/\n                defined                         :1,     \/\/ - test whether a value, variable, or function is defined\n                'delete'                        :1,     \/\/ - deletes a value from a hash\n                die                             :1,     \/\/ - raise an exception or bail out\n                'do'                            :1,     \/\/ - turn a BLOCK into a TERM\n                dump                            :1,     \/\/ - create an immediate core dump\n                each                            :1,     \/\/ - retrieve the next key\/value pair from a hash\n                endgrent                        :1,     \/\/ - be done using group file\n                endhostent                      :1,     \/\/ - be done using hosts file\n                endnetent                       :1,     \/\/ - be done using networks file\n                endprotoent                     :1,     \/\/ - be done using protocols file\n                endpwent                        :1,     \/\/ - be done using passwd file\n                endservent                      :1,     \/\/ - be done using services file\n                eof                             :1,     \/\/ - test a filehandle for its end\n                'eval'                          :1,     \/\/ - catch exceptions or compile and run code\n                'exec'                          :1,     \/\/ - abandon this program to run another\n                exists                          :1,     \/\/ - test whether a hash key is present\n                exit                            :1,     \/\/ - terminate this program\n                'exp'                           :1,     \/\/ - raise I to a power\n                fcntl                           :1,     \/\/ - file control system call\n                fileno                          :1,     \/\/ - return file descriptor from filehandle\n                flock                           :1,     \/\/ - lock an entire file with an advisory lock\n                fork                            :1,     \/\/ - create a new process just like this one\n                format                          :1,     \/\/ - declare a picture format with use by the write() function\n                formline                        :1,     \/\/ - internal function used for formats\n                getc                            :1,     \/\/ - get the next character from the filehandle\n                getgrent                        :1,     \/\/ - get next group record\n                getgrgid                        :1,     \/\/ - get group record given group user ID\n                getgrnam                        :1,     \/\/ - get group record given group name\n                gethostbyaddr                   :1,     \/\/ - get host record given its address\n                gethostbyname                   :1,     \/\/ - get host record given name\n                gethostent                      :1,     \/\/ - get next hosts record\n                getlogin                        :1,     \/\/ - return who logged in at this tty\n                getnetbyaddr                    :1,     \/\/ - get network record given its address\n                getnetbyname                    :1,     \/\/ - get networks record given name\n                getnetent                       :1,     \/\/ - get next networks record\n                getpeername                     :1,     \/\/ - find the other end of a socket connection\n                getpgrp                         :1,     \/\/ - get process group\n                getppid                         :1,     \/\/ - get parent process ID\n                getpriority                     :1,     \/\/ - get current nice value\n                getprotobyname                  :1,     \/\/ - get protocol record given name\n                getprotobynumber                :1,     \/\/ - get protocol record numeric protocol\n                getprotoent                     :1,     \/\/ - get next protocols record\n                getpwent                        :1,     \/\/ - get next passwd record\n                getpwnam                        :1,     \/\/ - get passwd record given user login name\n                getpwuid                        :1,     \/\/ - get passwd record given user ID\n                getservbyname                   :1,     \/\/ - get services record given its name\n                getservbyport                   :1,     \/\/ - get services record given numeric port\n                getservent                      :1,     \/\/ - get next services record\n                getsockname                     :1,     \/\/ - retrieve the sockaddr for a given socket\n                getsockopt                      :1,     \/\/ - get socket options on a given socket\n                given                           :1,     \/\/\n                glob                            :1,     \/\/ - expand filenames using wildcards\n                gmtime                          :1,     \/\/ - convert UNIX time into record or string using Greenwich time\n                'goto'                          :1,     \/\/ - create spaghetti code\n                grep                            :1,     \/\/ - locate elements in a list test true against a given criterion\n                hex                             :1,     \/\/ - convert a string to a hexadecimal number\n                'import'                        :1,     \/\/ - patch a module's namespace into your own\n                index                           :1,     \/\/ - find a substring within a string\n                'int'                           :1,     \/\/ - get the integer portion of a number\n                ioctl                           :1,     \/\/ - system-dependent device control system call\n                'join'                          :1,     \/\/ - join a list into a string using a separator\n                keys                            :1,     \/\/ - retrieve list of indices from a hash\n                kill                            :1,     \/\/ - send a signal to a process or process group\n                last                            :1,     \/\/ - exit a block prematurely\n                lc                              :1,     \/\/ - return lower-case version of a string\n                lcfirst                         :1,     \/\/ - return a string with just the next letter in lower case\n                length                          :1,     \/\/ - return the number of bytes in a string\n                'link'                          :1,     \/\/ - create a hard link in the filesystem\n                listen                          :1,     \/\/ - register your socket as a server\n                local                           : 2,    \/\/ - create a temporary value for a global variable (dynamic scoping)\n                localtime                       :1,     \/\/ - convert UNIX time into record or string using local time\n                lock                            :1,     \/\/ - get a thread lock on a variable, subroutine, or method\n                'log'                           :1,     \/\/ - retrieve the natural logarithm for a number\n                lstat                           :1,     \/\/ - stat a symbolic link\n                m                               :null,  \/\/ - match a string with a regular expression pattern\n                map                             :1,     \/\/ - apply a change to a list to get back a new list with the changes\n                mkdir                           :1,     \/\/ - create a directory\n                msgctl                          :1,     \/\/ - SysV IPC message control operations\n                msgget                          :1,     \/\/ - get SysV IPC message queue\n                msgrcv                          :1,     \/\/ - receive a SysV IPC message from a message queue\n                msgsnd                          :1,     \/\/ - send a SysV IPC message to a message queue\n                my                              : 2,    \/\/ - declare and assign a local variable (lexical scoping)\n                'new'                           :1,     \/\/\n                next                            :1,     \/\/ - iterate a block prematurely\n                no                              :1,     \/\/ - unimport some module symbols or semantics at compile time\n                oct                             :1,     \/\/ - convert a string to an octal number\n                open                            :1,     \/\/ - open a file, pipe, or descriptor\n                opendir                         :1,     \/\/ - open a directory\n                ord                             :1,     \/\/ - find a character's numeric representation\n                our                             : 2,    \/\/ - declare and assign a package variable (lexical scoping)\n                pack                            :1,     \/\/ - convert a list into a binary representation\n                'package'                       :1,     \/\/ - declare a separate global namespace\n                pipe                            :1,     \/\/ - open a pair of connected filehandles\n                pop                             :1,     \/\/ - remove the last element from an array and return it\n                pos                             :1,     \/\/ - find or set the offset for the last\/next m\/\/g search\n                print                           :1,     \/\/ - output a list to a filehandle\n                printf                          :1,     \/\/ - output a formatted list to a filehandle\n                prototype                       :1,     \/\/ - get the prototype (if any) of a subroutine\n                push                            :1,     \/\/ - append one or more elements to an array\n                q                               :null,  \/\/ - singly quote a string\n                qq                              :null,  \/\/ - doubly quote a string\n                qr                              :null,  \/\/ - Compile pattern\n                quotemeta                       :null,  \/\/ - quote regular expression magic characters\n                qw                              :null,  \/\/ - quote a list of words\n                qx                              :null,  \/\/ - backquote quote a string\n                rand                            :1,     \/\/ - retrieve the next pseudorandom number\n                read                            :1,     \/\/ - fixed-length buffered input from a filehandle\n                readdir                         :1,     \/\/ - get a directory from a directory handle\n                readline                        :1,     \/\/ - fetch a record from a file\n                readlink                        :1,     \/\/ - determine where a symbolic link is pointing\n                readpipe                        :1,     \/\/ - execute a system command and collect standard output\n                recv                            :1,     \/\/ - receive a message over a Socket\n                redo                            :1,     \/\/ - start this loop iteration over again\n                ref                             :1,     \/\/ - find out the type of thing being referenced\n                rename                          :1,     \/\/ - change a filename\n                require                         :1,     \/\/ - load in external functions from a library at runtime\n                reset                           :1,     \/\/ - clear all variables of a given name\n                'return'                        :1,     \/\/ - get out of a function early\n                reverse                         :1,     \/\/ - flip a string or a list\n                rewinddir                       :1,     \/\/ - reset directory handle\n                rindex                          :1,     \/\/ - right-to-left substring search\n                rmdir                           :1,     \/\/ - remove a directory\n                s                               :null,  \/\/ - replace a pattern with a string\n                say                             :1,     \/\/ - print with newline\n                scalar                          :1,     \/\/ - force a scalar context\n                seek                            :1,     \/\/ - reposition file pointer for random-access I\/O\n                seekdir                         :1,     \/\/ - reposition directory pointer\n                select                          :1,     \/\/ - reset default output or do I\/O multiplexing\n                semctl                          :1,     \/\/ - SysV semaphore control operations\n                semget                          :1,     \/\/ - get set of SysV semaphores\n                semop                           :1,     \/\/ - SysV semaphore operations\n                send                            :1,     \/\/ - send a message over a socket\n                setgrent                        :1,     \/\/ - prepare group file for use\n                sethostent                      :1,     \/\/ - prepare hosts file for use\n                setnetent                       :1,     \/\/ - prepare networks file for use\n                setpgrp                         :1,     \/\/ - set the process group of a process\n                setpriority                     :1,     \/\/ - set a process's nice value\n                setprotoent                     :1,     \/\/ - prepare protocols file for use\n                setpwent                        :1,     \/\/ - prepare passwd file for use\n                setservent                      :1,     \/\/ - prepare services file for use\n                setsockopt                      :1,     \/\/ - set some socket options\n                shift                           :1,     \/\/ - remove the first element of an array, and return it\n                shmctl                          :1,     \/\/ - SysV shared memory operations\n                shmget                          :1,     \/\/ - get SysV shared memory segment identifier\n                shmread                         :1,     \/\/ - read SysV shared memory\n                shmwrite                        :1,     \/\/ - write SysV shared memory\n                shutdown                        :1,     \/\/ - close down just half of a socket connection\n                'sin'                           :1,     \/\/ - return the sine of a number\n                sleep                           :1,     \/\/ - block for some number of seconds\n                socket                          :1,     \/\/ - create a socket\n                socketpair                      :1,     \/\/ - create a pair of sockets\n                'sort'                          :1,     \/\/ - sort a list of values\n                splice                          :1,     \/\/ - add or remove elements anywhere in an array\n                'split'                         :1,     \/\/ - split up a string using a regexp delimiter\n                sprintf                         :1,     \/\/ - formatted print into a string\n                'sqrt'                          :1,     \/\/ - square root function\n                srand                           :1,     \/\/ - seed the random number generator\n                stat                            :1,     \/\/ - get a file's status information\n                state                           :1,     \/\/ - declare and assign a state variable (persistent lexical scoping)\n                study                           :1,     \/\/ - optimize input data for repeated searches\n                'sub'                           :1,     \/\/ - declare a subroutine, possibly anonymously\n                'substr'                        :1,     \/\/ - get or alter a portion of a string\n                symlink                         :1,     \/\/ - create a symbolic link to a file\n                syscall                         :1,     \/\/ - execute an arbitrary system call\n                sysopen                         :1,     \/\/ - open a file, pipe, or descriptor\n                sysread                         :1,     \/\/ - fixed-length unbuffered input from a filehandle\n                sysseek                         :1,     \/\/ - position I\/O pointer on handle used with sysread and syswrite\n                system                          :1,     \/\/ - run a separate program\n                syswrite                        :1,     \/\/ - fixed-length unbuffered output to a filehandle\n                tell                            :1,     \/\/ - get current seekpointer on a filehandle\n                telldir                         :1,     \/\/ - get current seekpointer on a directory handle\n                tie                             :1,     \/\/ - bind a variable to an object class\n                tied                            :1,     \/\/ - get a reference to the object underlying a tied variable\n                time                            :1,     \/\/ - return number of seconds since 1970\n                times                           :1,     \/\/ - return elapsed time for self and child processes\n                tr                              :null,  \/\/ - transliterate a string\n                truncate                        :1,     \/\/ - shorten a file\n                uc                              :1,     \/\/ - return upper-case version of a string\n                ucfirst                         :1,     \/\/ - return a string with just the next letter in upper case\n                umask                           :1,     \/\/ - set file creation mode mask\n                undef                           :1,     \/\/ - remove a variable or function definition\n                unlink                          :1,     \/\/ - remove one link to a file\n                unpack                          :1,     \/\/ - convert binary structure into normal perl variables\n                unshift                         :1,     \/\/ - prepend more elements to the beginning of a list\n                untie                           :1,     \/\/ - break a tie binding to a variable\n                use                             :1,     \/\/ - load in a module at compile time\n                utime                           :1,     \/\/ - set a file's last access and modify times\n                values                          :1,     \/\/ - return a list of the values in a hash\n                vec                             :1,     \/\/ - test or set particular bits in a string\n                wait                            :1,     \/\/ - wait for any child process to die\n                waitpid                         :1,     \/\/ - wait for a particular child process to die\n                wantarray                       :1,     \/\/ - get void vs scalar vs list context of current subroutine call\n                warn                            :1,     \/\/ - print debugging info\n                when                            :1,     \/\/\n                write                           :1,     \/\/ - print a picture record\n                y                               :null}; \/\/ - transliterate a string\n\n        var RXstyle=\"string-2\";\n        var RXmodifiers=\/[goseximacplud]\/;              \/\/ NOTE: \"m\", \"s\", \"y\" and \"tr\" need to correct real modifiers for each regexp type\n\n        function tokenChain(stream,state,chain,style,tail){     \/\/ NOTE: chain.length > 2 is not working now (it's for s[...][...]geos;)\n                state.chain=null;                               \/\/                                                          12   3tail\n                state.style=null;\n                state.tail=null;\n                state.tokenize=function(stream,state){\n                        var e=false,c,i=0;\n                        while(c=stream.next()){\n                                if(c===chain[i]&&!e){\n                                        if(chain[++i]!==undefined){\n                                                state.chain=chain[i];\n                                                state.style=style;\n                                                state.tail=tail;}\n                                        else if(tail)\n                                                stream.eatWhile(tail);\n                                        state.tokenize=tokenPerl;\n                                        return style;}\n                                e=!e&&c==\"\\\\\";}\n                        return style;};\n                return state.tokenize(stream,state);}\n\n        function tokenSOMETHING(stream,state,string){\n                state.tokenize=function(stream,state){\n                        if(stream.string==string)\n                                state.tokenize=tokenPerl;\n                        stream.skipToEnd();\n                        return \"string\";};\n                return state.tokenize(stream,state);}\n\n        function tokenPerl(stream,state){\n                if(stream.eatSpace())\n                        return null;\n                if(state.chain)\n                        return tokenChain(stream,state,state.chain,state.style,state.tail);\n                if(stream.match(\/^\\-?[\\d\\.]\/,false))\n                        if(stream.match(\/^(\\-?(\\d*\\.\\d+(e[+-]?\\d+)?|\\d+\\.\\d*)|0x[\\da-fA-F]+|0b[01]+|\\d+(e[+-]?\\d+)?)\/))\n                                return 'number';\n                if(stream.match(\/^<<(?=[_a-zA-Z])\/)){                  \/\/ NOTE: <<SOMETHING\\n...\\nSOMETHING\\n\n                        stream.eatWhile(\/\\w\/);\n                        return tokenSOMETHING(stream,state,stream.current().substr(2));}\n                if(stream.sol()&&stream.match(\/^\\=item(?!\\w)\/)){\/\/ NOTE: \\n=item...\\n=cut\\n\n                        return tokenSOMETHING(stream,state,'=cut');}\n                var ch=stream.next();\n                if(ch=='\"'||ch==\"'\"){                           \/\/ NOTE: ' or \" or <<'SOMETHING'\\n...\\nSOMETHING\\n or <<\"SOMETHING\"\\n...\\nSOMETHING\\n\n                        if(prefix(stream, 3)==\"<<\"+ch){\n                                var p=stream.pos;\n                                stream.eatWhile(\/\\w\/);\n                                var n=stream.current().substr(1);\n                                if(n&&stream.eat(ch))\n                                        return tokenSOMETHING(stream,state,n);\n                                stream.pos=p;}\n                        return tokenChain(stream,state,[ch],\"string\");}\n                if(ch==\"q\"){\n                        var c=look(stream, -2);\n                        if(!(c&&\/\\w\/.test(c))){\n                                c=look(stream, 0);\n                                if(c==\"x\"){\n                                        c=look(stream, 1);\n                                        if(c==\"(\"){\n                                                eatSuffix(stream, 2);\n                                                return tokenChain(stream,state,[\")\"],RXstyle,RXmodifiers);}\n                                        if(c==\"[\"){\n                                                eatSuffix(stream, 2);\n                                                return tokenChain(stream,state,[\"]\"],RXstyle,RXmodifiers);}\n                                        if(c==\"{\"){\n                                                eatSuffix(stream, 2);\n                                                return tokenChain(stream,state,[\"}\"],RXstyle,RXmodifiers);}\n                                        if(c==\"<\"){\n                                                eatSuffix(stream, 2);\n                                                return tokenChain(stream,state,[\">\"],RXstyle,RXmodifiers);}\n                                        if(\/[\\^'\"!~\\\/]\/.test(c)){\n                                                eatSuffix(stream, 1);\n                                                return tokenChain(stream,state,[stream.eat(c)],RXstyle,RXmodifiers);}}\n                                else if(c==\"q\"){\n                                        c=look(stream, 1);\n                                        if(c==\"(\"){\n                                                eatSuffix(stream, 2);\n                                                return tokenChain(stream,state,[\")\"],\"string\");}\n                                        if(c==\"[\"){\n                                                eatSuffix(stream, 2);\n                                                return tokenChain(stream,state,[\"]\"],\"string\");}\n                                        if(c==\"{\"){\n                                                eatSuffix(stream, 2);\n                                                return tokenChain(stream,state,[\"}\"],\"string\");}\n                                        if(c==\"<\"){\n                                                eatSuffix(stream, 2);\n                                                return tokenChain(stream,state,[\">\"],\"string\");}\n                                        if(\/[\\^'\"!~\\\/]\/.test(c)){\n                                                eatSuffix(stream, 1);\n                                                return tokenChain(stream,state,[stream.eat(c)],\"string\");}}\n                                else if(c==\"w\"){\n                                        c=look(stream, 1);\n                                        if(c==\"(\"){\n                                                eatSuffix(stream, 2);\n                                                return tokenChain(stream,state,[\")\"],\"bracket\");}\n                                        if(c==\"[\"){\n                                                eatSuffix(stream, 2);\n                                                return tokenChain(stream,state,[\"]\"],\"bracket\");}\n                                        if(c==\"{\"){\n                                                eatSuffix(stream, 2);\n                                                return tokenChain(stream,state,[\"}\"],\"bracket\");}\n                                        if(c==\"<\"){\n                                                eatSuffix(stream, 2);\n                                                return tokenChain(stream,state,[\">\"],\"bracket\");}\n                                        if(\/[\\^'\"!~\\\/]\/.test(c)){\n                                                eatSuffix(stream, 1);\n                                                return tokenChain(stream,state,[stream.eat(c)],\"bracket\");}}\n                                else if(c==\"r\"){\n                                        c=look(stream, 1);\n                                        if(c==\"(\"){\n                                                eatSuffix(stream, 2);\n                                                return tokenChain(stream,state,[\")\"],RXstyle,RXmodifiers);}\n                                        if(c==\"[\"){\n                                                eatSuffix(stream, 2);\n                                                return tokenChain(stream,state,[\"]\"],RXstyle,RXmodifiers);}\n                                        if(c==\"{\"){\n                                                eatSuffix(stream, 2);\n                                                return tokenChain(stream,state,[\"}\"],RXstyle,RXmodifiers);}\n                                        if(c==\"<\"){\n                                                eatSuffix(stream, 2);\n                                                return tokenChain(stream,state,[\">\"],RXstyle,RXmodifiers);}\n                                        if(\/[\\^'\"!~\\\/]\/.test(c)){\n                                                eatSuffix(stream, 1);\n                                                return tokenChain(stream,state,[stream.eat(c)],RXstyle,RXmodifiers);}}\n                                else if(\/[\\^'\"!~\\\/(\\[{<]\/.test(c)){\n                                        if(c==\"(\"){\n                                                eatSuffix(stream, 1);\n                                                return tokenChain(stream,state,[\")\"],\"string\");}\n                                        if(c==\"[\"){\n                                                eatSuffix(stream, 1);\n                                                return tokenChain(stream,state,[\"]\"],\"string\");}\n                                        if(c==\"{\"){\n                                                eatSuffix(stream, 1);\n                                                return tokenChain(stream,state,[\"}\"],\"string\");}\n                                        if(c==\"<\"){\n                                                eatSuffix(stream, 1);\n                                                return tokenChain(stream,state,[\">\"],\"string\");}\n                                        if(\/[\\^'\"!~\\\/]\/.test(c)){\n                                                return tokenChain(stream,state,[stream.eat(c)],\"string\");}}}}\n                if(ch==\"m\"){\n                        var c=look(stream, -2);\n                        if(!(c&&\/\\w\/.test(c))){\n                                c=stream.eat(\/[(\\[{<\\^'\"!~\\\/]\/);\n                                if(c){\n                                        if(\/[\\^'\"!~\\\/]\/.test(c)){\n                                                return tokenChain(stream,state,[c],RXstyle,RXmodifiers);}\n                                        if(c==\"(\"){\n                                                return tokenChain(stream,state,[\")\"],RXstyle,RXmodifiers);}\n                                        if(c==\"[\"){\n                                                return tokenChain(stream,state,[\"]\"],RXstyle,RXmodifiers);}\n                                        if(c==\"{\"){\n                                                return tokenChain(stream,state,[\"}\"],RXstyle,RXmodifiers);}\n                                        if(c==\"<\"){\n                                                return tokenChain(stream,state,[\">\"],RXstyle,RXmodifiers);}}}}\n                if(ch==\"s\"){\n                        var c=\/[\\\/>\\]})\\w]\/.test(look(stream, -2));\n                        if(!c){\n                                c=stream.eat(\/[(\\[{<\\^'\"!~\\\/]\/);\n                                if(c){\n                                        if(c==\"[\")\n                                                return tokenChain(stream,state,[\"]\",\"]\"],RXstyle,RXmodifiers);\n                                        if(c==\"{\")\n                                                return tokenChain(stream,state,[\"}\",\"}\"],RXstyle,RXmodifiers);\n                                        if(c==\"<\")\n                                                return tokenChain(stream,state,[\">\",\">\"],RXstyle,RXmodifiers);\n                                        if(c==\"(\")\n                                                return tokenChain(stream,state,[\")\",\")\"],RXstyle,RXmodifiers);\n                                        return tokenChain(stream,state,[c,c],RXstyle,RXmodifiers);}}}\n                if(ch==\"y\"){\n                        var c=\/[\\\/>\\]})\\w]\/.test(look(stream, -2));\n                        if(!c){\n                                c=stream.eat(\/[(\\[{<\\^'\"!~\\\/]\/);\n                                if(c){\n                                        if(c==\"[\")\n                                                return tokenChain(stream,state,[\"]\",\"]\"],RXstyle,RXmodifiers);\n                                        if(c==\"{\")\n                                                return tokenChain(stream,state,[\"}\",\"}\"],RXstyle,RXmodifiers);\n                                        if(c==\"<\")\n                                                return tokenChain(stream,state,[\">\",\">\"],RXstyle,RXmodifiers);\n                                        if(c==\"(\")\n                                                return tokenChain(stream,state,[\")\",\")\"],RXstyle,RXmodifiers);\n                                        return tokenChain(stream,state,[c,c],RXstyle,RXmodifiers);}}}\n                if(ch==\"t\"){\n                        var c=\/[\\\/>\\]})\\w]\/.test(look(stream, -2));\n                        if(!c){\n                                c=stream.eat(\"r\");if(c){\n                                c=stream.eat(\/[(\\[{<\\^'\"!~\\\/]\/);\n                                if(c){\n                                        if(c==\"[\")\n                                                return tokenChain(stream,state,[\"]\",\"]\"],RXstyle,RXmodifiers);\n                                        if(c==\"{\")\n                                                return tokenChain(stream,state,[\"}\",\"}\"],RXstyle,RXmodifiers);\n                                        if(c==\"<\")\n                                                return tokenChain(stream,state,[\">\",\">\"],RXstyle,RXmodifiers);\n                                        if(c==\"(\")\n                                                return tokenChain(stream,state,[\")\",\")\"],RXstyle,RXmodifiers);\n                                        return tokenChain(stream,state,[c,c],RXstyle,RXmodifiers);}}}}\n                if(ch==\"`\"){\n                        return tokenChain(stream,state,[ch],\"variable-2\");}\n                if(ch==\"\/\"){\n                        if(!\/~\\s*$\/.test(prefix(stream)))\n                                return \"operator\";\n                        else\n                                return tokenChain(stream,state,[ch],RXstyle,RXmodifiers);}\n                if(ch==\"$\"){\n                        var p=stream.pos;\n                        if(stream.eatWhile(\/\\d\/)||stream.eat(\"{\")&&stream.eatWhile(\/\\d\/)&&stream.eat(\"}\"))\n                                return \"variable-2\";\n                        else\n                                stream.pos=p;}\n                if(\/[$@%]\/.test(ch)){\n                        var p=stream.pos;\n                        if(stream.eat(\"^\")&&stream.eat(\/[A-Z]\/)||!\/[@$%&]\/.test(look(stream, -2))&&stream.eat(\/[=|\\\\\\-#?@;:&`~\\^!\\[\\]*'\"$+.,\\\/<>()]\/)){\n                                var c=stream.current();\n                                if(PERL[c])\n                                        return \"variable-2\";}\n                        stream.pos=p;}\n                if(\/[$@%&]\/.test(ch)){\n                        if(stream.eatWhile(\/[\\w$]\/)||stream.eat(\"{\")&&stream.eatWhile(\/[\\w$]\/)&&stream.eat(\"}\")){\n                                var c=stream.current();\n                                if(PERL[c])\n                                        return \"variable-2\";\n                                else\n                                        return \"variable\";}}\n                if(ch==\"#\"){\n                        if(look(stream, -2)!=\"$\"){\n                                stream.skipToEnd();\n                                return \"comment\";}}\n                if(\/[:+\\-\\^*$&%@=<>!?|\\\/~\\.]\/.test(ch)){\n                        var p=stream.pos;\n                        stream.eatWhile(\/[:+\\-\\^*$&%@=<>!?|\\\/~\\.]\/);\n                        if(PERL[stream.current()])\n                                return \"operator\";\n                        else\n                                stream.pos=p;}\n                if(ch==\"_\"){\n                        if(stream.pos==1){\n                                if(suffix(stream, 6)==\"_END__\"){\n                                        return tokenChain(stream,state,['\\0'],\"comment\");}\n                                else if(suffix(stream, 7)==\"_DATA__\"){\n                                        return tokenChain(stream,state,['\\0'],\"variable-2\");}\n                                else if(suffix(stream, 7)==\"_C__\"){\n                                        return tokenChain(stream,state,['\\0'],\"string\");}}}\n                if(\/\\w\/.test(ch)){\n                        var p=stream.pos;\n                        if(look(stream, -2)==\"{\"&&(look(stream, 0)==\"}\"||stream.eatWhile(\/\\w\/)&&look(stream, 0)==\"}\"))\n                                return \"string\";\n                        else\n                                stream.pos=p;}\n                if(\/[A-Z]\/.test(ch)){\n                        var l=look(stream, -2);\n                        var p=stream.pos;\n                        stream.eatWhile(\/[A-Z_]\/);\n                        if(\/[\\da-z]\/.test(look(stream, 0))){\n                                stream.pos=p;}\n                        else{\n                                var c=PERL[stream.current()];\n                                if(!c)\n                                        return \"meta\";\n                                if(c[1])\n                                        c=c[0];\n                                if(l!=\":\"){\n                                        if(c==1)\n                                                return \"keyword\";\n                                        else if(c==2)\n                                                return \"def\";\n                                        else if(c==3)\n                                                return \"atom\";\n                                        else if(c==4)\n                                                return \"operator\";\n                                        else if(c==5)\n                                                return \"variable-2\";\n                                        else\n                                                return \"meta\";}\n                                else\n                                        return \"meta\";}}\n                if(\/[a-zA-Z_]\/.test(ch)){\n                        var l=look(stream, -2);\n                        stream.eatWhile(\/\\w\/);\n                        var c=PERL[stream.current()];\n                        if(!c)\n                                return \"meta\";\n                        if(c[1])\n                                c=c[0];\n                        if(l!=\":\"){\n                                if(c==1)\n                                        return \"keyword\";\n                                else if(c==2)\n                                        return \"def\";\n                                else if(c==3)\n                                        return \"atom\";\n                                else if(c==4)\n                                        return \"operator\";\n                                else if(c==5)\n                                        return \"variable-2\";\n                                else\n                                        return \"meta\";}\n                        else\n                                return \"meta\";}\n                return null;}\n\n        return {\n            startState: function() {\n                return {\n                    tokenize: tokenPerl,\n                    chain: null,\n                    style: null,\n                    tail: null\n                };\n            },\n            token: function(stream, state) {\n                return (state.tokenize || tokenPerl)(stream, state);\n            },\n            lineComment: '#'\n        };\n});\n\nCodeMirror.registerHelper(\"wordChars\", \"perl\", \/[\\w$]\/);\n\nCodeMirror.defineMIME(\"text\/x-perl\", \"perl\");\n\n\/\/ it's like \"peek\", but need for look-ahead or look-behind if index < 0\nfunction look(stream, c){\n  return stream.string.charAt(stream.pos+(c||0));\n}\n\n\/\/ return a part of prefix of current stream from current position\nfunction prefix(stream, c){\n  if(c){\n    var x=stream.pos-c;\n    return stream.string.substr((x>=0?x:0),c);}\n  else{\n    return stream.string.substr(0,stream.pos-1);\n  }\n}\n\n\/\/ return a part of suffix of current stream from current position\nfunction suffix(stream, c){\n  var y=stream.string.length;\n  var x=y-stream.pos+1;\n  return stream.string.substr(stream.pos,(c&&c<y?c:x));\n}\n\n\/\/ eating and vomiting a part of stream from current position\nfunction eatSuffix(stream, c){\n  var x=stream.pos+c;\n  var y;\n  if(x<=0)\n    stream.pos=0;\n  else if(x>=(y=stream.string.length-1))\n    stream.pos=y;\n  else\n    stream.pos=x;\n}\n\n});\n\n};","shadow$provide[285] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"), require(\"..\/htmlmixed\/htmlmixed\"), require(\"..\/clike\/clike\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\", \"..\/htmlmixed\/htmlmixed\", \"..\/clike\/clike\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  function keywords(str) {\n    var obj = {}, words = str.split(\" \");\n    for (var i = 0; i < words.length; ++i) obj[words[i]] = true;\n    return obj;\n  }\n\n  \/\/ Helper for phpString\n  function matchSequence(list, end, escapes) {\n    if (list.length == 0) return phpString(end);\n    return function (stream, state) {\n      var patterns = list[0];\n      for (var i = 0; i < patterns.length; i++) if (stream.match(patterns[i][0])) {\n        state.tokenize = matchSequence(list.slice(1), end);\n        return patterns[i][1];\n      }\n      state.tokenize = phpString(end, escapes);\n      return \"string\";\n    };\n  }\n  function phpString(closing, escapes) {\n    return function(stream, state) { return phpString_(stream, state, closing, escapes); };\n  }\n  function phpString_(stream, state, closing, escapes) {\n    \/\/ \"Complex\" syntax\n    if (escapes !== false && stream.match(\"${\", false) || stream.match(\"{$\", false)) {\n      state.tokenize = null;\n      return \"string\";\n    }\n\n    \/\/ Simple syntax\n    if (escapes !== false && stream.match(\/^\\$[a-zA-Z_][a-zA-Z0-9_]*\/)) {\n      \/\/ After the variable name there may appear array or object operator.\n      if (stream.match(\"[\", false)) {\n        \/\/ Match array operator\n        state.tokenize = matchSequence([\n          [[\"[\", null]],\n          [[\/\\d[\\w\\.]*\/, \"number\"],\n           [\/\\$[a-zA-Z_][a-zA-Z0-9_]*\/, \"variable-2\"],\n           [\/[\\w\\$]+\/, \"variable\"]],\n          [[\"]\", null]]\n        ], closing, escapes);\n      }\n      if (stream.match(\/^->\\w\/, false)) {\n        \/\/ Match object operator\n        state.tokenize = matchSequence([\n          [[\"->\", null]],\n          [[\/[\\w]+\/, \"variable\"]]\n        ], closing, escapes);\n      }\n      return \"variable-2\";\n    }\n\n    var escaped = false;\n    \/\/ Normal string\n    while (!stream.eol() &&\n           (escaped || escapes === false ||\n            (!stream.match(\"{$\", false) &&\n             !stream.match(\/^(\\$[a-zA-Z_][a-zA-Z0-9_]*|\\$\\{)\/, false)))) {\n      if (!escaped && stream.match(closing)) {\n        state.tokenize = null;\n        state.tokStack.pop(); state.tokStack.pop();\n        break;\n      }\n      escaped = stream.next() == \"\\\\\" && !escaped;\n    }\n    return \"string\";\n  }\n\n  var phpKeywords = \"abstract and array as break case catch class clone const continue declare default \" +\n    \"do else elseif enddeclare endfor endforeach endif endswitch endwhile extends final \" +\n    \"for foreach function global goto if implements interface instanceof namespace \" +\n    \"new or private protected public static switch throw trait try use var while xor \" +\n    \"die echo empty exit eval include include_once isset list require require_once return \" +\n    \"print unset __halt_compiler self static parent yield insteadof finally\";\n  var phpAtoms = \"true false null TRUE FALSE NULL __CLASS__ __DIR__ __FILE__ __LINE__ __METHOD__ __FUNCTION__ __NAMESPACE__ __TRAIT__\";\n  var phpBuiltin = \"func_num_args func_get_arg func_get_args strlen strcmp strncmp strcasecmp strncasecmp each error_reporting define defined trigger_error user_error set_error_handler restore_error_handler get_declared_classes get_loaded_extensions extension_loaded get_extension_funcs debug_backtrace constant bin2hex hex2bin sleep usleep time mktime gmmktime strftime gmstrftime strtotime date gmdate getdate localtime checkdate flush wordwrap htmlspecialchars htmlentities html_entity_decode md5 md5_file crc32 getimagesize image_type_to_mime_type phpinfo phpversion phpcredits strnatcmp strnatcasecmp substr_count strspn strcspn strtok strtoupper strtolower strpos strrpos strrev hebrev hebrevc nl2br basename dirname pathinfo stripslashes stripcslashes strstr stristr strrchr str_shuffle str_word_count strcoll substr substr_replace quotemeta ucfirst ucwords strtr addslashes addcslashes rtrim str_replace str_repeat count_chars chunk_split trim ltrim strip_tags similar_text explode implode setlocale localeconv parse_str str_pad chop strchr sprintf printf vprintf vsprintf sscanf fscanf parse_url urlencode urldecode rawurlencode rawurldecode readlink linkinfo link unlink exec system escapeshellcmd escapeshellarg passthru shell_exec proc_open proc_close rand srand getrandmax mt_rand mt_srand mt_getrandmax base64_decode base64_encode abs ceil floor round is_finite is_nan is_infinite bindec hexdec octdec decbin decoct dechex base_convert number_format fmod ip2long long2ip getenv putenv getopt microtime gettimeofday getrusage uniqid quoted_printable_decode set_time_limit get_cfg_var magic_quotes_runtime set_magic_quotes_runtime get_magic_quotes_gpc get_magic_quotes_runtime import_request_variables error_log serialize unserialize memory_get_usage var_dump var_export debug_zval_dump print_r highlight_file show_source highlight_string ini_get ini_get_all ini_set ini_alter ini_restore get_include_path set_include_path restore_include_path setcookie header headers_sent connection_aborted connection_status ignore_user_abort parse_ini_file is_uploaded_file move_uploaded_file intval floatval doubleval strval gettype settype is_null is_resource is_bool is_long is_float is_int is_integer is_double is_real is_numeric is_string is_array is_object is_scalar ereg ereg_replace eregi eregi_replace split spliti join sql_regcase dl pclose popen readfile rewind rmdir umask fclose feof fgetc fgets fgetss fread fopen fpassthru ftruncate fstat fseek ftell fflush fwrite fputs mkdir rename copy tempnam tmpfile file file_get_contents file_put_contents stream_select stream_context_create stream_context_set_params stream_context_set_option stream_context_get_options stream_filter_prepend stream_filter_append fgetcsv flock get_meta_tags stream_set_write_buffer set_file_buffer set_socket_blocking stream_set_blocking socket_set_blocking stream_get_meta_data stream_register_wrapper stream_wrapper_register stream_set_timeout socket_set_timeout socket_get_status realpath fnmatch fsockopen pfsockopen pack unpack get_browser crypt opendir closedir chdir getcwd rewinddir readdir dir glob fileatime filectime filegroup fileinode filemtime fileowner fileperms filesize filetype file_exists is_writable is_writeable is_readable is_executable is_file is_dir is_link stat lstat chown touch clearstatcache mail ob_start ob_flush ob_clean ob_end_flush ob_end_clean ob_get_flush ob_get_clean ob_get_length ob_get_level ob_get_status ob_get_contents ob_implicit_flush ob_list_handlers ksort krsort natsort natcasesort asort arsort sort rsort usort uasort uksort shuffle array_walk count end prev next reset current key min max in_array array_search extract compact array_fill range array_multisort array_push array_pop array_shift array_unshift array_splice array_slice array_merge array_merge_recursive array_keys array_values array_count_values array_reverse array_reduce array_pad array_flip array_change_key_case array_rand array_unique array_intersect array_intersect_assoc array_diff array_diff_assoc array_sum array_filter array_map array_chunk array_key_exists array_intersect_key array_combine array_column pos sizeof key_exists assert assert_options version_compare ftok str_rot13 aggregate session_name session_module_name session_save_path session_id session_regenerate_id session_decode session_register session_unregister session_is_registered session_encode session_start session_destroy session_unset session_set_save_handler session_cache_limiter session_cache_expire session_set_cookie_params session_get_cookie_params session_write_close preg_match preg_match_all preg_replace preg_replace_callback preg_split preg_quote preg_grep overload ctype_alnum ctype_alpha ctype_cntrl ctype_digit ctype_lower ctype_graph ctype_print ctype_punct ctype_space ctype_upper ctype_xdigit virtual apache_request_headers apache_note apache_lookup_uri apache_child_terminate apache_setenv apache_response_headers apache_get_version getallheaders mysql_connect mysql_pconnect mysql_close mysql_select_db mysql_create_db mysql_drop_db mysql_query mysql_unbuffered_query mysql_db_query mysql_list_dbs mysql_list_tables mysql_list_fields mysql_list_processes mysql_error mysql_errno mysql_affected_rows mysql_insert_id mysql_result mysql_num_rows mysql_num_fields mysql_fetch_row mysql_fetch_array mysql_fetch_assoc mysql_fetch_object mysql_data_seek mysql_fetch_lengths mysql_fetch_field mysql_field_seek mysql_free_result mysql_field_name mysql_field_table mysql_field_len mysql_field_type mysql_field_flags mysql_escape_string mysql_real_escape_string mysql_stat mysql_thread_id mysql_client_encoding mysql_get_client_info mysql_get_host_info mysql_get_proto_info mysql_get_server_info mysql_info mysql mysql_fieldname mysql_fieldtable mysql_fieldlen mysql_fieldtype mysql_fieldflags mysql_selectdb mysql_createdb mysql_dropdb mysql_freeresult mysql_numfields mysql_numrows mysql_listdbs mysql_listtables mysql_listfields mysql_db_name mysql_dbname mysql_tablename mysql_table_name pg_connect pg_pconnect pg_close pg_connection_status pg_connection_busy pg_connection_reset pg_host pg_dbname pg_port pg_tty pg_options pg_ping pg_query pg_send_query pg_cancel_query pg_fetch_result pg_fetch_row pg_fetch_assoc pg_fetch_array pg_fetch_object pg_fetch_all pg_affected_rows pg_get_result pg_result_seek pg_result_status pg_free_result pg_last_oid pg_num_rows pg_num_fields pg_field_name pg_field_num pg_field_size pg_field_type pg_field_prtlen pg_field_is_null pg_get_notify pg_get_pid pg_result_error pg_last_error pg_last_notice pg_put_line pg_end_copy pg_copy_to pg_copy_from pg_trace pg_untrace pg_lo_create pg_lo_unlink pg_lo_open pg_lo_close pg_lo_read pg_lo_write pg_lo_read_all pg_lo_import pg_lo_export pg_lo_seek pg_lo_tell pg_escape_string pg_escape_bytea pg_unescape_bytea pg_client_encoding pg_set_client_encoding pg_meta_data pg_convert pg_insert pg_update pg_delete pg_select pg_exec pg_getlastoid pg_cmdtuples pg_errormessage pg_numrows pg_numfields pg_fieldname pg_fieldsize pg_fieldtype pg_fieldnum pg_fieldprtlen pg_fieldisnull pg_freeresult pg_result pg_loreadall pg_locreate pg_lounlink pg_loopen pg_loclose pg_loread pg_lowrite pg_loimport pg_loexport http_response_code get_declared_traits getimagesizefromstring socket_import_stream stream_set_chunk_size trait_exists header_register_callback class_uses session_status session_register_shutdown echo print global static exit array empty eval isset unset die include require include_once require_once json_decode json_encode json_last_error json_last_error_msg curl_close curl_copy_handle curl_errno curl_error curl_escape curl_exec curl_file_create curl_getinfo curl_init curl_multi_add_handle curl_multi_close curl_multi_exec curl_multi_getcontent curl_multi_info_read curl_multi_init curl_multi_remove_handle curl_multi_select curl_multi_setopt curl_multi_strerror curl_pause curl_reset curl_setopt_array curl_setopt curl_share_close curl_share_init curl_share_setopt curl_strerror curl_unescape curl_version mysqli_affected_rows mysqli_autocommit mysqli_change_user mysqli_character_set_name mysqli_close mysqli_commit mysqli_connect_errno mysqli_connect_error mysqli_connect mysqli_data_seek mysqli_debug mysqli_dump_debug_info mysqli_errno mysqli_error_list mysqli_error mysqli_fetch_all mysqli_fetch_array mysqli_fetch_assoc mysqli_fetch_field_direct mysqli_fetch_field mysqli_fetch_fields mysqli_fetch_lengths mysqli_fetch_object mysqli_fetch_row mysqli_field_count mysqli_field_seek mysqli_field_tell mysqli_free_result mysqli_get_charset mysqli_get_client_info mysqli_get_client_stats mysqli_get_client_version mysqli_get_connection_stats mysqli_get_host_info mysqli_get_proto_info mysqli_get_server_info mysqli_get_server_version mysqli_info mysqli_init mysqli_insert_id mysqli_kill mysqli_more_results mysqli_multi_query mysqli_next_result mysqli_num_fields mysqli_num_rows mysqli_options mysqli_ping mysqli_prepare mysqli_query mysqli_real_connect mysqli_real_escape_string mysqli_real_query mysqli_reap_async_query mysqli_refresh mysqli_rollback mysqli_select_db mysqli_set_charset mysqli_set_local_infile_default mysqli_set_local_infile_handler mysqli_sqlstate mysqli_ssl_set mysqli_stat mysqli_stmt_init mysqli_store_result mysqli_thread_id mysqli_thread_safe mysqli_use_result mysqli_warning_count\";\n  CodeMirror.registerHelper(\"hintWords\", \"php\", [phpKeywords, phpAtoms, phpBuiltin].join(\" \").split(\" \"));\n  CodeMirror.registerHelper(\"wordChars\", \"php\", \/[\\w$]\/);\n\n  var phpConfig = {\n    name: \"clike\",\n    helperType: \"php\",\n    keywords: keywords(phpKeywords),\n    blockKeywords: keywords(\"catch do else elseif for foreach if switch try while finally\"),\n    defKeywords: keywords(\"class function interface namespace trait\"),\n    atoms: keywords(phpAtoms),\n    builtin: keywords(phpBuiltin),\n    multiLineStrings: true,\n    hooks: {\n      \"$\": function(stream) {\n        stream.eatWhile(\/[\\w\\$_]\/);\n        return \"variable-2\";\n      },\n      \"<\": function(stream, state) {\n        var before;\n        if (before = stream.match(\/^<<\\s*\/)) {\n          var quoted = stream.eat(\/['\"]\/);\n          stream.eatWhile(\/[\\w\\.]\/);\n          var delim = stream.current().slice(before[0].length + (quoted ? 2 : 1));\n          if (quoted) stream.eat(quoted);\n          if (delim) {\n            (state.tokStack || (state.tokStack = [])).push(delim, 0);\n            state.tokenize = phpString(delim, quoted != \"'\");\n            return \"string\";\n          }\n        }\n        return false;\n      },\n      \"#\": function(stream) {\n        while (!stream.eol() && !stream.match(\"?>\", false)) stream.next();\n        return \"comment\";\n      },\n      \"\/\": function(stream) {\n        if (stream.eat(\"\/\")) {\n          while (!stream.eol() && !stream.match(\"?>\", false)) stream.next();\n          return \"comment\";\n        }\n        return false;\n      },\n      '\"': function(_stream, state) {\n        (state.tokStack || (state.tokStack = [])).push('\"', 0);\n        state.tokenize = phpString('\"');\n        return \"string\";\n      },\n      \"{\": function(_stream, state) {\n        if (state.tokStack && state.tokStack.length)\n          state.tokStack[state.tokStack.length - 1]++;\n        return false;\n      },\n      \"}\": function(_stream, state) {\n        if (state.tokStack && state.tokStack.length > 0 &&\n            !--state.tokStack[state.tokStack.length - 1]) {\n          state.tokenize = phpString(state.tokStack[state.tokStack.length - 2]);\n        }\n        return false;\n      }\n    }\n  };\n\n  CodeMirror.defineMode(\"php\", function(config, parserConfig) {\n    var htmlMode = CodeMirror.getMode(config, (parserConfig && parserConfig.htmlMode) || \"text\/html\");\n    var phpMode = CodeMirror.getMode(config, phpConfig);\n\n    function dispatch(stream, state) {\n      var isPHP = state.curMode == phpMode;\n      if (stream.sol() && state.pending && state.pending != '\"' && state.pending != \"'\") state.pending = null;\n      if (!isPHP) {\n        if (stream.match(\/^<\\?\\w*\/)) {\n          state.curMode = phpMode;\n          if (!state.php) state.php = CodeMirror.startState(phpMode, htmlMode.indent(state.html, \"\", \"\"))\n          state.curState = state.php;\n          return \"meta\";\n        }\n        if (state.pending == '\"' || state.pending == \"'\") {\n          while (!stream.eol() && stream.next() != state.pending) {}\n          var style = \"string\";\n        } else if (state.pending && stream.pos < state.pending.end) {\n          stream.pos = state.pending.end;\n          var style = state.pending.style;\n        } else {\n          var style = htmlMode.token(stream, state.curState);\n        }\n        if (state.pending) state.pending = null;\n        var cur = stream.current(), openPHP = cur.search(\/<\\?\/), m;\n        if (openPHP != -1) {\n          if (style == \"string\" && (m = cur.match(\/[\\'\\\"]$\/)) && !\/\\?>\/.test(cur)) state.pending = m[0];\n          else state.pending = {end: stream.pos, style: style};\n          stream.backUp(cur.length - openPHP);\n        }\n        return style;\n      } else if (isPHP && state.php.tokenize == null && stream.match(\"?>\")) {\n        state.curMode = htmlMode;\n        state.curState = state.html;\n        if (!state.php.context.prev) state.php = null;\n        return \"meta\";\n      } else {\n        return phpMode.token(stream, state.curState);\n      }\n    }\n\n    return {\n      startState: function() {\n        var html = CodeMirror.startState(htmlMode)\n        var php = parserConfig.startOpen ? CodeMirror.startState(phpMode) : null\n        return {html: html,\n                php: php,\n                curMode: parserConfig.startOpen ? phpMode : htmlMode,\n                curState: parserConfig.startOpen ? php : html,\n                pending: null};\n      },\n\n      copyState: function(state) {\n        var html = state.html, htmlNew = CodeMirror.copyState(htmlMode, html),\n            php = state.php, phpNew = php && CodeMirror.copyState(phpMode, php), cur;\n        if (state.curMode == htmlMode) cur = htmlNew;\n        else cur = phpNew;\n        return {html: htmlNew, php: phpNew, curMode: state.curMode, curState: cur,\n                pending: state.pending};\n      },\n\n      token: dispatch,\n\n      indent: function(state, textAfter, line) {\n        if ((state.curMode != phpMode && \/^\\s*<\\\/\/.test(textAfter)) ||\n            (state.curMode == phpMode && \/^\\?>\/.test(textAfter)))\n          return htmlMode.indent(state.html, textAfter, line);\n        return state.curMode.indent(state.curState, textAfter, line);\n      },\n\n      blockCommentStart: \"\/*\",\n      blockCommentEnd: \"*\/\",\n      lineComment: \"\/\/\",\n\n      innerMode: function(state) { return {state: state.curState, mode: state.curMode}; }\n    };\n  }, \"htmlmixed\", \"clike\");\n\n  CodeMirror.defineMIME(\"application\/x-httpd-php\", \"php\");\n  CodeMirror.defineMIME(\"application\/x-httpd-php-open\", {name: \"php\", startOpen: true});\n  CodeMirror.defineMIME(\"text\/x-php\", phpConfig);\n});\n\n};","shadow$provide[286] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  function wordRegexp(words) {\n    return new RegExp(\"^((\" + words.join(\")|(\") + \"))\\\\b\");\n  }\n\n  var wordOperators = wordRegexp([\"and\", \"or\", \"not\", \"is\"]);\n  var commonKeywords = [\"as\", \"assert\", \"break\", \"class\", \"continue\",\n                        \"def\", \"del\", \"elif\", \"else\", \"except\", \"finally\",\n                        \"for\", \"from\", \"global\", \"if\", \"import\",\n                        \"lambda\", \"pass\", \"raise\", \"return\",\n                        \"try\", \"while\", \"with\", \"yield\", \"in\"];\n  var commonBuiltins = [\"abs\", \"all\", \"any\", \"bin\", \"bool\", \"bytearray\", \"callable\", \"chr\",\n                        \"classmethod\", \"compile\", \"complex\", \"delattr\", \"dict\", \"dir\", \"divmod\",\n                        \"enumerate\", \"eval\", \"filter\", \"float\", \"format\", \"frozenset\",\n                        \"getattr\", \"globals\", \"hasattr\", \"hash\", \"help\", \"hex\", \"id\",\n                        \"input\", \"int\", \"isinstance\", \"issubclass\", \"iter\", \"len\",\n                        \"list\", \"locals\", \"map\", \"max\", \"memoryview\", \"min\", \"next\",\n                        \"object\", \"oct\", \"open\", \"ord\", \"pow\", \"property\", \"range\",\n                        \"repr\", \"reversed\", \"round\", \"set\", \"setattr\", \"slice\",\n                        \"sorted\", \"staticmethod\", \"str\", \"sum\", \"super\", \"tuple\",\n                        \"type\", \"vars\", \"zip\", \"__import__\", \"NotImplemented\",\n                        \"Ellipsis\", \"__debug__\"];\n  CodeMirror.registerHelper(\"hintWords\", \"python\", commonKeywords.concat(commonBuiltins));\n\n  function top(state) {\n    return state.scopes[state.scopes.length - 1];\n  }\n\n  CodeMirror.defineMode(\"python\", function(conf, parserConf) {\n    var ERRORCLASS = \"error\";\n\n    var delimiters = parserConf.delimiters || parserConf.singleDelimiters || \/^[\\(\\)\\[\\]\\{\\}@,:`=;\\.\\\\]\/;\n    \/\/               (Backwards-compatibility with old, cumbersome config system)\n    var operators = [parserConf.singleOperators, parserConf.doubleOperators, parserConf.doubleDelimiters, parserConf.tripleDelimiters,\n                     parserConf.operators || \/^([-+*\/%\\\/&|^]=?|[<>=]+|\\\/\\\/=?|\\*\\*=?|!=|[~!@]|\\.\\.\\.)\/]\n    for (var i = 0; i < operators.length; i++) if (!operators[i]) operators.splice(i--, 1)\n\n    var hangingIndent = parserConf.hangingIndent || conf.indentUnit;\n\n    var myKeywords = commonKeywords, myBuiltins = commonBuiltins;\n    if (parserConf.extra_keywords != undefined)\n      myKeywords = myKeywords.concat(parserConf.extra_keywords);\n\n    if (parserConf.extra_builtins != undefined)\n      myBuiltins = myBuiltins.concat(parserConf.extra_builtins);\n\n    var py3 = !(parserConf.version && Number(parserConf.version) < 3)\n    if (py3) {\n      \/\/ since http:\/\/legacy.python.org\/dev\/peps\/pep-0465\/ @ is also an operator\n      var identifiers = parserConf.identifiers|| \/^[_A-Za-z\\u00A1-\\uFFFF][_A-Za-z0-9\\u00A1-\\uFFFF]*\/;\n      myKeywords = myKeywords.concat([\"nonlocal\", \"False\", \"True\", \"None\", \"async\", \"await\"]);\n      myBuiltins = myBuiltins.concat([\"ascii\", \"bytes\", \"exec\", \"print\"]);\n      var stringPrefixes = new RegExp(\"^(([rbuf]|(br)|(fr))?('{3}|\\\"{3}|['\\\"]))\", \"i\");\n    } else {\n      var identifiers = parserConf.identifiers|| \/^[_A-Za-z][_A-Za-z0-9]*\/;\n      myKeywords = myKeywords.concat([\"exec\", \"print\"]);\n      myBuiltins = myBuiltins.concat([\"apply\", \"basestring\", \"buffer\", \"cmp\", \"coerce\", \"execfile\",\n                                      \"file\", \"intern\", \"long\", \"raw_input\", \"reduce\", \"reload\",\n                                      \"unichr\", \"unicode\", \"xrange\", \"False\", \"True\", \"None\"]);\n      var stringPrefixes = new RegExp(\"^(([rubf]|(ur)|(br))?('{3}|\\\"{3}|['\\\"]))\", \"i\");\n    }\n    var keywords = wordRegexp(myKeywords);\n    var builtins = wordRegexp(myBuiltins);\n\n    \/\/ tokenizers\n    function tokenBase(stream, state) {\n      var sol = stream.sol() && state.lastToken != \"\\\\\"\n      if (sol) state.indent = stream.indentation()\n      \/\/ Handle scope changes\n      if (sol && top(state).type == \"py\") {\n        var scopeOffset = top(state).offset;\n        if (stream.eatSpace()) {\n          var lineOffset = stream.indentation();\n          if (lineOffset > scopeOffset)\n            pushPyScope(state);\n          else if (lineOffset < scopeOffset && dedent(stream, state) && stream.peek() != \"#\")\n            state.errorToken = true;\n          return null;\n        } else {\n          var style = tokenBaseInner(stream, state);\n          if (scopeOffset > 0 && dedent(stream, state))\n            style += \" \" + ERRORCLASS;\n          return style;\n        }\n      }\n      return tokenBaseInner(stream, state);\n    }\n\n    function tokenBaseInner(stream, state, inFormat) {\n      if (stream.eatSpace()) return null;\n\n      \/\/ Handle Comments\n      if (!inFormat && stream.match(\/^#.*\/)) return \"comment\";\n\n      \/\/ Handle Number Literals\n      if (stream.match(\/^[0-9\\.]\/, false)) {\n        var floatLiteral = false;\n        \/\/ Floats\n        if (stream.match(\/^[\\d_]*\\.\\d+(e[\\+\\-]?\\d+)?\/i)) { floatLiteral = true; }\n        if (stream.match(\/^[\\d_]+\\.\\d*\/)) { floatLiteral = true; }\n        if (stream.match(\/^\\.\\d+\/)) { floatLiteral = true; }\n        if (floatLiteral) {\n          \/\/ Float literals may be \"imaginary\"\n          stream.eat(\/J\/i);\n          return \"number\";\n        }\n        \/\/ Integers\n        var intLiteral = false;\n        \/\/ Hex\n        if (stream.match(\/^0x[0-9a-f_]+\/i)) intLiteral = true;\n        \/\/ Binary\n        if (stream.match(\/^0b[01_]+\/i)) intLiteral = true;\n        \/\/ Octal\n        if (stream.match(\/^0o[0-7_]+\/i)) intLiteral = true;\n        \/\/ Decimal\n        if (stream.match(\/^[1-9][\\d_]*(e[\\+\\-]?[\\d_]+)?\/)) {\n          \/\/ Decimal literals may be \"imaginary\"\n          stream.eat(\/J\/i);\n          \/\/ TODO - Can you have imaginary longs?\n          intLiteral = true;\n        }\n        \/\/ Zero by itself with no other piece of number.\n        if (stream.match(\/^0(?![\\dx])\/i)) intLiteral = true;\n        if (intLiteral) {\n          \/\/ Integer literals may be \"long\"\n          stream.eat(\/L\/i);\n          return \"number\";\n        }\n      }\n\n      \/\/ Handle Strings\n      if (stream.match(stringPrefixes)) {\n        var isFmtString = stream.current().toLowerCase().indexOf('f') !== -1;\n        if (!isFmtString) {\n          state.tokenize = tokenStringFactory(stream.current(), state.tokenize);\n          return state.tokenize(stream, state);\n        } else {\n          state.tokenize = formatStringFactory(stream.current(), state.tokenize);\n          return state.tokenize(stream, state);\n        }\n      }\n\n      for (var i = 0; i < operators.length; i++)\n        if (stream.match(operators[i])) return \"operator\"\n\n      if (stream.match(delimiters)) return \"punctuation\";\n\n      if (state.lastToken == \".\" && stream.match(identifiers))\n        return \"property\";\n\n      if (stream.match(keywords) || stream.match(wordOperators))\n        return \"keyword\";\n\n      if (stream.match(builtins))\n        return \"builtin\";\n\n      if (stream.match(\/^(self|cls)\\b\/))\n        return \"variable-2\";\n\n      if (stream.match(identifiers)) {\n        if (state.lastToken == \"def\" || state.lastToken == \"class\")\n          return \"def\";\n        return \"variable\";\n      }\n\n      \/\/ Handle non-detected items\n      stream.next();\n      return inFormat ? null :ERRORCLASS;\n    }\n\n    function formatStringFactory(delimiter, tokenOuter) {\n      while (\"rubf\".indexOf(delimiter.charAt(0).toLowerCase()) >= 0)\n        delimiter = delimiter.substr(1);\n\n      var singleline = delimiter.length == 1;\n      var OUTCLASS = \"string\";\n\n      function tokenNestedExpr(depth) {\n        return function(stream, state) {\n          var inner = tokenBaseInner(stream, state, true)\n          if (inner == \"punctuation\") {\n            if (stream.current() == \"{\") {\n              state.tokenize = tokenNestedExpr(depth + 1)\n            } else if (stream.current() == \"}\") {\n              if (depth > 1) state.tokenize = tokenNestedExpr(depth - 1)\n              else state.tokenize = tokenString\n            }\n          }\n          return inner\n        }\n      }\n\n      function tokenString(stream, state) {\n        while (!stream.eol()) {\n          stream.eatWhile(\/[^'\"\\{\\}\\\\]\/);\n          if (stream.eat(\"\\\\\")) {\n            stream.next();\n            if (singleline && stream.eol())\n              return OUTCLASS;\n          } else if (stream.match(delimiter)) {\n            state.tokenize = tokenOuter;\n            return OUTCLASS;\n          } else if (stream.match('{{')) {\n            \/\/ ignore {{ in f-str\n            return OUTCLASS;\n          } else if (stream.match('{', false)) {\n            \/\/ switch to nested mode\n            state.tokenize = tokenNestedExpr(0)\n            if (stream.current()) return OUTCLASS;\n            else return state.tokenize(stream, state)\n          } else if (stream.match('}}')) {\n            return OUTCLASS;\n          } else if (stream.match('}')) {\n            \/\/ single } in f-string is an error\n            return ERRORCLASS;\n          } else {\n            stream.eat(\/['\"]\/);\n          }\n        }\n        if (singleline) {\n          if (parserConf.singleLineStringErrors)\n            return ERRORCLASS;\n          else\n            state.tokenize = tokenOuter;\n        }\n        return OUTCLASS;\n      }\n      tokenString.isString = true;\n      return tokenString;\n    }\n\n    function tokenStringFactory(delimiter, tokenOuter) {\n      while (\"rubf\".indexOf(delimiter.charAt(0).toLowerCase()) >= 0)\n        delimiter = delimiter.substr(1);\n\n      var singleline = delimiter.length == 1;\n      var OUTCLASS = \"string\";\n\n      function tokenString(stream, state) {\n        while (!stream.eol()) {\n          stream.eatWhile(\/[^'\"\\\\]\/);\n          if (stream.eat(\"\\\\\")) {\n            stream.next();\n            if (singleline && stream.eol())\n              return OUTCLASS;\n          } else if (stream.match(delimiter)) {\n            state.tokenize = tokenOuter;\n            return OUTCLASS;\n          } else {\n            stream.eat(\/['\"]\/);\n          }\n        }\n        if (singleline) {\n          if (parserConf.singleLineStringErrors)\n            return ERRORCLASS;\n          else\n            state.tokenize = tokenOuter;\n        }\n        return OUTCLASS;\n      }\n      tokenString.isString = true;\n      return tokenString;\n    }\n\n    function pushPyScope(state) {\n      while (top(state).type != \"py\") state.scopes.pop()\n      state.scopes.push({offset: top(state).offset + conf.indentUnit,\n                         type: \"py\",\n                         align: null})\n    }\n\n    function pushBracketScope(stream, state, type) {\n      var align = stream.match(\/^([\\s\\[\\{\\(]|#.*)*$\/, false) ? null : stream.column() + 1\n      state.scopes.push({offset: state.indent + hangingIndent,\n                         type: type,\n                         align: align})\n    }\n\n    function dedent(stream, state) {\n      var indented = stream.indentation();\n      while (state.scopes.length > 1 && top(state).offset > indented) {\n        if (top(state).type != \"py\") return true;\n        state.scopes.pop();\n      }\n      return top(state).offset != indented;\n    }\n\n    function tokenLexer(stream, state) {\n      if (stream.sol()) state.beginningOfLine = true;\n\n      var style = state.tokenize(stream, state);\n      var current = stream.current();\n\n      \/\/ Handle decorators\n      if (state.beginningOfLine && current == \"@\")\n        return stream.match(identifiers, false) ? \"meta\" : py3 ? \"operator\" : ERRORCLASS;\n\n      if (\/\\S\/.test(current)) state.beginningOfLine = false;\n\n      if ((style == \"variable\" || style == \"builtin\")\n          && state.lastToken == \"meta\")\n        style = \"meta\";\n\n      \/\/ Handle scope changes.\n      if (current == \"pass\" || current == \"return\")\n        state.dedent += 1;\n\n      if (current == \"lambda\") state.lambda = true;\n      if (current == \":\" && !state.lambda && top(state).type == \"py\")\n        pushPyScope(state);\n\n      if (current.length == 1 && !\/string|comment\/.test(style)) {\n        var delimiter_index = \"[({\".indexOf(current);\n        if (delimiter_index != -1)\n          pushBracketScope(stream, state, \"])}\".slice(delimiter_index, delimiter_index+1));\n\n        delimiter_index = \"])}\".indexOf(current);\n        if (delimiter_index != -1) {\n          if (top(state).type == current) state.indent = state.scopes.pop().offset - hangingIndent\n          else return ERRORCLASS;\n        }\n      }\n      if (state.dedent > 0 && stream.eol() && top(state).type == \"py\") {\n        if (state.scopes.length > 1) state.scopes.pop();\n        state.dedent -= 1;\n      }\n\n      return style;\n    }\n\n    var external = {\n      startState: function(basecolumn) {\n        return {\n          tokenize: tokenBase,\n          scopes: [{offset: basecolumn || 0, type: \"py\", align: null}],\n          indent: basecolumn || 0,\n          lastToken: null,\n          lambda: false,\n          dedent: 0\n        };\n      },\n\n      token: function(stream, state) {\n        var addErr = state.errorToken;\n        if (addErr) state.errorToken = false;\n        var style = tokenLexer(stream, state);\n\n        if (style && style != \"comment\")\n          state.lastToken = (style == \"keyword\" || style == \"punctuation\") ? stream.current() : style;\n        if (style == \"punctuation\") style = null;\n\n        if (stream.eol() && state.lambda)\n          state.lambda = false;\n        return addErr ? style + \" \" + ERRORCLASS : style;\n      },\n\n      indent: function(state, textAfter) {\n        if (state.tokenize != tokenBase)\n          return state.tokenize.isString ? CodeMirror.Pass : 0;\n\n        var scope = top(state), closing = scope.type == textAfter.charAt(0)\n        if (scope.align != null)\n          return scope.align - (closing ? 1 : 0)\n        else\n          return scope.offset - (closing ? hangingIndent : 0)\n      },\n\n      electricInput: \/^\\s*[\\}\\]\\)]$\/,\n      closeBrackets: {triples: \"'\\\"\"},\n      lineComment: \"#\",\n      fold: \"indent\"\n    };\n    return external;\n  });\n\n  CodeMirror.defineMIME(\"text\/x-python\", \"python\");\n\n  var words = function(str) { return str.split(\" \"); };\n\n  CodeMirror.defineMIME(\"text\/x-cython\", {\n    name: \"python\",\n    extra_keywords: words(\"by cdef cimport cpdef ctypedef enum except \"+\n                          \"extern gil include nogil property public \"+\n                          \"readonly struct union DEF IF ELIF ELSE\")\n  });\n\n});\n\n};","shadow$provide[287] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nfunction wordObj(words) {\n  var o = {};\n  for (var i = 0, e = words.length; i < e; ++i) o[words[i]] = true;\n  return o;\n}\n\nvar keywordList = [\n  \"alias\", \"and\", \"BEGIN\", \"begin\", \"break\", \"case\", \"class\", \"def\", \"defined?\", \"do\", \"else\",\n  \"elsif\", \"END\", \"end\", \"ensure\", \"false\", \"for\", \"if\", \"in\", \"module\", \"next\", \"not\", \"or\",\n  \"redo\", \"rescue\", \"retry\", \"return\", \"self\", \"super\", \"then\", \"true\", \"undef\", \"unless\",\n  \"until\", \"when\", \"while\", \"yield\", \"nil\", \"raise\", \"throw\", \"catch\", \"fail\", \"loop\", \"callcc\",\n  \"caller\", \"lambda\", \"proc\", \"public\", \"protected\", \"private\", \"require\", \"load\",\n  \"require_relative\", \"extend\", \"autoload\", \"__END__\", \"__FILE__\", \"__LINE__\", \"__dir__\"\n], keywords = wordObj(keywordList);\n\nvar indentWords = wordObj([\"def\", \"class\", \"case\", \"for\", \"while\", \"until\", \"module\", \"then\",\n                           \"catch\", \"loop\", \"proc\", \"begin\"]);\nvar dedentWords = wordObj([\"end\", \"until\"]);\nvar opening = {\"[\": \"]\", \"{\": \"}\", \"(\": \")\"};\nvar closing = {\"]\": \"[\", \"}\": \"{\", \")\": \"(\"};\n\nCodeMirror.defineMode(\"ruby\", function(config) {\n  var curPunc;\n\n  function chain(newtok, stream, state) {\n    state.tokenize.push(newtok);\n    return newtok(stream, state);\n  }\n\n  function tokenBase(stream, state) {\n    if (stream.sol() && stream.match(\"=begin\") && stream.eol()) {\n      state.tokenize.push(readBlockComment);\n      return \"comment\";\n    }\n    if (stream.eatSpace()) return null;\n    var ch = stream.next(), m;\n    if (ch == \"`\" || ch == \"'\" || ch == '\"') {\n      return chain(readQuoted(ch, \"string\", ch == '\"' || ch == \"`\"), stream, state);\n    } else if (ch == \"\/\") {\n      if (regexpAhead(stream))\n        return chain(readQuoted(ch, \"string-2\", true), stream, state);\n      else\n        return \"operator\";\n    } else if (ch == \"%\") {\n      var style = \"string\", embed = true;\n      if (stream.eat(\"s\")) style = \"atom\";\n      else if (stream.eat(\/[WQ]\/)) style = \"string\";\n      else if (stream.eat(\/[r]\/)) style = \"string-2\";\n      else if (stream.eat(\/[wxq]\/)) { style = \"string\"; embed = false; }\n      var delim = stream.eat(\/[^\\w\\s=]\/);\n      if (!delim) return \"operator\";\n      if (opening.propertyIsEnumerable(delim)) delim = opening[delim];\n      return chain(readQuoted(delim, style, embed, true), stream, state);\n    } else if (ch == \"#\") {\n      stream.skipToEnd();\n      return \"comment\";\n    } else if (ch == \"<\" && (m = stream.match(\/^<([-~])[\\`\\\"\\']?([a-zA-Z_?]\\w*)[\\`\\\"\\']?(?:;|$)\/))) {\n      return chain(readHereDoc(m[2], m[1]), stream, state);\n    } else if (ch == \"0\") {\n      if (stream.eat(\"x\")) stream.eatWhile(\/[\\da-fA-F]\/);\n      else if (stream.eat(\"b\")) stream.eatWhile(\/[01]\/);\n      else stream.eatWhile(\/[0-7]\/);\n      return \"number\";\n    } else if (\/\\d\/.test(ch)) {\n      stream.match(\/^[\\d_]*(?:\\.[\\d_]+)?(?:[eE][+\\-]?[\\d_]+)?\/);\n      return \"number\";\n    } else if (ch == \"?\") {\n      while (stream.match(\/^\\\\[CM]-\/)) {}\n      if (stream.eat(\"\\\\\")) stream.eatWhile(\/\\w\/);\n      else stream.next();\n      return \"string\";\n    } else if (ch == \":\") {\n      if (stream.eat(\"'\")) return chain(readQuoted(\"'\", \"atom\", false), stream, state);\n      if (stream.eat('\"')) return chain(readQuoted('\"', \"atom\", true), stream, state);\n\n      \/\/ :> :>> :< :<< are valid symbols\n      if (stream.eat(\/[\\<\\>]\/)) {\n        stream.eat(\/[\\<\\>]\/);\n        return \"atom\";\n      }\n\n      \/\/ :+ :- :\/ :* :| :& :! are valid symbols\n      if (stream.eat(\/[\\+\\-\\*\\\/\\&\\|\\:\\!]\/)) {\n        return \"atom\";\n      }\n\n      \/\/ Symbols can't start by a digit\n      if (stream.eat(\/[a-zA-Z$@_\\xa1-\\uffff]\/)) {\n        stream.eatWhile(\/[\\w$\\xa1-\\uffff]\/);\n        \/\/ Only one ? ! = is allowed and only as the last character\n        stream.eat(\/[\\?\\!\\=]\/);\n        return \"atom\";\n      }\n      return \"operator\";\n    } else if (ch == \"@\" && stream.match(\/^@?[a-zA-Z_\\xa1-\\uffff]\/)) {\n      stream.eat(\"@\");\n      stream.eatWhile(\/[\\w\\xa1-\\uffff]\/);\n      return \"variable-2\";\n    } else if (ch == \"$\") {\n      if (stream.eat(\/[a-zA-Z_]\/)) {\n        stream.eatWhile(\/[\\w]\/);\n      } else if (stream.eat(\/\\d\/)) {\n        stream.eat(\/\\d\/);\n      } else {\n        stream.next(); \/\/ Must be a special global like $: or $!\n      }\n      return \"variable-3\";\n    } else if (\/[a-zA-Z_\\xa1-\\uffff]\/.test(ch)) {\n      stream.eatWhile(\/[\\w\\xa1-\\uffff]\/);\n      stream.eat(\/[\\?\\!]\/);\n      if (stream.eat(\":\")) return \"atom\";\n      return \"ident\";\n    } else if (ch == \"|\" && (state.varList || state.lastTok == \"{\" || state.lastTok == \"do\")) {\n      curPunc = \"|\";\n      return null;\n    } else if (\/[\\(\\)\\[\\]{}\\\\;]\/.test(ch)) {\n      curPunc = ch;\n      return null;\n    } else if (ch == \"-\" && stream.eat(\">\")) {\n      return \"arrow\";\n    } else if (\/[=+\\-\\\/*:\\.^%<>~|]\/.test(ch)) {\n      var more = stream.eatWhile(\/[=+\\-\\\/*:\\.^%<>~|]\/);\n      if (ch == \".\" && !more) curPunc = \".\";\n      return \"operator\";\n    } else {\n      return null;\n    }\n  }\n\n  function regexpAhead(stream) {\n    var start = stream.pos, depth = 0, next, found = false, escaped = false\n    while ((next = stream.next()) != null) {\n      if (!escaped) {\n        if (\"[{(\".indexOf(next) > -1) {\n          depth++\n        } else if (\"]})\".indexOf(next) > -1) {\n          depth--\n          if (depth < 0) break\n        } else if (next == \"\/\" && depth == 0) {\n          found = true\n          break\n        }\n        escaped = next == \"\\\\\"\n      } else {\n        escaped = false\n      }\n    }\n    stream.backUp(stream.pos - start)\n    return found\n  }\n\n  function tokenBaseUntilBrace(depth) {\n    if (!depth) depth = 1;\n    return function(stream, state) {\n      if (stream.peek() == \"}\") {\n        if (depth == 1) {\n          state.tokenize.pop();\n          return state.tokenize[state.tokenize.length-1](stream, state);\n        } else {\n          state.tokenize[state.tokenize.length - 1] = tokenBaseUntilBrace(depth - 1);\n        }\n      } else if (stream.peek() == \"{\") {\n        state.tokenize[state.tokenize.length - 1] = tokenBaseUntilBrace(depth + 1);\n      }\n      return tokenBase(stream, state);\n    };\n  }\n  function tokenBaseOnce() {\n    var alreadyCalled = false;\n    return function(stream, state) {\n      if (alreadyCalled) {\n        state.tokenize.pop();\n        return state.tokenize[state.tokenize.length-1](stream, state);\n      }\n      alreadyCalled = true;\n      return tokenBase(stream, state);\n    };\n  }\n  function readQuoted(quote, style, embed, unescaped) {\n    return function(stream, state) {\n      var escaped = false, ch;\n\n      if (state.context.type === 'read-quoted-paused') {\n        state.context = state.context.prev;\n        stream.eat(\"}\");\n      }\n\n      while ((ch = stream.next()) != null) {\n        if (ch == quote && (unescaped || !escaped)) {\n          state.tokenize.pop();\n          break;\n        }\n        if (embed && ch == \"#\" && !escaped) {\n          if (stream.eat(\"{\")) {\n            if (quote == \"}\") {\n              state.context = {prev: state.context, type: 'read-quoted-paused'};\n            }\n            state.tokenize.push(tokenBaseUntilBrace());\n            break;\n          } else if (\/[@\\$]\/.test(stream.peek())) {\n            state.tokenize.push(tokenBaseOnce());\n            break;\n          }\n        }\n        escaped = !escaped && ch == \"\\\\\";\n      }\n      return style;\n    };\n  }\n  function readHereDoc(phrase, mayIndent) {\n    return function(stream, state) {\n      if (mayIndent) stream.eatSpace()\n      if (stream.match(phrase)) state.tokenize.pop();\n      else stream.skipToEnd();\n      return \"string\";\n    };\n  }\n  function readBlockComment(stream, state) {\n    if (stream.sol() && stream.match(\"=end\") && stream.eol())\n      state.tokenize.pop();\n    stream.skipToEnd();\n    return \"comment\";\n  }\n\n  return {\n    startState: function() {\n      return {tokenize: [tokenBase],\n              indented: 0,\n              context: {type: \"top\", indented: -config.indentUnit},\n              continuedLine: false,\n              lastTok: null,\n              varList: false};\n    },\n\n    token: function(stream, state) {\n      curPunc = null;\n      if (stream.sol()) state.indented = stream.indentation();\n      var style = state.tokenize[state.tokenize.length-1](stream, state), kwtype;\n      var thisTok = curPunc;\n      if (style == \"ident\") {\n        var word = stream.current();\n        style = state.lastTok == \".\" ? \"property\"\n          : keywords.propertyIsEnumerable(stream.current()) ? \"keyword\"\n          : \/^[A-Z]\/.test(word) ? \"tag\"\n          : (state.lastTok == \"def\" || state.lastTok == \"class\" || state.varList) ? \"def\"\n          : \"variable\";\n        if (style == \"keyword\") {\n          thisTok = word;\n          if (indentWords.propertyIsEnumerable(word)) kwtype = \"indent\";\n          else if (dedentWords.propertyIsEnumerable(word)) kwtype = \"dedent\";\n          else if ((word == \"if\" || word == \"unless\") && stream.column() == stream.indentation())\n            kwtype = \"indent\";\n          else if (word == \"do\" && state.context.indented < state.indented)\n            kwtype = \"indent\";\n        }\n      }\n      if (curPunc || (style && style != \"comment\")) state.lastTok = thisTok;\n      if (curPunc == \"|\") state.varList = !state.varList;\n\n      if (kwtype == \"indent\" || \/[\\(\\[\\{]\/.test(curPunc))\n        state.context = {prev: state.context, type: curPunc || style, indented: state.indented};\n      else if ((kwtype == \"dedent\" || \/[\\)\\]\\}]\/.test(curPunc)) && state.context.prev)\n        state.context = state.context.prev;\n\n      if (stream.eol())\n        state.continuedLine = (curPunc == \"\\\\\" || style == \"operator\");\n      return style;\n    },\n\n    indent: function(state, textAfter) {\n      if (state.tokenize[state.tokenize.length-1] != tokenBase) return CodeMirror.Pass;\n      var firstChar = textAfter && textAfter.charAt(0);\n      var ct = state.context;\n      var closed = ct.type == closing[firstChar] ||\n        ct.type == \"keyword\" && \/^(?:end|until|else|elsif|when|rescue)\\b\/.test(textAfter);\n      return ct.indented + (closed ? 0 : config.indentUnit) +\n        (state.continuedLine ? config.indentUnit : 0);\n    },\n\n    electricInput: \/^\\s*(?:end|rescue|elsif|else|\\})$\/,\n    lineComment: \"#\",\n    fold: \"indent\"\n  };\n});\n\nCodeMirror.defineMIME(\"text\/x-ruby\", \"ruby\");\n\nCodeMirror.registerHelper(\"hintWords\", \"ruby\", keywordList);\n\n});\n\n};","shadow$provide[288] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"), require(\"..\/..\/addon\/mode\/simple\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\", \"..\/..\/addon\/mode\/simple\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineSimpleMode(\"rust\",{\n  start: [\n    \/\/ string and byte string\n    {regex: \/b?\"\/, token: \"string\", next: \"string\"},\n    \/\/ raw string and raw byte string\n    {regex: \/b?r\"\/, token: \"string\", next: \"string_raw\"},\n    {regex: \/b?r#+\"\/, token: \"string\", next: \"string_raw_hash\"},\n    \/\/ character\n    {regex: \/'(?:[^'\\\\]|\\\\(?:[nrt0'\"]|x[\\da-fA-F]{2}|u\\{[\\da-fA-F]{6}\\}))'\/, token: \"string-2\"},\n    \/\/ byte\n    {regex: \/b'(?:[^']|\\\\(?:['\\\\nrt0]|x[\\da-fA-F]{2}))'\/, token: \"string-2\"},\n\n    {regex: \/(?:(?:[0-9][0-9_]*)(?:(?:[Ee][+-]?[0-9_]+)|\\.[0-9_]+(?:[Ee][+-]?[0-9_]+)?)(?:f32|f64)?)|(?:0(?:b[01_]+|(?:o[0-7_]+)|(?:x[0-9a-fA-F_]+))|(?:[0-9][0-9_]*))(?:u8|u16|u32|u64|i8|i16|i32|i64|isize|usize)?\/,\n     token: \"number\"},\n    {regex: \/(let(?:\\s+mut)?|fn|enum|mod|struct|type|union)(\\s+)([a-zA-Z_][a-zA-Z0-9_]*)\/, token: [\"keyword\", null, \"def\"]},\n    {regex: \/(?:abstract|alignof|as|async|await|box|break|continue|const|crate|do|dyn|else|enum|extern|fn|for|final|if|impl|in|loop|macro|match|mod|move|offsetof|override|priv|proc|pub|pure|ref|return|self|sizeof|static|struct|super|trait|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\\b\/, token: \"keyword\"},\n    {regex: \/\\b(?:Self|isize|usize|char|bool|u8|u16|u32|u64|f16|f32|f64|i8|i16|i32|i64|str|Option)\\b\/, token: \"atom\"},\n    {regex: \/\\b(?:true|false|Some|None|Ok|Err)\\b\/, token: \"builtin\"},\n    {regex: \/\\b(fn)(\\s+)([a-zA-Z_][a-zA-Z0-9_]*)\/,\n     token: [\"keyword\", null ,\"def\"]},\n    {regex: \/#!?\\[.*\\]\/, token: \"meta\"},\n    {regex: \/\\\/\\\/.*\/, token: \"comment\"},\n    {regex: \/\\\/\\*\/, token: \"comment\", next: \"comment\"},\n    {regex: \/[-+\\\/*=<>!]+\/, token: \"operator\"},\n    {regex: \/[a-zA-Z_]\\w*!\/,token: \"variable-3\"},\n    {regex: \/[a-zA-Z_]\\w*\/, token: \"variable\"},\n    {regex: \/[\\{\\[\\(]\/, indent: true},\n    {regex: \/[\\}\\]\\)]\/, dedent: true}\n  ],\n  string: [\n    {regex: \/\"\/, token: \"string\", next: \"start\"},\n    {regex: \/(?:[^\\\\\"]|\\\\(?:.|$))*\/, token: \"string\"}\n  ],\n  string_raw: [\n    {regex: \/\"\/, token: \"string\", next: \"start\"},\n    {regex: \/[^\"]*\/, token: \"string\"}\n  ],\n  string_raw_hash: [\n    {regex: \/\"#+\/, token: \"string\", next: \"start\"},\n    {regex: \/(?:[^\"]|\"(?!#))*\/, token: \"string\"}\n  ],\n  comment: [\n    {regex: \/.*?\\*\\\/\/, token: \"comment\", next: \"start\"},\n    {regex: \/.*\/, token: \"comment\"}\n  ],\n  meta: {\n    dontIndentStates: [\"comment\"],\n    electricInput: \/^\\s*\\}$\/,\n    blockCommentStart: \"\/*\",\n    blockCommentEnd: \"*\/\",\n    lineComment: \"\/\/\",\n    fold: \"brace\"\n  }\n});\n\n\nCodeMirror.defineMIME(\"text\/x-rustsrc\", \"rust\");\nCodeMirror.defineMIME(\"text\/rust\", \"rust\");\n});\n\n};","shadow$provide[289] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n\/**\n * Author: Koh Zi Han, based on implementation by Koh Zi Chun\n *\/\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"scheme\", function () {\n    var BUILTIN = \"builtin\", COMMENT = \"comment\", STRING = \"string\",\n        ATOM = \"atom\", NUMBER = \"number\", BRACKET = \"bracket\";\n    var INDENT_WORD_SKIP = 2;\n\n    function makeKeywords(str) {\n        var obj = {}, words = str.split(\" \");\n        for (var i = 0; i < words.length; ++i) obj[words[i]] = true;\n        return obj;\n    }\n\n    var keywords = makeKeywords(\"\u03bb case-lambda call\/cc class cond-expand define-class define-values exit-handler field import inherit init-field interface let*-values let-values let\/ec mixin opt-lambda override protect provide public rename require require-for-syntax syntax syntax-case syntax-error unit\/sig unless when with-syntax and begin call-with-current-continuation call-with-input-file call-with-output-file case cond define define-syntax define-macro defmacro delay do dynamic-wind else for-each if lambda let let* let-syntax letrec letrec-syntax map or syntax-rules abs acos angle append apply asin assoc assq assv atan boolean? caar cadr call-with-input-file call-with-output-file call-with-values car cdddar cddddr cdr ceiling char->integer char-alphabetic? char-ci<=? char-ci<? char-ci=? char-ci>=? char-ci>? char-downcase char-lower-case? char-numeric? char-ready? char-upcase char-upper-case? char-whitespace? char<=? char<? char=? char>=? char>? char? close-input-port close-output-port complex? cons cos current-input-port current-output-port denominator display eof-object? eq? equal? eqv? eval even? exact->inexact exact? exp expt #f floor force gcd imag-part inexact->exact inexact? input-port? integer->char integer? interaction-environment lcm length list list->string list->vector list-ref list-tail list? load log magnitude make-polar make-rectangular make-string make-vector max member memq memv min modulo negative? newline not null-environment null? number->string number? numerator odd? open-input-file open-output-file output-port? pair? peek-char port? positive? procedure? quasiquote quote quotient rational? rationalize read read-char real-part real? remainder reverse round scheme-report-environment set! set-car! set-cdr! sin sqrt string string->list string->number string->symbol string-append string-ci<=? string-ci<? string-ci=? string-ci>=? string-ci>? string-copy string-fill! string-length string-ref string-set! string<=? string<? string=? string>=? string>? string? substring symbol->string symbol? #t tan transcript-off transcript-on truncate values vector vector->list vector-fill! vector-length vector-ref vector-set! with-input-from-file with-output-to-file write write-char zero?\");\n    var indentKeys = makeKeywords(\"define let letrec let* lambda define-macro defmacro let-syntax letrec-syntax let-values let*-values define-syntax syntax-rules define-values when unless\");\n\n    function stateStack(indent, type, prev) { \/\/ represents a state stack object\n        this.indent = indent;\n        this.type = type;\n        this.prev = prev;\n    }\n\n    function pushStack(state, indent, type) {\n        state.indentStack = new stateStack(indent, type, state.indentStack);\n    }\n\n    function popStack(state) {\n        state.indentStack = state.indentStack.prev;\n    }\n\n    var binaryMatcher = new RegExp(\/^(?:[-+]i|[-+][01]+#*(?:\\\/[01]+#*)?i|[-+]?[01]+#*(?:\\\/[01]+#*)?@[-+]?[01]+#*(?:\\\/[01]+#*)?|[-+]?[01]+#*(?:\\\/[01]+#*)?[-+](?:[01]+#*(?:\\\/[01]+#*)?)?i|[-+]?[01]+#*(?:\\\/[01]+#*)?)(?=[()\\s;\"]|$)\/i);\n    var octalMatcher = new RegExp(\/^(?:[-+]i|[-+][0-7]+#*(?:\\\/[0-7]+#*)?i|[-+]?[0-7]+#*(?:\\\/[0-7]+#*)?@[-+]?[0-7]+#*(?:\\\/[0-7]+#*)?|[-+]?[0-7]+#*(?:\\\/[0-7]+#*)?[-+](?:[0-7]+#*(?:\\\/[0-7]+#*)?)?i|[-+]?[0-7]+#*(?:\\\/[0-7]+#*)?)(?=[()\\s;\"]|$)\/i);\n    var hexMatcher = new RegExp(\/^(?:[-+]i|[-+][\\da-f]+#*(?:\\\/[\\da-f]+#*)?i|[-+]?[\\da-f]+#*(?:\\\/[\\da-f]+#*)?@[-+]?[\\da-f]+#*(?:\\\/[\\da-f]+#*)?|[-+]?[\\da-f]+#*(?:\\\/[\\da-f]+#*)?[-+](?:[\\da-f]+#*(?:\\\/[\\da-f]+#*)?)?i|[-+]?[\\da-f]+#*(?:\\\/[\\da-f]+#*)?)(?=[()\\s;\"]|$)\/i);\n    var decimalMatcher = new RegExp(\/^(?:[-+]i|[-+](?:(?:(?:\\d+#+\\.?#*|\\d+\\.\\d*#*|\\.\\d+#*|\\d+)(?:[esfdl][-+]?\\d+)?)|\\d+#*\\\/\\d+#*)i|[-+]?(?:(?:(?:\\d+#+\\.?#*|\\d+\\.\\d*#*|\\.\\d+#*|\\d+)(?:[esfdl][-+]?\\d+)?)|\\d+#*\\\/\\d+#*)@[-+]?(?:(?:(?:\\d+#+\\.?#*|\\d+\\.\\d*#*|\\.\\d+#*|\\d+)(?:[esfdl][-+]?\\d+)?)|\\d+#*\\\/\\d+#*)|[-+]?(?:(?:(?:\\d+#+\\.?#*|\\d+\\.\\d*#*|\\.\\d+#*|\\d+)(?:[esfdl][-+]?\\d+)?)|\\d+#*\\\/\\d+#*)[-+](?:(?:(?:\\d+#+\\.?#*|\\d+\\.\\d*#*|\\.\\d+#*|\\d+)(?:[esfdl][-+]?\\d+)?)|\\d+#*\\\/\\d+#*)?i|(?:(?:(?:\\d+#+\\.?#*|\\d+\\.\\d*#*|\\.\\d+#*|\\d+)(?:[esfdl][-+]?\\d+)?)|\\d+#*\\\/\\d+#*))(?=[()\\s;\"]|$)\/i);\n\n    function isBinaryNumber (stream) {\n        return stream.match(binaryMatcher);\n    }\n\n    function isOctalNumber (stream) {\n        return stream.match(octalMatcher);\n    }\n\n    function isDecimalNumber (stream, backup) {\n        if (backup === true) {\n            stream.backUp(1);\n        }\n        return stream.match(decimalMatcher);\n    }\n\n    function isHexNumber (stream) {\n        return stream.match(hexMatcher);\n    }\n\n    return {\n        startState: function () {\n            return {\n                indentStack: null,\n                indentation: 0,\n                mode: false,\n                sExprComment: false,\n                sExprQuote: false\n            };\n        },\n\n        token: function (stream, state) {\n            if (state.indentStack == null && stream.sol()) {\n                \/\/ update indentation, but only if indentStack is empty\n                state.indentation = stream.indentation();\n            }\n\n            \/\/ skip spaces\n            if (stream.eatSpace()) {\n                return null;\n            }\n            var returnType = null;\n\n            switch(state.mode){\n                case \"string\": \/\/ multi-line string parsing mode\n                    var next, escaped = false;\n                    while ((next = stream.next()) != null) {\n                        if (next == \"\\\"\" && !escaped) {\n\n                            state.mode = false;\n                            break;\n                        }\n                        escaped = !escaped && next == \"\\\\\";\n                    }\n                    returnType = STRING; \/\/ continue on in scheme-string mode\n                    break;\n                case \"comment\": \/\/ comment parsing mode\n                    var next, maybeEnd = false;\n                    while ((next = stream.next()) != null) {\n                        if (next == \"#\" && maybeEnd) {\n\n                            state.mode = false;\n                            break;\n                        }\n                        maybeEnd = (next == \"|\");\n                    }\n                    returnType = COMMENT;\n                    break;\n                case \"s-expr-comment\": \/\/ s-expr commenting mode\n                    state.mode = false;\n                    if(stream.peek() == \"(\" || stream.peek() == \"[\"){\n                        \/\/ actually start scheme s-expr commenting mode\n                        state.sExprComment = 0;\n                    }else{\n                        \/\/ if not we just comment the entire of the next token\n                        stream.eatWhile(\/[^\\s\\(\\)\\[\\]]\/); \/\/ eat symbol atom\n                        returnType = COMMENT;\n                        break;\n                    }\n                default: \/\/ default parsing mode\n                    var ch = stream.next();\n\n                    if (ch == \"\\\"\") {\n                        state.mode = \"string\";\n                        returnType = STRING;\n\n                    } else if (ch == \"'\") {\n                        if (stream.peek() == \"(\" || stream.peek() == \"[\"){\n                            if (typeof state.sExprQuote != \"number\") {\n                                state.sExprQuote = 0;\n                            } \/\/ else already in a quoted expression\n                            returnType = ATOM;\n                        } else {\n                            stream.eatWhile(\/[\\w_\\-!$%&*+\\.\\\/:<=>?@\\^~]\/);\n                            returnType = ATOM;\n                        }\n                    } else if (ch == '#') {\n                        if (stream.eat(\"|\")) {                    \/\/ Multi-line comment\n                            state.mode = \"comment\"; \/\/ toggle to comment mode\n                            returnType = COMMENT;\n                        } else if (stream.eat(\/[tf]\/i)) {            \/\/ #t\/#f (atom)\n                            returnType = ATOM;\n                        } else if (stream.eat(';')) {                \/\/ S-Expr comment\n                            state.mode = \"s-expr-comment\";\n                            returnType = COMMENT;\n                        } else {\n                            var numTest = null, hasExactness = false, hasRadix = true;\n                            if (stream.eat(\/[ei]\/i)) {\n                                hasExactness = true;\n                            } else {\n                                stream.backUp(1);       \/\/ must be radix specifier\n                            }\n                            if (stream.match(\/^#b\/i)) {\n                                numTest = isBinaryNumber;\n                            } else if (stream.match(\/^#o\/i)) {\n                                numTest = isOctalNumber;\n                            } else if (stream.match(\/^#x\/i)) {\n                                numTest = isHexNumber;\n                            } else if (stream.match(\/^#d\/i)) {\n                                numTest = isDecimalNumber;\n                            } else if (stream.match(\/^[-+0-9.]\/, false)) {\n                                hasRadix = false;\n                                numTest = isDecimalNumber;\n                            \/\/ re-consume the initial # if all matches failed\n                            } else if (!hasExactness) {\n                                stream.eat('#');\n                            }\n                            if (numTest != null) {\n                                if (hasRadix && !hasExactness) {\n                                    \/\/ consume optional exactness after radix\n                                    stream.match(\/^#[ei]\/i);\n                                }\n                                if (numTest(stream))\n                                    returnType = NUMBER;\n                            }\n                        }\n                    } else if (\/^[-+0-9.]\/.test(ch) && isDecimalNumber(stream, true)) { \/\/ match non-prefixed number, must be decimal\n                        returnType = NUMBER;\n                    } else if (ch == \";\") { \/\/ comment\n                        stream.skipToEnd(); \/\/ rest of the line is a comment\n                        returnType = COMMENT;\n                    } else if (ch == \"(\" || ch == \"[\") {\n                      var keyWord = ''; var indentTemp = stream.column(), letter;\n                        \/**\n                        Either\n                        (indent-word ..\n                        (non-indent-word ..\n                        (;something else, bracket, etc.\n                        *\/\n\n                        while ((letter = stream.eat(\/[^\\s\\(\\[\\;\\)\\]]\/)) != null) {\n                            keyWord += letter;\n                        }\n\n                        if (keyWord.length > 0 && indentKeys.propertyIsEnumerable(keyWord)) { \/\/ indent-word\n\n                            pushStack(state, indentTemp + INDENT_WORD_SKIP, ch);\n                        } else { \/\/ non-indent word\n                            \/\/ we continue eating the spaces\n                            stream.eatSpace();\n                            if (stream.eol() || stream.peek() == \";\") {\n                                \/\/ nothing significant after\n                                \/\/ we restart indentation 1 space after\n                                pushStack(state, indentTemp + 1, ch);\n                            } else {\n                                pushStack(state, indentTemp + stream.current().length, ch); \/\/ else we match\n                            }\n                        }\n                        stream.backUp(stream.current().length - 1); \/\/ undo all the eating\n\n                        if(typeof state.sExprComment == \"number\") state.sExprComment++;\n                        if(typeof state.sExprQuote == \"number\") state.sExprQuote++;\n\n                        returnType = BRACKET;\n                    } else if (ch == \")\" || ch == \"]\") {\n                        returnType = BRACKET;\n                        if (state.indentStack != null && state.indentStack.type == (ch == \")\" ? \"(\" : \"[\")) {\n                            popStack(state);\n\n                            if(typeof state.sExprComment == \"number\"){\n                                if(--state.sExprComment == 0){\n                                    returnType = COMMENT; \/\/ final closing bracket\n                                    state.sExprComment = false; \/\/ turn off s-expr commenting mode\n                                }\n                            }\n                            if(typeof state.sExprQuote == \"number\"){\n                                if(--state.sExprQuote == 0){\n                                    returnType = ATOM; \/\/ final closing bracket\n                                    state.sExprQuote = false; \/\/ turn off s-expr quote mode\n                                }\n                            }\n                        }\n                    } else {\n                        stream.eatWhile(\/[\\w_\\-!$%&*+\\.\\\/:<=>?@\\^~]\/);\n\n                        if (keywords && keywords.propertyIsEnumerable(stream.current())) {\n                            returnType = BUILTIN;\n                        } else returnType = \"variable\";\n                    }\n            }\n            return (typeof state.sExprComment == \"number\") ? COMMENT : ((typeof state.sExprQuote == \"number\") ? ATOM : returnType);\n        },\n\n        indent: function (state) {\n            if (state.indentStack == null) return state.indentation;\n            return state.indentStack.indent;\n        },\n\n        closeBrackets: {pairs: \"()[]{}\\\"\\\"\"},\n        lineComment: \";;\"\n    };\n});\n\nCodeMirror.defineMIME(\"text\/x-scheme\", \"scheme\");\n\n});\n\n};","shadow$provide[290] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode('shell', function() {\n\n  var words = {};\n  function define(style, dict) {\n    for(var i = 0; i < dict.length; i++) {\n      words[dict[i]] = style;\n    }\n  };\n\n  var commonAtoms = [\"true\", \"false\"];\n  var commonKeywords = [\"if\", \"then\", \"do\", \"else\", \"elif\", \"while\", \"until\", \"for\", \"in\", \"esac\", \"fi\",\n    \"fin\", \"fil\", \"done\", \"exit\", \"set\", \"unset\", \"export\", \"function\"];\n  var commonCommands = [\"ab\", \"awk\", \"bash\", \"beep\", \"cat\", \"cc\", \"cd\", \"chown\", \"chmod\", \"chroot\", \"clear\",\n    \"cp\", \"curl\", \"cut\", \"diff\", \"echo\", \"find\", \"gawk\", \"gcc\", \"get\", \"git\", \"grep\", \"hg\", \"kill\", \"killall\",\n    \"ln\", \"ls\", \"make\", \"mkdir\", \"openssl\", \"mv\", \"nc\", \"nl\", \"node\", \"npm\", \"ping\", \"ps\", \"restart\", \"rm\",\n    \"rmdir\", \"sed\", \"service\", \"sh\", \"shopt\", \"shred\", \"source\", \"sort\", \"sleep\", \"ssh\", \"start\", \"stop\",\n    \"su\", \"sudo\", \"svn\", \"tee\", \"telnet\", \"top\", \"touch\", \"vi\", \"vim\", \"wall\", \"wc\", \"wget\", \"who\", \"write\",\n    \"yes\", \"zsh\"];\n\n  CodeMirror.registerHelper(\"hintWords\", \"shell\", commonAtoms.concat(commonKeywords, commonCommands));\n\n  define('atom', commonAtoms);\n  define('keyword', commonKeywords);\n  define('builtin', commonCommands);\n\n  function tokenBase(stream, state) {\n    if (stream.eatSpace()) return null;\n\n    var sol = stream.sol();\n    var ch = stream.next();\n\n    if (ch === '\\\\') {\n      stream.next();\n      return null;\n    }\n    if (ch === '\\'' || ch === '\"' || ch === '`') {\n      state.tokens.unshift(tokenString(ch, ch === \"`\" ? \"quote\" : \"string\"));\n      return tokenize(stream, state);\n    }\n    if (ch === '#') {\n      if (sol && stream.eat('!')) {\n        stream.skipToEnd();\n        return 'meta'; \/\/ 'comment'?\n      }\n      stream.skipToEnd();\n      return 'comment';\n    }\n    if (ch === '$') {\n      state.tokens.unshift(tokenDollar);\n      return tokenize(stream, state);\n    }\n    if (ch === '+' || ch === '=') {\n      return 'operator';\n    }\n    if (ch === '-') {\n      stream.eat('-');\n      stream.eatWhile(\/\\w\/);\n      return 'attribute';\n    }\n    if (ch == \"<\") {\n      if (stream.match(\"<<\")) return \"operator\"\n      var heredoc = stream.match(\/^<-?\\s*['\"]?([^'\"]*)['\"]?\/)\n      if (heredoc) {\n        state.tokens.unshift(tokenHeredoc(heredoc[1]))\n        return 'string-2'\n      }\n    }\n    if (\/\\d\/.test(ch)) {\n      stream.eatWhile(\/\\d\/);\n      if(stream.eol() || !\/\\w\/.test(stream.peek())) {\n        return 'number';\n      }\n    }\n    stream.eatWhile(\/[\\w-]\/);\n    var cur = stream.current();\n    if (stream.peek() === '=' && \/\\w+\/.test(cur)) return 'def';\n    return words.hasOwnProperty(cur) ? words[cur] : null;\n  }\n\n  function tokenString(quote, style) {\n    var close = quote == \"(\" ? \")\" : quote == \"{\" ? \"}\" : quote\n    return function(stream, state) {\n      var next, escaped = false;\n      while ((next = stream.next()) != null) {\n        if (next === close && !escaped) {\n          state.tokens.shift();\n          break;\n        } else if (next === '$' && !escaped && quote !== \"'\" && stream.peek() != close) {\n          escaped = true;\n          stream.backUp(1);\n          state.tokens.unshift(tokenDollar);\n          break;\n        } else if (!escaped && quote !== close && next === quote) {\n          state.tokens.unshift(tokenString(quote, style))\n          return tokenize(stream, state)\n        } else if (!escaped && \/['\"]\/.test(next) && !\/['\"]\/.test(quote)) {\n          state.tokens.unshift(tokenStringStart(next, \"string\"));\n          stream.backUp(1);\n          break;\n        }\n        escaped = !escaped && next === '\\\\';\n      }\n      return style;\n    };\n  };\n\n  function tokenStringStart(quote, style) {\n    return function(stream, state) {\n      state.tokens[0] = tokenString(quote, style)\n      stream.next()\n      return tokenize(stream, state)\n    }\n  }\n\n  var tokenDollar = function(stream, state) {\n    if (state.tokens.length > 1) stream.eat('$');\n    var ch = stream.next()\n    if (\/['\"({]\/.test(ch)) {\n      state.tokens[0] = tokenString(ch, ch == \"(\" ? \"quote\" : ch == \"{\" ? \"def\" : \"string\");\n      return tokenize(stream, state);\n    }\n    if (!\/\\d\/.test(ch)) stream.eatWhile(\/\\w\/);\n    state.tokens.shift();\n    return 'def';\n  };\n\n  function tokenHeredoc(delim) {\n    return function(stream, state) {\n      if (stream.sol() && stream.string == delim) state.tokens.shift()\n      stream.skipToEnd()\n      return \"string-2\"\n    }\n  }\n\n  function tokenize(stream, state) {\n    return (state.tokens[0] || tokenBase) (stream, state);\n  };\n\n  return {\n    startState: function() {return {tokens:[]};},\n    token: function(stream, state) {\n      return tokenize(stream, state);\n    },\n    closeBrackets: \"()[]{}''\\\"\\\"``\",\n    lineComment: '#',\n    fold: \"brace\"\n  };\n});\n\nCodeMirror.defineMIME('text\/x-sh', 'shell');\n\/\/ Apache uses a slightly different Media Type for Shell scripts\n\/\/ http:\/\/svn.apache.org\/repos\/asf\/httpd\/httpd\/trunk\/docs\/conf\/mime.types\nCodeMirror.defineMIME('application\/x-sh', 'shell');\n\n});\n\n};","shadow$provide[291] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode('smalltalk', function(config) {\n\n  var specialChars = \/[+\\-\\\/\\\\*~<>=@%|&?!.,:;^]\/;\n  var keywords = \/true|false|nil|self|super|thisContext\/;\n\n  var Context = function(tokenizer, parent) {\n    this.next = tokenizer;\n    this.parent = parent;\n  };\n\n  var Token = function(name, context, eos) {\n    this.name = name;\n    this.context = context;\n    this.eos = eos;\n  };\n\n  var State = function() {\n    this.context = new Context(next, null);\n    this.expectVariable = true;\n    this.indentation = 0;\n    this.userIndentationDelta = 0;\n  };\n\n  State.prototype.userIndent = function(indentation) {\n    this.userIndentationDelta = indentation > 0 ? (indentation \/ config.indentUnit - this.indentation) : 0;\n  };\n\n  var next = function(stream, context, state) {\n    var token = new Token(null, context, false);\n    var aChar = stream.next();\n\n    if (aChar === '\"') {\n      token = nextComment(stream, new Context(nextComment, context));\n\n    } else if (aChar === '\\'') {\n      token = nextString(stream, new Context(nextString, context));\n\n    } else if (aChar === '#') {\n      if (stream.peek() === '\\'') {\n        stream.next();\n        token = nextSymbol(stream, new Context(nextSymbol, context));\n      } else {\n        if (stream.eatWhile(\/[^\\s.{}\\[\\]()]\/))\n          token.name = 'string-2';\n        else\n          token.name = 'meta';\n      }\n\n    } else if (aChar === '$') {\n      if (stream.next() === '<') {\n        stream.eatWhile(\/[^\\s>]\/);\n        stream.next();\n      }\n      token.name = 'string-2';\n\n    } else if (aChar === '|' && state.expectVariable) {\n      token.context = new Context(nextTemporaries, context);\n\n    } else if (\/[\\[\\]{}()]\/.test(aChar)) {\n      token.name = 'bracket';\n      token.eos = \/[\\[{(]\/.test(aChar);\n\n      if (aChar === '[') {\n        state.indentation++;\n      } else if (aChar === ']') {\n        state.indentation = Math.max(0, state.indentation - 1);\n      }\n\n    } else if (specialChars.test(aChar)) {\n      stream.eatWhile(specialChars);\n      token.name = 'operator';\n      token.eos = aChar !== ';'; \/\/ ; cascaded message expression\n\n    } else if (\/\\d\/.test(aChar)) {\n      stream.eatWhile(\/[\\w\\d]\/);\n      token.name = 'number';\n\n    } else if (\/[\\w_]\/.test(aChar)) {\n      stream.eatWhile(\/[\\w\\d_]\/);\n      token.name = state.expectVariable ? (keywords.test(stream.current()) ? 'keyword' : 'variable') : null;\n\n    } else {\n      token.eos = state.expectVariable;\n    }\n\n    return token;\n  };\n\n  var nextComment = function(stream, context) {\n    stream.eatWhile(\/[^\"]\/);\n    return new Token('comment', stream.eat('\"') ? context.parent : context, true);\n  };\n\n  var nextString = function(stream, context) {\n    stream.eatWhile(\/[^']\/);\n    return new Token('string', stream.eat('\\'') ? context.parent : context, false);\n  };\n\n  var nextSymbol = function(stream, context) {\n    stream.eatWhile(\/[^']\/);\n    return new Token('string-2', stream.eat('\\'') ? context.parent : context, false);\n  };\n\n  var nextTemporaries = function(stream, context) {\n    var token = new Token(null, context, false);\n    var aChar = stream.next();\n\n    if (aChar === '|') {\n      token.context = context.parent;\n      token.eos = true;\n\n    } else {\n      stream.eatWhile(\/[^|]\/);\n      token.name = 'variable';\n    }\n\n    return token;\n  };\n\n  return {\n    startState: function() {\n      return new State;\n    },\n\n    token: function(stream, state) {\n      state.userIndent(stream.indentation());\n\n      if (stream.eatSpace()) {\n        return null;\n      }\n\n      var token = state.context.next(stream, state.context, state);\n      state.context = token.context;\n      state.expectVariable = token.eos;\n\n      return token.name;\n    },\n\n    blankLine: function(state) {\n      state.userIndent(0);\n    },\n\n    indent: function(state, textAfter) {\n      var i = state.context.next === next && textAfter && textAfter.charAt(0) === ']' ? -1 : state.userIndentationDelta;\n      return (state.indentation + i) * config.indentUnit;\n    },\n\n    electricChars: ']'\n  };\n\n});\n\nCodeMirror.defineMIME('text\/x-stsrc', {name: 'smalltalk'});\n\n});\n\n};","shadow$provide[292] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \/\/ CommonJS\n    mod(require(\"..\/..\/lib\/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \/\/ AMD\n    define([\"..\/..\/lib\/codemirror\"], mod);\n  else \/\/ Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"sql\", function(config, parserConfig) {\n  var client         = parserConfig.client || {},\n      atoms          = parserConfig.atoms || {\"false\": true, \"true\": true, \"null\": true},\n      builtin        = parserConfig.builtin || set(defaultBuiltin),\n      keywords       = parserConfig.keywords || set(sqlKeywords),\n      operatorChars  = parserConfig.operatorChars || \/^[*+\\-%<>!=&|~^\\\/]\/,\n      support        = parserConfig.support || {},\n      hooks          = parserConfig.hooks || {},\n      dateSQL        = parserConfig.dateSQL || {\"date\" : true, \"time\" : true, \"timestamp\" : true},\n      backslashStringEscapes = parserConfig.backslashStringEscapes !== false,\n      brackets       = parserConfig.brackets || \/^[\\{}\\(\\)\\[\\]]\/,\n      punctuation    = parserConfig.punctuation || \/^[;.,:]\/\n\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n\n    \/\/ call hooks from the mime type\n    if (hooks[ch]) {\n      var result = hooks[ch](stream, state);\n      if (result !== false) return result;\n    }\n\n    if (support.hexNumber &&\n      ((ch == \"0\" && stream.match(\/^[xX][0-9a-fA-F]+\/))\n      || (ch == \"x\" || ch == \"X\") && stream.match(\/^'[0-9a-fA-F]+'\/))) {\n      \/\/ hex\n      \/\/ ref: http:\/\/dev.mysql.com\/doc\/refman\/5.5\/en\/hexadecimal-literals.html\n      return \"number\";\n    } else if (support.binaryNumber &&\n      (((ch == \"b\" || ch == \"B\") && stream.match(\/^'[01]+'\/))\n      || (ch == \"0\" && stream.match(\/^b[01]+\/)))) {\n      \/\/ bitstring\n      \/\/ ref: http:\/\/dev.mysql.com\/doc\/refman\/5.5\/en\/bit-field-literals.html\n      return \"number\";\n    } else if (ch.charCodeAt(0) > 47 && ch.charCodeAt(0) < 58) {\n      \/\/ numbers\n      \/\/ ref: http:\/\/dev.mysql.com\/doc\/refman\/5.5\/en\/number-literals.html\n      stream.match(\/^[0-9]*(\\.[0-9]+)?([eE][-+]?[0-9]+)?\/);\n      support.decimallessFloat && stream.match(\/^\\.(?!\\.)\/);\n      return \"number\";\n    } else if (ch == \"?\" && (stream.eatSpace() || stream.eol() || stream.eat(\";\"))) {\n      \/\/ placeholders\n      return \"variable-3\";\n    } else if (ch == \"'\" || (ch == '\"' && support.doubleQuote)) {\n      \/\/ strings\n      \/\/ ref: http:\/\/dev.mysql.com\/doc\/refman\/5.5\/en\/string-literals.html\n      state.tokenize = tokenLiteral(ch);\n      return state.tokenize(stream, state);\n    } else if ((((support.nCharCast && (ch == \"n\" || ch == \"N\"))\n        || (support.charsetCast && ch == \"_\" && stream.match(\/[a-z][a-z0-9]*\/i)))\n        && (stream.peek() == \"'\" || stream.peek() == '\"'))) {\n      \/\/ charset casting: _utf8'str', N'str', n'str'\n      \/\/ ref: http:\/\/dev.mysql.com\/doc\/refman\/5.5\/en\/string-literals.html\n      return \"keyword\";\n    } else if (support.escapeConstant && (ch == \"e\" || ch == \"E\")\n        && (stream.peek() == \"'\" || (stream.peek() == '\"' && support.doubleQuote))) {\n      \/\/ escape constant: E'str', e'str'\n      \/\/ ref: https:\/\/www.postgresql.org\/docs\/current\/sql-syntax-lexical.html#SQL-SYNTAX-STRINGS-ESCAPE\n      state.tokenize = function(stream, state) {\n        return (state.tokenize = tokenLiteral(stream.next(), true))(stream, state);\n      }\n      return \"keyword\";\n    } else if (support.commentSlashSlash && ch == \"\/\" && stream.eat(\"\/\")) {\n      \/\/ 1-line comment\n      stream.skipToEnd();\n      return \"comment\";\n    } else if ((support.commentHash && ch == \"#\")\n        || (ch == \"-\" && stream.eat(\"-\") && (!support.commentSpaceRequired || stream.eat(\" \")))) {\n      \/\/ 1-line comments\n      \/\/ ref: https:\/\/kb.askmonty.org\/en\/comment-syntax\/\n      stream.skipToEnd();\n      return \"comment\";\n    } else if (ch == \"\/\" && stream.eat(\"*\")) {\n      \/\/ multi-line comments\n      \/\/ ref: https:\/\/kb.askmonty.org\/en\/comment-syntax\/\n      state.tokenize = tokenComment(1);\n      return state.tokenize(stream, state);\n    } else if (ch == \".\") {\n      \/\/ .1 for 0.1\n      if (support.zerolessFloat && stream.match(\/^(?:\\d+(?:e[+-]?\\d+)?)\/i))\n        return \"number\";\n      if (stream.match(\/^\\.+\/))\n        return null\n      \/\/ .table_name (ODBC)\n      \/\/ \/\/ ref: http:\/\/dev.mysql.com\/doc\/refman\/5.6\/en\/identifier-qualifiers.html\n      if (support.ODBCdotTable && stream.match(\/^[\\w\\d_$#]+\/))\n        return \"variable-2\";\n    } else if (operatorChars.test(ch)) {\n      \/\/ operators\n      stream.eatWhile(operatorChars);\n      return \"operator\";\n    } else if (brackets.test(ch)) {\n      \/\/ brackets\n      return \"bracket\";\n    } else if (punctuation.test(ch)) {\n      \/\/ punctuation\n      stream.eatWhile(punctuation);\n      return \"punctuation\";\n    } else if (ch == '{' &&\n        (stream.match(\/^( )*(d|D|t|T|ts|TS)( )*'[^']*'( )*}\/) || stream.match(\/^( )*(d|D|t|T|ts|TS)( )*\"[^\"]*\"( )*}\/))) {\n      \/\/ dates (weird ODBC syntax)\n      \/\/ ref: http:\/\/dev.mysql.com\/doc\/refman\/5.5\/en\/date-and-time-literals.html\n      return \"number\";\n    } else {\n      stream.eatWhile(\/^[_\\w\\d]\/);\n      var word = stream.current().toLowerCase();\n      \/\/ dates (standard SQL syntax)\n      \/\/ ref: http:\/\/dev.mysql.com\/doc\/refman\/5.5\/en\/date-and-time-literals.html\n      if (dateSQL.hasOwnProperty(word) && (stream.match(\/^( )+'[^']*'\/) || stream.match(\/^( )+\"[^\"]*\"\/)))\n        return \"number\";\n      if (atoms.hasOwnProperty(word)) return \"atom\";\n      if (builtin.hasOwnProperty(word)) return \"builtin\";\n      if (keywords.hasOwnProperty(word)) return \"keyword\";\n      if (client.hasOwnProperty(word)) return \"string-2\";\n      return null;\n    }\n  }\n\n  \/\/ 'string', with char specified in quote escaped by '\\'\n  function tokenLiteral(quote, backslashEscapes) {\n    return function(stream, state) {\n      var escaped = false, ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == quote && !escaped) {\n          state.tokenize = tokenBase;\n          break;\n        }\n        escaped = (backslashStringEscapes || backslashEscapes) && !escaped && ch == \"\\\\\";\n      }\n      return \"string\";\n    };\n  }\n  function tokenComment(depth) {\n    return function(stream, state) {\n      var m = stream.match(\/^.*?(\\\/\\*|\\*\\\/)\/)\n      if (!m) stream.skipToEnd()\n      else if (m[1] == \"\/*\") state.tokenize = tokenComment(depth + 1)\n      else if (depth > 1) state.tokenize = tokenComment(depth - 1)\n      else state.tokenize = tokenBase\n      return \"comment\"\n    }\n  }\n\n  function pushContext(stream, state, type) {\n    state.context = {\n      prev: state.context,\n      indent: stream.indentation(),\n      col: stream.column(),\n      type: type\n    };\n  }\n\n  function popContext(state) {\n    state.indent = state.context.indent;\n    state.context = state.context.prev;\n  }\n\n  return {\n    startState: function() {\n      return {tokenize: tokenBase, context: null};\n    },\n\n    token: function(stream, state) {\n      if (stream.sol()) {\n        if (state.context && state.context.align == null)\n          state.context.align = false;\n      }\n      if (state.tokenize == tokenBase && stream.eatSpace()) return null;\n\n      var style = state.tokenize(stream, state);\n      if (style == \"comment\") return style;\n\n      if (state.context && state.context.align == null)\n        state.context.align = true;\n\n      var tok = stream.current();\n      if (tok == \"(\")\n        pushContext(stream, state, \")\");\n      else if (tok == \"[\")\n        pushContext(stream, state, \"]\");\n      else if (state.context && state.context.type == tok)\n        popContext(state);\n      return style;\n    },\n\n    indent: function(state, textAfter) {\n      var cx = state.context;\n      if (!cx) return CodeMirror.Pass;\n      var closing = textAfter.charAt(0) == cx.type;\n      if (cx.align) return cx.col + (closing ? 0 : 1);\n      else return cx.indent + (closing ? 0 : config.indentUnit);\n    },\n\n    blockCommentStart: \"\/*\",\n    blockCommentEnd: \"*\/\",\n    lineComment: support.commentSlashSlash ? \"\/\/\" : support.commentHash ? \"#\" : \"--\",\n    closeBrackets: \"()[]{}''\\\"\\\"``\"\n  };\n});\n\n  \/\/ `identifier`\n  function hookIdentifier(stream) {\n    \/\/ MySQL\/MariaDB identifiers\n    \/\/ ref: http:\/\/dev.mysql.com\/doc\/refman\/5.6\/en\/identifier-qualifiers.html\n    var ch;\n    while ((ch = stream.next()) != null) {\n      if (ch == \"`\" && !stream.eat(\"`\")) return \"variable-2\";\n    }\n    stream.backUp(stream.current().length - 1);\n    return stream.eatWhile(\/\\w\/) ? \"variable-2\" : null;\n  }\n\n  \/\/ \"identifier\"\n  function hookIdentifierDoublequote(stream) {\n    \/\/ Standard SQL \/SQLite identifiers\n    \/\/ ref: http:\/\/web.archive.org\/web\/20160813185132\/http:\/\/savage.net.au\/SQL\/sql-99.bnf.html#delimited%20identifier\n    \/\/ ref: http:\/\/sqlite.org\/lang_keywords.html\n    var ch;\n    while ((ch = stream.next()) != null) {\n      if (ch == \"\\\"\" && !stream.eat(\"\\\"\")) return \"variable-2\";\n    }\n    stream.backUp(stream.current().length - 1);\n    return stream.eatWhile(\/\\w\/) ? \"variable-2\" : null;\n  }\n\n  \/\/ variable token\n  function hookVar(stream) {\n    \/\/ variables\n    \/\/ @@prefix.varName @varName\n    \/\/ varName can be quoted with ` or ' or \"\n    \/\/ ref: http:\/\/dev.mysql.com\/doc\/refman\/5.5\/en\/user-variables.html\n    if (stream.eat(\"@\")) {\n      stream.match('session.');\n      stream.match('local.');\n      stream.match('global.');\n    }\n\n    if (stream.eat(\"'\")) {\n      stream.match(\/^.*'\/);\n      return \"variable-2\";\n    } else if (stream.eat('\"')) {\n      stream.match(\/^.*\"\/);\n      return \"variable-2\";\n    } else if (stream.eat(\"`\")) {\n      stream.match(\/^.*`\/);\n      return \"variable-2\";\n    } else if (stream.match(\/^[0-9a-zA-Z$\\.\\_]+\/)) {\n      return \"variable-2\";\n    }\n    return null;\n  };\n\n  \/\/ short client keyword token\n  function hookClient(stream) {\n    \/\/ \\N means NULL\n    \/\/ ref: http:\/\/dev.mysql.com\/doc\/refman\/5.5\/en\/null-values.html\n    if (stream.eat(\"N\")) {\n        return \"atom\";\n    }\n    \/\/ \\g, etc\n    \/\/ ref: http:\/\/dev.mysql.com\/doc\/refman\/5.5\/en\/mysql-commands.html\n    return stream.match(\/^[a-zA-Z.#!?]\/) ? \"variable-2\" : null;\n  }\n\n  \/\/ these keywords are used by all SQL dialects (however, a mode can still overwrite it)\n  var sqlKeywords = \"alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit \";\n\n  \/\/ turn a space-separated list into an array\n  function set(str) {\n    var obj = {}, words = str.split(\" \");\n    for (var i = 0; i < words.length; ++i) obj[words[i]] = true;\n    return obj;\n  }\n\n  var defaultBuiltin = \"bool boolean bit blob enum long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision real date datetime year unsigned signed decimal numeric\"\n\n  \/\/ A generic SQL Mode. It's not a standard, it just try to support what is generally supported\n  CodeMirror.defineMIME(\"text\/x-sql\", {\n    name: \"sql\",\n    keywords: set(sqlKeywords + \"begin\"),\n    builtin: set(defaultBuiltin),\n    atoms: set(\"false true null unknown\"),\n    dateSQL: set(\"date time timestamp\"),\n    support: set(\"ODBCdotTable doubleQuote binaryNumber hexNumber\")\n  });\n\n  CodeMirror.defineMIME(\"text\/x-mssql\", {\n    name: \"sql\",\n    client: set(\"$partition binary_checksum checksum connectionproperty context_info current_request_id error_line error_message error_number error_procedure error_severity error_state formatmessage get_filestream_transaction_context getansinull host_id host_name isnull isnumeric min_active_rowversion newid newsequentialid rowcount_big xact_state object_id\"),\n    keywords: set(sqlKeywords + \"begin trigger proc view index for add constraint key primary foreign collate clustered nonclustered declare exec go if use index holdlock nolock nowait paglock readcommitted readcommittedlock readpast readuncommitted repeatableread rowlock serializable snapshot tablock tablockx updlock with\"),\n    builtin: set(\"bigint numeric bit smallint decimal smallmoney int tinyint money float real char varchar text nchar nvarchar ntext binary varbinary image cursor timestamp hierarchyid uniqueidentifier sql_variant xml table \"),\n    atoms: set(\"is not null like and or in left right between inner outer join all any some cross unpivot pivot exists\"),\n    operatorChars: \/^[*+\\-%<>!=^\\&|\\\/]\/,\n    brackets: \/^[\\{}\\(\\)]\/,\n    punctuation: \/^[;.,:\/]\/,\n    backslashStringEscapes: false,\n    dateSQL: set(\"date datetimeoffset datetime2 smalldatetime datetime time\"),\n    hooks: {\n      \"@\":   hookVar\n    }\n  });\n\n  CodeMirror.defineMIME(\"text\/x-mysql\", {\n    name: \"sql\",\n    client: set(\"charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee\"),\n    keywords: set(sqlKeywords + \"accessible action add after algorithm all analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general get global grant grants group group_concat handler hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show signal slave slow smallint snapshot soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views warnings when while with work write xa xor year_month zerofill begin do then else loop repeat\"),\n    builtin: set(\"bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric\"),\n    atoms: set(\"false true null unknown\"),\n    operatorChars: \/^[*+\\-%<>!=&|^]\/,\n    dateSQL: set(\"date time timestamp\"),\n    support: set(\"ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired\"),\n    hooks: {\n      \"@\":   hookVar,\n      \"`\":   hookIdentifier,\n      \"\\\\\":  hookClient\n    }\n  });\n\n  CodeMirror.defineMIME(\"text\/x-mariadb\", {\n    name: \"sql\",\n    client: set(\"charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee\"),\n    keywords: set(sqlKeywords + \"accessible action add after algorithm all always analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general generated get global grant grants group groupby_concat handler hard hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password persistent phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show shutdown signal slave slow smallint snapshot soft soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views virtual warnings when while with work write xa xor year_month zerofill begin do then else loop repeat\"),\n    builtin: set(\"bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric\"),\n    atoms: set(\"false true null unknown\"),\n    operatorChars: \/^[*+\\-%<>!=&|^]\/,\n    dateSQL: set(\"date time timestamp\"),\n    support: set(\"ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired\"),\n    hooks: {\n      \"@\":   hookVar,\n      \"`\":   hookIdentifier,\n      \"\\\\\":  hookClient\n    }\n  });\n\n  \/\/ provided by the phpLiteAdmin project - phpliteadmin.org\n  CodeMirror.defineMIME(\"text\/x-sqlite\", {\n    name: \"sql\",\n    \/\/ commands of the official SQLite client, ref: https:\/\/www.sqlite.org\/cli.html#dotcmd\n    client: set(\"auth backup bail binary changes check clone databases dbinfo dump echo eqp exit explain fullschema headers help import imposter indexes iotrace limit lint load log mode nullvalue once open output print prompt quit read restore save scanstats schema separator session shell show stats system tables testcase timeout timer trace vfsinfo vfslist vfsname width\"),\n    \/\/ ref: http:\/\/sqlite.org\/lang_keywords.html\n    keywords: set(sqlKeywords + \"abort action add after all analyze attach autoincrement before begin cascade case cast check collate column commit conflict constraint cross current_date current_time current_timestamp database default deferrable deferred detach each else end escape except exclusive exists explain fail for foreign full glob if ignore immediate index indexed initially inner instead intersect isnull key left limit match natural no notnull null of offset outer plan pragma primary query raise recursive references regexp reindex release rename replace restrict right rollback row savepoint temp temporary then to transaction trigger unique using vacuum view virtual when with without\"),\n    \/\/ SQLite is weakly typed, ref: http:\/\/sqlite.org\/datatype3.html. This is just a list of some common types.\n    builtin: set(\"bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text clob bigint int int2 int8 integer float double char varchar date datetime year unsigned signed numeric real\"),\n    \/\/ ref: http:\/\/sqlite.org\/syntax\/literal-value.html\n    atoms: set(\"null current_date current_time current_timestamp\"),\n    \/\/ ref: http:\/\/sqlite.org\/lang_expr.html#binaryops\n    operatorChars: \/^[*+\\-%<>!=&|\/~]\/,\n    \/\/ SQLite is weakly typed, ref: http:\/\/sqlite.org\/datatype3.html. This is just a list of some common types.\n    dateSQL: set(\"date time timestamp datetime\"),\n    support: set(\"decimallessFloat zerolessFloat\"),\n    identifierQuote: \"\\\"\",  \/\/ref: http:\/\/sqlite.org\/lang_keywords.html\n    hooks: {\n      \/\/ bind-parameters ref:http:\/\/sqlite.org\/lang_expr.html#varparam\n      \"@\":   hookVar,\n      \":\":   hookVar,\n      \"?\":   hookVar,\n      \"$\":   hookVar,\n      \/\/ The preferred way to escape Identifiers is using double quotes, ref: http:\/\/sqlite.org\/lang_keywords.html\n      \"\\\"\":   hookIdentifierDoublequote,\n      \/\/ there is also support for backticks, ref: http:\/\/sqlite.org\/lang_keywords.html\n      \"`\":   hookIdentifier\n    }\n  });\n\n  \/\/ the query language used by Apache Cassandra is called CQL, but this mime type\n  \/\/ is called Cassandra to avoid confusion with Contextual Query Language\n  CodeMirror.defineMIME(\"text\/x-cassandra\", {\n    name: \"sql\",\n    client: { },\n    keywords: set(\"add all allow alter and any apply as asc authorize batch begin by clustering columnfamily compact consistency count create custom delete desc distinct drop each_quorum exists filtering from grant if in index insert into key keyspace keyspaces level limit local_one local_quorum modify nan norecursive nosuperuser not of on one order password permission permissions primary quorum rename revoke schema select set storage superuser table three to token truncate ttl two type unlogged update use user users using values where with writetime\"),\n    builtin: set(\"ascii bigint blob boolean counter decimal double float frozen inet int list map static text timestamp timeuuid tuple uuid varchar varint\"),\n    atoms: set(\"false true infinity NaN\"),\n    operatorChars: \/^[<>=]\/,\n    dateSQL: { },\n    support: set(\"commentSlashSlash decimallessFloat\"),\n    hooks: { }\n  });\n\n  \/\/ this is based on Peter Raganitsch's 'plsql' mode\n  CodeMirror.defineMIME(\"text\/x-plsql\", {\n    name:       \"sql\",\n    client:     set(\"appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap\"),\n    keywords:   set(\"abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work\"),\n    builtin:    set(\"abs acos add_months ascii asin atan atan2 average bfile bfilename bigserial bit blob ceil character chartorowid chr clob concat convert cos cosh count dec decode deref dual dump dup_val_on_index empty error exp false float floor found glb greatest hextoraw initcap instr instrb int integer isopen last_day least length lengthb ln lower lpad ltrim lub make_ref max min mlslabel mod months_between natural naturaln nchar nclob new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null number numeric nvarchar2 nvl others power rawtohex real reftohex round rowcount rowidtochar rowtype rpad rtrim serial sign signtype sin sinh smallint soundex sqlcode sqlerrm sqrt stddev string substr substrb sum sysdate tan tanh to_char text to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid unlogged upper user userenv varchar varchar2 variance varying vsize xml\"),\n    operatorChars: \/^[*\\\/+\\-%<>!=~]\/,\n    dateSQL:    set(\"date time timestamp\"),\n    support:    set(\"doubleQuote nCharCast zerolessFloat binaryNumber hexNumber\")\n  });\n\n  \/\/ Created to support specific hive keywords\n  CodeMirror.defineMIME(\"text\/x-hive\", {\n    name: \"sql\",\n    keywords: set(\"select alter $elem$ $key$ $value$ add after all analyze and archive as asc before between binary both bucket buckets by cascade case cast change cluster clustered clusterstatus collection column columns comment compute concatenate continue create cross cursor data database databases dbproperties deferred delete delimited desc describe directory disable distinct distribute drop else enable end escaped exclusive exists explain export extended external fetch fields fileformat first format formatted from full function functions grant group having hold_ddltime idxproperties if import in index indexes inpath inputdriver inputformat insert intersect into is items join keys lateral left like limit lines load local location lock locks mapjoin materialized minus msck no_drop nocompress not of offline on option or order out outer outputdriver outputformat overwrite partition partitioned partitions percent plus preserve procedure purge range rcfile read readonly reads rebuild recordreader recordwriter recover reduce regexp rename repair replace restrict revoke right rlike row schema schemas semi sequencefile serde serdeproperties set shared show show_database sort sorted ssl statistics stored streamtable table tables tablesample tblproperties temporary terminated textfile then tmp to touch transform trigger unarchive undo union uniquejoin unlock update use using utc utc_tmestamp view when where while with admin authorization char compact compactions conf cube current current_date current_timestamp day decimal defined dependency directories elem_type exchange file following for grouping hour ignore inner interval jar less logical macro minute month more none noscan over owner partialscan preceding pretty principals protection reload rewrite role roles rollup rows second server sets skewed transactions truncate unbounded unset uri user values window year\"),\n    builtin: set(\"bool boolean long timestamp tinyint smallint bigint int float double date datetime unsigned string array struct map uniontype key_type utctimestamp value_type varchar\"),\n    atoms: set(\"false true null unknown\"),\n    operatorChars: \/^[*+\\-%<>!=]\/,\n    dateSQL: set(\"date timestamp\"),\n    support: set(\"ODBCdotTable doubleQuote binaryNumber hexNumber\")\n  });\n\n  CodeMirror.defineMIME(\"text\/x-pgsql\", {\n    name: \"sql\",\n    client: set(\"source\"),\n    \/\/ For PostgreSQL - https:\/\/www.postgresql.org\/docs\/11\/sql-keywords-appendix.html\n    \/\/ For pl\/pgsql lang - https:\/\/github.com\/postgres\/postgres\/blob\/REL_11_2\/src\/pl\/plpgsql\/src\/pl_scanner.c\n    keywords: set(sqlKeywords + \"a abort abs absent absolute access according action ada add admin after aggregate alias all allocate also alter always analyse analyze and any are array array_agg array_max_cardinality as asc asensitive assert assertion assignment asymmetric at atomic attach attribute attributes authorization avg backward base64 before begin begin_frame begin_partition bernoulli between bigint binary bit bit_length blob blocked bom boolean both breadth by c cache call called cardinality cascade cascaded case cast catalog catalog_name ceil ceiling chain char char_length character character_length character_set_catalog character_set_name character_set_schema characteristics characters check checkpoint class class_origin clob close cluster coalesce cobol collate collation collation_catalog collation_name collation_schema collect column column_name columns command_function command_function_code comment comments commit committed concurrently condition condition_number configuration conflict connect connection connection_name constant constraint constraint_catalog constraint_name constraint_schema constraints constructor contains content continue control conversion convert copy corr corresponding cost count covar_pop covar_samp create cross csv cube cume_dist current current_catalog current_date current_default_transform_group current_path current_role current_row current_schema current_time current_timestamp current_transform_group_for_type current_user cursor cursor_name cycle data database datalink datatype date datetime_interval_code datetime_interval_precision day db deallocate debug dec decimal declare default defaults deferrable deferred defined definer degree delete delimiter delimiters dense_rank depends depth deref derived desc describe descriptor detach detail deterministic diagnostics dictionary disable discard disconnect dispatch distinct dlnewcopy dlpreviouscopy dlurlcomplete dlurlcompleteonly dlurlcompletewrite dlurlpath dlurlpathonly dlurlpathwrite dlurlscheme dlurlserver dlvalue do document domain double drop dump dynamic dynamic_function dynamic_function_code each element else elseif elsif empty enable encoding encrypted end end_frame end_partition endexec enforced enum equals errcode error escape event every except exception exclude excluding exclusive exec execute exists exit exp explain expression extension external extract false family fetch file filter final first first_value flag float floor following for force foreach foreign fortran forward found frame_row free freeze from fs full function functions fusion g general generated get global go goto grant granted greatest group grouping groups handler having header hex hierarchy hint hold hour id identity if ignore ilike immediate immediately immutable implementation implicit import in include including increment indent index indexes indicator info inherit inherits initially inline inner inout input insensitive insert instance instantiable instead int integer integrity intersect intersection interval into invoker is isnull isolation join k key key_member key_type label lag language large last last_value lateral lead leading leakproof least left length level library like like_regex limit link listen ln load local localtime localtimestamp location locator lock locked log logged loop lower m map mapping match matched materialized max max_cardinality maxvalue member merge message message_length message_octet_length message_text method min minute minvalue mod mode modifies module month more move multiset mumps name names namespace national natural nchar nclob nesting new next nfc nfd nfkc nfkd nil no none normalize normalized not nothing notice notify notnull nowait nth_value ntile null nullable nullif nulls number numeric object occurrences_regex octet_length octets of off offset oids old on only open operator option options or order ordering ordinality others out outer output over overlaps overlay overriding owned owner p pad parallel parameter parameter_mode parameter_name parameter_ordinal_position parameter_specific_catalog parameter_specific_name parameter_specific_schema parser partial partition pascal passing passthrough password path percent percent_rank percentile_cont percentile_disc perform period permission pg_context pg_datatype_name pg_exception_context pg_exception_detail pg_exception_hint placing plans pli policy portion position position_regex power precedes preceding precision prepare prepared preserve primary print_strict_params prior privileges procedural procedure procedures program public publication query quote raise range rank read reads real reassign recheck recovery recursive ref references referencing refresh regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy regr_syy reindex relative release rename repeatable replace replica requiring reset respect restart restore restrict result result_oid return returned_cardinality returned_length returned_octet_length returned_sqlstate returning returns reverse revoke right role rollback rollup routine routine_catalog routine_name routine_schema routines row row_count row_number rows rowtype rule savepoint scale schema schema_name schemas scope scope_catalog scope_name scope_schema scroll search second section security select selective self sensitive sequence sequences serializable server server_name session session_user set setof sets share show similar simple size skip slice smallint snapshot some source space specific specific_name specifictype sql sqlcode sqlerror sqlexception sqlstate sqlwarning sqrt stable stacked standalone start state statement static statistics stddev_pop stddev_samp stdin stdout storage strict strip structure style subclass_origin submultiset subscription substring substring_regex succeeds sum symmetric sysid system system_time system_user t table table_name tables tablesample tablespace temp template temporary text then ties time timestamp timezone_hour timezone_minute to token top_level_count trailing transaction transaction_active transactions_committed transactions_rolled_back transform transforms translate translate_regex translation treat trigger trigger_catalog trigger_name trigger_schema trim trim_array true truncate trusted type types uescape unbounded uncommitted under unencrypted union unique unknown unlink unlisten unlogged unnamed unnest until untyped update upper uri usage use_column use_variable user user_defined_type_catalog user_defined_type_code user_defined_type_name user_defined_type_schema using vacuum valid validate validator value value_of values var_pop var_samp varbinary varchar variable_conflict variadic varying verbose version versioning view views volatile warning when whenever where while whitespace width_bucket window with within without work wrapper write xml xmlagg xmlattributes xmlbinary xmlcast xmlcomment xmlconcat xmldeclaration xmldocument xmlelement xmlexists xmlforest xmliterate xmlnamespaces xmlparse xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltext xmlvalidate year yes zone\"),\n    \/\/ https:\/\/www.postgresql.org\/docs\/11\/datatype.html\n    builtin: set(\"bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml\"),\n    atoms: set(\"false true null unknown\"),\n    operatorChars: \/^[*\\\/+\\-%<>!=&|^\\\/#@?~]\/,\n    backslashStringEscapes: false,\n    dateSQL: set(\"date time timestamp\"),\n    support: set(\"ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast escapeConstant\")\n  });\n\n  \/\/ Google's SQL-like query language, GQL\n  CodeMirror.defineMIME(\"text\/x-gql\", {\n    name: \"sql\",\n    keywords: set(\"ancestor and asc by contains desc descendant distinct from group has in is limit offset on order select superset where\"),\n    atoms: set(\"false true\"),\n    builtin: set(\"blob datetime first key __key__ string integer double boolean null\"),\n    operatorChars: \/^[*+\\-%<>!=]\/\n  });\n\n  \/\/ Greenplum\n  CodeMirror.defineMIME(\"text\/x-gpsql\", {\n    name: \"sql\",\n    client: set(\"source\"),\n    \/\/https:\/\/github.com\/greenplum-db\/gpdb\/blob\/master\/src\/include\/parser\/kwlist.h\n    keywords: set(\"abort absolute access action active add admin after aggregate all also alter always analyse analyze and any array as asc assertion assignment asymmetric at authorization backward before begin between bigint binary bit boolean both by cache called cascade cascaded case cast chain char character characteristics check checkpoint class close cluster coalesce codegen collate column comment commit committed concurrency concurrently configuration connection constraint constraints contains content continue conversion copy cost cpu_rate_limit create createdb createexttable createrole createuser cross csv cube current current_catalog current_date current_role current_schema current_time current_timestamp current_user cursor cycle data database day deallocate dec decimal declare decode default defaults deferrable deferred definer delete delimiter delimiters deny desc dictionary disable discard distinct distributed do document domain double drop dxl each else enable encoding encrypted end enum errors escape every except exchange exclude excluding exclusive execute exists explain extension external extract false family fetch fields filespace fill filter first float following for force foreign format forward freeze from full function global grant granted greatest group group_id grouping handler hash having header hold host hour identity if ignore ilike immediate immutable implicit in including inclusive increment index indexes inherit inherits initially inline inner inout input insensitive insert instead int integer intersect interval into invoker is isnull isolation join key language large last leading least left level like limit list listen load local localtime localtimestamp location lock log login mapping master match maxvalue median merge minute minvalue missing mode modifies modify month move name names national natural nchar new newline next no nocreatedb nocreateexttable nocreaterole nocreateuser noinherit nologin none noovercommit nosuperuser not nothing notify notnull nowait null nullif nulls numeric object of off offset oids old on only operator option options or order ordered others out outer over overcommit overlaps overlay owned owner parser partial partition partitions passing password percent percentile_cont percentile_disc placing plans position preceding precision prepare prepared preserve primary prior privileges procedural procedure protocol queue quote randomly range read readable reads real reassign recheck recursive ref references reindex reject relative release rename repeatable replace replica reset resource restart restrict returning returns revoke right role rollback rollup rootpartition row rows rule savepoint scatter schema scroll search second security segment select sequence serializable session session_user set setof sets share show similar simple smallint some split sql stable standalone start statement statistics stdin stdout storage strict strip subpartition subpartitions substring superuser symmetric sysid system table tablespace temp template temporary text then threshold ties time timestamp to trailing transaction treat trigger trim true truncate trusted type unbounded uncommitted unencrypted union unique unknown unlisten until update user using vacuum valid validation validator value values varchar variadic varying verbose version view volatile web when where whitespace window with within without work writable write xml xmlattributes xmlconcat xmlelement xmlexists xmlforest xmlparse xmlpi xmlroot xmlserialize year yes zone\"),\n    builtin: set(\"bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml\"),\n    atoms: set(\"false true null unknown\"),\n    operatorChars: \/^[*+\\-%<>!=&|^\\\/#@?~]\/,\n    dateSQL: set(\"date time timestamp\"),\n    support: set(\"ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast\")\n  });\n\n  \/\/ Spark SQL\n  CodeMirror.defineMIME(\"text\/x-sparksql\", {\n    name: \"sql\",\n    keywords: set(\"add after all alter analyze and anti archive array as asc at between bucket buckets by cache cascade case cast change clear cluster clustered codegen collection column columns comment commit compact compactions compute concatenate cost create cross cube current current_date current_timestamp database databases data dbproperties defined delete delimited deny desc describe dfs directories distinct distribute drop else end escaped except exchange exists explain export extended external false fields fileformat first following for format formatted from full function functions global grant group grouping having if ignore import in index indexes inner inpath inputformat insert intersect interval into is items join keys last lateral lazy left like limit lines list load local location lock locks logical macro map minus msck natural no not null nulls of on optimize option options or order out outer outputformat over overwrite partition partitioned partitions percent preceding principals purge range recordreader recordwriter recover reduce refresh regexp rename repair replace reset restrict revoke right rlike role roles rollback rollup row rows schema schemas select semi separated serde serdeproperties set sets show skewed sort sorted start statistics stored stratify struct table tables tablesample tblproperties temp temporary terminated then to touch transaction transactions transform true truncate unarchive unbounded uncache union unlock unset use using values view when where window with\"),\n    builtin: set(\"tinyint smallint int bigint boolean float double string binary timestamp decimal array map struct uniontype delimited serde sequencefile textfile rcfile inputformat outputformat\"),\n    atoms: set(\"false true null\"),\n    operatorChars: \/^[*\\\/+\\-%<>!=~&|^]\/,\n    dateSQL: set(\"date time timestamp\"),\n    support: set(\"ODBCdotTable doubleQuote zerolessFloat\")\n  });\n\n  \/\/ Esper\n  CodeMirror.defineMIME(\"text\/x-esper\", {\n    name: \"sql\",\n    client: set(\"source\"),\n    \/\/ http:\/\/www.espertech.com\/esper\/release-5.5.0\/esper-reference\/html\/appendix_keywords.html\n    keywords: set(\"alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit after all and as at asc avedev avg between by case cast coalesce count create current_timestamp day days delete define desc distinct else end escape events every exists false first from full group having hour hours in inner insert instanceof into irstream is istream join last lastweekday left limit like max match_recognize matches median measures metadatasql min minute minutes msec millisecond milliseconds not null offset on or order outer output partition pattern prev prior regexp retain-union retain-intersection right rstream sec second seconds select set some snapshot sql stddev sum then true unidirectional until update variable weekday when where window\"),\n    builtin: {},\n    atoms: set(\"false true null\"),\n    operatorChars: \/^[*+\\-%<>!=&|^\\\/#@?~]\/,\n    dateSQL: set(\"time\"),\n    support: set(\"decimallessFloat zerolessFloat binaryNumber hexNumber\")\n  });\n});\n\n\/*\n  How Properties of Mime Types are used by SQL Mode\n  =================================================\n\n  keywords:\n    A list of keywords you want to be highlighted.\n  builtin:\n    A list of builtin types you want to be highlighted (if you want types to be of class \"builtin\" instead of \"keyword\").\n  operatorChars:\n    All characters that must be handled as operators.\n  client:\n    Commands parsed and executed by the client (not the server).\n  support:\n    A list of supported syntaxes which are not common, but are supported by more than 1 DBMS.\n    * ODBCdotTable: .tableName\n    * zerolessFloat: .1\n    * doubleQuote\n    * nCharCast: N'string'\n    * charsetCast: _utf8'string'\n    * commentHash: use # char for comments\n    * commentSlashSlash: use \/\/ for comments\n    * commentSpaceRequired: require a space after -- for comments\n  atoms:\n    Keywords that must be highlighted as atoms,. Some DBMS's support more atoms than others:\n    UNKNOWN, INFINITY, UNDERFLOW, NaN...\n  dateSQL:\n    Used for date\/time SQL standard syntax, because not all DBMS's support same temporal types.\n*\/\n\n};","shadow$provide[293] = function(global,require,module,exports) {\n\/\/ CodeMirror, copyright (c) by Marijn Haverbeke and others\n\/\/ Distributed under an MIT license: https:\/\/codemirror.net\/LICENSE\n\n\/\/ Swift mode created by Michael Kaminsky https:\/\/github.com\/mkaminsky11\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\")\n    mod(require(\"..\/..\/lib\/codemirror\"))\n  else if (typeof define == \"function\" && define.amd)\n    define([\"..\/..\/lib\/codemirror\"], mod)\n  else\n    mod(CodeMirror)\n})(function(CodeMirror) {\n  \"use strict\"\n\n  function wordSet(words) {\n    var set = {}\n    for (var i = 0; i < words.length; i++) set[words[i]] = true\n    return set\n  }\n\n  var keywords = wordSet([\"_\",\"var\",\"let\",\"class\",\"enum\",\"extension\",\"import\",\"protocol\",\"struct\",\"func\",\"typealias\",\"associatedtype\",\n                          \"open\",\"public\",\"internal\",\"fileprivate\",\"private\",\"deinit\",\"init\",\"new\",\"override\",\"self\",\"subscript\",\"super\",\n                          \"convenience\",\"dynamic\",\"final\",\"indirect\",\"lazy\",\"required\",\"static\",\"unowned\",\"unowned(safe)\",\"unowned(unsafe)\",\"weak\",\"as\",\"is\",\n                          \"break\",\"case\",\"continue\",\"default\",\"else\",\"fallthrough\",\"for\",\"guard\",\"if\",\"in\",\"repeat\",\"switch\",\"where\",\"while\",\n                          \"defer\",\"return\",\"inout\",\"mutating\",\"nonmutating\",\"catch\",\"do\",\"rethrows\",\"throw\",\"throws\",\"try\",\"didSet\",\"get\",\"set\",\"willSet\",\n                          \"assignment\",\"associativity\",\"infix\",\"left\",\"none\",\"operator\",\"postfix\",\"precedence\",\"precedencegroup\",\"prefix\",\"right\",\n                          \"Any\",\"AnyObject\",\"Type\",\"dynamicType\",\"Self\",\"Protocol\",\"__COLUMN__\",\"__FILE__\",\"__FUNCTION__\",\"__LINE__\"])\n  var definingKeywords = wordSet([\"var\",\"let\",\"class\",\"enum\",\"extension\",\"import\",\"protocol\",\"struct\",\"func\",\"typealias\",\"associatedtype\",\"for\"])\n  var atoms = wordSet([\"true\",\"false\",\"nil\",\"self\",\"super\",\"_\"])\n  var types = wordSet([\"Array\",\"Bool\",\"Character\",\"Dictionary\",\"Double\",\"Float\",\"Int\",\"Int8\",\"Int16\",\"Int32\",\"Int64\",\"Never\",\"Optional\",\"Set\",\"String\",\n                       \"UInt8\",\"UInt16\",\"UInt32\",\"UInt64\",\"Void\"])\n  var operators = \"+-\/*%=|&<>~^?!\"\n  var punc = \":;,.(){}[]\"\n  var binary = \/^\\-?0b[01][01_]*\/\n  var octal = \/^\\-?0o[0-7][0-7_]*\/\n  var hexadecimal = \/^\\-?0x[\\dA-Fa-f][\\dA-Fa-f_]*(?:(?:\\.[\\dA-Fa-f][\\dA-Fa-f_]*)?[Pp]\\-?\\d[\\d_]*)?\/\n  var decimal = \/^\\-?\\d[\\d_]*(?:\\.\\d[\\d_]*)?(?:[Ee]\\-?\\d[\\d_]*)?\/\n  var identifier = \/^\\$\\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\\1\/\n  var property = \/^\\.(?:\\$\\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\\1)\/\n  var instruction = \/^\\#[A-Za-z]+\/\n  var attribute = \/^@(?:\\$\\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\\1)\/\n  \/\/var regexp = \/^\\\/(?!\\s)(?:\\\/\\\/)?(?:\\\\.|[^\\\/])+\\\/\/\n\n  function tokenBase(stream, state, prev) {\n    if (stream.sol()) state.indented = stream.indentation()\n    if (stream.eatSpace()) return null\n\n    var ch = stream.peek()\n    if (ch == \"\/\") {\n      if (stream.match(\"\/\/\")) {\n        stream.skipToEnd()\n        return \"comment\"\n      }\n      if (stream.match(\"\/*\")) {\n        state.tokenize.push(tokenComment)\n        return tokenComment(stream, state)\n      }\n    }\n    if (stream.match(instruction)) return \"builtin\"\n    if (stream.match(attribute)) return \"attribute\"\n    if (stream.match(binary)) return \"number\"\n    if (stream.match(octal)) return \"number\"\n    if (stream.match(hexadecimal)) return \"number\"\n    if (stream.match(decimal)) return \"number\"\n    if (stream.match(property)) return \"property\"\n    if (operators.indexOf(ch) > -1) {\n      stream.next()\n      return \"operator\"\n    }\n    if (punc.indexOf(ch) > -1) {\n      stream.next()\n      stream.match(\"..\")\n      return \"punctuation\"\n    }\n    var stringMatch\n    if (stringMatch = stream.match(\/(\"\"\"|\"|')\/)) {\n      var tokenize = tokenString.bind(null, stringMatch[0])\n      state.tokenize.push(tokenize)\n      return tokenize(stream, state)\n    }\n\n    if (stream.match(identifier)) {\n      var ident = stream.current()\n      if (types.hasOwnProperty(ident)) return \"variable-2\"\n      if (atoms.hasOwnProperty(ident)) return \"atom\"\n      if (keywords.hasOwnProperty(ident)) {\n        if (definingKeywords.hasOwnProperty(ident))\n          state.prev = \"define\"\n        return \"keyword\"\n      }\n      if (prev == \"define\") return \"def\"\n      return \"variable\"\n    }\n\n    stream.next()\n    return null\n  }\n\n  function tokenUntilClosingParen() {\n    var depth = 0\n    return function(stream, state, prev) {\n      var inner = tokenBase(stream, state, prev)\n      if (inner == \"punctuation\") {\n        if (stream.current() == \"(\") ++depth\n        else if (stream.current() == \")\") {\n          if (depth == 0) {\n            stream.backUp(1)\n            state.tokenize.pop()\n            return state.tokenize[state.tokenize.length - 1](stream, state)\n          }\n          else --depth\n        }\n      }\n      return inner\n    }\n  }\n\n  function tokenString(openQuote, stream, state) {\n    var singleLine = openQuote.length == 1\n    var ch, escaped = false\n    while (ch = stream.peek()) {\n      if (escaped) {\n        stream.next()\n        if (ch == \"(\") {\n          state.tokenize.push(tokenUntilClosingParen())\n          return \"string\"\n        }\n        escaped = false\n      } else if (stream.match(openQuote)) {\n        state.tokenize.pop()\n        return \"string\"\n      } else {\n        stream.next()\n        escaped = ch == \"\\\\\"\n      }\n    }\n    if (singleLine) {\n      state.tokenize.pop()\n    }\n    return \"string\"\n  }\n\n  function tokenComment(stream, state) {\n    var ch\n    while (true) {\n      stream.match(\/^[^\/*]+\/, true)\n      ch = stream.next()\n      if (!ch) break\n      if (ch === \"\/\" && stream.eat(\"*\")) {\n        state.tokenize.push(tokenComment)\n      } else if (ch === \"*\" && stream.eat(\"\/\")) {\n        state.tokenize.pop()\n      }\n    }\n    return \"comment\"\n  }\n\n  function Context(prev, align, indented) {\n    this.prev = prev\n    this.align = align\n    this.indented = indented\n  }\n\n  function pushContext(state, stream) {\n    var align = stream.match(\/^\\s*($|\\\/[\\\/\\*])\/, false) ? null : stream.column() + 1\n    state.context = new Context(state.context, align, state.indented)\n  }\n\n  function popContext(state) {\n    if (state.context) {\n      state.indented = state.context.indented\n      state.context = state.context.prev\n    }\n  }\n\n  CodeMirror.defineMode(\"swift\", function(config) {\n    return {\n      startState: function() {\n        return {\n          prev: null,\n          context: null,\n          indented: 0,\n          tokenize: []\n        }\n      },\n\n      token: function(stream, state) {\n        var prev = state.prev\n        state.prev = null\n        var tokenize = state.tokenize[state.tokenize.length - 1] || tokenBase\n        var style = tokenize(stream, state, prev)\n        if (!style || style == \"comment\") state.prev = prev\n        else if (!state.prev) state.prev = style\n\n        if (style == \"punctuation\") {\n          var bracket = \/[\\(\\[\\{]|([\\]\\)\\}])\/.exec(stream.current())\n          if (bracket) (bracket[1] ? popContext : pushContext)(state, stream)\n        }\n\n        return style\n      },\n\n      indent: function(state, textAfter) {\n        var cx = state.context\n        if (!cx) return 0\n        var closing = \/^[\\]\\}\\)]\/.test(textAfter)\n        if (cx.align != null) return cx.align - (closing ? 1 : 0)\n        return cx.indented + (closing ? 0 : config.indentUnit)\n      },\n\n      electricInput: \/^\\s*[\\)\\}\\]]$\/,\n\n      lineComment: \"\/\/\",\n      blockCommentStart: \"\/*\",\n      blockCommentEnd: \"*\/\",\n      fold: \"brace\",\n      closeBrackets: \"()[]{}''\\\"\\\"``\"\n    }\n  })\n\n  CodeMirror.defineMIME(\"text\/x-swift\",\"swift\")\n});\n\n};"],"names":["state","editor","frontend.extensions.code.save_file_or_block_when_blur_or_esc_BANG_","textarea","default-value","config","full-content","G__58379","frontend.db\/pull","block","and__4149__auto__","goog.string.internal.contains","substr","lines","fl","ll","frontend.handler.editor.save_block_if_changed_BANG_","value","value'","replacement","content'","path","frontend.db\/get-file-no-sub","goog.dom.getElementHelper_","G__58380","goog.object\/get","content","s","goog.string.internal.trim","text","frontend.extensions.code.text__GT_cm_mode","mode","editor-atom","cljs.core.atom","frontend.extensions.code.render_BANG_","o","cljs.core\/deref","cljs.core.nth","code","vec__58382","id","attr","original-mode","or__4160__auto__","clojure?","cm","frontend.extensions.code\/from-textarea","temp__5720__auto__","block-id","G__58387","esc-pressed?","js\/setTimeout","e","frontend.state\/set-block-component-editing-mode!","element","frontend.state\/clear-selection!","frontend.util\/stop","beforeLoadModuleCode","module$node_modules$codemirror$lib$codemirror","shadow.js.require","frontend.extensions.code.from_textarea","js\/module$node_modules$codemirror$lib$codemirror","frontend.extensions.code\/editor","options","attrs58388","cljs.core.assoc","shadow.loader.mm.setLoaded","setLoaded"]}}]}